"use strict";

var util = require("etna-supervisor/lib/util");
var date = require("syracuse-core/lib/types/date");
var bcd = require('etna-engine/lib/runtime/bcd');
var uuid = require('etna-engine/lib/runtime/uuid');
var tuuid = require('etna-engine/lib/runtime/tuuid');
var datetime = require("syracuse-core/lib/types/datetime");
var variables = require('etna-engine/lib/runtime/variables');

module.exports = {
	collectionName: 'ACTIV',
	keyName: 'CODACT',
	constructor: util.defineClass(function(superv, data) {
		this.supervisor = superv;
		this.data = data;
	}, null, {
		init: function(_) {
			return this;
		},
	}),
	// end of constructor
	isActiv: function(_, supervisor, cod) {
		var activ = supervisor.load(_, 'Activ', cod);
		if (!activ) return 0;
		if (activ.data.FLACT !== 2) return 0;
		else if (activ.data.TYP === 2) return activ.data.DIME;
		else return 1;
	}
};