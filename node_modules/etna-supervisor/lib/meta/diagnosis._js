"use strict";

var util = require("etna-supervisor/lib/util");

exports.constructor = util.defineClass(function(superv, severity, path, message, stackTrace) {
	this.supervisor = superv;
	this.severity = severity;
	this.path = path;
	this.message = message;
	this.stackTrace = stackTrace;
}, null, {
	init: function(_) {
		return this;
	},
	dataNode: function() {
		var severity = "success";
		switch (this.severity) {
			case this.supervisor.constants.CST_AOK:
				severity = "success";
				break;
			case this.supervisor.constants.CST_AERROR:
				severity = "error";
				break;
			case this.supervisor.constants.CST_AINFO:
				severity = "info";
				break;
		}
		return {
			$severity: severity,
			$message: this.message,
			$stackTrace: this.stackTrace,
		};
	},
});