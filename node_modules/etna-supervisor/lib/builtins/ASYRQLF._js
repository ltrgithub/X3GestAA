"use strict";
var glob = require('streamline/lib/globals');

exports.$exported = true;

var locales = {
	' .':/^fr.*/i,
	',.':/^en.*/i
};

exports.SET_LOCALE = function(_, l) {
	require('syracuse-core/lib/locale').setCurrent(_, l);
	(function($){
		Object.keys(locales).some(function(key) {
			if(locales[key].test(l)) {
				$.ADXSCA = $.ADXSCA.substring(0,2)+key+$.ADXSCA.substring(4);
				return;
			}
		});
	})(glob.context.x3frame.context.sys.values);
}