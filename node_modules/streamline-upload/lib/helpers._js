"use strict";
var config = require('config');

var allowedTypes = config.upload && config.upload.allowedTypes;
if (!allowedTypes) {
	if (config.hosting.multiTenant) throw new Error("config.upload.allowedTypes not configured");
	else allowedTypes = /./;
}
if (!Array.isArray(allowedTypes)) allowedTypes = [allowedTypes];

exports.allowContentType = function(contentType) {
	return allowedTypes.some(function(re) {
		return re.test(contentType);
	});
}