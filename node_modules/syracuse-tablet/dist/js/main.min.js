/*! Hammer.JS - v2.0.4 - 2014-09-28
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2014 Jorik Tangelder;
 * Licensed under the MIT license */

/*!

 handlebars v2.0.0

Copyright (C) 2011-2014 by Yehuda Katz

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

@license
*/

define("syracuse-tablet/html/js/ui/uiUtils",["require","exports","module"],function(e,t,n){"use strict";var r=function(e){if(e)while(e.firstChild)e.removeChild(e.firstChild)},i=function(e,t,n){if(e){var r=e.className;n?r.indexOf(t)<0&&(e.className=r+(" "+t)):e.className=r.replace(t,"")}},s={className:"waiting-circles",elements:8,radius:30,auto:!0},o=null,u=function(e,t){e==null&&(o==null&&(o=a($(document.body))),e=o),t?(e.$$bckg.show(),l(e.$$wheel,"enable")):(e.$$bckg.hide(),l(e.$$wheel,"disable"))},a=function(e,t){var n={$$bckg:$('<div class="waiting-background" style="display:none;z-index:2000"></div>'),$$wheel:$('<div class="waiting-wheel"  style="display:none;z-index:2000"></div>')};return n.$$bckg.appendTo(e),n.$$wheel.appendTo(e),c(n.$$wheel,s),n},f=function(e){e&&e.data("waiting")&&(e.waiting("destroy"),e.remove())},l=function(e,t){e&&e.data("waiting")&&(e.waiting(t),e[t==="disable"?"hide":"show"]())},c=function(e,t){if(!t)throw new Error("opts is mandatory");return e&&e.waiting(t),e},h=function(e){e&&(f(e.$$wheel),e.$$bckg&&e.$$bckg.remove())},p=function(e,t,n,r,i){if(!e)throw new Error("tag parameter is necessary !");var s=document.createElement(e);if(t)if($.isArray(t))$.each(t,function(e,n){s.className+=n+(e==t.length-1?"":" ")});else{if(typeof t!="string")throw new Error("classList parameter must be an array or a string");s.className+=t}s.textContent=n?n:"";if(e==="a"||e==="img")r=r||{},r.draggable="false";return r&&$.each(r,function(e,t){s.setAttribute(e,t)}),i&&(i.jquery?i=i.append(s):i.appendChild(s)),s},d=function(e,t){if(!e)return;var n=document.createTextNode(t||"");return e.jquery?e=e.append(n):e.appendChild(n),e},v=function(e,t){$.each(e,function(e,n){var r=p(e,n.classList,n.textContent,n.attr,t);n.children&&$.each(n.children,function(e,t){v(t,r)})})};t.empty=r,t.toggleClass=i,t.waitWheelStart=function(e){u(e,!0)},t.waitWheelStop=function(e){u(e,!1)},t.waitWheelCreate=a,t.waitWheelDestroy=h,t.waitPluginDestroy=f,t.waitPluginCreate=c,t.waitPluginDisable=function(e){l(e,"disable")},t.waitPluginEnable=function(e){l(e,"enable")},t.createDomElement=p,t.buildDom=v,t.appendTextNode=d,t.triggerResizeInternal=function(e){$(window).triggerHandler("resizeInternal",[e])}}),define("syracuse-tablet/html/js/helpers/winjs",["require","exports","module"],function(e,t,n){"use strict";var r={},i=0,s=function(e){if(!e)return;var t;try{t=JSON.parse(e)}catch(n){return}if(!t.$uuid)return;var i=r[t.$uuid];if(!i)return;delete r[t.$uuid];if(!i.$deferred)return;t.$error?i.$deferred.reject(t.$error):i.$deferred.resolve(t.$data)},o=function(e,t,n,s){var o=$.Deferred();if(u()){i+=1;var a={$domain:e,$funcName:t,$uuid:""+i,$data:n,$execCallback:!s},f=JSON.stringify(a),l;s!==!0&&(l={$uuid:a.$uuid,$deferred:o},r[l.$uuid]=l),window.external.notify(f),s===!0&&o.resolve()}else o.reject({$message:"No WinJS container"});return o.promise()},u=function(){try{return"notify"in window.external}catch(e){return!1}};window&&(window.winjsCallbackHook=s),t.callWinJS=o,t.isAvailable=u}),define("syracuse-tablet/html/js/helpers/jsutils",["require","exports","module"],function(e,t,n){"use strict";function c(e,t){var n=arguments.length>2?Array.prototype.splice.call(arguments,2):null;return function(){var i=arguments;return n&&n.length>0&&n.forEach(function(e){Array.prototype.push.call(i,e)}),e.apply(t?t:this,i)}}var r=function(e,t){var n=e.constructor;return n&&n.$smClasses?n.$smClasses.indexOf(t)>-1:!1},i=function(e,t){var n=[];if(e.name){n.push(e.name);if(t&&t.$smClasses){var r;for(r=0;r<t.$smClasses.length;r++)n.push(t.$smClasses[r])}}e.$smClasses=n},s=function(e){return e&&Error.prototype.toString===e.toString},o=function(e){return e&&e.constructor&&e.constructor.name==="DOMException"},u,a=function(e,t,n){if(Array.isArray(e))return e;var r=window.$sm;if(!r)return e;!u&&r&&r.baseLocation()&&(u={r1:new RegExp(r.baseLocation().withPath,"g"),r2:new RegExp(r.baseLocation().requirePath,"g")}),t=t==null?5:t;if(e){var i=e.split&&e.split("\n")||e,s;i.length>0&&i.forEach(function(e){var t=e.lastIndexOf(".js");if(t>0){var n=e.lastIndexOf("/",t);t>0&&(s||(s=[]),s.push(e.substring(n)))}else s||(s=[]),s.push(e)}),!s&&u?e=u?e.replace(u.r1,"").replace(u.r2,""):e:e=s.join("\n")}else e="";return e=e.split("\n"),t&&(s=[],e.forEach(function(e){e.indexOf(".js")>-1?t>0&&(s.push(e),t--):s.push(e)}),e=s.join(n?"<br>&nbsp&nbsp&nbsp&nbsp&nbsp":"\n")),e},f=function(e,t){s(e)&&t==null&&(t=e);if(t==null)return{$diagnoses:[{$severity:"error",$message:e}]};if(typeof t=="string")return{$diagnoses:[{$severity:"error",$message:t}]};if(s(t)||o(t))return{$diagnoses:[{$message:t.message,$stackTrace:a(t.stack),$severity:"error"}]};if(t.$diagnoses&&Array.isArray(t.$diagnoses))return t;var n={$diagnoses:[{}]},r=n.$diagnoses[0];r.$message=t.message||e,r.$severity="error";var i=t.detail;return i&&(s(i)?(i.message&&(r.$stackTrace=(r.$stackTrace?r.$stackTrace+"\n":"")+i.message),i.stack&&(r.$stackTrace=(r.$stackTrace?r.$stackTrace+"\n":"")+a(i.stack))):r.$stackTrace=(r.$stackTrace?r.$stackTrace+"\n":"")+JSON.stringify(i)),n},l=function(e,t,n){if(t==null||e==null)return null;var r,i;if(Array.isArray(t)){if(t.length===0)return null;i=t,r=i.join(".")}else i=t.split("."),r=t;if(n&&n[r]!=null)return n[r];var s=e[i[0]];for(var o=1;o<i.length;o++){if(s==null)return null;if(!$.isPlainObject(s)==null)throw new Error("_getPropByPath - Unexpected non-plainobject");s=s[i[o]]}return n&&(n[r]=s),s};t.getPropByPath=l,t.addInheritanceInfo=i,t.isInstanceOf=r,t.isError=s,t.cleanStack=a,t.convertToDiagnoses=f,t.bindFn=c}),define("syracuse-tablet/html/js/helpers/logger",["require","exports","module","syracuse-tablet/html/js/helpers/winjs","syracuse-tablet/html/js/helpers/jsutils"],function(e,t,n){"use strict";function o(e,t){if(t!==!0)return null;var n=function(){var t,n;for(var r=0;r<arguments.length;r++)i.isError(arguments[r])?(n||(n=[]),n.push(arguments[r])):(t||(t=["["+e+"]: "]),t.push(arguments[r]));t&&t.length>1&&s(t.join(" ")),n&&n.forEach(function(t){s("["+e+"]: "+t.message),t.stack&&s(i.cleanStack(t.stack))})};return n}var r=e("syracuse-tablet/html/js/helpers/winjs"),i=e("syracuse-tablet/html/js/helpers/jsutils"),s;r.isAvailable()?s=function(){var e=[];for(var t=0;t<arguments.length;t++)e.push(arguments[t]);r.callWinJS("logger","log",{args:e},!0)}:s=function(){var e=[];for(var t=0;t<arguments.length;t++){var n=arguments[t];n!=null&&(i.isError(n)?console&&console.log&&console.log(n.message,"\n",i.cleanStack(n.stack)):e.push(n))}console&&console.log&&console.log(e.join(e," "))},window&&(window.logger=s),t.log=s,t.getLogger=o}),define("syracuse-tablet/html/js/helpers/uiSettings",["require","exports","module","syracuse-tablet/html/js/helpers/jsutils"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/jsutils"),i={},s=function(e,t,n){if(e==null||arguments.length===0)return null;var s=r.getPropByPath(o.gen,e,i);return s==null?null:(t&&s[t]&&(s=s[t]),n&&s[n]&&(s=s[n]),typeof s=="function"&&(s=s.call(null,t,n),i[Array.isArray(e)?e.join("."):e]=s),s)},o={ios:null,android:null,windows:null,def:{hubLayout:{groupSpacing:55,landscapeMinHeigth:function(){return s("hubGroup.landscapeBaseSize")*4+s("hubGroup.landscapePadY")*5+40}},hubGroup:{landscapeBaseSize:66,landscapePadX:8,landscapePadY:8,portraitPadX:8,portraitPadY:8,portraitWideMinWidth:570},footer:{height:{opened:50,closed:20}},header:{height:50}}};t.getProp=s,t.reset=function(e){i={},o.gen=$.extend(!0,{},o.def,o[e])},t.init=function(e){t.reset(e)}}),define("syracuse-tablet/html/js/helpers/globals",["require","exports","module","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/helpers/uiSettings"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/logger").getLogger("globals"),i=e("syracuse-tablet/html/js/helpers/uiSettings"),s,o,u={$user:"none",$role:"none",$lang:"none"},a={showUnfoundFields:!1},f={},l={tabletApplication:null,userCtx:null,isTestEnvironment:!1,baseLocation:null,isDvlpMode:!1,storage:null,cache:null,modal:null,cacheCtx:$.extend({},u),lookAndFeel:"windows",userProfile:{}},c=function(e){r&&r("Set user context");var t=e==null?$.extend({},u):e;return l.cache.setContext(t),l.cacheCtx=t,l.userCtx=t},h=function(e){if(!e)throw new Error("Null tabletApplication object");return r&&r("Set tablet Application object"),l.tabletApplication=e,e},p=function(e,t,n,r){l.isDvlpMode=e;var i=l.baseLocation={};i.host=window.location.protocol+"//"+window.location.host;var s=window.location.pathname.split("/").splice(0,2).join("/");i.withPath=i.host+s,i.requirePath=i.host+"/requireJS"+s,i.htmlRoot=i.withPath+"/html",r&&(i.query=r.parseQueryString()),l.isTestEnvironment=window.location.href.indexOf("/syracuse-tablet/test/index.html")>-1,l.storage=t,l.cache=n};t.isLoggedIn=function(){return l.userCtx!=null&&l.userCtx.$user!=="none"},t.getUserCtx=function(){return l.userCtx},t.getGlobalCtx=function(){return l},t.getStorage=function(){return l.storage},t.getCache=function(){return l.cache},t.getCacheCtx=function(){return l.cacheCtx},t.getEmptyCacheCtx=function(){return u},t.getEndpoint=function(){var e=l.endpoint;return e},t.setEndpoint=function(e){l.endpoint=e},t.$config=function(e){return l.tabletApplication.$config(e)},t.setUserProfile=function(e){l.userProfile=e},t.getUserProfile=function(){return l.userProfile},t.getUserName=function(){var e=l.userProfile;return e&&e.user&&(e.user.firstName?e.user.firstName+" ":"")+e.user.lastName||"unknown"},t.getUserRole=function(){var e=l.userProfile;return e&&e.selectedRole&&e.selectedRole.description||""},t.getUserPhotoUrl=function(){var e=l.userProfile,t=e&&e.user&&e.user.photo;return t&&e.user.$shortUrl?e.user.$shortUrl+"/photo":!1},t.getCurrentPage=function(){return l.tabletApplication.currentPage},t.getScrollingDirection=function(){var e=t.getCurrentPage();return e.rootLayout&&e.rootLayout.$type==="hub"?e.rootLayout.scrollDirection:"v"},t.getMainPageGestureMgr=function(){var e=t.getCurrentPage();return e?e.getGestureMgr():null},t.setTabletApplication=h,t.getApplication=function(){return l.tabletApplication},t.setUserCtx=c,t.setModal=function(e){l.modal=e},t.getModal=function(){return l.modal},t.baseLocation=function(){return l.baseLocation},t.isDvlpMode=function(){return l.isDvlpMode},t.getDvlpOpt=function(e){return l.isDvlpMode&&a[e]},t.isTestEnvironment=function(){return l.isTestEnvironment},t.setLookAndFeel=function(e){i.reset(e),l.lookAndFeel=e},t.getLookAndFeel=function(){return l.lookAndFeel},t.getSiteLayout=function(){return l.siteLayout},t.setSiteLayout=function(e){l.siteLayout=e},t.setMetaData=function(e){s=e},t.getMetaData=function(){return s},t.addController=function(e){if(!e)return;f||(f={});if(f[e.id])throw new Error("Controller already exists ["+e.id+"]");return f[e.id]=e,e},t.removeController=function(e){if(!e||!f)return;return delete f[e.id],e},t.getController=function(e){return!e||!f?null:f[e]},t.setAuthoringActive=function(e){o=e},t.isAuthoringActive=function(){return o},t.ROWIDXPROP="~ROWIDX~",t.SINGLEARRAYPROP="~data~",t.ACTROWDETAIL="rowDetail",t.ACTCARDDESIGN="cardDesign",t.ACTROWDEL="rowDelete",t.ACTROWSEL="rowSelect",t.RECORDCLASS="s-m-record",t.PANELACTIONSREGULAR="panelactionregular",t.PANELUSERSMARTPHONE="panelusersmartphone",t.PANELFILTERSORT="panelfiltersort",t.EXCLUDEFIELDS=["CREUSR","CREUSR_REF","UPDUSR","UPDUSR_REF"],t.init=p,window&&(window.$sm=t),t.X3_SEVERITY_TO_BS={info:"success",warning:"warning",error:"error"},t.isOnline=function(){return navigator.onLine},t.getBuildTimeStamp=function(){return window.__sageBuildTimestamp?window.__sageBuildTimestamp():"dev mode"}}),define("syracuse-tablet/html/js/helpers/notifications",["require","exports","module","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/helpers/globals"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/logger").getLogger("notifs"),i=e("syracuse-tablet/html/js/helpers/globals"),s="sm",o={},u=function(e){throw r&&r("Error",e),typeof e=="string"?new Error("Notification - "+e):e},a=function(e,t,n){return setTimeout(function(){e.apply(t,n)},0)},f=function(e){try{if(!e)throw new Error("No topic to publish");var e=typeof e=="string"?[e]:e;r&&r("Publish "+e.join(" - "));var t,n,n,i,s=0,f,l,t=arguments;e.forEach(function(e){f=o[e];if(f){f=f.slice();for(var r=0,u=f.length;r<u;r++)n=f[r],n.object?(l||(l=Array.prototype.slice.call(t,1)),i=a(n.callBack,n.object,l)):(t[0]=e,i=a(n.callBack,null,t)),s++}})}catch(c){u(c)}},l=function(e,t){try{if(!e)throw new Error("No topic to publish");var e=typeof e=="string"?[e]:e;r&&r("Publish "+e.join(" - "));var n,i,i,s,f=0,l,c=t&&t.exclude||[],h,n=arguments;e.forEach(function(e){l=o[e];if(l){l=l.slice();for(var t=0,r=l.length;t<r;t++)i=l[t],i.object?(!c||c.indexOf(i.object))<0&&(h||(h=Array.prototype.slice.call(n,2)),s=a(i.callBack,i.object,h)):(n[0]=e,s=a(i.callBack,null,n)),f++}})}catch(p){u(p)}},c=function(e,t,n){t||u("No topic to publish"),e||u("Null object"),n=n||10;var t=typeof t=="string"?[t]:t;r&&r("Subscribe "+t.join(" - ")+" - priority="+n),t.forEach(function(t){var r,i;if(typeof e=="function")r=e,i=null;else{i=e;var a=t.split(".");a[0]!=s&&u("Bad event domain name"),a=$.camelCase("notif-"+a.splice(1).join("-")),r=e[a],r||u("Object must implement "+a)}var f=!1;o[t]||(o[t]=[]);var l={callBack:r,object:i,priority:n};for(var c=o[t].length-1;c>=0;c--)if(o[t][c].priority<=n){o[t].splice(c+1,0,l),f=!0;break}f||o[t].unshift(l)})},h=function(e,t){t?typeof t=="string"&&(t=[t]):t=Object.keys(o);var n=typeof e=="function"?"callBack":"object";t.forEach(function(t){var r=o[t];if(r)for(var i=0,s=r.length;i<s;i++)if(e==null||r[i][n]===e)r.splice(i,1),i--,s--})},p=function(e,t){r&&r("Reset"),h(null,null)},d=function(e){var t={},n=typeof e=="function"?"callBack":"object";return Object.keys(o).forEach(function(r){if(e==null)t[r]=o[r].length;else{t[r]=0;var i=o[r];for(var s=0,u=i.length;s<u;s++)i[s][n]===e&&(t[r]=t[r]+1)}}),t},v=function(e,t){try{if(!e)throw new Error("_notifyController - Unexpected empty event");if(typeof e!="string")throw new Error("_notifyController - string event expected");r&&r("notifyController "+e);var n;t!==null?n=Array.prototype.slice.call(arguments,2):(t=i.getCurrentPage(),n=Array.prototype.slice.call(arguments,1));if(!t)throw new Error("_notifyController - Unexpected null page");var s=o[e];if(s){for(var f=0,l=s.length;f<l;f++)if(s[f].object===t)return a(s[f].callBack,t,n)}else console.log("_notifyController - No sunsciption for event "+e)}catch(c){u(c)}};t.check=d,t.reset=p,t.subscribe=c,t.unsubscribe=h,t.publish=f,t.publishEx=l,t.notifyController=v}),define("syracuse-tablet/html/js/helpers/utils",["require","exports","module","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/notifications","syracuse-tablet/html/js/helpers/jsutils"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/globals"),i=e("syracuse-tablet/html/js/helpers/notifications"),s=e("syracuse-tablet/html/js/helpers/jsutils"),o=function(e,t,n){function r(e,t){for(var n in t||{}){var r=t[n];typeof r.get=="function"||typeof r.set=="function"?Object.defineProperty(e,n,r):e[n]=r}}return t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e,r(e.prototype,n),s.addInheritanceInfo(e,t),e},u=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e=="x"?t:t&3|8;return n.toString(16)})},a=function(){var e=new Date,t=[e.getFullYear(),4,e.getMonth()+1,2,e.getDate(),2,e.getHours(),2,e.getMinutes(),2,e.getSeconds(),2],n;for(var r=0;r<t.length;r+=2){var i=""+t[r];while(i.length<t[r+1])i="0"+i;n?n+="-"+i:n=i}return n},f=0,l=function(e){return e.replace(/([^\w-_])/g,"_")},c=0,h=function(){return l($.camelCase((arguments.length>0?Array.prototype.join.call(arguments,"-")+"-":"")+c++))},p={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","querystring","anchor"],q:{name:"query",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},d=function(e){var t=p,n=t.parser[t.strictMode?"strict":"loose"].exec(e),r={},i=14;while(i--)r[t.key[i]]=n[i]||"";return r[t.q.name]={},r[t.key[12]].replace(t.q.parser,function(e,n,i){n&&(r[t.q.name][n]=decodeURIComponent(i))}),r},v=function(e){if(!e)return"";var t="";e.protocol&&e.host&&(t+=e.protocol+"://"+e.host,e.port.length!=0&&(t+=":"+e.port)),t+=e.path;var n="";for(var r in e.query)n.length!=0&&(n+="&"),n+=r+"="+encodeURIComponent(e.query[r]);return n.length!=0&&(t+="?"+n),e.anchor&&(t+="#"+e.anchor),t},m=/([^&=;]*)=?([^&;]*)/g,g=function(e){e=e||window.location.search;var t={},e=decodeURIComponent(e),n=e.indexOf("?");return n>=0&&(e=e.substring(n+1)),e.replace(m,function(e,n,r){n&&n.length>0&&(t[n]=decodeURIComponent(r))}),t},y=function(e){return $("<div/>").text(e).html()},b=function(e){return $("<div/>").html(e).text()},w=function(e){if(e==null)return;e.jquery&&(e.unbind(),e.undelegate(),e.off(),e.remove(),e.smPageRemoveController&&e.smPageRemoveController()),i.unsubscribe(e)},E=/\{(.*?)\}/g,S=function(e,t,n,r,i){i=i||0,e=(e||"")+"";var s=null,o=e.replace(E,function(e,s){var o=t==null?null:t.getValue?t.getValue(s,undefined,r):t[s];return o!=null?o:n?s.smStartsWith("@")?n.localization(s):(o=n.data(s,t,null,!0),o!=null&&o.indexOf("{")>=0&&i<4?S(o,t,n,r,i+1):o==null?"":o):""});return o||""};t.isDesktop=function(){var e=navigator.userAgent,t=e.match(/(iphone|ipod|ipad)/)||e.match(/(android)/i)||e.match(/(iemobile)/)||e.match(/iphone/i)||e.match(/ipad/i)||e.match(/ipod/i)||e.match(/blackberry/i)||e.match(/bada/i);return!t};var x=function(e){return e+="",e.indexOf("{")>=0?e.slice(1,e.length-1):e},T=function(e,t){var n=r.getApplication();if(n.currentPage&&n.currentPage.isDashboard()){var i=e.closest(".s-m-control.s-m-vignette"),s=i.attr("id");if(!t||s!=null&&s.length!==0){var o=n.currentPage.getControl(s);if(t&&!o)throw new Error("Vignette not found - id["+s+"]");return o}throw new Error("Vignette DOM elmt not found")}if(t)throw new Error("Current page is not a dashboard");return null},N=function(e){var t=e.closest("[data-controller-id]");if(t&&t.length>0){var n=t.attr("data-controller-id");return r.getController(n)}return null},C=function(e,t,n){if(e==null)return n===!0;if(e.angle==null)throw new Error("this is not a hammer.js event");return e.angle>45&&e.angle<135||e.angle<-45&&e.angle>-135?t=="v":t=="h"},k=function(e){return e.shiftKey!==!0&&e.altKey!==!0},L=(new Date).getTime(),A={ajax:!1,page:!1,pageLoader:!1},O=o(function(e,t){this.type=e,this.id=t},null,{log:function(e){var t=(new Date).getTime(),n=this._prevTime==null?0:t-this._prevTime;this._prevTime=t},start:function(e){this._start=(new Date).getTime(),this.log(e?"start "+e:"start")},step:function(e){this.log(e)},stop:function(e){this.log(e?"stop "+e:"stop")},reset:function(){return this._prevTime=null,this._start=null,this}}),M=function(e,t,n){try{if(n===!1)return;if(n!==!0&&A[e]!==!0)return null;if(e.indexOf("page")===-1&&t!=null){t+="";var r=t.indexOf("representation=");if(r>=0)t=t.substr(r+15);else{var r=t.indexOf("x3/erp/");if(r>=0)t=t.substr(r+7);else{var r=t.indexOf("collaboration/syracuse/");t=t.substr(r+23)}}t=decodeURIComponent(t)}return new O(e,t)}catch(i){console.log(i)}},_=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},D=function(e,t,n){if(n?e===t:e==t)return!0;if(e==null||t==null)return!1;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!D(e[r],t[r]))return!1;return!0}if(typeof e!="object"||typeof t!="object")return!1;var i=$.extend({},e);$.extend(i,t);for(var r in i)if(_(i,r)){var s=e[r],o=t[r];if(!D(s,o))return!1}return!0},P={},H=/-|\//g;t.getTypeName=function(e){var t=P[e];if(!t){var n=e.split(H);t=P[e]=n[n.length-1]}return t},t.areEqual=D,t.stopClickEvent=k,t.isEvtDirection=C,t.extractCode=x,t.UUID=u,t.defineClass=o,t.readableuid=h,t.domId=l,t.parseQueryString=g,t.parseURL=d,t.urlToString=v,t.htmlEncode=y,t.htmlDecode=b,t.getCurISODateTime=a,t.unbindObj=w,t.parseExpression=function(e,t,n,r){return S(e,t,n,r,0)},t.getPropByPath=s.getPropByPath,t.findParentVignette=T,t.findController=N,t.getTimeLine=M}),define("syracuse-tablet/html/js/ajax/ajaxInterface",["require","exports","module","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/globals"],function(e,t,n){"use strict";function u(){}function c(e,t){if(s.isTestEnvironment()){e.reject("Please login before running this testcase");return}var n=t.responseJSON;if(!n)try{n=JSON.parse(t.responseText)}catch(r){}var i=n&&n.$diagnoses&&n.$diagnoses[0],u=i&&i.$links&&i.$links.$redirect;if(!u){e.resolve(t);return}s.getApplication()&&s.getApplication().gotoLogin(o.text("login.timeout.message"))}var r=e("syracuse-tablet/html/js/helpers/logger").getLogger("ajax"),i=e("syracuse-tablet/html/js/helpers/utils"),s=e("syracuse-tablet/html/js/helpers/globals"),o,a={200:"Ok",201:"Created",400:"Bad Request",401:"Unauthenticated",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request URI Too Long",415:"Unsupported Media Type",422:"Unprocessable Entity",429:"Too Many Requests",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout"},f=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,l=i.defineClass(u,null,{ajax:function(e,t,n,u,l){var h=$.Deferred();try{e=e?e.toUpperCase():"GET";if(e==="GET"&&n){t.indexOf("?")===-1&&(t+="?");var p=[];for(var d in n)n[d]!=null&&p.push(encodeURIComponent(d)+"="+encodeURIComponent(n[d].toString()));t+=p.join("&")}l=l||{};var v=function(){try{var p=o&&o.getCurrentLocale(),d={Accept:"application/json;vnd.sage=syracuse"};p&&(d["Accept-Language"]=p),u&&$.extend(d,u);var v={headers:d,type:e,url:t,timeout:l.timeout==null?0:l.timeout};if(["PUT","POST"].indexOf(e)>=0&&n!=null){v.contentType=l.contentType||"application/json;charset=utf-8";if(v.contentType.indexOf("application/json")>=0&&typeof n=="object")try{n=JSON.stringify(n)}catch(m){throw new Error("Error parsing send data\nurl: "+t)}v.data=n}var g=i.getTimeLine("ajax",t);g&&g.start("send");var y=d.Accept.indexOf("application/json")>=0&&l.noJsonParsing!==!0;y&&(v.dataType="json"),r&&r("'"+e+"':"+t);var b=$.ajax_original||$.ajax,w=b(v);w.complete(function(e,t){try{g&&g.step("completed");var n=e.status!=null?e.status:t=="success"?200:500,r={textStatus:t,status:n,descrHttpStatus:a[n]||"unknown: "+n,isSuccess:n>=200&&n<300||n===304,headers:{}};y?r.responseJSON=e.responseJSON:r.responseText=e.responseText;var i,s=e.getAllResponseHeaders();if(s)while(i=f.exec(s))r.headers[i[1].toLowerCase()]=i[2];n===401&&l.dontCatchHttp401!==!0?c(h,r):h.resolve(r)}catch(o){h.reject(o);return}})}catch(m){s.getModal().error("ajax.doAjax error",m,function(){h.resolve(m)})}finally{return w}};v()}catch(m){s.getModal().error("ajax error",m,function(){h.reject(m)})}finally{return h.promise()}}});t.AjaxInterfaceClass=l,t.init=function(e,t){o=t,e=e||{},$.ajaxSetup({timeout:e.timeout==null?2e4:e.timeout,async:!0})}}),define("syracuse-tablet/html/js/ajax/ajaxWinJS",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/winjs"],function(e,t,n){"use strict";function o(){}var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/winjs"),s,u=r.defineClass(o,null,{ajax:function(e,t,n,r,s){var o=$.Deferred();e=e||"GET";var u={Accept:"application/json;vnd.sage=syracuse"};r&&$.extend(u,r);var a={$method:e||"GET",$url:t,$send:n,$headers:u,$options:s};return i.callWinJS("winjsAjax","ajax",a).then(function(e){var t={status:e.$status,location:e.$headers&&e.$headers.location||""};e.$succeeded?o.resolve(e.$data,t):o.reject(e.$status,t)}).fail(function(e){o.reject(500,{})}),o.promise()}});t.AjaxInterfaceClass=u,t.init=function(e,t){}}),define("syracuse-tablet/html/js/ajax/ajax",["require","exports","module","syracuse-tablet/html/js/helpers/winjs","syracuse-tablet/html/js/ajax/ajaxInterface","syracuse-tablet/html/js/ajax/ajaxWinJS"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/winjs"),i=e("syracuse-tablet/html/js/ajax/ajaxInterface"),s=e("syracuse-tablet/html/js/ajax/ajaxWinJS"),o;t.getAjax=function(){return o||(r.isAvailable()?o=new s.AjaxInterfaceClass:o=new i.AjaxInterfaceClass),o},t.init=function(e,t){r.isAvailable()?s.init(e,t):i.init(e,t)}}),define("syracuse-tablet/html/js/helpers/locale",["require","exports","module","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/ajax/ajax"],function(e,t,n){"use strict";function d(){return document.location.href.indexOf("index_debug.html")<0?"/syracuse-tablet/dist/":"/syracuse-tablet/html/"}var r=e("syracuse-tablet/html/js/helpers/globals"),i=e("syracuse-tablet/html/js/ajax/ajax").getAjax().ajax,s=null,o={},u="$datetimeInformation",a="$decimalInformation",f,l=/\{([\w-]+)\}/g,c="*",h={},p={},v=function(e,t){var n=o&&o[s];if(!n)return;var r=n[e]||"Resource key not found["+e+"]";return t&&(r=r.replace(l,function(e,n){var r=+n;return r>=0&&r<t.length?t[r]:"?"})),r},m=function(e){var t=o&&o[s];if(!t)return;return t[e]},g=function(){var e=o&&o[s];if(!e)return;return e[u]},y=function(){var e=o&&o[s];if(!e)return;return e[a]},b=function(e,t){var n=new $.Deferred;f=t;var i=r.getUserCtx();c=i&&i.$user||"*",h=p[e]||{};var l=o&&o[e];return l?(s=e,n.resolve()):e===s?n.resolve():w(d()+"js/resources","strings",e,"en").then(function(t){s=e,o[e]=t}).then(function(){return w(d()+"js/resources/locales","date",e,"en-GB")}).then(function(t){o[e][u]=t}).then(function(){return w(d()+"js/resources/locales","decimal",e,"en-GB")}).then(function(t){o[e][a]=t}).then(function(){n.resolve()}).fail(function(e){n.resolve()}),n.promise()},w=function(e,t,n,r){function u(){if(o.length===0){var n=e+"/"+t+"-"+r+".json";i("GET",n,null,null).then(function(e){e&&e.responseJSON&&s.resolve(e.responseJSON),s.resolve({})}).fail(function(e){s.reject(e)})}else{var a=o.join("-"),n=e+"/"+t+"-"+a+".json";i("GET",n,null,null).then(function(e){e&&e.responseJSON?s.resolve(e.responseJSON):(o.pop(),u())}).fail(function(e){s.reject(e)})}}var s=new $.Deferred,o=n.split("-");return u(),s.promise()},E=function(e,t){return!e||!s?!1:s===e?!0:t?!1:e.split("-")[0]===s};t.getDateFormat=function(){var e=g();return h.shortDate||e&&e.formatPatterns&&e.formatPatterns.shortDate||"dd/MM/yyyy"},t.getDateTimeFormat=function(){var e=g(),t=h.shortDate||e&&e.formatPatterns&&e.formatPatterns.shortDate||"dd/MM/yyyy",n=h.shortTime||e&&e.formatPatterns&&e.formatPatterns.shortTime||"HH:mm:ss";return t+" "+n},t.getTimeFormat=function(){var e=g();return h.longTime||e&&e.formatPatterns&&e.formatPatterns.longTime||"HH:mm:ss"},t.getTimeFormatShort=function(){var e=g();return h.shortTime||e&&e.formatPatterns&&e.formatPatterns.shortTime||"HH:mm"},t.getNumberFormat=function(e){return e==="application/x-integer"?"#,##0":"#,##0.##"},t.getNumberGroupSeparator=function(){var e=y(),t=h.numberGroupSeparator||e&&e.numberGroupSeparator||",";return t},t.getNumberDecimalSeparator=function(){var e=y(),t=h.numberDecimalSeparator||e&&e.numberDecimalSeparator||".";return t},t.setLocale=b,t.text=v,t.textOpt=m,t.isCurrent=E,t.getDatetimeInfo=g,t.getCurrentLocale=function(){return s},t.getCurrentLocaleHash=function(){return s+"#"+c},t.setUserLocales=function(e){p={},e&&e.forEach(function(e){p[e.code]={shortDate:e.shortDate,shortTime:e.shortTime,longTime:e.longTime,numberDecimalSeparator:e.numberDecimalSeparator,numberGroupSeparator:e.numberGroupSeparator}})}}),define("syracuse-tablet/html/js/ui/rect",["require","exports","module","syracuse-tablet/html/js/helpers/utils"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=r.defineClass(function(t,n,r,i){this.top=t,this.left=n,this.setHeight(r),this.setWidth(i)},null,{isPointInside:function(e,t){return(e==null||e>=this.left&&e<=this.right)&&(t==null||t>=this.top&&t<=this.bottom)},isEvtInside:function(e,t){if(e.type.smStartsWith("touch"))if(e.changedTouches&&e.changedTouches.length===1)e=e.changedTouches[0];else{if(!e.touches||e.touches.length!==1)return!0;e=e.touches[0]}var n=t!=null&&t.top!=null?e.pageY-t.top:e.pageY,r=t!=null&&t.left!=null?e.pageX-t.left:e.pageX;return this.isPointInside(r,n)},intersectsWith:function(e){return this.left<=e.right&&e.left<this.right&&this.top<e.bottom&&e.top<this.bottom},contains:function(e){return e==null?!0:this.isPointInside(e.left,e.top)&&this.isPointInside(e.right,e.bottom)},equals:function(e,t){return e.width===this.width&&e.height===this.height?t===!0||e.top===this.top&&e.left===this.left:!1},intersectRect:function(e,t){if(!this.intersectsWith(e))return null;var n=Math.max(this.top,e.top),r=Math.max(this.left,e.left),s=Math.min(this.right,e.right),o=Math.min(this.bottom,e.bottom);return new i(t?0:n,t?0:r,o-n,s-r)},setHeight:function(e){this.height=Math.max(e,0),this.bottom=this.top+this.height},setWidth:function(e){this.width=Math.max(e,0),this.right=this.left+this.width},moveLeft:function(e){this.left=this.left+e,this.right=this.width+this.left},toString:function(){return"t:"+this.top+" l:"+this.left+" r:"+this.right+" b:"+this.bottom+" h:"+this.height+" w:"+this.width},toRelative:function(e){return e==null&&(e={}),e.top==null&&(e.top=0),e.left==null&&(e.left=0),new i(e.top,e.left,this.height,this.width)},showInDocument:function(e){e=e||{};var t="fixed",n=$(document.body),r=$('<div class = "s-m-rect">').appendTo(n).css({position:t,top:this.top+"px",left:this.left+"px",height:this.height+"px",width:this.width+"px",backgroundColor:e.color,zIndex:e.zIndex!=null?e.zIndex:undefined});return e.timeout!=null&&setTimeout(function(){r.remove()},e.timeout),r},clone:function(){return new i(this.top,this.left,this.height,this.width)},applyTransformScale:function(e,t){if(e==null||e<=0||typeof e!="number")return;var n=t===!0?this.clone():this;return n.width=n.width*e,n.height=n.height*e,n}}),s={outer:["outerWidth","outerHeight"],inner:["innerWidth","innerHeight"],computed:["width","height"],fixed:"position",relative:"offset"};t.elmtRect=function(e,t,n){var r=e[s[n||"relative"]](),o=s[t||"outer"];return new i(r.top,r.left,e[o[1]](),e[o[0]]())},t.newRect=function(e,t,n,r){return new i(e,t,n,r)}}),function(e,t,n,r){"use strict";function l(e,t,n){return setTimeout(m(e,n),t)}function c(e,t,n){return Array.isArray(e)?(h(e,n[t],n),!0):!1}function h(e,t,n){var i;if(!e)return;if(e.forEach)e.forEach(t,n);else if(e.length!==r){i=0;while(i<e.length)t.call(n,e[i],i,e),i++}else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}function p(e,t,n){var i=Object.keys(t),s=0;while(s<i.length){if(!n||n&&e[i[s]]===r)e[i[s]]=t[i[s]];s++}return e}function d(e,t){return p(e,t,!0)}function v(e,t,n){var r=t.prototype,i;i=e.prototype=Object.create(r),i.constructor=e,i._super=r,n&&p(i,n)}function m(e,t){return function(){return e.apply(t,arguments)}}function g(e,t){return typeof e==o?e.apply(t?t[0]||r:r,t):e}function y(e,t){return e===r?t:e}function b(e,t,n){h(x(t),function(t){e.addEventListener(t,n,!1)})}function w(e,t,n){h(x(t),function(t){e.removeEventListener(t,n,!1)})}function E(e,t){while(e){if(e==t)return!0;e=e.parentNode}return!1}function S(e,t){return e.indexOf(t)>-1}function x(e){return e.trim().split(/\s+/g)}function T(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);var r=0;while(r<e.length){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function N(e){return Array.prototype.slice.call(e,0)}function C(e,t,n){var r=[],i=[],s=0;while(s<e.length){var o=t?e[s][t]:e[s];T(i,o)<0&&r.push(e[s]),i[s]=o,s++}return n&&(t?r=r.sort(function(n,r){return n[t]>r[t]}):r=r.sort()),r}function k(e,t){var n,s,o=t[0].toUpperCase()+t.slice(1),u=0;while(u<i.length){n=i[u],s=n?n+o:t;if(s in e)return s;u++}return r}function A(){return L++}function O(e){var t=e.ownerDocument;return t.defaultView||t.parentWindow}function et(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){g(e.options.enable,[e])&&n.handler(t)},this.init()}function tt(e){var t,n=e.options.inputClass;return n?t=n:D?t=St:P?t=Ot:_?t=_t:t=gt,new t(e,nt)}function nt(e,t,n){var r=n.pointers.length,i=n.changedPointers.length,s=t&q&&r-i===0,o=t&(U|z)&&r-i===0;n.isFirst=!!s,n.isFinal=!!o,s&&(e.session={}),n.eventType=t,rt(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function rt(e,t){var n=e.session,r=t.pointers,i=r.length;n.firstInput||(n.firstInput=ot(t)),i>1&&!n.firstMultiple?n.firstMultiple=ot(t):i===1&&(n.firstMultiple=!1);var s=n.firstInput,o=n.firstMultiple,u=o?o.center:s.center,a=t.center=ut(r);t.timeStamp=f(),t.deltaTime=t.timeStamp-s.timeStamp,t.angle=ct(u,a),t.distance=lt(u,a),it(n,t),t.offsetDirection=ft(t.deltaX,t.deltaY),t.scale=o?pt(o.pointers,r):1,t.rotation=o?ht(o.pointers,r):0,st(n,t);var l=e.element;E(t.srcEvent.target,l)&&(l=t.srcEvent.target),t.target=l}function it(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},s=e.prevInput||{};if(t.eventType===q||s.eventType===U)i=e.prevDelta={x:s.deltaX||0,y:s.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y};t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)}function st(e,t){var n=e.lastInterval||t,i=t.timeStamp-n.timeStamp,s,o,u,f;if(t.eventType!=z&&(i>I||n.velocity===r)){var l=n.deltaX-t.deltaX,c=n.deltaY-t.deltaY,h=at(i,l,c);o=h.x,u=h.y,s=a(h.x)>a(h.y)?h.x:h.y,f=ft(l,c),e.lastInterval=t}else s=n.velocity,o=n.velocityX,u=n.velocityY,f=n.direction;t.velocity=s,t.velocityX=o,t.velocityY=u,t.direction=f}function ot(e){var t=[],n=0;while(n<e.pointers.length)t[n]={clientX:u(e.pointers[n].clientX),clientY:u(e.pointers[n].clientY)},n++;return{timeStamp:f(),pointers:t,center:ut(t),deltaX:e.deltaX,deltaY:e.deltaY}}function ut(e){var t=e.length;if(t===1)return{x:u(e[0].clientX),y:u(e[0].clientY)};var n=0,r=0,i=0;while(i<t)n+=e[i].clientX,r+=e[i].clientY,i++;return{x:u(n/t),y:u(r/t)}}function at(e,t,n){return{x:t/e||0,y:n/e||0}}function ft(e,t){return e===t?W:a(e)>=a(t)?e>0?X:V:t>0?$:J}function lt(e,t,n){n||(n=Y);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function ct(e,t,n){n||(n=Y);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.atan2(i,r)*180/Math.PI}function ht(e,t){return ct(t[1],t[0],Z)-ct(e[1],e[0],Z)}function pt(e,t){return lt(t[0],t[1],Z)/lt(e[0],e[1],Z)}function gt(){this.evEl=vt,this.evWin=mt,this.allow=!0,this.pressed=!1,et.apply(this,arguments)}function St(){this.evEl=wt,this.evWin=Et,et.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function Ct(){this.evTarget=Tt,this.evWin=Nt,this.started=!1,et.apply(this,arguments)}function kt(e,t){var n=N(e.touches),r=N(e.changedTouches);return t&(U|z)&&(n=C(n.concat(r),"identifier",!0)),[n,r]}function Ot(){this.evTarget=At,this.targetIds={},et.apply(this,arguments)}function Mt(e,t){var n=N(e.touches),r=this.targetIds;if(t&(q|R)&&n.length===1)return r[n[0].identifier]=!0,[n,n];var i,s,o=N(e.changedTouches),u=[],a=this.target;s=n.filter(function(e){return E(e.target,a)});if(t===q){i=0;while(i<s.length)r[s[i].identifier]=!0,i++}i=0;while(i<o.length)r[o[i].identifier]&&u.push(o[i]),t&(U|z)&&delete r[o[i].identifier],i++;if(!u.length)return;return[C(s.concat(u),"identifier",!0),u]}function _t(){et.apply(this,arguments);var e=m(this.handler,this);this.touch=new Ot(this.manager,e),this.mouse=new gt(this.manager,e)}function Rt(e,t){this.manager=e,this.set(t)}function Ut(e){if(S(e,Ft))return Ft;var t=S(e,It),n=S(e,qt);return t&&n?It+" "+qt:t||n?t?It:qt:S(e,jt)?jt:Bt}function Qt(e){this.id=A(),this.manager=null,this.options=d(e||{},this.defaults),this.options.enable=y(this.options.enable,!0),this.state=zt,this.simultaneous={},this.requireFail=[]}function Gt(e){return e&Jt?"cancel":e&Vt?"end":e&Xt?"move":e&Wt?"start":""}function Yt(e){return e==J?"down":e==$?"up":e==X?"left":e==V?"right":""}function Zt(e,t){var n=t.manager;return n?n.get(e):e}function en(){Qt.apply(this,arguments)}function tn(){en.apply(this,arguments),this.pX=null,this.pY=null}function nn(){en.apply(this,arguments)}function rn(){Qt.apply(this,arguments),this._timer=null,this._input=null}function sn(){en.apply(this,arguments)}function on(){en.apply(this,arguments)}function un(){Qt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function an(e,t){return t=t||{},t.recognizers=y(t.recognizers,an.defaults.preset),new cn(e,t)}function cn(e,t){t=t||{},this.options=d(t,an.defaults),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.element=e,this.input=tt(this),this.touchAction=new Rt(this,this.options.touchAction),hn(this,!0),h(t.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function hn(e,t){var n=e.element;h(e.options.cssProps,function(e,r){n.style[k(n.style,r)]=t?e:""})}function pn(e,n){var r=t.createEvent("Event");r.initEvent(e,!0,!0),r.gesture=n,n.target.dispatchEvent(r)}var i=["","webkit","moz","MS","ms","o"],s=t.createElement("div"),o="function",u=Math.round,a=Math.abs,f=Date.now,L=1,M=/mobile|tablet|ip(ad|hone|od)|android/i,_="ontouchstart"in e,D=k(e,"PointerEvent")!==r,P=_&&M.test(navigator.userAgent),H="touch",B="pen",j="mouse",F="kinect",I=25,q=1,R=2,U=4,z=8,W=1,X=2,V=4,$=8,J=16,K=X|V,Q=$|J,G=K|Q,Y=["x","y"],Z=["clientX","clientY"];et.prototype={handler:function(){},init:function(){this.evEl&&b(this.element,this.evEl,this.domHandler),this.evTarget&&b(this.target,this.evTarget,this.domHandler),this.evWin&&b(O(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&w(this.element,this.evEl,this.domHandler),this.evTarget&&w(this.target,this.evTarget,this.domHandler),this.evWin&&w(O(this.element),this.evWin,this.domHandler)}};var dt={mousedown:q,mousemove:R,mouseup:U},vt="mousedown",mt="mousemove mouseup";v(gt,et,{handler:function(t){var n=dt[t.type];n&q&&t.button===0&&(this.pressed=!0),n&R&&t.which!==1&&(n=U);if(!this.pressed||!this.allow)return;n&U&&(this.pressed=!1),this.callback(this.manager,n,{pointers:[t],changedPointers:[t],pointerType:j,srcEvent:t})}});var yt={pointerdown:q,pointermove:R,pointerup:U,pointercancel:z,pointerout:z},bt={2:H,3:B,4:j,5:F},wt="pointerdown",Et="pointermove pointerup pointercancel";e.MSPointerEvent&&(wt="MSPointerDown",Et="MSPointerMove MSPointerUp MSPointerCancel"),v(St,et,{handler:function(t){var n=this.store,r=!1,i=t.type.toLowerCase().replace("ms",""),s=yt[i],o=bt[t.pointerType]||t.pointerType,u=o==H,a=T(n,t.pointerId,"pointerId");s&q&&(t.button===0||u)?a<0&&(n.push(t),a=n.length-1):s&(U|z)&&(r=!0);if(a<0)return;n[a]=t,this.callback(this.manager,s,{pointers:n,changedPointers:[t],pointerType:o,srcEvent:t}),r&&n.splice(a,1)}});var xt={touchstart:q,touchmove:R,touchend:U,touchcancel:z},Tt="touchstart",Nt="touchstart touchmove touchend touchcancel";v(Ct,et,{handler:function(t){var n=xt[t.type];n===q&&(this.started=!0);if(!this.started)return;var r=kt.call(this,t,n);n&(U|z)&&r[0].length-r[1].length===0&&(this.started=!1),this.callback(this.manager,n,{pointers:r[0],changedPointers:r[1],pointerType:H,srcEvent:t})}});var Lt={touchstart:q,touchmove:R,touchend:U,touchcancel:z},At="touchstart touchmove touchend touchcancel";v(Ot,et,{handler:function(t){var n=Lt[t.type],r=Mt.call(this,t,n);if(!r)return;this.callback(this.manager,n,{pointers:r[0],changedPointers:r[1],pointerType:H,srcEvent:t})}}),v(_t,et,{handler:function(t,n,r){var i=r.pointerType==H,s=r.pointerType==j;if(i)this.mouse.allow=!1;else if(s&&!this.mouse.allow)return;n&(U|z)&&(this.mouse.allow=!0),this.callback(t,n,r)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Dt=k(s.style,"touchAction"),Pt=Dt!==r,Ht="compute",Bt="auto",jt="manipulation",Ft="none",It="pan-x",qt="pan-y";Rt.prototype={set:function(e){e==Ht&&(e=this.compute()),Pt&&(this.manager.element.style[Dt]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return h(this.manager.recognizers,function(t){g(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),Ut(e.join(" "))},preventDefaults:function(e){if(Pt)return;var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented){t.preventDefault();return}var r=this.actions,i=S(r,Ft),s=S(r,qt),o=S(r,It);if(i||s&&n&K||o&&n&Q)return this.preventSrc(t)},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var zt=1,Wt=2,Xt=4,Vt=8,$t=Vt,Jt=16,Kt=32;Qt.prototype={defaults:{},set:function(e){return p(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(c(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=Zt(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return c(e,"dropRecognizeWith",this)?this:(e=Zt(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(c(e,"requireFailure",this))return this;var t=this.requireFail;return e=Zt(e,this),T(t,e)===-1&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(c(e,"dropRequireFailure",this))return this;e=Zt(e,this);var t=T(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function r(r){t.manager.emit(t.options.event+(r?Gt(n):""),e)}var t=this,n=this.state;n<Vt&&r(!0),r(),n>=Vt&&r(!0)},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=Kt},canEmit:function(){var e=0;while(e<this.requireFail.length){if(!(this.requireFail[e].state&(Kt|zt)))return!1;e++}return!0},recognize:function(e){var t=p({},e);if(!g(this.options.enable,[this,t])){this.reset(),this.state=Kt;return}this.state&($t|Jt|Kt)&&(this.state=zt),this.state=this.process(t),this.state&(Wt|Xt|Vt|Jt)&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},v(en,Qt,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return t===0||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=t&(Wt|Xt),i=this.attrTest(e);if(r&&(n&z||!i))return t|Jt;if(r||i)return n&U?t|Vt:t&Wt?t|Xt:Wt;return Kt}}),v(tn,en,{defaults:{event:"pan",threshold:10,pointers:1,direction:G},getTouchAction:function(){var e=this.options.direction,t=[];return e&K&&t.push(qt),e&Q&&t.push(It),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,s=e.deltaX,o=e.deltaY;return i&t.direction||(t.direction&K?(i=s===0?W:s<0?X:V,n=s!=this.pX,r=Math.abs(e.deltaX)):(i=o===0?W:o<0?$:J,n=o!=this.pY,r=Math.abs(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},attrTest:function(e){return en.prototype.attrTest.call(this,e)&&(this.state&Wt||!(this.state&Wt)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=Yt(e.direction);t&&this.manager.emit(this.options.event+t,e),this._super.emit.call(this,e)}}),v(nn,en,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Ft]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&Wt)},emit:function(e){this._super.emit.call(this,e);if(e.scale!==1){var t=e.scale<1?"in":"out";this.manager.emit(this.options.event+t,e)}}}),v(rn,Qt,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[Bt]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime>t.time;this._input=e;if(!r||!n||e.eventType&(U|z)&&!i)this.reset();else if(e.eventType&q)this.reset(),this._timer=l(function(){this.state=$t,this.tryEmit()},t.time,this);else if(e.eventType&U)return $t;return Kt},reset:function(){clearTimeout(this._timer)},emit:function(e){if(this.state!==$t)return;e&&e.eventType&U?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input))}}),v(sn,en,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Ft]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&Wt)}}),v(on,en,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:K|Q,pointers:1},getTouchAction:function(){return tn.prototype.getTouchAction.call(this)},attrTest:function(e){var t=this.options.direction,n;return t&(K|Q)?n=e.velocity:t&K?n=e.velocityX:t&Q&&(n=e.velocityY),this._super.attrTest.call(this,e)&&t&e.direction&&e.distance>this.options.threshold&&a(n)>this.options.velocity&&e.eventType&U},emit:function(e){var t=Yt(e.direction);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),v(un,Qt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[jt]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime<t.time;this.reset();if(e.eventType&q&&this.count===0)return this.failTimeout();if(r&&i&&n){if(e.eventType!=U)return this.failTimeout();var s=this.pTime?e.timeStamp-this.pTime<t.interval:!0,o=!this.pCenter||lt(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp,this.pCenter=e.center,!o||!s?this.count=1:this.count+=1,this._input=e;var u=this.count%t.taps;if(u===0)return this.hasRequireFailures()?(this._timer=l(function(){this.state=$t,this.tryEmit()},t.interval,this),Wt):$t}return Kt},failTimeout:function(){return this._timer=l(function(){this.state=Kt},this.options.interval,this),Kt},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==$t&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),an.VERSION="2.0.4",an.defaults={domEvents:!1,touchAction:Ht,enable:!0,inputTarget:null,inputClass:null,preset:[[sn,{enable:!1}],[nn,{enable:!1},["rotate"]],[on,{direction:K}],[tn,{direction:K},["swipe"]],[un],[un,{event:"doubletap",taps:2},["tap"]],[rn]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var fn=1,ln=2;cn.prototype={set:function(e){return p(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?ln:fn},recognize:function(e){var t=this.session;if(t.stopped)return;this.touchAction.preventDefaults(e);var n,r=this.recognizers,i=t.curRecognizer;if(!i||i&&i.state&$t)i=t.curRecognizer=null;var s=0;while(s<r.length)n=r[s],t.stopped!==ln&&(!i||n==i||n.canRecognizeWith(i))?n.recognize(e):n.reset(),!i&&n.state&(Wt|Xt|Vt)&&(i=t.curRecognizer=n),s++},get:function(e){if(e instanceof Qt)return e;var t=this.recognizers;for(var n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(c(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(c(e,"remove",this))return this;var t=this.recognizers;return e=this.get(e),t.splice(T(t,e),1),this.touchAction.update(),this},on:function(e,t){var n=this.handlers;return h(x(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this},off:function(e,t){var n=this.handlers;return h(x(e),function(e){t?n[e].splice(T(n[e],t),1):delete n[e]}),this},emit:function(e,t){this.options.domEvents&&pn(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(!n||!n.length)return;t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};var r=0;while(r<n.length)n[r](t),r++},destroy:function(){this.element&&hn(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},p(an,{INPUT_START:q,INPUT_MOVE:R,INPUT_END:U,INPUT_CANCEL:z,STATE_POSSIBLE:zt,STATE_BEGAN:Wt,STATE_CHANGED:Xt,STATE_ENDED:Vt,STATE_RECOGNIZED:$t,STATE_CANCELLED:Jt,STATE_FAILED:Kt,DIRECTION_NONE:W,DIRECTION_LEFT:X,DIRECTION_RIGHT:V,DIRECTION_UP:$,DIRECTION_DOWN:J,DIRECTION_HORIZONTAL:K,DIRECTION_VERTICAL:Q,DIRECTION_ALL:G,Manager:cn,Input:et,TouchAction:Rt,TouchInput:Ot,MouseInput:gt,PointerEventInput:St,TouchMouseInput:_t,SingleTouchInput:Ct,Recognizer:Qt,AttrRecognizer:en,Tap:un,Pan:tn,Swipe:on,Pinch:nn,Rotate:sn,Press:rn,on:b,off:w,each:h,merge:d,extend:p,inherit:v,bindFn:m,prefixed:k}),typeof define==o&&define.amd?define("syracuse-tablet/html/deps/hammerjs-2.0.4/hammer",[],function(){return an}):typeof module!="undefined"&&module.exports?module.exports=an:e[n]=an}(window,document,"Hammer"),define("syracuse-tablet/html/js/helpers/hammerScroller",["require","exports","module","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/ui/rect","syracuse-tablet/html/js/helpers/jsutils","syracuse-tablet/html/js/helpers/notifications","syracuse-tablet/html/deps/hammerjs-2.0.4/hammer"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/logger").getLogger("scroll",!1),i=e("syracuse-tablet/html/js/helpers/utils"),s=e("syracuse-tablet/html/js/helpers/globals"),o=e("syracuse-tablet/html/js/ui/rect"),u=e("syracuse-tablet/html/js/helpers/jsutils"),a=e("syracuse-tablet/html/js/helpers/notifications"),f=e("syracuse-tablet/html/deps/hammerjs-2.0.4/hammer"),l=!1,c=1;a.subscribe(function(e,t){t=t==null?!l:t===!0,l=t,a.publish("sm.scroller.toggle",!l)},["sm.hammer.scrolling.toggle"],1);var h=function(e,t,n){r&&r("Clicked canceled",n,e.id),t.stopPropagation(),t.preventDefault(),t.$stop=!0},p=400,d=!0,v=30,m=function(e){var t=Math.abs(Math.round(e*7));return Math.max(1,t*t/2)},g={pan:{v:"panup pandown panstart panend",h:"panleft panright panstart panend"},dir:{v:f.DIRECTION_VERTICAL,h:f.DIRECTION_HORIZONTAL},upEvt:{v:"panup",h:"panleft"}},y=i.defineClass(function(t,n,r,i){n=n||{},this.hammer=null,this.$$elmt=t,this.$$nativeScroll=i||t;if(t=="null")throw new Error("hammerScroller - null $$elmt");this.id=t.closest("[id]").attr("id"),this.valMax=n.valMax!=null?n.valMax:0,this.name=n.name||"scroller",this.parentMgr=r,this.callBack=n.callBack,this.isPageScroller=n.isPageScroller===!0,this.hammer=new f(this.$$elmt.get(0)),n.direction&&this._initDir(n.direction),this._evtsEnabled=!1,a.subscribe(this,["sm.scroller.toggle"],1)},null,{_initDir:function(e){this.dir=e;if(this.dir!=="v"&&this.dir!=="h")throw new Error("hammerScroller - Unexpected direction ["+this.dir+"]");this.upEvtType=g.upEvt[this.dir]},resetScrolling:function(e){this.val!=null&&(this.val=this.valMax,this.refresh(),this.reset()),e&&e()},init:function(e,t,n,r){if(e==null)throw new Error("hammerScroller - Unexpected null viewRect");r===!0&&this.val!=null&&(this.restoredVal=this.val),this.reset(),t!=null&&this.dir!=t&&this._initDir(t);if(this.dir==null)throw new Error("hammerScroller - Unexpected null direction");s.getSiteLayout().getTransformScale()!=1&&(e=e.applyTransformScale(s.getSiteLayout().getTransformScale(),!0)),this.viewRect=e,this.hammer.get("pan").set({threshold:0,direction:g.dir[this.dir]}),this.hammer.get("press").set({time:1}),this._panHandler=f.bindFn(this.onPan,this),this._pressHandler=f.bindFn(this.onPress,this),this._clickHandler=f.bindFn(this.onClick,this),this.$$elmt.on("click",this._clickHandler),this._originalRect=o.elmtRect(this.$$elmt),this._originalScrollOffset=this.isPageScroller||!s.getCurrentPage()?null:s.getCurrentPage().getScrollOffset(),this._enableEvents(!0),n!=null&&(this.valMax=n),this.val=this.restoredVal==null?this.valMax:this.restoredVal,r===!0&&this.restoredVal!=null&&this.adjust(),this.restoredVal=null,this.refresh()},_enableEvents:function(e){if(!this.viewRect)return;e=e&&!l;var t=this._evtsEnabled===!1;e===!0&&this._evtsEnabled!==!0&&(this._evtsEnabled=!0,this.hammer.on(g.pan[this.dir],this._panHandler),this.hammer.on("press",this._pressHandler),this.$$elmt.addClass("s-m-scroll"+this.dir));if(e===!1&&this._evtsEnabled!==!1){if(this._evtsEnabled===!1)return;this._evtsEnabled=!1,this.hammer&&(this.hammer.off(g.pan[this.dir],this._panHandler),this.hammer.off("press",this._pressHandler)),this.$$elmt.removeClass("s-m-scroll"+this.dir)}t||(this.panStart=!1,this.stopSlowingDown(),this.cancelClick=!1,this.lastClickAllowed=null)},reset:function(){this._enableEvents(!1),this.$$elmt&&this.$$elmt.off("click",this._clickHandler),this.viewRect=null,this.panStart=!1,this.stopSlowingDown(),this.cancelClick=!1,this.lastClickAllowed=null,this.val=null,this.isLocked=!1},destroy:function(){this.reset(),this.hammer&&(this.hammer.destroy(),this.hammer=null),this.$$elmt=null,this.$$nativeScroll=null,this.callBack=null,this._panHandler=null,this._pressHandler=null,this._toggleRect(!1),this._clickHandler=null,i.unbindObj(this)},refresh:function(){this.dir=="v"?this.$$elmt.css({top:this.val+"px"}):this.$$elmt.css({left:this.val+"px"})},_getScrollOffset:function(){if(this.isPageScroller||this._originalScrollOffset==null)return null;var e=s.getCurrentPage().getScrollOffset();return e==null?null:{top:e.top-this._originalScrollOffset.top,left:e.left-this._originalScrollOffset.left}},_toggleRect:function(e){if(this._$$viewRect)this._$$viewRect.remove(),this._$$viewRect.off("click",this._clickHandler),this._$$viewRect=null;else if(e!==!1){this._$$viewRect=this.viewRect.showInDocument();var t=this._getScrollOffset();t&&this._$$viewRect.css({marginTop:"+="+t.top,marginLeft:"+="+t.left}),this._$$viewRect.on("click",this._clickHandler)}},onClick:function(e){r&&r("onClick Status","slowingDown:",this.slowingDown,"panStart:",this.panStart,"cancelClick:",this.cancelClick,"lastClickAllowed:",this.lastClickAllowed?(new Date).getTime()-this.lastClickAllowed:null),e.$stop=!1;if(e.altKey)return a.publish("sm.hammer.scrolling.toggle"),h(this,e,"Disable/Enable events");if(e.shiftKey)return this._toggleRect(),h(this,e,"Show rectangle");if(this._evtsEnabled===!1)return;if(this.slowingDown)return h(this,e,"slowing down");if(this.cancelClick)return this.cancelClick=!1,h(this,e,"Click canceled");if(this.lastClickAllowed!=null&&(new Date).getTime()-this.lastClickAllowed<0)return this.lastClickAllowed=null,h(this,e,"Last click timeout");if(this.parentMgr&&this.parentMgr.dir!=this.dir){this.parentMgr.onClick(e);if(e.$stop===!0)return h(this,e,"Parent stopped click")}r&&r("onClick not stopped")},onPress:function(e){this.lastPress=(new Date).getTime(),this.slowingDown&&(this.stopSlowingDown(),this.cancelClick=!0),this.parentMgr&&(this.parentMgr.isLocked=!1),r&&r(this.id,"onPress","slowingDown="+this.slowingDown,"panStart="+this.panStart,"cancelClick ="+this.cancelClick,"lastClickAllowed ="+this.lastClickAllowed)},onPan:function(e){r&&r(this.id,e.type,this.dir,i.isEvtDirection(e,this.dir),"isLocked",this.isLocked);if(!i.isEvtDirection(e,this.dir))return;if(this.isLocked===!0)return;try{if(e.type==="panstart")r&&r(e.type),this.panStart=!0,this.cancelClick=!0,this.stopSlowingDown(),this.parentMgr&&this.parentMgr.dir===this.dir&&(this.parentMgr.isLocked=!0);else if(e.type==="panend"){r&&r(e.type),this.panStart=!1,d&&this.lastVelocity!=null?(this.lastVelocity=Math.abs(this.lastVelocity),this.lastVelocity>.3&&this.lastVelocity<1?this.lastVelocity=1:this.lastVelocity=Math.min(this.lastVelocity,2),this.lastVelocity>=1?(this.slowingDown=!0,this.slowDown(this.lastVelocity,this.lastUp),this.lastVelocity=this.lastUp=null):this.parentMgr&&(this.parentMgr.isLocked=!1)):(this.lastClickAllowed=(new Date).getTime()+p,this.parentMgr&&(this.parentMgr.isLocked=!1));return}var t=e.type===this.upEvtType||e.type==="panstart"&&e.deltaY<0;this.move(m(e.velocity),t)?(this.lastVelocity=Math.abs(e.velocity),this.lastUp=t):this.lastVelocity=this.lastUp=null}catch(n){return r&&r(JSON.stringify(u.convertToDiagnoses("hammer scroller error",n),null,2)),this.destroy(),!1}},stopSlowingDown:function(){this.slowingDown=!1,this.parentMgr&&(this.parentMgr.isLocked=!1)},slowDown:function(e,t){var n=this;if(n.panStart||!n.slowingDown){this.stopSlowingDown();return}if(e<1){this.stopSlowingDown();return}n.move(m(e),t)?setTimeout(function(){n.slowDown(e,t)},v):this.stopSlowingDown()},move:function(e,t){try{if(e==0)return;var n=t?this.val-e:this.val+e,i=this.getValMin();n=Math.max(Math.min(this.valMax,n),i);if(n===this.valMax||n===i){r&&r(this.id,"end scrolling"),this.lastClickAllowed=(new Date).getTime()+p,this.cancelClick=!1;if(this.val===n)return!1}return this.val=n,this.callBack?this.callBack(this.val):(this.refresh(),!0)}catch(s){return r&&r("Page VerticalScroller onMove Error - disable scroll"),r&&r(JSON.stringify(u.convertToDiagnoses("VScrolling error",s),null,2)),this.destroy(),!1}},savedCtxCreate:function(){return this.hammer?{val:this.val}:null},savedCtxRestore:function(e,t){if(e==null||e.val==null)return;this.restoredVal=e.val,t&&this.refresh()},getOffset:function(){return{top:this.dir=="v"?this.val:0,left:this.dir=="h"?this.val:0}},notifScrollerToggle:function(e){this._enableEvents(e==null?!this._evtsEnabled:e===!0,!0);var t={overflow:l===!0?"auto":"hidden"},n=this.dir==="h"?"width":"height";t[n]=(l===!0?this.viewRect[n]:this._originalRect[n])+"px",this.$$nativeScroll.css(t);var t={overflow:l===!0?"auto":"hidden"};t[this.dir==="h"?"left":"top"]=this.valMax+"px",this.$$elmt.css(t),this.val=this.valMax},makeVisible:function(e){this.slowingDown&&(this.stopSlowingDown(),this.cancelClick=!0);if(!e||!e.jquery||e.length==0||this.viewRect==null)return;if(e.closest(this.$$elmt).length===0)return;if(l)return;if(!this._evtsEnabled)return;var t=this.dir==="v"?"top":"left",n=this.dir==="v"?"height":"width",r=e.position()[t],i=e.parent();while(i.get(0)!=this.$$elmt.get(0)){var s=i.css("position");if(s==="relative"||s==="absolute"||s==="fixed")r+=i.position()[t];i=i.parent()}r=-1*r+5,r=Math.max(Math.min(0,r),this.getValMin()),this.val=r,this.refresh();return},autoScroll:function(e){this.move(Math.abs(e),e<0)},getScrollValue:function(e){return this.val},getValMin:function(){var e=this.dir=="v"?"height":"width",t=this.$$elmt[e]();return Math.min(this.valMax-t+this.viewRect[e]-8,this.valMax)},adjust:function(){if(this.viewRect==null)return;var e=o.elmtRect(this.$$elmt);if(e.contains(this.viewRect))return;var t=this.dir=="v"?"height":"width";this.val=this.viewRect[t]-e[t],this.refresh()},scrollToBeginning:function(){this.val=this.valMax,this.refresh()},checkViewRect:function(e,t){var n=!0;if(e&&this.$$elmt){var r=this.val;this.scrollToBeginning(),t&&(this.val=r);var i=o.elmtRect(this.$$elmt,"computed"),s=e.intersectRect(i,!1);s!=null&&(this.init(s,null,null,t),n=!1,t&&this.adjust())}return n&&this.reset(),!n}}),b=function(e){var t=e.find(".s-m-scroll-element"),n,r={};for(n=0;n<t.length;n++){c++;var i=$(t[n]),s=i.parent(),u=s.hasClass("s-m-scroll-wrapper-h")?"h":"v";s.attr("data-scroller-id",c);var a=null,f=s.parent().closest(".s-m-scroll-wrapper");f.length>0&&(a=r[f.attr("data-scroller-id")]);var l={};l["overflow-"+u]="auto",s.css(l);var h=new y(i,{direction:u,valMax:0,name:"_scroller_"+c,isPageScroller:!1},a);r[c]=h;var p=o.elmtRect(i,"outer"),d=o.elmtRect(s,"outer"),v=d.intersectRect(p);v&&!v.contains(p)?h.init(v):h.reset()}return r};t.Klass=y,t.createSimpleScroller=b}),define("syracuse-tablet/html/js/ui/modals/modalDialog",["require","exports","module","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/hammerScroller","syracuse-tablet/html/js/ui/rect"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/globals"),i=e("syracuse-tablet/html/js/helpers/utils"),s=e("syracuse-tablet/html/js/helpers/hammerScroller"),o=e("syracuse-tablet/html/js/ui/rect"),u='	<div class="modal {{displayFlags.modalClass}}" id="modal-endpoint" tabindex="-1" role="dialog">	<div class="modal-dialog">	<div class="modal-content"> 		{{{header}}} 		<div class="modal-body">{{{content}}}</div> 		{{{footer}}} 	</div> 	</div>	</div>',a=i.defineClass(function(){var t=this,n=r.getSiteLayout();t.deviceType=n.getDeviceType(),t.displayFlags={modalClass:""}},null,{destroy:function(){this.$$elmt&&(this.$$elmt.unbind(),this.$$elmt.remove())},_getTemplates:function(){return{std:{},tablet:{},smartphone:{}}},_getDataContext:function(){return{}},_onValidate:function(){},_onCancel:function(){},_getResult:function(){},_onAction:function(e,t){},_compileTpl:function(){var e=this,t=e._getTemplates(),n=t[e.deviceType]||t.std,r={header:Handlebars.compile(n.header),content:Handlebars.compile(n.content),footer:Handlebars.compile(n.footer)};return r},_getWrapperTemplate:function(){return Handlebars.compile(u)},_ensureParent:function(){var e=this,t=r.isAuthoringActive()?"s-m-modal-parent-auth":"s-m-modal-parent",n=$("#"+t);n.length<1&&(n=$("<div>"),n.attr("id",t),r.isAuthoringActive()?$("body").append(n):$("#s-m-app-id").append(n)),e.$$parent=n},_createDOM:function(){var e=this;e.$$elmt=$(e.html)},getDisplayFlags:function(){var e=this;return e.displayFlags},_hookEvents:function(){var e=this;e.$$elmt.on("shown.bs.modal",e._onShow.bind(e)),e.$$elmt.on("hide.bs.modal",e._onHide.bind(e)),e.$$elmt.delegate("[data-action]","click",e._onButton.bind(e))},_attachDOM:function(){var e=this;e.$$parent.toggle(!0),e.$$parent.append(e.$$elmt),e.$$elmt.modal({keyboard:!1,backdrop:"static"})},_onShow:function(e){var t=this;t.$$elmt.css("padding-left",""),t._calcSize();var n=r.getApplication();n.notifModalOpen(),t._initScrollers()},_onHide:function(e){var t=this,n=r.getApplication();t.$$parent.toggle(!1),n.notifModalClose(),t.deferred.resolve(t._getResult()),t.destroy()},_onButton:function(e){var t=this,n=$(e.currentTarget),r=n.attr("data-params"),i=n.attr("data-action");if(i){e.preventDefault(),e.stopPropagation();var s;i==="$validate"?s=t._onValidate():i==="$cancel"?s=t._onCancel():s=t._onAction(i,r),s!==!1&&t.$$elmt.modal("hide")}else t.$$elmt.modal("hide")},show:function(){var e=this;return e.deferred=new $.Deferred,$.smResolve().then(function(){return e._getDataContext()}).then(function(t){e.data=t}).then(function(){e.template=e._compileTpl();var t=e._getWrapperTemplate(),n=e.template.header(e.data),r=e.template.footer(e.data);n.length>0&&(n='<div class="modal-header">'+n+"</div>"),r.length>0&&(r='<div class="modal-footer">'+r+"</div>"),e.html=t({header:n,content:e.template.content(e.data),footer:r,displayFlags:e.getDisplayFlags()}),e._ensureParent(),e._createDOM(),e._hookEvents(),e._attachDOM()}),e.deferred.promise()},_initScrollers:function(){var e=this;s.createSimpleScroller(e.$$elmt)},_calcSize:function(){var e=this,t=e.getDisplayFlags();if(t.modalClass.indexOf("half_center")>-1||t.modalClass.indexOf("half_right")>-1||t.modalClass.indexOf("full")>-1){var n=e.$$elmt.find(".modal-content"),r=e.$$elmt.find(".modal-header"),i=e.$$elmt.find(".modal-body"),s=e.$$elmt.find(".modal-footer"),u=r.length>0?o.elmtRect(r,"outer").height:0,a=s.length>0?o.elmtRect(s,"outer").height:0;i.css({top:u,height:n.height()-u-a})}}});t.ModalBase=a}),define("syracuse-tablet/html/js/ui/modals/modalDiagnoses",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/ui/modals/modalDialog","syracuse-tablet/html/deps/hammerjs-2.0.4/hammer","syracuse-tablet/html/js/ui/rect","syracuse-tablet/html/js/helpers/hammerScroller"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/locale"),s=e("syracuse-tablet/html/js/ui/modals/modalDialog"),o=e("syracuse-tablet/html/deps/hammerjs-2.0.4/hammer"),u=e("syracuse-tablet/html/js/ui/rect"),a=e("syracuse-tablet/html/js/helpers/hammerScroller").Klass,f={header:'		<div class="modal-title {{severity}}">{{title}}</div>',content:'		<div class="s-m-modal-diag-content">			{{#each diags}} 				<message id="s-m-msg-block-{{id}}" role="alert" style="display:{{this.display}}"> 					<div style="white-space: pre-line;">{{this.message}}</div> 					{{#if stack}} 						<a id="s-m-msg-stack-{{id}}" draggable="false" name="more" href="#" data-action="more">{{../../stackShow}}</a> 						<section>							<div class="s-m-scroll-wrapper">								<stack name="stack" class="s-m-msg-stack-content"> 									{{{this.stack}}} 								</stack> 							</div> 						</section>					{{/if}} 				</message> 			{{/each}}		</div>		<div class="s-m-modal-diag-goto">			{{#each diags}}				<a id="s-m-msg-goto-{{id}}" data-action="goto" data-params="{{id}}">					<i class="fa fa-circle-o" data-action="goto" data-params="{{id}}"></i>				</a>			{{/each}}		</div>',footer:'<button type="button" class="btn btn-default" data-action="$cancel">{{close}}</button>'},l=r.defineClass(function(t,n){var r=this;s.ModalBase.call(r),r.title=t,r.diag=n,r.diagId=0,r.curMsg=0},s.ModalBase,{destroy:function(){var e=this;this._destroySwiper(),this._gestureMgrMap&&!$.isEmptyObject(this._gestureMgrMap)&&$.each(this._gestureMgrMap,function(e,t){t.destroy()}),s.ModalBase.prototype.destroy.call(e)},_getTemplates:function(){var e=this;return{std:f}},getDisplayFlags:function(){var e=this,t=e.displayFlags||{};return e.deviceType==="tablet"?t.modalClass="diagnoses tablet":t.modalClass="diagnoses mobile",t},_getDataContext:function(){var e=this,t={close:i.text("modal.btn.close"),stackShow:i.text("modal.diagnoses.btnstack_show"),severity:"info",diags:[]};return e.diag.$diagnoses.forEach(function(n){var r;n.$severity==="success"||n.$severity==="info"||n.$severity==="warning"?r=n.$severity:(r="danger",t.severity="error"),t.diags.push({id:e.diagId,display:e.diagId===0?"block":"none",message:n.$message,severity:r,severityLabel:i.text("severity."+r),stack:n.$stackTrace&&n.$stackTrace.replace(/\n/g,"<BR/>")}),e.diagId++}),e.title=e.title||(t.severity==="error"?i.text("modal.error.ttl"):i.text("modal.info.ttl")),t.title=e.title,t},_onAction:function(e,t){var n=this;switch(e){case"next":n._next();break;case"prev":n._prev();break;case"more":n._more();break;case"goto":n._goTo(t)}return!1},_goTo:function(e){var t=this;for(var n=0,r=t.diagId;n<r;n++)$("#s-m-msg-block-"+n,t.$$elmt).css("display",n==e?"block":"none");t.curMsg=parseInt(e,10),t._updateButtons()},_next:function(){var e=this;e.curMsg<e.diagId-1&&($("#s-m-msg-block-"+e.curMsg,e.$$elmt).css("display","none"),e.curMsg++,$("#s-m-msg-block-"+e.curMsg,e.$$elmt).css("display","block"),e._updateButtons())},_prev:function(){var e=this;e.curMsg>0&&($("#s-m-msg-block-"+e.curMsg,e.$$elmt).css("display","none"),e.curMsg--,$("#s-m-msg-block-"+e.curMsg,e.$$elmt).css("display","block"),e._updateButtons())},_more:function(){var e=this,t=$("#s-m-msg-stack-"+e.curMsg,e.$$elmt),n=$("section",t.parent());n.css("display")==="none"?(n.css("display","block"),t.text(i.text("modal.diagnoses.btnstack_hide")),e._handleGesture()):(n.css("display","none"),t.text(i.text("modal.diagnoses.btnstack_show")))},_updateButtons:function(){var e=this;for(var t=0,n=e.diagId;t<n;t++){var r=$("a#s-m-msg-goto-"+t+" i",e.$$elmt);r.toggleClass("fa-circle",t==e.curMsg),r.toggleClass("fa-circle-o",t!==e.curMsg)}e.diagId>1?$(".modal-title",e.$$elmt).text(e.title+" ("+(e.curMsg+1)+"/"+e.diagId+")"):$(".s-m-modal-diag-goto",e.$$elmt).css("display","none")},_onShow:function(e){var t=this;s.ModalBase.prototype._onShow.call(t,e),t._updateButtons(),t.diagId>1&&t._initSwiper()},_handleGesture:function(){var e=this;e._gestureMgrMap=e._gestureMgrMap||{};if(!e._gestureMgrMap["gestureMgr"+e.curMsg]){var t=$(".s-m-msg-stack-content",$("#s-m-msg-block-"+e.curMsg,e.$$elmt)),n=$(".s-m-scroll-wrapper",$("#s-m-msg-block-"+e.curMsg,e.$$elmt));e._gestureMgrMap["gestureMgr"+e.curMsg]=new a(t,{direction:"v"});var r=u.elmtRect(n,"outer");e._gestureMgrMap["gestureMgr"+e.curMsg].init(r)}},_onSwipe:function(e){if(r.isEvtDirection(e,"v"))return;var t=this;setTimeout(function(){var n=e?e.type==="swipeleft":null;n?t._next():t._prev()})},_destroySwiper:function(){var e=this;e.hammer&&(e.hammer.destroy(),e.hammer=null)},_initSwiper:function(){var e=this;e._destroySwiper(),e.hammer=new o($(".s-m-modal-diag-content",e.$$elmt).get(0)),e.hammer.get("swipe").set({direction:o.DIRECTION_HORIZONTAL}),this.hammer.on("swipeleft swiperight",o.bindFn(e._onSwipe,e))}});t.Modal=l}),define("syracuse-tablet/html/js/ui/modals/modalConfirm",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/ui/modals/modalDialog","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/ui/modals/modalDialog"),s=e("syracuse-tablet/html/js/helpers/locale"),o={header:'		<div class="modal-title">{{title}}</div>',content:'			<div class="s-m-modal-content">				{{message}}			</div>',footer:'		<button type="button" class="btn btn-default" data-action="yes">{{yes}}</button> 		<button type="button" class="btn btn-default" data-action="no">{{no}}</button>'},u=function(e){return e?e.replace(/\n/g,"<br>"):""},a=r.defineClass(function(t,n,r){var s=this;i.ModalBase.call(s),s.message=t,s.action=n,s.isSimpleConfirm=r},i.ModalBase,{_getTemplates:function(){var e=this;return{std:o}},getDisplayFlags:function(){var e=this,t=e.displayFlags||{};return e.deviceType==="tablet"?t.modalClass="confirm tablet":t.modalClass="confirm mobile",t},_getDataContext:function(){var e=this,t={};return t.title=e.isSimpleConfirm?null:s.text("modal.confirm.ttl"),t.message=e.action?u(s.text("modal.confirm.msg",[e.action])):u(e.message),t.yes=s.text("yes"),t.no=s.text("no"),t},_onAction:function(e,t){var n=this;return n.selectedAction=e,!0},_getResult:function(){var e=this;return e.selectedAction}});t.Modal=a}),define("syracuse-tablet/html/js/ui/modals/modalField",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/ui/modals/modalDialog","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/ui/modals/modalDialog"),s=e("syracuse-tablet/html/js/helpers/locale"),o={header:'		<buttons class="pull-right"> 			<button type="button" class="btn btn-default s-m-modal-btn-cancel" data-action="$cancel"></button> 		</buttons> 		<div class="modal-title">{{title}}</div>',content:"{{{domBody}}}",footer:""},u=r.defineClass(function(t,n,r){var s=this;i.ModalBase.call(s),s.title=t||"Warning",s.domBody=n,s.cb=r},i.ModalBase,{destroy:function(){i.ModalBase.prototype.destroy.call(this),this.domBody=null,this.cb=null},_getTemplates:function(){var e=this;return{std:o}},getDisplayFlags:function(){var e=this,t=e.displayFlags||{};return e.deviceType==="tablet"?t.modalClass="field tablet":t.modalClass="field mobile",t},_getDataContext:function(){var e=this;return{title:e.title,domBody:e.domBody,close:s.text("modal.btn.close")}},_onShow:function(e){var t=this;i.ModalBase.prototype._onShow.call(t,e),t._execCb(t.cb,"shown.bs.modal",t.$$elmt)},_onCancel:function(){return!0},_onHide:function(e){var t=this;i.ModalBase.prototype._onHide.call(t,e),t._execCb(t.cb,"hide.bs.modal",t.$$elmt)},_execCb:function(e,t,n){if(!e||arguments.length==0)return;var e=arguments[0],r=Array.prototype.slice.call(arguments,1);e.apply(null,r)}});t.Modal=u}),define("syracuse-tablet/html/js/ui/modals/modal",["require","exports","module","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/jsutils","syracuse-tablet/html/js/ui/modals/modalDiagnoses","syracuse-tablet/html/js/ui/modals/modalConfirm","syracuse-tablet/html/js/ui/modals/modalField"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/ui/uiUtils"),i=e("syracuse-tablet/html/js/helpers/globals"),s=e("syracuse-tablet/html/js/helpers/jsutils"),o=e("syracuse-tablet/html/js/ui/modals/modalDiagnoses").Modal,u=e("syracuse-tablet/html/js/ui/modals/modalConfirm").Modal,a=e("syracuse-tablet/html/js/ui/modals/modalField").Modal,f=function(e){return e?e.replace(/\n/g,"<br>"):""},l={confirm:' 		<div class="modal fade" id="modal-confirm" tabindex="-1" role="dialog"> 			<div class="modal-dialog s-m-modal-layout">				<header>					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&#215;</button> 				</header>				<section>					<div class="s-m-modal-content row">						<div class="col-md-4"></div>						<div class="col-md-4">							<header>{{title}}</header>							<section>{{message}}</section>							<footer>								<button type="button" class="btn btn-default" data-action="yes">{{yes}}</button> 				                <button type="button" class="btn btn-default" data-action="no">{{no}}</button> 							</footer>						</div>					<div class="col-md-4"></div>				</div>				</section>			</div> 		</div>',error:' 		<div class="modal fade" id="modal-error" tabindex="-1" role="dialog"> 			<div class="modal-dialog s-m-modal-layout">				<header>					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&#215;</button> 				</header>				<section>					<div class="s-m-modal-content row">						<div class="col-md-4"></div>						<div class="col-md-4">							<header class="error">{{title}}</header>							<section>{{body}}</section>							<footer><button type="button" class="btn btn-default" data-dismiss="modal">{{close}}</button></footer>						</div>						<div class="col-md-4"></div>					</div>				</section>			</div> 		</div>',info:'		<div class="modal fade" id="modal-info" tabindex="-1" role="dialog"> 		    <div class="modal-dialog s-m-modal-layout">		    	<header>		    		<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&#215;</button> 		    	</header>		    	<section>		    		<div class="s-m-modal-content row">			    		<div class="col-md-4"></div>			    		<div class="col-md-4">			    			<header class="info">{{title}}</header>			    			<section>{{body}}</section>			    			<footer><button type="button" class="btn btn-default" data-dismiss="modal">{{close}}</button></footer>			    		</div>			    		<div class="col-md-4"></div>		    		</div>		    	</section>			</div> 		</div>',field:'		<div class="modal fade" id="modal-field" tabindex="-1" role="dialog"> 		    <div class="modal-dialog"> 				<div class="modal-content"> 				    <div class="modal-header"> 						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&#215;</button> 						<h4 class="modal-title" id="myModalLabel">{{title}}</h4> 				    </div> 				    <div class="modal-body"> 				       {{{body}}} 				    </div> 				    <div class="modal-footer"> 				        <button type="button" class="btn btn-default" data-dismiss="modal">{{close}}</button> 					</div> 				</div> 			</div> 		</div>',actionMessage:'		<div class="s-m-act-msg {{severityClass}}">			<a draggable="false" href="#"><span class="glyphicon glyphicon-remove"></span></a>			<header>				<div>{{title}}</div>			</header>			<section>				<article>{{message}}</article>			</section>			<footer></footer>		</div>'},c=function(e,t){var n=e+"compiled",r=l[n];return r||(r=l[n]=Handlebars.compile(l[e])),r(t)},h=function(e,t,n){if(!e||arguments.length==0)return;var e=arguments[0],r=Array.prototype.slice.call(arguments,1);e.apply(null,r)},p=function(e,t,n){var r;return r=s.convertToDiagnoses(e,t),e==null&&t&&t.$title&&(e=t.$title),d(e,r,n)},d=function(e,t,n){var r=new o(e,t);r.show().then(function(e){n&&n(e)})},v=function(e,t,n){var r={$severity:"info",$message:t};d(e,[r],n)},m=function(e,t){var n=new u(null,e);n.show().then(function(e){t&&(e==="yes"||e==="no")&&t(e,"yes"===e)})},g=function(e,t){var n=new u(e,null,!0);n.show().then(function(e){t&&(e==="yes"||e==="no")&&t(e,"yes"===e)})};t.simpleConfirmPromise=function(e){var t=$.Deferred(),n=new u(e.message,null,!0);return n.show().then(function(e){(e==="yes"||e==="no")&&t.resolve({action:e})}),t.promise()};var y=function(e,t,n){var r=new a(e,t,n);r.show()},b=function(e,t){if(!t||!t.$diagnoses||t.$diagnoses.length==0)return;var n=!1,r=!1,s=[];t.$diagnoses.forEach(function(e){s.push(e.$message),e.$severity=="error"&&(r=!0,n=n||e.$stackTrace!=null)});if(!n){var o={title:e,body:s.join("\n"),severityClass:r?"error":"success",$$parentSlot:i.getApplication().getMessageSlot()};w(o)}else d(e,t)},w=function(e){function s(){r.toggleClass("show")}function o(){s(),setTimeout(function(){r.remove(),e.$$parentSlot.children().length==0&&e.$$parentSlot.hide()},500)}var t=c("actionMessage",{title:e.title,message:e.body,severityClass:e.severityClass}),n,r=$(t);e.$$parentSlot.prepend(r),e.$$parentSlot.show();var i=r.find("a");i.bind("click",function(){o(),n=!0}),setTimeout(function(){s()},50);var u=setTimeout(function(){n||o()},5e3)},E=function(e,t){r.waitWheelStop();var n=i.getApplication();n&&n.currentPage&&n.currentPage.waitWheelStop();var s=$(e).modal({keyboard:!1,backdrop:"static"}),o=$(window).height();$(".modal-body",s).css("max-height",o*.7);var u=$(s),a=$("#s-m-modal-parent")&&$("#s-m-modal-parent").length>0?$("#s-m-modal-parent"):$("<div>").attr("id","s-m-modal-parent");a.append(u),$("#s-m-app-id").append(a),a.toggle(!0);var f=!1;return s.on("shown.bs.modal",function(e){try{h(t,"shown.bs.modal",s)}catch(r){alert("Modal open - call back error"+r.stack)}n.notifModalOpen()}),n.notifModalClose(),s.on("hide.bs.modal",function(){$("#s-m-modal-parent").toggle(!1),n.notifModalClose();if(!f&&t)try{h(t,"hide.bs.modal",s)}catch(e){alert("Modal close - call back error"+e.stack)}s.unbind(),s.remove()}),s.delegate("button[data-action]","click",function(e){var n=$(e.target),r=n.attr("data-action");r&&(f=!0,e.preventDefault(),e.stopPropagation(),h(t,r,s,n.attr("data-params"))),s.modal("hide")}),s};t.notify=function(e){e.$$parentSlot=e.$$parentSlot||i.getApplication()&&i.getApplication().getMessageSlot(),w(e)};var S=function(e,t,n,r){var i;r&&r.$diagnoses&&r.$diagnoses.length>0?i=r:i={$diagnoses:[{$message:"Action: "+t+" "+(e?"succeeded":"failed"),$severity:e?"success":"error",$stackTrace:JSON.stringify(r)}]};var s=t;if(n){var o=n.data("$links"),u=o&&o[t];u&&u.$title&&(s=n.resolveExpression(u.$title))}b(s,i)};t.error=p,t.info=v,t.diagnoses=d,t.field=y,t.confirm=m,t.simpleConfirm=g,t.modal=E,t.actionResult=b,t.displayActionMsg=S}),define("syracuse-tablet/html/js/init/initStyles",["require","exports","module","syracuse-tablet/html/js/helpers/globals"],function(e,t,n){"use strict";function i(e){var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",e),document.getElementsByTagName("head")[0].appendChild(t)}function s(){var e=/iphone|ipad|ipod|android|blackberry|mini|windows|palm/i.exec(navigator.userAgent.toLowerCase()),t={iphone:"ios",ipad:"ios",ipod:"ios",android:"android",windows:"windows"};return $.smUrlParam("forceLookAndFeel")||t[e||"windows"]||"windows"}function o(){return document.location.href.indexOf("index_debug.html")<0}var r=e("syracuse-tablet/html/js/helpers/globals");t.init=function(){var e=new $.Deferred,t=s(),n="./css/gen/"+t+(o()?".min":"")+".css";i(n);var u="./css/default"+(o()?".min":"")+".css";return i(u),e.resolve(),r.setLookAndFeel(t),e.promise()}}),define("syracuse-tablet/html/js/init/initLocale",["require","exports","module","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/locale");t.init=function(){var e="en-GB";return r.setLocale(e)}}),define("syracuse-tablet/html/js/application/gadget",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/globals"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/globals"),s=r.defineClass(function(e){var t=this;t._data=e},null,{destroy:function(){var e=this;e._data=null},isRequest:function(){return this._data.$type==="$request"},data:function(e){return this._data?this._data[e]:null},getEndPoint:function(){return this._data.endpoint||i.getEndpoint()},isDefaultEndpoint:function(){return!this._data.endpoint},getPageName:function(){var e=this;if(!e.isValid())return null;var t=e.isRequest()?e.getRequestRepresentation():e._data.representation;return e.getEndPoint()+"."+t+"."+e._data.facet},getSDataUrl:function(e){var t=this,n;switch(t._data.$type){case"$representation":["$details","$edit"].indexOf(t._data.action)>-1?n=e.data("$url",{$key:t._data.keyParameter}):["$create"].indexOf(t._data.action)>-1?(n=e.data("$url"),n=n.replace(/\((.*?)\)/,"/$template")):n=e.data("$url");break;case"$request":n=e.data("$baseUrl"),n=n+"/QUERY('"+t._data.requestName+"')?representation="+t.getRequestRepresentation()+".$query"}return n},getRequestRepresentation:function(){return"QUERY~"+this._data.requestName+"~"+this._data.requestLevel},getJSON:function(){return $.extend(!0,{},this._data)},isValid:function(){return this.getInvalidReason()==null},getInvalidReason:function(){var e=this._data.$type;return e==="$representation"||e==="$stats"||e==="$request"?this._data.$uuid.smStartsWith("test")?null:(this.getEndPoint()||"").trim().length==0?"No endpoint":null:null},getParameters:function(){return this._data.parameters||{}}});t.Klass=s}),define("syracuse-tablet/html/js/controls/ctrlFactory",["require","exports","module","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/helpers/globals"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/logger").getLogger("factory"),i=e("syracuse-tablet/html/js/helpers/globals"),s={},o=function(e){switch(e){case"application/x-date":case"application/x-time":case"application/x-datetime":case"application/x-decimal":case"application/x-real":case"application/x-integer":case"application/x-quantity":return["gt","ge","lt","le","eq","ne"];case"application/x-string":case"application/x-reference":return["like","gt","ge","lt","le","eq","ne","like_s"];default:return["eq","ne"]}},u={string:"application/x-string",password:"application/x-password",text:"text/plain",integer:"application/x-integer",real:"application/x-real",decimal:"application/x-decimal",quantity:"application/x-quantity",choice:"application/x-choice","boolean":"application/x-boolean",date:"application/x-date",time:"application/x-time",datetime:"application/x-datetime",reference:"application/x-reference",array:"application/x-array",image:"image",doc:"application/x-document",binary:"application/x-binary",soapObject:"application/x-object",textRtf:"text/rtf",textHtml:"text/html",textPlain:"text/plain",vignette:"tablet/x-vignette",layout:"tablet/x-layout",pageheader:"tablet/x-page-header",pagefooter:"tablet/x-page-footer",panelactionregular:"tablet/x-page-panel-actionregular",panelusersmartphone:"tablet/x-page-panel-usersmartphone",panelfiltersort:"tablet/x-page-panel-filtersort",icon:"tablet/x-icon",button:"tablet/x-button",unfound:"tablet/x-unfound"},a=function(e,t,n,r,i){return i=i||{},i.displayCtx="table",f(t,null,n,r,i)},f=function(e,t,n,r,i){if(!e)throw new Error("createControl - null parent or controller");i=i||{};var o,a=r.data("$type");switch(a){case u.string:case u.password:switch(r.data("$format")){case"$phone":o=new s.PhoneField(e,n,r,i);break;case"$email":o=new s.EmailField(e,n,r,i);break;default:o=new s.Alphanum(e,n,r,i)}break;case u.integer:case u.real:case u.decimal:n.$numDisplay?(!n.$gauge&&n.$numDisplay==="gauge"&&(n.$gauge={}),o=n.$numDisplay==="normal"?new s.Numeric(e,n,r,i):new s.Gauge(e,n,r,i)):n.$gauge?o=new s.Gauge(e,n,r,i):o=new s.Numeric(e,n,r,i);break;case u.quantity:o=new s.Quantity(e,n,r,i);break;case u.choice:o=new s.Combo(e,n,r,i);break;case u.boolean:o=new s.CheckBox(e,n,r,i);break;case u.date:case u.time:case u.datetime:o=new s.Date(e,n,r,i);break;case u.reference:o=new s.Reference(e,n,r,i);break;case u.array:r.data("$cube")?o=new s.CubeChart(e,n,r,i):o=new s.Array(e,n,r,i);break;case u.vignette:o=new s.Vignette(e,n,r,i);break;case u.image:case u.doc:case u.binary:o=new s.Binary(e,n,r,i);break;case u.icon:o=new s.Icon(e,n,r,i);break;case u.button:o=new s.Button(e,n,r,i);break;case u.textRtf:case u.textHtml:case u.textPlain:o=new s.Text(e,n,r,i);break;case u.soapObject:throw new Error("not implemented");case u.unfound:o=new s.FieldUnfound(e,n,r,i);break;default:o=new s.TypeUnknown(e,n,r,i)}if(i.displayCtx==="table")return o;if(!t)throw new Error("createControl - Parent's control is mandatory");return t.appendStructElmt(o),i.displayCtx!=="card"&&e.addControl(o),o},l=function(e,t,n,i){var o=n.$layoutType||"stack",u;if(o=="stack")u=s.LayoutStack;else if(o=="row")u=s.LayoutRow;else if(o=="tab")u=s.LayoutTab;else if(o=="hub")u=s.LayoutHub;else if(o=="hubGroup")u=s.LayoutHubGroup;else if(o=="tile")u=s.LayoutTile;else{if(o!="cell")return r&&r("layout type="+o+" is not implemented"),null;u=s.LayoutCell}var a=new u(e,o,n,i);return t?t.appendStructElmt(a):a.parent=e,e.addLayout(a),a},c=function(e,t,n){n=n||{};var r;switch(e){case"header":r=new s.PageHeader(u.pageheader,t,n);break;case"footer":r=new s.PageFooter(u.pagefooter,t,n);break;default:throw new Error("Unknown page control["+e+"]")}return t.addControl(r),r},h=function(e,t,n){var r=i.getSiteLayout().getDeviceType();n=n||{deviceType:r};switch(t){case i.PANELACTIONSREGULAR:return new s.PageActionPanelRegular(e,u.panelactionregular,t,n);case i.PANELUSERSMARTPHONE:return new s.UserPanelSmartphone(e,u.panelusersmartphone,t,n);case i.PANELFILTERSORT:return new s.FilterSortPanel(e,u.panelfiltersort,t,n);default:throw new Error("Unknown page control["+t+"]")}},p=function(e,t,n){if(!e)throw new Error("Control - null parent or controller");var r=new s.StructElmt(e,"$dummyBind",n,{},{});if(!t)throw new Error("Parent's control is mandatory");return t.appendStructElmt(r),r};t.createPanel=h,t.createControl=f,t.createLayout=l,t.createPageControl=c,t.createCellFieldCtrl=a,t.createBindControl=p,t.type=function(e){return u[e]},t.setImpl=function(e,t){s[e]=t},t.getOperators=o}),define("syracuse-tablet/html/js/helpers/articleParser",["require","exports","module","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/controls/ctrlFactory","syracuse-tablet/html/js/helpers/jsutils"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/logger").getLogger("articleParser"),i=e("syracuse-tablet/html/js/helpers/utils"),s=e("syracuse-tablet/html/js/helpers/globals"),o=e("syracuse-tablet/html/js/controls/ctrlFactory"),u=e("syracuse-tablet/html/js/helpers/jsutils"),a=function(e){return e.$item.$properties==null||e.$type=="application/x-reference"},f=i.defineClass(function(e){var t=this;t.page=e},null,{_doParse:function(e,t,n,i,s){var u=this;if(e.$layoutType){var a=o.createLayout(u.page,n,e,i);return a&&e.$items&&(t.isQuery()&&(t=t.getPrototype("$resources")),e.$items.forEach(function(e){u._doParse(e,t,a,i,s)})),a}if(e.$bind){var f=t.getPrototype(e.$bind);f==null&&e.$isUnfound!==!0?s.push(e):(e.$isUnfound&&(f=t.create({$type:"tablet/x-unfound"})),f.$isExcluded||o.createControl(u.page,n,e,f,i))}else r&&r("$layoutType or $bind exspected")},parse:function(e,t,n){var i=this;try{if(!e||!t)throw new Error("Not empty article and prototype are expected");e.$layoutType||(e.$layoutType="stack");var o=[],a=i._doParse(e,t,null,n,o);if(o.length>0&&s.getDvlpOpt("showUnfoundFields")){var e={$layoutType:"stack",$items:[]};o.forEach(function(t){e.$items.push($.extend(!0,t,{$isUnfound:!0}))}),i._doParse(e,t,a,n,null)}return a}catch(f){throw r&&r("article parser error",f),new Error("Error parsing article ["+f.message+"]\n"+u.cleanStack(f.stack))}}}),l=function(e,t,n,r){var i=new f(e);return i.parse(t,n,r)},c={skipblock:!0,skipsection:!0,include:["$category","$layoutType","$title","$bind"],exclude:["$items","$widths"],protoExclude:["application/x-array","application/json"]},h=function(e){var t=[];e=e.split(",");if(e.length===0)throw new Error("Number of cells/rows must be > 0");if(e.length>12)throw new Error("Number of cells/rows must be <= 12");var n=0;e.forEach(function(e){e=parseInt(e,10),e=Math.ceil(e/12),n+=e,t.push(e)});if(n>12){var r=n-12;t.sort();while(r>0)for(var i=t.length-1;i>=0;i--)r>0&&t[i]>1&&(t[i]=t[i]-1,r--)}else if(n<12){var r=12-n;t.sort();while(r>0)for(var i=0;i<t.length;i++)r>0&&(t[i]=t[i]+1,r--)}return t.join(",")},p=function(e,t){if(!e)return null;var n;e.$layout?n=p(e.$layout,t):n={};if(e.$layoutType){if(!e.$items)throw new Error("$items is missing");n.$items=[],e.$items.forEach(function(e){n.$items.push(p(e,t))})}for(var r in e)r==="$widths"?n[r]=h(e[r]):t.exclude.indexOf(r)===-1&&t.include.indexOf(r)>=0&&(n[r]=e[r]);return n},d=function(e,t,n){return n=$.extend({},c,n),p(e,n)};t.article2Controls=l,t.convertDesktop=d,t.isSingleArray=a}),define("syracuse-tablet/html/js/helpers/prototype",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/application/gadget","syracuse-tablet/html/js/helpers/articleParser"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/globals"),s=e("syracuse-tablet/html/js/application/gadget").Klass,o=e("syracuse-tablet/html/js/helpers/articleParser"),u=function(e){if(!e)return null;var t;return $.isPlainObject(e)?t=e:e.isArray()?t=e.json:e.parent&&(t=e.parent.json),t==null||t.$type!=="application/x-array"?null:t},a=/representation=.*\.\$(\w+)[&]*/,f=null,l=/{[^}]+}/g,c=/[{}]/g,h=r.defineClass(function(e,t){var n=this;this.json=e||{},typeof this.json=="string"&&(this.json=JSON.parse(n.json)),t&&(this.parent=t),this.init()},null,{init:function(){var e=this.json.$properties;if(!e)return;for(var t in e)e[t].$type==="application/x-reference"&&this.initRefField(e[t],t)},destroy:function(){this.parent=null,this.json=null},data:function(e,t,n,r){if(!e||e.length==0)return null;var i=this.json[e];if(i==null){n==null&&["$title","$description"].indexOf(e)>-1&&(n=!0);var s=n!==!0&&this.parent?this.parent.data(e,t,null,!0):i;return s!=null&&(this.json[e]=s),s}return r?i:this.resolveExpression(i,t,!0)},property:function(e,t,n){if(!e||e.length===0)return null;var r=this.json.$properties?this.json.$properties[e]:this.parent?this.parent.property(e):null;return!r||!t?r:this.resolveExpression(r[t],n)},isReference:function(e){var t;if(this._cacheRef!=null){t=this._cacheRef[e];if(t!=null)return t}var n=this.property(e);return t=n!=null&&n.$type==="application/x-reference",this._cacheRef||(this._cacheRef={}),this._cacheRef[e]=t,t},isArray:function(){return this.json.$type==="application/x-array"},isBlob:function(){var e=this.json.$type;return e==="image"||e==="application/x-document"||e==="application/x-array"},resolveExpression:function(e,t,n){return e&&e.indexOf&&e.indexOf("{")>=0&&(e=r.parseExpression(e,t,this,n)),e},localization:function(e){var t=this,n=t.json.$localization||{};return n[e]?n[e]:t.parent?t.parent.localization(e):null},getPrototype:function(e,n,r){var s;if(e.indexOf(".")>0)s=this.getDataByPath(e);else if(e==="$item"){s=this.data(e);if(this.isSingleArray(!0)){var o={$properties:{},$type:"application/json"};o.$properties[i.SINGLEARRAYPROP]=s,s=o}}else s=this.property(e);if(!s)return null;n=$.extend(!0,{},s,n);var u=t.create(n,this);return r&&(u._facet=r),u},isQuery:function(){return this.isFacet("query")},isLookup:function(){return this.isFacet("lookup")},isFacet:function(){return Array.prototype.indexOf.call(arguments,this.getFacet())>=0},formatDisplay:function(e,t){var n=this,r=n.property(e)},addProperty:function(e,t){var n=this;t&&n.json.$properties&&!n.json.$properties[e]&&(n.json.$properties[e]=t)},getPropTitle:function(e){var t=this,n=t.property(e);return n&&n.$title?t.resolveExpression(n.$title):""},getFacet:function(){if(this._facet==null){var e=this,t;while(e!=null&&t==null)e.json.$url!=null&&e.json.$url.trim().length!=0&&(t=a.exec(e.json.$url),t=t!=null&&t.length==2?t[1]:null),e=e.parent;this._facet=t||""}return this._facet},getFieldNameForValue:function(e){var t=this.property(e),n=t&&t.$item;return n&&n.$refValue?n.$refValue:e},initRefField:function(e,t){var n=this;if(!e)throw new Error("Field proto expected["+t+"]");var r=e.$item;if(!r||r.$refValue)return;r.$refValue=t;if(r.$value&&typeof r.$value=="string"){var i=r.$value.match(l);if(!i||i.length!=1)throw new Error("Prototype.initRefField - Only one value is expected");var s=i[0].replace(c,"").trim();if(r[s]){var o=r[s].replace(c,"").trim();n.property(o)&&(r.$refValue=o)}else r.$refValue=s}return r.$refValue},getLookupInfo:function(){var e={},t=this.json;return t.$description&&(e.$description=t.$description.replace(c,"").trim()),t.$title&&(e.$title=t.$title.replace(c,"").trim()),t.$value&&(e.$value=t.$value.replace(c,"").trim()),e},getDataByPath:function(e){return this._cahePath||(this._cahePath={}),r.getPropByPath(this.json,e,this._cahePath)},getVignetteGadget:function(){var e=this.data("$gadget");return e?new s(e):null},getUnitFieldInfo:function(){var e=this,n={};n.$unit=e.data("$unit");if(typeof n.$unit=="object")n.unitBindName="$unit",n.unitFieldProto=t.create($.extend({},e.$unit));else if(typeof n.$unit=="string"){n.unitBindName=n.$unit;var r=e.parent;while(r){var i=r.property(n.$unit);if(i){n.unitFieldProto=t.create($.extend({},i));break}r=r.parent}}return n},isSingleArray:function(e,t){var n;if(t!=null)n=this.property(t);else{if(this.$singleArray)return this.$singleArray;n=u(this)}if(n==null&&e)return!1;if(n==null)throw new Error("Unexpected parent array");var r=o.isSingleArray(n);return t!=null&&(this.$singleArray=r),r},getPropertyNames:function(){var e=this.json.$properties;return e?Object.keys(e):[]},create:function(e){return t.create($.extend(!0,{},e),this)},arrayTableGetColInfo:function(){var e={$title:"",$titleOrig:"",$type:"",$bind:"",$widthType:"auto",$widthVal:0},t=[];if(this.isSingleArray()){var n=this.getDataByPath("$item"),r=$.extend({},e);r.$title=this.resolveExpression(this.$title),r.$titleOrig=this.$title,r.$type=n.$type,r.$bind=i.SINGLEARRAYPROP,t.push(r)}else{var s=this.getDataByPath("$item.$properties");if(!s)return null;var n,o=this;Object.keys(s).forEach(function(r){n=s[r];if(n.$isExcluded!==!0&&i.EXCLUDEFIELDS.indexOf(r)<0){var u=$.extend({},e);u.$title=o.resolveExpression(n.$title),u.$titleOrig=n.$title,u.$type=n.$type,u.$bind=r,t.push(u)}})}return t},getRepDotFacet:function(){var e=this;return e.data("$type").split(".").shift().join(".")}});t.getRowIdxProto=function(){return f?f:(f=t.create({$type:"application/x-integer"}),f)},t.create=function(e,t){return new h(e,t)}}),define("syracuse-tablet/html/js/authoring/authoringArticleGen",["require","exports","module","syracuse-tablet/html/js/helpers/jsutils"],function(e,t,n){"use strict";function o(e,t,n,r){e=$.isPlainObject(e)?e:e.json,e.$type==="application/x-array"&&(e=e.$item);var i=e.$properties,o,u,a=s(e.$url)==="query";if(t==="horizontal"){g={$layoutType:"hub",$items:[{$layoutType:"hubGroup",$title:"",$items:[]}]};if(n===!1)return $.smResolve(g);var f=g.$items[0].$items,l=4,c=l,h,p=["application/x-array","application/x-document","image"];for(var d in i){u=i[d];if(u.$isExcluded!==!0){if(p.indexOf(u.$type)>-1){var v={$layoutType:"tile",$size:"large",$items:[]};f.push(v),h=v.$items,c=l}else if(c>=l){c=0;var v={$layoutType:"tile",$size:"large",$items:[]};f.push(v),h=v.$items}c+=1;var m={$bind:d};a?m.$isTitleHidden=a:m.$labelPosition="top",h.push(m)}}}else{var g={$layoutType:"stack",$items:[]};if(n===!1)return $.smResolve(g);o=g.$items;for(var d in i){u=i[d];if(u.$isExcluded!==!0){var m={$bind:d};a&&(m.$isTitleHidden=a),o.push(m)}}}return r===!0?g:$.smResolve(g)}var r=e("syracuse-tablet/html/js/helpers/jsutils"),i=/representation=.*\.\$(\w+)[&]*/,s=function(e){var t=i.exec(e||"");return t!=null&&t.length==2?t[1]:null};t.genNewArticle=function(e,n){var i;return i=e.page.prototype,r.isInstanceOf(e.page,"DashboardPage")?t.generateDashboardArticle(i,e.orientation,e.template,n):o(i,e.orientation,e.template,n)},t.generateDashboardArticle=function(e,t,n,r){var i;e=$.isPlainObject(e)?e:e.json;var s=e.$properties;if(t==="horizontal"){i={$layoutType:"hub",$items:[{$layoutType:"hubGroup",$title:"",$items:[]}]};if(n===!1)return $.smResolve(i);Object.keys(s).forEach(function(e){var t=s[e];i.$items[0].$items.push({$layoutType:"tile",$size:"medium",$items:[{$bind:e}]})})}else{i={$layoutType:"stack",$items:[]};if(n===!1)return $.smResolve(i);var o=4,u;Object.keys(s).forEach(function(e){o===4&&(o=0,u={$layoutType:"row",$items:[]},i.$items.push(u));var t=s[e];u.$items.push({$layoutType:"cell",$widthXs:12,$widthSm:6,$widthMd:4,$widthLg:3,$items:[{$bind:e}]})})}return r===!0?i:$.smResolve(i)}}),define("syracuse-tablet/html/js/helpers/dashboardUtils",["require","exports","module","syracuse-tablet/html/js/helpers/prototype","syracuse-tablet/html/js/authoring/authoringArticleGen"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/prototype"),i=e("syracuse-tablet/html/js/authoring/authoringArticleGen"),s=function(e){var t={$title:e.$title,$description:e.$description,$properties:{}},n=Object.keys(e.$vignettes||[]);for(var i=0;i<n.length;i++){var s=n[i],o=$.extend({},e.$vignettes[s]),u=o.$uuid;o.$gadget=e.$gadgets[u],o.$gadget?(o.$gadget=$.extend({},o.$gadget),o.$gadget.$uuid=u,o.$uuid=s,o.$type="tablet/x-vignette",o.$title=o.$gadget.$title):(o.$gadget={$uuid:u,$type:"$gadgetMissing"},o.$uuid=s,o.$type="tablet/x-vignette"),t.$properties[s]=o}return r.create(t)},o=function(e){return i.generateDashboardArticle(e,"orientation")},u=function(e){return $.smResolve().then(function(){var t=e.$article,n=s(e);return t?{article:$.extend({},t),prototype:n}:o(n).then(function(t){return e.$article=t,{article:$.extend({},t),prototype:n}})})};t.getDashboardInfo=u,t.getDashboardArticle=o,t.getDashboardProto=s}),define("syracuse-tablet/html/js/application/appFactory",["require","exports","module","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/dashboardUtils","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/logger").getLogger("factory"),i=e("syracuse-tablet/html/js/helpers/globals"),s=e("syracuse-tablet/html/js/helpers/dashboardUtils"),o=e("syracuse-tablet/html/js/helpers/locale"),u={Application:function(){throw new Error("Not implemented")},DashoardPage:function(){throw new Error("Not implemented")},RegularPage:function(){throw new Error("Not implemented")},RowDetailPage:function(){throw new Error("Not implemented")},LookupPage:function(){throw new Error("Not implemented")},LoginPage:function(){throw new Error("Not implemented")},DaoApp:function(){throw new Error("Not implemented")},DaoSdata:function(){throw new Error("Not implemented")}},a=function(e){var n=new u.Application(e,t);return n.init(),r&&r("Application","Create ok"),n},f=function(e,t,n){var a=null,f=t.type,l=$.Deferred(),c={};try{switch(f){case"static":if(t.subtype!=="html")throw new Error("_createPage - unknown static subtype ["+t.subtype+"]");switch(t.name){case"login":a=new u.LoginPage(e,t,c);break;default:throw new Error("_createPage - unknown html page ["+t.name+"]")}break;case"dashboard":i.getMetaData().getDashboard(t.dashboardName).then(function(e){return s.getDashboardInfo(e)}).then(function(n){t.isWelcomePage===!0?a=new u.WelcomeDashoardPage(e,t,n.prototype,n.article,c):a=new u.DashoardPage(e,t,n.prototype,n.article,c),l.resolve(a)}).fail(function(e){l.reject(e)});break;case"regular":case"rowdetail":case"carddesign":i.getMetaData().getPageDetails(t).then(function(r){if(!r)return $.smReject({message:o.text("error.page.not.found",[t.name])});r.prototype.isLookup()?a=new u.LookupPage(e,t,r.prototype,r.article,c):f==="rowdetail"?a=new u.RowDetailPage(e,t,r.prototype,r.article,n,c):f==="regular"?a=new u.RegularPage(e,t,r.prototype,r.article,c):f==="carddesign"&&(a=new u.CardDesignPage(e,t,r.prototype,r.article,n,c)),l.resolve(a)}).fail(function(e){l.reject(e)});break;default:throw new Error("Unknown page type["+f+"]")}a&&l.resolve(a),r&&r("New Page","Create ok")}catch(h){l.reject(h)}finally{return l.promise()}},l=function(e){var t=new u.DaoApp(e);return r&&r("New DAO Application","Create ok"),t},c=function(e,t,n,i){var s;switch(e){case"representation":case"process":case"request":case"statistics":case"dashboardpage":case"externallink":s=new u.DaoSdata(t,n,i);break;default:throw new Error("Unknown DaoSdata type["+e+"]")}return r&&r("New DAO View","Create ok"),s};t.setImpl=function(e,t){u[e]=t},t.createApplication=a,t.createPage=f,t.createDaoApp=l,t.createDaoSdata=c}),define("syracuse-tablet/html/js/sdata/sdataUtils",["require","exports","module","syracuse-tablet/html/js/helpers/utils"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=["$isMandatory","$isReadOnly","$isHidden","$isExcluded","$isDisabled","$actions","$format"],s=/^(.*)\(\'(.*)\'\)$/i,o=function(e,t){var n=r.parseURL(e);if(n.query&&n.query.representation){n.representation=n.query.representation,n.facet=null;var i=n.representation.indexOf(".");i!=-1&&(n.facet=n.representation.substr(i+1),n.facet.charAt(0)=="$"&&(n.facet=n.facet.substr(1)),n.representation=n.representation.substr(0,i))}var o;if(n.directory){var u=n.directory.indexOf("/$services/");u>-1&&(n.$services=n.directory.substring(u+11)),o=n.directory.split("/")}if(o==null||o.length<=4){if(t===!0)return null;throw new Error("Bad sdata url:"+e)}n.dispatch=o[1];if(n.dispatch!=="mobile1"&&n.dispatch!=="sdata"){if(t===!0)return null;throw new Error("Bad sdata url:"+e)}n.application=o[2],n.contract=o[3],n.dataset=o[4];if(o.length===4)return n;var a=s.exec(o[5]);return a&&a.length==3?(n.entity=a[1],n.id=a[2],n.id&&n.id.trim().Length===0&&(n.id=null)):(n.entity=o[5],n.id=null),o.length===5?n:n},u=function(e,t,n){e=t?t.parseExpression(e):e;var i=o(e,n);if(i==null)return null;if(i.entity==="$mobileDashboards"){var s={page:i.query.dashboard+".$mobileDashboard"};return i.query.parameters&&(s.parameters=r.parseExpression(i.query.parameters,t)),s}if(i.query.representation){var u=i.application+"."+i.contract+"."+i.dataset,s={page:u+(i.query.representation?"."+i.query.representation:""),sDataUrl:e};return i.$services&&(s.$services=i.$services),s}if(n===!0)return null;throw new Error("getLinkInfo - Unexpected empty representaion in ul "+e)},a=function(e,t){typeof e=="string"&&(e=u(e,t));if(e.type==="navig")return'data-nav="'+e.page+'" data-sdata-url="'+encodeURIComponent(e.sDataUrl)+'"';if(e.type==="act")return'data-action="'+e.action+'" data-params="'+encodeURIComponent(e.params||"")+'"';throw new Error("_getLinkAttrs - unknonwn type\n"+e.type)},f=function(e){return e.$stackTrace&&e.$stackTrace.indexOf("node_modulessyracuse-x3")>=0&&(e.$message&&e.$stackTrace.indexOf(e.$message)>=0?delete e.$stackTrace:e.$stackTrace=e.$stackTrace.split("\n")[0]),e},l=function(e){var t=[],n=[],r=function(e,i,s){s||(s=[]);if(n.indexOf(e)>=0)return;if(Array.isArray(e))n.push(e),i&&s.push(i),e.forEach(function(e,t){r(e,t+"",s)}),i&&s.pop(i);else if($.isPlainObject(e)){n.push(e);for(var o in e)o==="$diagnoses"?e[o].forEach(function(e){var n=[].concat(s);i&&n.push(i),o&&n.push(o),e=f($.extend({},e)),e.$path=n.join("."),t.push(e)}):(i&&s.push(i),r(e[o],o,s),i&&s.pop(i))}};return e!=null&&r(e),t},c=function(e,t,n){n=n||{};var r=!0;t=t.value;var i=t.replace(/\{(\w*?)\}/g,function(e,t){var i=n[t];return i==null&&(r=!1),i!=null?i:""});return r&&(e=e+"&where="+i),e};t.parseSDataURL=o,t.getLinkInfo=u,t.getLinkAttrs=a,t.scanDiagnoses=l,t.addWhereClause=c}),define("syracuse-tablet/html/js/sdata/sdataHttp",["require","exports","module","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/ajax/ajax","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/logger").getLogger("sDataHttp"),i=e("syracuse-tablet/html/js/ajax/ajax").getAjax().ajax,s=e("syracuse-tablet/html/js/helpers/locale"),o={noJsonParsing:!0},u=function(e){var t=$.Deferred(),e=e||{};e.options=$.extend(e.options||{},o),e.headers=e.headers||{},e.headers["Accept-Language"]=s.getCurrentLocale();try{r&&r("_httpSend - Begin - Method:"+e.method+"\n	"+e.url),i(e.method,e.url,e.send,e.headers,e.options).then(function(e){r&&r("_httpSend - End - status="+e.status+" - "+e.textStatus);var n=e.responseText?e.responseText.trim():"";n.length>0&&["{","["].indexOf(n.charAt(0))>=0?e.responseJSON=JSON.parse(n):e.responseJSON=null,t.resolve(e)}).fail(function(e){t.reject(e)})}catch(n){t.reject(n)}return t.promise()};t.send=u}),define("syracuse-tablet/html/js/sdata/sdataCommonResources",["require","exports","module","syracuse-tablet/html/js/sdata/sdataUtils","syracuse-tablet/html/js/sdata/sdataHttp","syracuse-tablet/html/js/helpers/utils"],function(e,t,n){"use strict";function c(e,t,n){return t&&t.responseJSON&&t.responseJSON.$diagnoses?$.smReject({$title:e,$diagnoses:t.responseJSON.$diagnoses}):$.smReject({$title:e})}function h(e){function s(e){var o={method:"GET",url:e};o.parsedUrl=r.parseSDataURL(o.url),i.send(o).then(function(e){var r=e&&e.responseJSON;r&&r.$resources&&r.$resources.forEach(function(e){n.push(e)}),r&&r.$links&&r.$links.$next&&r.$links.$next.$url?s(r.$links.$next.$url):t.resolve(n)})}var t=$.Deferred(),n=[];return s(e),t.promise()}var r=e("syracuse-tablet/html/js/sdata/sdataUtils"),i=e("syracuse-tablet/html/js/sdata/sdataHttp"),s=e("syracuse-tablet/html/js/helpers/utils"),o="/sdata/syracuse/collaboration/syracuse/mobileApplications/$service/availableApplications",u="/sdata/syracuse/collaboration/syracuse/localePreferences?representation=localePreference.$bulk",a="/sdata/syracuse/collaboration/syracuse/userProfiles/$service/current",f="/sdata/syracuse/collaboration/syracuse/endPoints?representation=endPoint.$bulk",l="/sdata/syracuse/collaboration/syracuse/roles?representation=role.$bulk";t.queryAllApplications=function(){var e={method:"GET",url:o};return e.parsedUrl=r.parseSDataURL(e.url),i.send(e).then(function(t){if(t.isSuccess&&t.responseJSON){var n=t.responseJSON.$resources;return n}return c("Loading application list error",t,e.url)})},t.queryApplicationDetail=function(e){var t={method:"GET",url:e.$metaDataUrl};return t.parsedUrl=r.parseSDataURL(t.url),i.send(t).then(function(n){if(n.isSuccess&&n.responseJSON){var r=n.responseJSON;return r}return c("Error loading application details for '"+e.applicationName+"'",n,t.url)})},t.getUserProfile=function(){var e={method:"GET",url:a};return e.parsedUrl=r.parseSDataURL(e.url),i.send(e).then(function(t){if(t.isSuccess&&t.responseJSON){var n=t.responseJSON;return n}return c("Loading user profile error",t,e.url)})},t.queryLocalePreferences=function(){return h(u).then(function(e){var t=[];return e.forEach(function(e){t.push({$uuid:e.$uuid,code:e.code,description:e.description})}),t})},t.queryEndpoints=function(){return h(f)},t.queryRoles=function(){return h(l)},t.updateUserProfile=function(e){function t(){return $.smResolve().then(function(){var e=s.UUID(),t={method:"POST",url:"/sdata/syracuse/collaboration/syracuse/userProfiles/$template/$workingCopies?representation=userProfile.$edit&role=&trackingId="+e};return t.parsedUrl=r.parseSDataURL(t.url),i.send(t).then(function(e){return e.isSuccess&&e.responseJSON?$.smResolve(e.responseJSON):$.smReject()})})}function n(t){return $.smResolve().then(function(){var n=$.extend({},t,e),s={method:"PUT",url:t.$url,send:n};return s.parsedUrl=r.parseSDataURL(s.url),i.send(s).then(function(e){return e.isSuccess&&e.responseJSON?$.smResolve(e.responseJSON):$.smReject()})})}function o(e){return $.smResolve().then(function(){var t={method:"DELETE",url:e.$url};return t.parsedUrl=r.parseSDataURL(t.url),i.send(t).then(function(e){return $.smResolve()})})}return t().then(function(e){return n(e)}).then(function(e){return o(e).always(function(){return $.smResolve()})})}}),define("syracuse-tablet/html/js/helpers/base64",["require","exports","module"],function(e,t,n){"use strict";var r=t.Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t="",n,i,s,o,u,a,f,l=0;e=r._utf8_encode(e);while(l<e.length)n=e.charCodeAt(l++),i=e.charCodeAt(l++),s=e.charCodeAt(l++),o=n>>2,u=(n&3)<<4|i>>4,a=(i&15)<<2|s>>6,f=s&63,isNaN(i)?a=f=64:isNaN(s)&&(f=64),t=t+this._keyStr.charAt(o)+this._keyStr.charAt(u)+this._keyStr.charAt(a)+this._keyStr.charAt(f);return t},decode:function(e){var t="",n,i,s,o,u,a,f,l=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(l<e.length)o=this._keyStr.indexOf(e.charAt(l++)),u=this._keyStr.indexOf(e.charAt(l++)),a=this._keyStr.indexOf(e.charAt(l++)),f=this._keyStr.indexOf(e.charAt(l++)),n=o<<2|u>>4,i=(u&15)<<4|a>>2,s=(a&3)<<6|f,t+=String.fromCharCode(n),a!=64&&(t+=String.fromCharCode(i)),f!=64&&(t+=String.fromCharCode(s));return t=r._utf8_decode(t),t},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");var t="";for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(r&63|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(r&63|128))}return t},_utf8_decode:function(e){var t="",n=0,r,i,s,o=r=i=0;while(n<e.length)o=e.charCodeAt(n),o<128?(t+=String.fromCharCode(o),n++):o>191&&o<224?(i=e.charCodeAt(n+1),t+=String.fromCharCode((o&31)<<6|i&63),n+=2):(i=e.charCodeAt(n+1),s=e.charCodeAt(n+2),t+=String.fromCharCode((o&15)<<12|(i&63)<<6|s&63),n+=3);return t},raw_decode:function(e){var t="",n,r,i,s,o,u,a,f=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(f<e.length)s=this._keyStr.indexOf(e.charAt(f++)),o=this._keyStr.indexOf(e.charAt(f++)),u=this._keyStr.indexOf(e.charAt(f++)),a=this._keyStr.indexOf(e.charAt(f++)),n=s<<2|o>>4,r=(o&15)<<4|u>>2,i=(u&3)<<6|a,t+=String.fromCharCode(n),u!=64&&(t+=String.fromCharCode(r)),a!=64&&(t+=String.fromCharCode(i));return t}};t.encode=function(e){return r.encode(e)}}),define("syracuse-tablet/html/js/application/authentication",["require","exports","module","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/ajax/ajax","syracuse-tablet/html/js/sdata/sdataCommonResources","syracuse-tablet/html/js/helpers/base64"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/logger").getLogger("app"),i=e("syracuse-tablet/html/js/helpers/globals"),s=e("syracuse-tablet/html/js/ajax/ajax").getAjax().ajax,o=e("syracuse-tablet/html/js/sdata/sdataCommonResources"),u=e("syracuse-tablet/html/js/helpers/base64"),a={svcLogin:"/auth/login/submit",svcLogout:"/logout",userProfile:"/sdata/syracuse/collaboration/syracuse/userProfiles/$service/current"},f=function(){var e=new $.Deferred,t=function(t,n){r&&r(n||"Check login request rejected",t),e.reject(t)};try{return s("GET",a.userProfile,null,null,{dontCatchHttp401:!0}).then(function(t){t.status===200?e.resolve({authenticated:!0}):e.resolve(!1)}).fail(function(e){t(e)})}catch(n){t(n,"Check login request exception")}finally{return e.promise()}},l=function(e,t,n){var i=new $.Deferred,f=function(e,t){r&&r(t||"Login request rejected",e),i.reject(e)};try{var l="Basic "+u.encode(e+":"+t);return s("POST",a.svcLogin,null,{Authorization:l,accept:"application/json"}).then(function(e){if(e.status!==200&&e.status!==401&&e.status!==0)i.resolve(!1,null,"Httpstatus: "+e.status+(e.descrHttpStatus?"["+e.descrHttpStatus+"]":""));else if(e.status===0)i.resolve(!1,null,"Offline",!0);else try{var t=e.responseJSON.$diagnoses[0].$links.$redirect.$url;t==="/auth/login/page"?i.resolve(!1,null,"Httpstatus: "+e.status+(e.descrHttpStatus?"["+e.descrHttpStatus+"]":"")):o.getUserProfile().then(function(t){i.resolve(!0,t,"Httpstatus: "+e.status+(e.descrHttpStatus?"["+e.descrHttpStatus+"]":""))}).fail(function(e){f(e)})}catch(n){f(n)}}).fail(function(e){f(e)})}catch(c){f(c,"Do login request exception")}finally{return i.promise()}},c=function(){var e=new $.Deferred,t=function(t,n){r&&r(n||"Logout request rejected",t),e.reject(t)};try{var n=i.baseLocation().host+a.svcLogout;return s("GET",n,{device:"phone"}).then(function(t){var n,r="";t.isSuccess||(r="Httpstatus: "+t.status+(t.descrHttpStatus?"["+t.descrHttpStatus+"]":""));var i=t.responseJSON?t.responseJSON.$diagnoses:null;i&&i.forEach(function(e){r+=(r.lengthj>0?"\n":"")+e.$message}),e.resolve(t.isSuccess,r)}).fail(function(e){t(e)})}catch(o){t(o,"Do logout request exception")}finally{return e.promise()}},h=function(){window.location.href="/auth/sage-id/signOnStart"};t.check=f,t.login=l,t.logout=c,t.sageidsignin=h}),define("syracuse-tablet/html/js/application/eventListener",["require","exports","module","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/jsutils","syracuse-tablet/html/js/ui/modals/modal","syracuse-tablet/html/js/helpers/notifications"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/logger").getLogger("evts"),i=e("syracuse-tablet/html/js/helpers/globals"),s=e("syracuse-tablet/html/js/helpers/locale"),o=e("syracuse-tablet/html/js/helpers/utils"),u=e("syracuse-tablet/html/js/helpers/jsutils"),a=e("syracuse-tablet/html/js/ui/modals/modal"),f=e("syracuse-tablet/html/js/helpers/notifications"),l=function(e,t){var n=e.closest(".s-m-control"+(t||"")+"[id]");return n.length>0?c(n,"id"):null},c=function(e,t,n,i){var s=(e.attr(t)||"").trim();if(i===!0){s=decodeURIComponent(s);if(s.smStartsWith("{")&&s.smEndsWith("}"))try{var o=JSON.parse(s);return o}catch(u){r.console("Error reading JSON attribute "+t+"\n	"+s)}}return n&&s.length===0?null:s},h=function(e){var t=e.split("&"),n={};for(var r=0;r<t.length;r++){var i=t[r].split("=");n[i[0]]=i[1]}return n},p=function(e,t,n){if(!e.currentPage)throw new Error("No current page");var r=e.currentPage.getControl(t);if(r)return r;var s=n.closest("[data-controller-id]");if(s&&s.length>0){var o=s.attr("data-controller-id");s=i.getController(o),s&&(r=s.getControl(t))}if(r)return r;throw new Error("Control not found - ctrlid["+t+"]")},d=function(e,t,n,r){var u=i.getApplication(),f=function(e){var n=s.text("actions.error");e=e||{},e.stack=e.stack?e.stack+"\n---\n":"",e.stack=e.stack+"Action: "+t+"\nControl: "+(r||"?"),a.error(n,e)};try{var c="_act"+$.camelCase("-"+t),h;if(e){r||(r=l(e,".s-m-array"));if(r)h=p(u,r,e);else{var d=o.findParentVignette(e,!1);if(d)if(d[c])h=d;else{var v=d.getPage();v&&v[c]&&(h=v)}}}h==null&&u.currentPage[c]&&(h=u.currentPage),h==null&&(h=u);if(!h[c])throw new Error("Method ["+c+"] not found in object/application/current page)");var m=[];n&&typeof n=="string"?(n=n.split(","),n.forEach(function(e,t){m.push(e.trim())})):m.push(n),m.push(e),$.when(h[c].apply(h,m)).then(function(e){e&&e.page&&i.getApplication().changePage(e.page)}).fail(function(e){f(e)})}catch(g){f(g)}},v=function(e,t){var n=i.getApplication(),r={},s;s=c(e,"data-sdata-url"),s.length>0&&(r["sdata-url"]=decodeURIComponent(s)),s=c(e,"data-sdata-method"),s.length>0&&(r["sdata-method"]=decodeURIComponent(s)),s=c(e,"data-nav-type"),s.length>0&&(r.type=s),s=c(e,"data-parent-id"),s.length>0&&(r.parentId=s),s=c(e,"data-control-id"),s.length>0&&(r.controlId=s),s=c(e,"data-params",!1,!0),r.dataParams=s||"",s=c(e,"data-nav-target");var u;t&&(s==="vignette"?u=o.findParentVignette(t,!0):s!=="application"&&n.$config("openLinkInVignette")&&(u=o.findParentVignette(t,!1))),u||(u=n);var a=c(e,"data-nav-refresh");if(a==="true"){u.refreshPage(r);return}s=c(e,"data-application-name");var l;s.length>0&&(l=s);var p;s=c(e,"data-nav"),s.length>0&&(p=s);if(l&&!p){f.publish("sm.switch.app",l);return}l&&(r.applicationName=l),s=c(e,"data-gadget-id"),s.length>0&&(r["gadget-id"]=s),s=c(e,"data-sdata-parameters"),s&&s.length>0&&(r.sdataParameters=h(s)),s=c(e,"data-nav-noback"),r.noHistoryBack=s==="true",u.changePage(p,r)},m=function(e,t){var n=function(e){var t="_bindActions error";r&&r(t,e),a.error(t,e)};try{if(t.hasModalOpen()){r&&r("!!! Tries to execute an action data-action with a MODAL open.\nAction is skipped");return}var s=$(e.target),o=s.closest("[data-nav], [data-nav-refresh]");if(o.length>0){if(o.attr("data-disabled")!=null)return;v(o,s),e.stopPropagation();return}o=s.closest("[data-action]");if(o.length>0){if(o.attr("data-disabled")!=null)return;var u,f=c(o,"data-action");if(o.is("select"))u=$(this).val();else{if(f===i.ACTROWDETAIL||f===i.ACTROWDEL||f===i.ACTROWSEL||f===i.ACTCARDDESIGN)o=o.closest("."+i.RECORDCLASS);u=c(o,"data-params",!1,!0)}var l=c(o,"data-control-id",!0);d(s,f,u,l);return}}catch(h){n(h)}},g=function(e){if(!e.$$elmt)throw new Error("_bindActions - null $$elmt");var t=u.bindFn(m,null,e);e.$$elmt.on("click",":not(select)[data-nav], :not(select)[data-nav-refresh], :not(select)[data-action]",t),e.$$elmt.on("change","select[data-nav], select[data-nav-refresh], select[data-action]",t)},y=function(e){var t=function(e){var t="_bindControlEvents error";r&&r(t,e),a.error(t,e)},n=["click","blur","change"];n.forEach(function(n){e.$$elmt.on(n,".ctrl-evt-"+n,function(i){i.preventDefault(),i.stopPropagation();try{var s=$(i.target),o;s.hasClass("s-m-control")?o=c(s,"id"):(o=c(s,"data-control-id",!0),o||(o=l(s)));var u=p(e,o,s),a="on"+n.smCapitalize(),f=u.controller?u.controller.getEventListener(n):null;if(f&&f("before",u,s,i)===!0)return;if(!u[a]){r&&r("!!! Method["+a+"] not found - ctrlid["+o+"]");return}u[a](i),f&&f("after",u,s,i)}catch(h){t(h)}return})})},b=function(e){$(window).bind("popstate",function(t){var n=t.originalEvent.state;(n||/Firefox/.test(navigator.userAgent))&&e.historyPop(t)}),g(e),y(e),$(window).on("resize",i.getSiteLayout().updateLayout),$(window).on("resizeInternal",i.getSiteLayout().updateLayoutInternal)},w=function(e,t,n,r){window.setTimeout(function(){d(e,t,n,r)})},E=function(e,t){var n=function(e){var t=e;Object.keys(t).forEach(function(e){$.isPlainObject(t[e])&&(t[e]=JSON.stringify(t[e]))}),this.attr=function(e){return t[e]}};v(new n(t),e)},S=function(e,t){t=t||{},t["data-nav-refresh"]="true",E(e,t)};t.bindEvents=b,t.triggerAction=w,t.triggerNavigation=E,t.triggerRefreshPage=S}),define("syracuse-tablet/html/js/application/pageLoader",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/ui/modals/modal","syracuse-tablet/html/js/helpers/notifications","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/logger").getLogger("pageLoader"),s=e("syracuse-tablet/html/js/helpers/globals"),o=e("syracuse-tablet/html/js/ui/modals/modal"),u=e("syracuse-tablet/html/js/helpers/notifications"),a=e("syracuse-tablet/html/js/helpers/locale"),f=r.defineClass(function(e){this.callerInterface=e,this.factory=s.getApplication().factory},null,{destroy:function(){this.callerInterface=null,this.factory=null},load:function(e,t){var n=$.Deferred(),o=this,u=function(t){o.loading=!1,o.waitStop(),o.loadingError(n,e,t)},a=r.getTimeLine("pageLoader",e.name);a&&a.start();var f=function(r,i){o.loading=!1,o.waitStop(),r&&(t!==!0&&(e.options==null||e.options.noHistoryBack!==!0)&&o.historyPush(r.state),o.succeeded(r,i,t),a&&a.stop(r.isNew?"newPage":"existingPage")),n.resolve(r)};try{o.loading&&f(null),o.loading=!0;if(e===null||typeof e!="object")throw new Error("Bad state object");i&&i("_gotoPage","start","page: "+e.uuid);var l=o.getCurrentPage();if(l&&l.getProp("uuid")===e.uuid){i&&i("	Page is current -> Skip");return}var c=null,h=null;l&&l.isChild&&(c=l.getParentNotif()),o.waitStart();var p=$("#"+e.uuid).smPageController();if(p!=null){i&&i("	Page found in dom -> Activate");if(!p)throw new Error("Unexpected null page data");return p.isNew=!1,o._pageActivate(p,function(){a&&a.step("activated"),p.destroySiblings(),f(p,c)},t),n.promise()}var d=null,v=null;e.options&&e.options.parentId&&(v=s.getController(e.options.parentId)),o.factory.createPage(o.getRootElmt(),e,v).then(function(e){return a&&a.step("created"),p=e,p.isNew=!0,p.load()}).then(function(){a&&a.step("loaded"),p.isNew&&(!t&&p.isVignette&&l==null?d=o.savedCtxVignette():t&&(d=l?l.savedContext:null)),o._pageActivate(p,function(){a&&a.step("activated"),f(p,c)},t,d)}).fail(function(e){u(e)})}catch(m){u(m)}return n.promise()},_pageActivate:function(e,t,n,r){var i=this,s=i.getCurrentPage(),o=s&&(n===!0||s.getProp("cached")!==!0&&e.isChild!==!0);o&&n!==!0&&e.contextSave(s),e.activate(s,r,function(){i.setCurrentPage(s,e,o),t&&t()})},historyPush:function(e){this.callerInterface.historyPush(e)},waitStop:function(){this.callerInterface.waitStop()},waitStart:function(){this.callerInterface.waitStart()},getRootElmt:function(){return this.callerInterface.getRootElmt()},getCurrentPage:function(){return this.callerInterface.getCurrentPage()},savedCtxVignette:function(){var e=this.callerInterface.savedCtxVignette;return e?e():null},setCurrentPage:function(e,t,n){var r=this;e&&(n===!0?setTimeout(function(){e.destroy()}):e.deactivate()),r.callerInterface.setCurrentPage(t)},loadingError:function(e,t,n){this.callerInterface.loadingError?this.callerInterface.loadingError(e,t,n):o.error(a.text("error.page.loading"),n,function(){e.reject(n)})},succeeded:function(e,t,n){var r=this;u.publish("sm.page.loaded",r.getCurrentPage()),this.callerInterface.succeeded&&this.callerInterface.succeeded(e,t,n)}});t.Klass=f}),define("syracuse-tablet/html/js/ui/modals/modalSelectContext",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/ui/modals/modalDialog"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/locale"),s=e("syracuse-tablet/html/js/ui/modals/modalDialog"),o={header:'			<buttons class="pull-right"> 				<button type="button" class="btn btn-default s-m-modal-btn-validate" data-action="$validate"></button> 				<button type="button" class="btn btn-default s-m-modal-btn-cancel" data-action="$cancel"></button> 			</buttons> 			<div class="modal-title">{{title}}</div> 			',content:' 			<div class="s-m-scroll-wrapper s-m-scroll-wrapper-v">			<div class="s-m-scroll-element"> 				<div class="form-group"> 					<label>{{label_endpoints}}</label>					<select class="form-control" id="login-select-endpoint"> 					{{#each endpoints}}						<option value="{{this.application}}.{{this.contract}}.{{this.dataset}}" {{#if this.selected}}selected{{/if}}>						{{this.description}}						</option>					{{/each}}					</select>				</div> 				<div class="form-group"> 					<label>{{label_roles}}</label>					<select class="form-control" id="login-select-role"> 					{{#each roles}}						<option value="{{this.code}}" {{#if this.selected}}selected{{/if}}>						{{this.description}}						</option>					{{/each}}					</select>				</div> 				<div class="form-group"> 					<label>{{label_languages}}</label>					<select class="form-control" id="login-select-language"> 					{{#each languages}}						<option value="{{this.code}}" {{#if this.selected}}selected{{/if}}>						{{this.description}}						</option>					{{/each}}					</select>				</div> 				{{#if label_warning}}				<div class="alert alert-warning" role="alert">					{{label_warning}}				</div>				{{/if}}			</div> 			</div>',footer:'<button type="button" class="btn btn-default" data-action="logout">{{label_logout}}</button>'},u=r.defineClass(function(t,n,r,i,o){var u=this;s.ModalBase.call(u),u.initParam={context:t,endpoints:n,roles:r,languages:i,warn:o},u.result=null},s.ModalBase,{destroy:function(){s.ModalBase.prototype.destroy.call(this),this.initParam=null,this.result=null},_getTemplates:function(){var e=this;return{std:o}},getDisplayFlags:function(){var e=this,t=e.displayFlags||{};return e.deviceType==="tablet"?t.modalClass="config-tile half_right":t.modalClass="config-tile full",t},_getDataContext:function(){var e=this,t={title:i.text("modal.context.title"),label_endpoints:i.text("modal.context.endpoints"),endpoints:e.initParam.endpoints,label_roles:i.text("modal.context.roles"),roles:e.initParam.roles,label_languages:i.text("modal.context.languages"),languages:e.initParam.languages,label_logout:i.text("modal.context.logout"),label_ok:i.text("modal.context.ok"),label_cancel:i.text("modal.context.cancel"),label_warning:e.initParam.warn&&i.text("modal.context.warning")};return e.initParam.context&&(e.initParam.endpoints.forEach(function(t){t.application+"."+t.contract+"."+t.dataset===e.initParam.context.endpoint?t.selected=!0:t.selected=!1}),e.initParam.roles.forEach(function(t){t.code===e.initParam.context.role?t.selected=!0:t.selected=!1}),e.initParam.languages.forEach(function(t){t.code===e.initParam.context.language?t.selected=!0:t.selected=!1})),t},_onAction:function(e,t){var n=this;return e==="logout"?(n.result={action:"logout"},!0):!1},_onValidate:function(){var e=this,t=e.$$elmt.find("#login-select-endpoint").val(),n=e.$$elmt.find("#login-select-role").val(),r=e.$$elmt.find("#login-select-language").val();e.result={action:"ok",endpoint:t,role:n,language:r}},_onCancel:function(){var e=this;e.result={action:"cancel"}},_getResult:function(){var e=this;return e.result}});t.Modal=u}),define("syracuse-tablet/html/js/storage/localStorage",["require","exports","module","syracuse-tablet/html/js/helpers/logger"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/logger").getLogger("sessstorage"),i=null,s=function(){if(i!==null)return i;i=!1;try{window.localStorage.setItem("__test_availability__","__test_availability__"),i=!0}catch(e){}return i},o=function(e,t){if(!s()){r&&r("local.unsupported.getItem("+e+"):"+n);return}var n=window.localStorage.getItem(e);return r&&r("local.getItem("+e+"):"+n),!0===t&&a(e),n},u=function(e,t){if(!s()){r&&r("local.unsupported.setItem("+e+"):"+t);return}return r&&r("local.setItem("+e+"):"+t),window.localStorage.setItem(e,t)},a=function(e){if(!s()){r&&r("local.unspported.removeItem("+e+")");return}return r&&r("local.removeItem("+e+")"),window.localStorage.removeItem(e)};t.removeItem=a,t.setItem=u,t.getItem=o}),define("syracuse-tablet/html/js/init/initContext",["require","exports","module","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/ui/modals/modalSelectContext","syracuse-tablet/html/js/helpers/notifications","syracuse-tablet/html/js/sdata/sdataCommonResources","syracuse-tablet/html/js/storage/localStorage"],function(e,t,n){"use strict";function f(e){return $.smResolve().then(function(){var e=$.Deferred();return o.publish("sm.context.changed",e),e.promise()}).then(function(){}).fail(function(e){r.getModal().error("context._contextChanged error",e)})}function l(e,t,n,r,i){return u.getUserProfile().then(function(t){var s=!1,o={};return s=n.some(function(n){return n.application+"."+n.contract+"."+n.dataset===e.endpoint&&n.$uuid!==t.selectedEndpoint.$uuid?(o.selectedEndpoint={$uuid:n.$uuid},!0):!1})||s,s=r.forEach(function(n){return n.code===e.role&&n.$uuid!==t.selectedRole.$uuid?(o.selectedRole={$uuid:n.$uuid},!0):!1})||s,i.forEach(function(n){return n.code===e.languages&&n.$uuid!==t.selectedLocale.$uuid?(o.selectedLocale={$uuid:n.$uuid},!0):!1})||s,s?u.updateUserProfile(o).then(function(){return e}):$.smResolve(e)})}var r=e("syracuse-tablet/html/js/helpers/globals"),i=e("syracuse-tablet/html/js/helpers/locale"),s=e("syracuse-tablet/html/js/ui/modals/modalSelectContext"),o=e("syracuse-tablet/html/js/helpers/notifications"),u=e("syracuse-tablet/html/js/sdata/sdataCommonResources"),a=e("syracuse-tablet/html/js/storage/localStorage");t.getLastUsedContext=function(e){var t;try{var n=e+"_lastContext",r=a.getItem(n);r&&r.length>0&&(t=JSON.parse(r))}catch(i){}return t},t.setLastUsedContext=function(e,t){try{var n=e+"_lastContext",r=JSON.stringify(t);a.setItem(n,r)}catch(i){}},t.init=function(e,n){var o=[],a=[],c=[],h=r.getUserCtx(),p=h&&h.$user,d=r.getUserProfile(),v=t.getLastUsedContext(p);return u.queryEndpoints().then(function(e){return e.forEach(function(e){d.endpoints&&d.endpoints.some(function(t){return t.$uuid===e.$uuid})&&o.push(e)}),u.queryLocalePreferences()}).then(function(e){return c=e,u.queryRoles()}).then(function(e){e.forEach(function(e){d.roles&&d.roles.some(function(t){return t.$uuid===e.$uuid})&&a.push(e)})}).then(function(){var t=$.Deferred(),i=function(u){var f;if(e||u==null){var l=new s.Modal(u,o,a,c,n);f=l.show()}else u.action="ok",f=$.smResolve(u);f.then(function(n){n&&n.action==="ok"?t.resolve(n):n&&n.action==="cancel"?v==null?(e=!0,i(n)):t.resolve(null):n&&n.action==="logout"&&r.getApplication().logout().always(function(){t.resolve(null)})}).fail(function(e){t.reject(e)})};return i(v),t.promise()}).then(function(e){return e&&(i.setLocale(e.language),r.setEndpoint(e.endpoint),r.setUserCtx({$user:h.$user,$role:e.role,$lang:e.language})),e}).then(function(e){return e?(t.setLastUsedContext(p,e),f(e)):e}).then(function(e){return e?l(e,p,o,a,c):e}).fail(function(e){r.getModal().error("context.sdataCommonResources error",e)})}}),define("syracuse-tablet/html/js/sdata/entities/clientContract",["require","exports","module","syracuse-tablet/html/js/helpers/globals"],function(e,t,n){"use strict";function o(e,t,n){var r={$page:{},$cache:{}};return u(e,t,n,r.$page),r}function u(e,t,n,r){if(t==="$query"||t==="$lookup")r.$prototype={$properties:{$resources:{$type:"application/x-array",$item:a(e,t),$url:"{$baseUrl}/"+e+"('{$key}')?representation="+e+".$queryItem"}}},r.$prototype.$url="{$baseUrl}/"+e+"?representation="+e+"."+t,r.$prototype.$properties.$resources.$item.$key="{$uuid}",r.$prototype.$properties.$resources.$item.$value=n.$value,r.$prototype.$properties.$resources.$item.$links={$details:{$url:"{$baseUrl}/"+e+"('{$key}')?representation="+e+".$details",$title:"Details"},$edit:{$url:"{$baseUrl}/"+e+"('{$key}')?representation="+e+".$edit",$title:"Edit"}},r.$prototype.$links={$create:{$url:"{$baseUrl}/"+e+"('{$key}')?representation="+e+".$create",$title:"Create New"}},r.$prototype.$key="{$uuid}";else{r.$prototype=a(e,t),r.$prototype.$url="{$baseUrl}/"+e+"('{$key}')?representation="+e+"."+t,r.$prototype.$key="{$uuid}",r.$prototype.$links={};var i={$edit:{$url:"{$baseUrl}/"+e+"('{$key}')?representation="+e+".$edit",$title:"Edit"},$query:{$url:"{$baseUrl}/"+e+"?representation="+e+".$query",$title:"List"},$save:{$url:"{$baseUrl}/"+e+"('{$key}')?representation="+e+".$save",$title:"Save"},$details:{$url:"{$baseUrl}/"+e+"('{$key}')?representation="+e+".$details",$title:"Detail"}};switch(t){case"$create":r.$prototype.$links.$save=i.$save,r.$prototype.$links.$query=i.$query;break;case"$details":r.$prototype.$links.$edit=i.$edit,r.$prototype.$links.$query=i.$query;break;case"$edit":r.$prototype.$links.$save=i.$save,r.$prototype.$links.$details=i.$details,r.$prototype.$links.$query=i.$query;break;default:throw new Error(t?"facet "+t+" not handled yet":"No facet specified")}}var s=n.$articles&&n.$articles[t];s&&(r.$article=s),r.$prototype.$baseUrl="http://localhost:8124/mobile1/x3/erp/local",n.$prototype&&n.$prototype(r.$prototype,e,t)}function a(e,t){var n=i[e];if(!n)return null;var r={$properties:{}};return Object.keys(n.$properties).forEach(function(e){var t=n.$properties[e],i=t.$type||"application/x-string",o=r.$properties[e]={$type:i};for(var u=0;u<s.length;u++){var a=s[u],f=t[a];f&&(o[a]=f)}}),r}var r=e("syracuse-tablet/html/js/helpers/globals"),i={},s=["$title","$isExcluded","$isHidden","$isMandatory","$isReadOnly","$isDisabled","$format","$x3Format","$unit","$value","$shortTitle","$capabilities","$item","$minimum","$maximum","$exclusiveMinimum","$exclusiveMaximum","$minItems","$maxItems","$isNullable","$isUnique","$pattern","$minLength","$maxLength","$precision","$scale","$enum"];t.registerApp=function(e){r.getMetaData().registerStaticApp(e)},t.registerEntity=function(e){i[e.$entityName]=e},t.getEntity=function(e){return i[e]},t.getPageInfo=function(e,t){var n=e.split(".");n.length===5&&(n=n.slice(3,5));if(n[0].smStartsWith("QUERY~")){var r=n[0].split("~");n[0]=r[1]}var s=i[n[0]];if(!s)return null;var o={home:!1,type:"regular",subtype:n[1]?n[1].substring(1):"unknown",cached:!1,refreshed:!1,changeHash:!1};return o.name=e,o},t.getRegularPageInfo=function(e){var t=e.split(".");t.length===5&&(t=t.slice(3,5));if(t[0].smStartsWith("QUERY~")){var n=t[0].split("~");t[0]=n[1]}var r=i[t[0]],s;return r&&(s=o(t[0],t[1],r)),$.smResolve(s)},t.getPrototype=function(e,t){return a(e,t)}}),define("syracuse-tablet/html/js/application/pageRegistry",["require","exports","module","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/sdata/entities/clientContract","syracuse-tablet/html/js/application/gadget"],function(e,t,n){"use strict";function a(e,t,n){if(!n)throw new Error("_getPageInfoArrayChildPage - Not null currentPage expected");if(!n.getControl)throw new Error("_getPageInfoArrayChildPage - Unexpected currentPage object - getControl method not found");t=t||{};var r=n.getControl(t.controlId);if(!r)throw new Error("_getPageInfoArrayChildPage - Array not found - id:"+t.controlId);return r.childPageGetPageInfo(e,n)}function f(e,t,n,r){n=n||{},t.options=$.extend(!0,{},n),l(t,r)}function l(e,t){var n=e.options["gadget-id"];if(n){var r=t&&t.prototype&&t.prototype.json&&t.prototype.json.$properties;r&&Object.keys(r).some(function(t){var i=r[t];if(i&&i.$gadget&&i.$gadget.$uuid===n){var s=i.$gadget;return e.options.gadget=s?new o(s):null,!0}return!1})}}function c(e){var t={name:e,home:!1,type:"regular",subtype:"",cached:!1,refreshed:!1,changeHash:!1};return t}function h(e){if(!e.authoringName){var t=e.name.split("."),n;t.length===5?n=t[0]+"."+t[1]+"."+t[3]+"."+t[4]:n=e.name,t.length===2&&(n="syracuse.collaboration."+n),e.authoringName=n}}function p(){["login"].forEach(function(e){var t={name:e,type:"static",subtype:"html",cached:!1,refreshed:!1,changeHash:!1,home:!1,disableAuthoring:!0,isLogin:e==="login",$prototype:{$properties:{}},$article:{$layoutType:"stack",$items:[]}};u[e]=t})}var r=e("syracuse-tablet/html/js/helpers/globals"),i=e("syracuse-tablet/html/js/helpers/utils"),s=e("syracuse-tablet/html/js/sdata/entities/clientContract"),o=e("syracuse-tablet/html/js/application/gadget").Klass,u={};t.getPageInfo=function(e,t,n){return $.smResolve().then(function(){var t=u[e];return t}).then(function(n){return n||(n=s.getPageInfo(e,t)),n}).then(function(i){return e==="rowdetail"||e==="carddesign"?a(e,t,n):(i||(i=r.getMetaData().getPageInfo(e)),i)}).then(function(t){return t||(t=c(e)),h(t),t}).then(function(r){return f(e,r,t,n),r.uuid=i.readableuid("page",r.type,r.name),$.extend(!0,{},r)})},p()}),define("syracuse-tablet/html/js/authoring/authoringSData",["require","exports","module","syracuse-tablet/html/js/sdata/sdataHttp"],function(e,t,n){"use strict";function s(e,t){Object.keys(e).forEach(function(n){var r=e[n];n==="$diagnoses"?r.forEach(function(e){t.push(e)}):r&&typeof r=="object"&&s(r,t)})}var r=e("syracuse-tablet/html/js/sdata/sdataHttp"),i="mobile";t.getPageVariants=function(e){return $.smResolve().then(function(){e=$.extend(!0,{},{device:i},e);if(!e.application||!e.contract||!e.representation||!e.facet||!e.device)return $.smReject("Not all mandatory parameters present: "+JSON.stringify(e));var t=[e.application,e.contract,e.representation,e.facet,e.device].join("."),n={url:"/sdata/syracuse/collaboration/syracuse/pageDefs(code%20eq%20'"+t+"')?representation=pageDef.$details"};return r.send(n).then(function(e){return e&&e.isSuccess?e.responseJSON.variants||[]:e.status===404?[]:$.smReject("Unknown error")})})},t.deletePageVariants=function(e){return $.smResolve().then(function(){e=$.extend(!0,{},{device:i},e);if(!e.application||!e.contract||!e.representation||!e.facet||!e.device)return $.smReject("Not all mandatory parameters present: "+JSON.stringify(e));var t=[e.application,e.contract,e.representation,e.facet,e.device].join("."),n={url:"/sdata/syracuse/collaboration/syracuse/pageDefs(code%20eq%20'"+t+"')?representation=pageDef.$edit",method:"DELETE"};return r.send(n).then(function(e){if(e&&e.isSuccess)return;return $.smReject("Unknown error")})})},t.createPageDefinitionWC=function(e){var t={pageContext:[e.application,e.contract,e.representation,e.facet].join("."),device:i,representation:"pageAuth.$edit"},n="/sdata/syracuse/collaboration/syracuse/pageAuths"+(e.variant!=null?"('"+e.variant+"')":"/$template")+"/$workingCopies?"+Object.keys(t).map(function(e){return e+"="+t[e]}).join("&"),s={url:n,method:"POST"};return r.send(s).then(function(e){return e&&e.isSuccess?e.responseJSON:$.smReject("Unknown error")})},t.savePageDefinitionWC=function(e,t){var n={roles:e.roles,users:e.users,endpoints:e.endpoints,saveAsOption:e.saveAsOption,isFactory:!1,isModelRepresentation:!1,personalCopy:!1,variantCode:e.variantCode,variantTitle:e.variantTitle,variantDescription:e.variantDescription};switch(e.saveAsOption){case"factory_variant":n.isFactory=!0;break;case"personal_copy":n.personalCopy=!0;break;case"shared_copy":break;case"global_variant":}t.$actions={};var i;e.variant?(i=t.$actions.$save={},delete n.saveAsOption):i=t.$actions.saveAs={},i.$isRequested=!0,i.$parameters=n;var s={url:t.$url,method:"PUT",send:t};return r.send(s).then(function(e){return e&&e.isSuccess?e.responseJSON:$.smReject("Unknown error")})},t.savePageDefinition=function(e){return t.createPageDefinitionWC(e).then(function(n){var r=$.extend(!0,{},n);return r.content=r.content||{},r.content.$article=e.article,t.savePageDefinitionWC(e,r).then(function(e){var t=$.extend(!0,{},n,e),r=[];return s(t,r),{data:t,diags:r}}).fail(function(e){return $.smReject({data:null,diags:[{$severity:"error",$message:""+e}]})})})}}),define("syracuse-tablet/html/js/authoring/authoringHtml",["require","exports","module"],function(e,t,n){"use strict";function s(e){var t=i[e];if(t)return t;var n=r[e];return t=Handlebars.compile(n),i[e]=t,t}var r={authPanelHeader:'		<div class="btn-group"> 			<div class="btn-group"> 				<button class="btn btn-auth-header" id="s-m-auth-settings-id" type="button"><label class="glyphicon glyphicon-cog"></label>{{label_settings}}</button> 			</div> 						<div class="btn-group" data-toggle="buttons" id="s-m-auth-orientation-id"> 				<button class="btn btn-auth-header active" id="s-m-auth-vertical-id" data-auth-orientation="portrait" title="{{label_preview_portrait}}"> 					<input type="radio" name="orientation" checked> 					<label class="glyphicon glyphicon-resize-vertical"></label> 				</button> 				<button class="btn btn-auth-header" id="s-m-auth-horizontal-id" data-auth-orientation="landscape" title="{{label_preview_landscape}}"> 					<input type="radio" name="orientation"> 					<label class="glyphicon glyphicon-resize-horizontal"></label> 				</button> 			</div> 						<div class="btn-group"> 				<button class="btn btn-auth-header" id="s-m-auth-scale-id" type="button" title="{{label_scale_to_fit}}"><label class="glyphicon glyphicon-fullscreen"></button> 			</div> 		</div> 		<div class="btn-group"> 			<button class="btn btn-auth-header" id="s-m-auth-new-layout-id" type="button"><label class="glyphicon glyphicon-blackboard"></label>{{label_new_layout}}</button> 			<button class="btn btn-auth-header" id="s-m-auth-remove-all-id" type="button"><label class="glyphicon glyphicon-erase"></label>{{label_remove_all}}</button> 			<button class="btn btn-auth-header disabled" id="s-m-auth-remove-id" type="button"><label class="glyphicon glyphicon-trash"></label>{{label_remove}}</button> 			<button class="btn btn-auth-header disabled" id="s-m-auth-remove-cnt-id" type="button"><label class="glyphicon glyphicon-erase"></label>{{label_remove_container}}</button> 		</div> 		<div class="btn-group pull-right"> 			<div class="btn-group "> 				<button id="auth-btn-save-id"  class="btn btn-auth-header" type="button"><label class="glyphicon glyphicon-ok"></label></button> 				<button id="auth-btn-close-id" class="btn btn-danger" type="button"><label class="glyphicon glyphicon-remove"></label></button> 			</div> 		</div>',authPanelFooter:'		<div class="btn-group"> 		</div>',authPanelRightStructure:'		<div class="s-m-site-auth-panel-content"> 			<header id="authPanelControlType">{{label_control}}</header> 			<p class="form-control-static" id="authPanelControlTitle"> </p> 			<div id="authPanelControl" class="tab-pane panel-body active"> 				<div id="authPanelControlSimple"> 				</div> 			</div> 		</div>',authPanelLeftStructure:'		<div class="s-m-site-auth-panel-content"> 			<ul class="nav nav-pills" role="tablist"> 				<li class="active"><a aria-expanded="true" href="#s-m-auth-tree-box" role="tab" data-toggle="tab">{{label_content}}</a></li> 				<li><a href="#s-m-auth-insert-box" role="tab" data-toggle="tab">{{label_insert}}</a></li> 			</ul> 			<div class="tab-content"> 				<div id="s-m-auth-tree-box" class="tab-pane active"> 					<ul class="s-m-auth-tree" id="auth-structure-root-id"></ul> 				</div> 				<div id="s-m-auth-insert-box" class="tab-pane"> 					<div class="panel panel-primary s-m-panel-auth-prop"> 						<div class="panel-heading" role="tab" id="auth-lp-cnt-containers-header"> 							<a data-toggle="collapse" data-parent="#accordion" href="#auth-lp-cnt-containers-clpse" 								aria-expanded="true" aria-controls="auth-lp-cnt-containers-clpse" 								<h4 class="panel-title"> 									{{label_containers}}								</h4> 							</a> 						</div> 						<div id="auth-lp-cnt-containers-clpse" class="panel-collapse collapse in" 							role="tabpanel" aria-labelledby="auth-lp-cnt-containers-header"> 							<label>{{lab_drag_to_add}}</label><br> 							<div class="s-m-auth-btn-container s-m-draggable fa fa-th" data-auth-bind="group" title="{{lab_group}}" data-auth-drag-action="add_layout"></div> 							<div class="s-m-auth-btn-container s-m-draggable fa fa-square-o" data-auth-bind="tile" title="{{lab_tile}}" data-auth-drag-action="add_layout"></div> 							<div class="s-m-auth-btn-container s-m-draggable fa fa-bars" data-auth-bind="stack" title="{{lab_stack}}" data-auth-drag-action="add_layout"></div> 						</div> 					</div> 					<div class="panel panel-primary s-m-panel-auth-prop"> 						<div class="panel-heading" role="tab" id="auth-lp-cnt-props-header"> 							<a data-toggle="collapse" data-parent="#accordion" href="#auth-lp-cnt-props-clpse" 								aria-expanded="true" aria-controls="auth-lp-cnt-props-clpse">								<h4 class="panel-title"> 									{{label_fields}}								</h4> 							</a> 						</div> 						<div id="auth-lp-cnt-props-clpse" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="auth-lp-cnt-props-header"> 						</div> 					</div> 				</div> 			</div> 		</div>',authPanelPropertyGroup:' 		<div class="panel panel-primary s-m-panel-auth-prop s-m-auth-prop-type-{{type}}"> 			<div class="panel-heading" role="tab" id="heading_{{id}}"> 				<a data-toggle="collapse" data-parent="#{{#if parentId}}{{parentId}}{{/if}}{{#unless parentId}}accordion{{/unless}}" href="#collapse_{{id}}" {{#if expanded}} aria-expanded="true"{{/if}} aria-controls="collapse_{{id}}" {{#unless expanded}}class="collapsed"{{/unless}}>					<h4 class="panel-title"> 						{{label}}					</h4> 				</a> 			</div> 			<div id="collapse_{{id}}" class="panel-collapse collapse {{#if expanded}}in{{/if}}" role="tabpanel" aria-labelledby="heading_{{id}}"> 			</div> 		</div>',authPanelPropertySeperator:' 		<div class="auth-group-seperator"></div> 		',authPanelPropertyRadio:' 		<div class="btn-group" data-toggle="buttons" style="width: 100%;"> 			{{#each options}} 				<div class="btn-group" style="width: 100%; display: {{this.display}};" id="{{this.id}}"> 					<label class="s-m-auth-btn-radio-icon s-m-auth-btn-block" id="{{this.id}}_lab" data-s-m-auth-value="{{this.value}}"> 						<input type="radio" name="{{group}}" id="{{this.id}}">{{this.label}} 					</label> 				</div> 			{{/each}} 		</div>',authPanelPropertyRadioColor:' 		<div class="btn-group" data-toggle="buttons" style="width: 100%;"> 			{{#each options}} 				<div class="btn-group"> 					<label class="auth-btn-color s-m-bg-{{color}}" id="{{this.id}}_lab" data-s-m-auth-value="{{this.value}}"> 						<input type="radio" name="{{group}}" id="{{this.id}}"> 					</label> 				</div> 			{{/each}} 		</div>',authPanelPropertyInput:' 			<div class="form-group"> 				<input class="form-control" id="{{id}}" value="{{value}}" /> 			</div>',authPanelSliderStep:' 		<div class="form-group"> 			<section style="padding-left:10px;padding-right:10px;">				<input id="{{id}}" type="text" data-slider-min="{{min}}" data-slider-max="{{max}}" data-slider-step="{{step}}"  data-slider-value="{{value}}" data-slider-orientation="horizontal" data-slider-tooltip="hide">				{{#if displayValue}}<span class="s-m-slider-value">{{#if valText}}{{valText}}{{/if}}{{#unless valText}}{{value}}{{/unless}}</span>{{/if}}			</section>		</div>',authPanelGaugeSlider:'		<div class="form-group s-m-auth-g-slider"> 			<section>				<input id="{{id}}" type="text" data-slider-min="{{min}}" data-slider-max="{{max}}" data-slider-step="{{step}}"  data-slider-value="{{value}}" data-slider-orientation="horizontal" data-slider-tooltip="hide" class="s-m-auth-g-range">				<span id="{{id}}SliderVal">{{value}}</span>			</section>		</div>	',authPanelPropertyCellSize:' 		{{#each sizes}} 			<label class="{{class}} auth-size-device-header" style="width: 100%">{{this.label}}</label> 			<div class="btn-group" data-toggle="buttons" style="width: 100%;"> 				{{#each ../values}} 					<div class="btn-group"> 						<label class="auth-btn-size-sel" id="{{this.id}}_lab" data-s-m-auth-prop="{{../this.prop}}" data-s-m-auth-value="{{this}}"> 							<input type="radio" name="{{group}}" id="{{../this.prop}}={{this}}">{{this}} 						</label> 					</div> 				{{/each}} 			</div> 		{{/each}}',authPanelPropertyJSON:' 			<div class="form-group"> 				<textarea class="form-control" id="{{id}}" rows="10">{{value}}</textarea> 				<button class="btn btn-default pull-right" data-action="authJsonApply">{{label_apply}}</button> 			</div><div style="clear: both;"></div>',authPanelPropertyPROTOTYPE:' 			<div class="form-group"> 				<textarea readonly class="form-control" id="{{id}}" rows="10">{{value}}</textarea> 			</div>',authPanelPropertyGBorderValues:'		<div class="form-group">			<p class="s-m-auth-g-borders-tip">{{label_tip}}</p>			<label>{{label_min}}</label>			{{{markupMin}}}			<label>{{label_max}}</label>			{{{markupMax}}}			<button class="btn btn-default btn-block" style="margin-top:5%;">{{label_apply}}</button> 		</div>	',authPanelPropertyGSegmentsNumber:'		<div class="form-group">			{{{value}}} 			<button class="btn btn-default btn-block" style="margin-top:5%;">{{label_apply}}</button> 		</div>	',gaugeBorderInput:'		<textarea class="form-control" id={{id}} rows="1">{{value}}</textarea>	',gaugeSelect:'		<select id={{id}} style="color:black;" class="form-control">			{{#each options}}				<option value="{{option_value}}" {{#if selected}}selected=true{{/if}}>{{option_value}}</option>			{{/each}}		</select>	',gaugeSegment:'		<div id="{{id}}" class="s-m-auth-seg-slot">			<div class="s-m-g-seg-info-block">				<div class="s-m-g-seg-label">					<label>{{label_valstart}}</label>				</div>				<div class="s-m-g-seg-value">					<input type="text" class="form-control" value="{{value_valstart}}" id="{{id}}-valstart">				</div>			</div>			<div class="s-m-g-seg-info-block">				<div class="s-m-g-seg-label">					<label>{{label_valend}}</label>				</div>				<div class="s-m-g-seg-value">					<input type="text" class="form-control" value="{{value_valend}}" id="{{id}}-valend">				</div>			</div>			<div class="s-m-g-seg-info-block">				<div class="s-m-g-seg-label">					<label>{{label_propstart}}</label>				</div>				<div class="s-m-g-seg-value">					{{{value_propstart}}}				</div>			</div>			<div class="s-m-g-seg-info-block">				<div class="s-m-g-seg-label">					<label>{{label_propend}}</label>				</div>				<div class="s-m-g-seg-value">					{{{value_propend}}}				</div>			</div>			<div class="s-m-g-seg-info-block">				<div class="s-m-g-seg-label">					<label>{{label_color}}</label>				</div>				<div class="s-m-g-seg-value">					<input type="text" class="form-control" value="{{value_color}}" id="{{id}}-color">				</div>			</div>		</div>	',authPanelButton:'		<div class="s-m-auth-g-apply-slot">			<button class="btn btn-default btn-block {{css}}" style="margin-top:5%;">{{label}}</button> 		</div>	'},i={};t.execute=function(e,t){var n=s(e);return n(t)}}),define("syracuse-tablet/html/js/authoring/authoringVal",["require","exports","module","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/ui/modals/modal"],function(e,t,n){"use strict";function s(e,t,n){var r=[];try{u(e,null,t,n,r)}catch(i){r.push(i.message)}return r}function u(e,t,n,r,i){Object.keys(o).forEach(function(s){n[s]!==undefined&&o[s](e,t,n,s,r,i)});var s;n.$items?s=n.$items:n.$article&&(s=[n.$article]),s&&s.forEach(function(t){u(e,n,t,r,i)})}function a(e,t,n,i,s,o){var u=n.$layoutType,a=t&&t.$layoutType,f=["stack","row","cell","hub","hubGroup","tile"];if(f.indexOf(u)<0){o.push(r.text("auth.err.unknown.layout",[u]));return}if(!e)return;switch(u){case"hub":t!=null&&o.push(r.text("auth.err.hub.notroot"));break;case"hubGroup":a!="hub"&&o.push(r.text("auth.err.hubgroup.nohub"));break;case"tile":a!="hubGroup"&&o.push(r.text("auth.err.tile.nohubgroup"))}}function f(e,t,n,i,s,o){var u=n[i],a=s.tileColor.values.map(function(e){return e.value});a.indexOf(u)<0&&o.push(r.text("auth.err.bgColor",[i,a.join(", "),u]))}function l(e,t,n,i,s,o){var u=+n[i];u>=1&&u<=12||o.push(r.text("auth.err.cellSize",[i,u]))}function c(e,t,n,i,s,o){var u=n[i],a=s.tileSize.values.map(function(e){return e.value});a.indexOf(u)<0&&o.push(r.text("auth.err.tileSize",[a.join(", "),u]))}var r=e("syracuse-tablet/html/js/helpers/locale"),i=e("syracuse-tablet/html/js/ui/modals/modal");t.validateJSON=function(e,t,n){var o;try{if($.isPlainObject(t))o=t;else{if(!(t!=null&&t.length>0))throw new Error("Unexpected bad JSONtext");o=JSON.parse(t)}var u=s(e,o,n);if(!(u.length>0))return o;var a="\n"+u.join("\n");i.error(r.text("auth.panel.save_error_title"),{message:r.text("auth.panel.save_error_json"),detail:a})}catch(f){i.error(r.text("auth.panel.save_error_title"),{message:r.text("auth.panel.save_error_json"),detail:f})}},t.toSortedJSON=function(e){var t=function(){var e=this,t={},n,r;return Object.keys(e).forEach(function(i){e.hasOwnProperty(i)&&(i==="$items"?n=e[i]:i==="$article"?r=e[i]:i!=="toJSON"&&(t[i]=e[i]))}),r&&(t.$article=r),n&&(t.$items=n),e.toJSON&&delete e.toJSON,t.toJSON&&delete t.toJSON,t};JSON.stringify(e,function(n,r){return $.isPlainObject(r)&&(r.toJSON=t),r});var n=JSON.stringify(e,null," ");return n};var o={$layoutType:a,$bgColor:f,$size:c,$widthXs:l,$widthSm:l,$widthMd:l,$widthLg:l}}),define("syracuse-tablet/html/js/authoring/authoringPropertiesGeneral",["require","exports","module","syracuse-tablet/html/js/authoring/authoringHtml","syracuse-tablet/html/js/authoring/authoringVal","syracuse-tablet/html/js/helpers/notifications","syracuse-tablet/html/js/ui/modals/modal","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){"use strict";function f(e,t,n,o){var f=i.toSortedJSON(o.articlePage),l=r.execute("authPanelPropertyJSON",{id:"auth_opt_"+t.name,value:f,label_apply:u.text("auth.panel.label_apply")}),c=$(l),h=function(e){var t=i.validateJSON(!0,e,a);if(t){var n=i.toSortedJSON(t);s.publish(["sm.auth.change.prop.ui"],n)}};$("button",c).click(function(){h($("textarea",c).val())}),e.append(c)}function l(e,t,n,i){var s=i.control&&i.control.prototype&&i.control.prototype.json;s?s=JSON.stringify(s,null," "):s=u.text("auth.PROTOTYPE_NONE");var o=r.execute("authPanelPropertyPROTOTYPE",{id:"auth_opt_"+t.name,value:s}),a=$(o);e.append(a)}function d(e,t,n){var r=n.articleSelection&&n.articleSelection[e.key];return r=r!=null?r:e["default"],r}function v(e,t,n,r){n.articleSelection[e.key]=r}function m(e,t,n){var r=$("textarea#auth_opt_JSON");r.val(i.toSortedJSON(n.articleSelection)),s.publish(["sm.auth.change.item.prop.ui"],n)}function g(e,t,n,i){var s={group:"auth_opt_"+t.name,options:[]},o=d(t,n,i),u=!0;t.values.forEach(function(e){s.options.push({id:s.group+"_"+e.value,value:""+e.value,label:e.label,display:e.isHidden?"none":"block"}),u=u&&e.isHidden});var a=r.execute("authPanelPropertyRadio",s),f=$(a);$("label[data-s-m-auth-value='"+(""+o)+"']",f).eq(0).button("toggle"),$("label",f).on("click",function(r){var s=$(r.currentTarget),o=s.attr("data-s-m-auth-value");s.eq(0).button("toggle"),o==="true"?o=!0:o==="false"&&(o=!1),v(t,n,i,o),m(e,n,i)}),e.append(f),u?e.parent(".s-m-panel-auth-prop").hide():e.parent(".s-m-panel-auth-prop").show()}function y(e,t,n,r){var i=!0;t.values.forEach(function(n){var r="auth_opt_"+t.name+"_"+n.value,s=$("#"+r,e),o=n.isHidden?"none":"block";s.css("display",o),i=i&&n.isHidden}),i?e.parent(".s-m-panel-auth-prop").hide():e.parent(".s-m-panel-auth-prop").show()}var r=e("syracuse-tablet/html/js/authoring/authoringHtml"),i=e("syracuse-tablet/html/js/authoring/authoringVal"),s=e("syracuse-tablet/html/js/helpers/notifications"),o=e("syracuse-tablet/html/js/ui/modals/modal"),u=e("syracuse-tablet/html/js/helpers/locale"),a={SEPARATOR:{isSeparatror:!0},JSON:{key:"$JSON",createMarkup:f,type:"expert"},PROTOTYPE:{key:"$PROTOYPE",createMarkup:l,type:"expert"}},c=function(e){var t="auth",n=t+"."+e.name;e.label==null&&(e.label=u.text(n)),e.values&&e.values.forEach(function(t,r){if($.isPlainObject(t)){var i=n+"."+(""+t.value);t.label==null&&(t.label=u.text(i))}else e.values[r]={label:t+"",valu:t}})},h=function(e,t){var n="auth";Object.keys(e).forEach(function(n){var r=e[n];t&&(t[n]=r);if(typeof r=="function")return;r.name=n,c(r)})},p=function(e,t){return o.error(e,t),!0};t.properties=a,t.err=p,t.createMarkupRadio=g,t.refreshMarkupRadio=y,t.getValueOrDefault=d,t.setValue=v,t.notifyChangePropUI=m,t.initProperties=h,t.initProperty=c,t.getModuleProperties=function(e,t,n,r,i){n.push(a.SEPARATOR),e.hasClass("s-m-page")&&n.push(a.JSON),i&&i.control&&i.control.prototype&&n.push(a.PROTOTYPE)},t.initModuleProperties=function(e){t.initProperties(a,e)}}),define("syracuse-tablet/html/js/authoring/authoringComponents",["require","exports","module","syracuse-tablet/html/js/helpers/jsutils"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/jsutils"),i={genericSlider:'		<div class="form-group" {{#if margin}}style="margin-bottom:{{margin}}px;"{{/if}}> 			<section style="padding-left:10px;padding-right:10px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis">				<input id="{{id}}" type="text" data-slider-min="{{min}}" data-slider-max="{{max}}" data-slider-step="{{step}}"  data-slider-value="{{value}}" data-slider-orientation="horizontal" data-slider-tooltip="hide">				{{#if displayValue}}<p class="s-m-slider-value">{{#if valText}}{{valText}}{{/if}}{{#unless valText}}{{value}}{{/unless}}</p>{{/if}}			</section>		</div>',flatRadio:'		<div class="btn-group" style="margin-bottom:10px;" data-toggle="buttons">			{{#each btns}}				<label class="btn btn-primary">					<input type="radio" autocomplete="off" value="{{value}}">					{{title}}				</label>			{{/each}}		</div>',select:'		<div style="position:relative;{{#if margin}}margin-bottom:{{margin}}px;{{/if}}">		  <select class="selectpicker"  data-width="100%">		  	{{#each options}}		     	<option value="{{value}}">{{title}}</option>			{{/each}}		  </select>		</div>',actionBtns:'		<div style="text-align:center;">			<div class="btn-group" role="group" style="margin-bottom:10px;">				{{#each btns}}					<button type="button" class="btn btn-default" value="{{value}}">{{title}}</button>				{{/each}}			</div>		</div>'},s=function(e,t){var n=e+"compiled",r=i[n];return r||(r=i[e],r=i[n]=Handlebars.compile(r)),r(t)},o={select:function(e,t){if(!e||!e.options||e.options.length===0||!e.onChange)return;e.value==null&&(e.value=Object.keys(e.options)[0]),this.name=t||"select",this.options=e,this.createMarkup=function(t){return this.$$panel=$(s("select",{options:e.options})).appendTo(t),this.$$select=this.$$panel.find("select"),this.$$select.selectpicker(),this.$$select.selectpicker("val",e.value),this.$$select.on("change",r.bindFn(this.onChange,this)),this.$$panel},this.onChange=function(e){this.options.onChange(e,this)},this.destroyMarkup=function(){this.options.onChange=null,this.options=null,this.$$select&&(this.$$select.off(),this.$$select.selectpicker("destroy"),this.$$select=null)}},flatRadio:function(e,t){this.name=t||"flatRadio",this.options=e,this.createMarkup=function(e){return this.$$panel=$(s("flatRadio",{btns:this.options.btns})).appendTo(e).on("change","input",this.options.onClick),this.$$panel.find('input[value="'+this.options.value+'"]').parent().button("toggle"),this.$$panel},this.destroyMarkup=function(){this.options.onClick=null,this.options=null,this.$$panel&&(this.$$panel.off(),this.$$panel=null)}},actionBtns:function(e,t){this.name=t||"actionBtns",this.options=e,this.createMarkup=function(e){return this.$$panel=$(s("actionBtns",{btns:this.options.btns})).on("click",this.options.onClick).appendTo(e),this.$$panel},this.destroyMarkup=function(){this.options.onClick=null,this.options=null,this.$$panel&&(this.$$panel.off(),this.$$panel=null)}},genericSlider:function(e,t){this.name=t||"genericSlider",this.options=e,this.label=e.label,this.createMarkup=function(e){var t=this.options.displayValue||this.options.slideHandler!=null;this.$$panel=$(s("genericSlider",{value:this.options.value,min:this.options.min,max:this.options.max,step:this.options.step||1,valText:this.options.value!=null?this.options.slideHandler?this.options.slideHandler(this.options.value,this):this.options.value:"",displayValue:t,margin:this.options.margin+""})),e.append(this.$$panel),this.$$textValue=$(".s-m-slider-value",this.$$panel),this.$$slider=$("input",this.$$panel).slider({}),t&&this.$$slider.on("slide",r.bindFn(this.onSlider,this,"slide")),this.options.stopHandler&&this.$$slider.on("slideStop",r.bindFn(this.onSlider,this,"stop")),this.options.startHandler&&this.$$slider.on("slideStart",r.bindFn(this.onSlider,this,"start")),t==="above"&&this.$$panel.find(".s-m-slider-value").detach().prependTo(this.$$panel.find("section"))},this.destroyMarkup=function(){this.options.startHandler=null,this.options.stopHandler=null,this.options.slideHandler=null,this.options=null,this.$$slider&&(this.$$slider.off(),this.$$slider.slider("destroy"),this.$$slider=null),this.$$panel&&this.$$panel.remove()},this.onSlider=function(e,t){if(t==="start"){this.options.startHandler(e.value,this);return}if(t==="slide"){this.$$textValue.text(this.options.slideHandler?this.options.slideHandler(e.value,this):e.value);return}if(t==="stop"){this.options.value!=e.value&&(this.options.value=e.value,this.options.stopHandler(e.value,this));return}},this.update=function(e){if(!e)return;e.min!=null&&this.$$slider.slider("setAttribute","min",e.min),e.max!=null&&this.$$slider.slider("setAttribute","max",e.max),e.step!=null&&this.$$slider.slider("setAttribute","step",e.step),e.value!=null&&(this.$$slider.slider("setValue",e.value),this.$$textValue.text(this.options.slideHandler?this.options.slideHandler(e.value):e.value))}}};t.newComponent=function(e,t,n){var r=o[e];if(!r)throw new Error("Unknown authoring component ["+e+"]");return new r(t,n)}}),define("syracuse-tablet/html/js/authoring/authoringPropertiesArrays",["require","exports","module","syracuse-tablet/html/js/authoring/authoringPropertiesGeneral","syracuse-tablet/html/js/authoring/authoringComponents","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/helpers/jsutils","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/application/eventListener"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/authoring/authoringPropertiesGeneral"),i=e("syracuse-tablet/html/js/authoring/authoringComponents"),s=e("syracuse-tablet/html/js/helpers/locale"),o=e("syracuse-tablet/html/js/helpers/jsutils"),u=e("syracuse-tablet/html/js/helpers/utils"),a=e("syracuse-tablet/html/js/application/eventListener"),f=50,l=20,c=20,h={subtitle:'		<section {{#if id}}id="{{id}}"{{/if}} style="{{#if notHidden}}overflow:hidden;{{/if}}white-space:nowrap;text-overflow:ellipsis;{{#if margin}}margin-bottom:{{margin}}px;{{/if}}">			{{#if title}}<p>{{title}}</p>{{/if}}			<div></div>		</section>',subPropTitle:' 		<div class="panel panel-primary s-m-panel-auth-prop s-m-auth-prop-type-{{type}}"> 			<div style="overflow:hidden;" class="panel-heading" role="tab" id="heading_{{id}}"> 				<a style="width:100%;display:table;" data-toggle="collapse" data-parent="#{{#if parentId}}{{parentId}}{{/if}}{{#unless parentId}}accordion{{/unless}}" href="#collapse_{{id}}" {{#if expanded}} aria-expanded="true"{{/if}} aria-controls="collapse_{{id}}" {{#unless expanded}}class="collapsed"{{/unless}}>					<div style="display:table-row;white-space: nowrap;">						<h4 class="panel-title" style="display:table-cell;"> 							{{label}}						</h4> 						{{#if info}}<span style="padding-left: 10px;font-size:x-small;display:table-cell;text-align: right;"><i>{{info}}</i></span>{{/if}}					</div>				</a> 			</div> 			<div id="collapse_{{id}}" class="panel-collapse collapse {{#if expanded}}in{{/if}}" role="tabpanel" aria-labelledby="heading_{{id}}"> 			</div> 		</div>'},p={arrayTableColumn:function(e,t){this.name="arrayTableColumn",this.label=t.$title||t.$bind,this.parent=e,this.colInfo=t;if(e.isSingleArray||!this.colInfo.$widthType)this.colInfo.$widthType="auto";this._myProperties=[],this.createMarkup=function(t){this.$$parent=t,e.isSingleArray||(this.colNameChoiceAdd(),this.colWidthTypeAdd(),this.colWidthValAdd()),this.colXrefAdd()},this._add2PropHeading=function(e,t,n){var r=$(d("subtitle",{title:e,margin:10,id:t.name})).appendTo(n||this.$$parent).find("div");return t.name==="selectName"&&r.css({textOverflow:"inherit"}),t.createMarkup?(t.createMarkup(r),this._myProperties.push(t)):t.jquery&&r.append(t),t},this.colNameChoiceAdd=function(){var e=this.parent.getProtoValByBind(this.colInfo.$bind).idx,t=[];this.parent._protoValue.forEach(function(e){t.push({title:e.$title,value:e.$bind})});var n={value:this.colInfo.$bind,options:t,onChange:o.bindFn(this.colNameSelect,this)};this._add2PropHeading(s.text("auth.tableDesign.selColName"),i.newComponent("select",n,"selectName"))},this.colNameSelect=function(e,t){this.colInfo=this.parent.getProtoValByBind($(e.target).val()).value;var n=t.$$panel.closest(".panel-primary").find(".panel-title");n.text(this.colInfo.$title),n.next("span").find("i").text(this.colInfo?this.colInfo.$bind:""),this.$$xrefroot.toggle(this.colInfo.$type==="application/x-reference")},this.colWidthTypeAdd=function(){this._add2PropHeading(s.text("auth.tableDesign.width"),i.newComponent("flatRadio",{btns:[{value:"auto",title:s.text("auth.tableDesign.auto")},{value:"fixed",title:s.text("auth.tableDesign.fixed")},{value:"percent",title:"%"}],onClick:o.bindFn(this.colWidthTypeChanged,this),value:this.colInfo.$widthType||"auto"}))},this.colWidthTypeChanged=function(e){$(e.target).val()!==this.colInfo.$widthType&&(this.colInfo.$widthType=$(e.target).val(),this.colWidthValUpdt())},this.colWidthValAdd=function(){var e={slideHandler:o.bindFn(this.colWidthValSlide,this),stopHandler:o.bindFn(this.colWidthValChange,this),value:this.colInfo.$widthVal||0,min:0,max:this.colInfo.$widthType==="percent"?100:f,margin:0};this.propWidthVal=this._add2PropHeading(s.text("auth.tableDesign.selWidth"),i.newComponent("genericSlider",e)),this.colWidthValUpdt(e.value)},this.colWidthValSlide=function(e,t){return this.colInfo.$widthType==="percent"?e+"%":e+" "+s.text("auth.tableDesign.characters")},this.colWidthValChange=function(e,t){this.colInfo.$widthVal=e},this.colWidthValUpdt=function(e){var t=this.propWidthVal.$$panel.closest("section");if(this.colInfo.$widthType=="auto"){t.hide();return}t.show(),this.propWidthVal.update({value:e||(this.colInfo.$widthType==="percent"?c:l),max:this.colInfo.$widthType==="percent"?100:f})},this.colXrefAdd=function(){var e=this.colInfo.$type!=="application/x-reference"?"display:none":"";this.$$xrefroot=$('<section class="xrefColumn" style="'+e+'" ></section>').appendTo(this.$$parent);var t=this.colInfo.$refDescPosition||"none";this._xrefDescrPos=this._createXRefSelect("pos",["bottom","right","left","top","none"],t),this._xrefDescrFmt=this._createXRefSelect("fmt",["desc","title","desctitle","titledesc"],this.colInfo.$refDescFormat||"desc"),this.$$xrefroot.find("#selectDescrfmt").toggle(t!=="none")},this._createXRefSelect=function(e,t,n){var r=[],u=t.indexOf(n);u==-1&&(u=0);var a="auth."+(e=="fmt"?"refDescFormat":"refDescPosition");t.forEach(function(e,t){r.push({code:e,title:s.text(a+"."+e),value:t})});var f={value:u,options:r,onChange:o.bindFn(this.colXrefChange,this,e)};return this._add2PropHeading(s.text(a),i.newComponent("select",f,"selectDescr"+e),this.$$xrefroot),r},this.colXrefChange=function(e,t,n){var r=parseInt($(e.target).val(),10),i=n==="fmt"?this._xrefDescrFmt:this._xrefDescrPos;i=i[r].code,n=="pos"&&this.$$xrefroot.find("#selectDescrfmt").toggle(i!=="none"),this.colInfo["$refDesc"+(n==="fmt"?"Format":"Position")]=i},this.destroyMarkup=function(){this.parent=null,this.colInfo=null,this._myProperties&&(this._myProperties.forEach(function(e){e.destroyMarkup&&e.destroyMarkup()}),this._myProperties=null),this.$$parent&&(this.$$parent.closest(".s-m-panel-auth-prop").remove(),this.$$parent=null)}}},d=function(e,t){var n=e+"compiled",r=h[n];return r||(r=h[e],r=h[n]=Handlebars.compile(r)),r(t)},v={arrayDisplay:{key:"$display","default":"table",values:[{value:"table"},{value:"card"}],createMarkup:r.createMarkupRadio},arrayCardsPerRow:{key:"$cardsPerRow","default":"2",values:[{value:"1"},{value:"2"},{value:"3"},{value:"4"}],createMarkup:r.createMarkupRadio,refreshMarkup:r.refreshMarkupRadio},arrayCardsMinWidth:function(e,t,n){this.name="arrayCardsMinWidth",this.label=null,this.key="$minWidth",this["default"]=1,this.min=0,this.max=20,this.step=1,this.createMarkup=function(e,t,n,s){this.ctrl=s.control,this.$$parent=e,this.originValue=r.getValueOrDefault(this,n,s);var u={id:"auth_opt_"+this.name,value:this.originValue,min:this.min,max:this.max,step:this.step||1,slideHandler:o.bindFn(this.onSlide,this,"slide"),startHandler:o.bindFn(this.onSlide,this,"start"),stopHandler:o.bindFn(this.onSlide,this,"stop",n,s)};this._slider=i.newComponent("genericSlider",u),this._slider.createMarkup(e)},this.onSlide=function(e,t,n,i,s){var o=this.ctrl.authOnSlideMinSize(e,n);if(n==="slide")return o;n==="stop"&&this.originValue!=e&&(r.setValue(this,i,s,e),r.notifyChangePropUI(this.$$parent,i,s))},this.destroyMarkup=function(){this.ctrl=null,this.$$parent=null,this.$$slider&&(this.$$slider.slider("destroy"),this.$$slider=null),this.$$Button&&(this.$$Button.off("click"),this.$$Button=null)},this._sliderSetValue=function(e,t,n,i,s){this.ctrl.authOnSlideMinSize(e,"stop"),s!=e.value&&(r.setValue(this,n,i,e.value),r.notifyChangePropUI(t,n,i))}},arrayCardButton:function(e,t,n){this.name=null,this.label=null,this.key=null,this.controller=e,n&&(this.control=n.control),this.createButtonMarkup=function(){var e=this.isSaveButton(),t=s.text("auth.tableDesign."+(e?"saveDesign":"openDesign"));return this.$$Button=$('<button id="auth_opt_card_design" type="button" class="btn btn-default">'+t+"</button>"),this.$$Button.on("click",o.bindFn(this.onClickButton,this,e)),this.$$Button},this.destroyButtonMarkup=function(e){if(e&&e.origin=="selection"&&this.isSaveButton())return!1;this.control=null,this.controller=null,this.$$Button&&(this.$$Button.off("click"),this.$$Button.remove(),this.$$Button=null)},this.onClickButton=function(e,t){if(t)a.triggerAction(this.controller.$$elmt,"saveCardDesign");else if(this.control){var n={"data-control-id":this.control.id,"data-parent-id":this.controller.id,"data-nav":"carddesign","data-nav-target":"application"};a.triggerNavigation(this.control.$$elmt,n)}},this.isSaveButton=function(){return this.controller&&this.controller.state.type=="carddesign"}},arrayCardsEmptyCells:{key:"$emptycell","default":"nodisplay",values:[{value:"filled"},{value:"withtitle"},{value:"nodisplay"}],createMarkup:r.createMarkupRadio,refreshMarkup:r.refreshMarkupRadio},arrayProtoFilters:function(e,t,n){this.name="arrayProtoFilters",this.label=null,this.key="$filters",this["default"]=e.isVignette?"none":"list",this.values=[{value:"list"},{value:"tabs"},{value:"none"}],this.createMarkup=r.createMarkupRadio,this.refreshMarkup=r.refreshMarkupRadio},arrayQueryLink:function(e,t,n){this.name="arrayQueryLink",this.label=null,this.isHidden=!0,this.values=[],this.key="$detailsLink",this["default"]="$details",this.createMarkup=r.createMarkupRadio,this.refreshMarkup=r.refreshMarkupRadio,this.initMarkup=function(e,t,n){var r=n.control.prototype.getDataByPath("$item.$links");if(!r||r.length===0)return;e.isVignette&&(this["default"]="$queryfullpage",this.values.push({value:"$queryfullpage",label:s.text("auth.arrayQueryLink.queryfullpage")}));var i=this;$.each(r,function(t,n){i.values.push({value:t,label:n.$title?e.prototype.resolveExpression(n.$title)+" - "+t:t})}),this.isHidden=this.values.length===1&&this.values[0].value==="$details"}},arrayHeader:function(e,t,n){this.name="arrayHeader",this.label=null,this.key="$headerOptions",this["default"]=e.isVignette?"none":"all",this.values=[{value:"all"},{value:"paginOnly"},{value:"sortFilterOnly"},{value:"none"}],this.createMarkup=r.createMarkupRadio,this.refreshMarkup=r.refreshMarkupRadio},arrayTableHeader:{key:"$tableHeaderShow","default":!0,values:[{value:!0},{value:!1}],createMarkup:r.createMarkupRadio,refreshMarkup:r.refreshMarkupRadio},arrayTableDesign:function(e,t,n){this.isHidden=!1,this.name="arrayTableDesign",this.label=null,this.key="$table",this.controller=e,this.ctrlArray=n.control,this._generalProperties=[],this._columnProperties=[],this._protoValue=[],this._tableConfigKeys=["$bind","$title","$type","$titleOrig","$widthType","$widthVal","$refDescFormat","$refDescPosition"],this.initMarkup=function(e,t,n){this._protoValue=this.ctrlArray.prototype.arrayTableGetColInfo(),this.isSingleArray=this.ctrlArray.prototype.isSingleArray()||this._protoValue.length<=1,this._orginalValue=n.articleSelection.$table;var r=this._orginalValue!=null&&this._orginalValue.length>0;r||(this._orginalValue=null),this._initProps(r?this._orginalValue:this._protoValue),this.isSingleArray?this.isHidden=this._protoValue.length===0||this._protoValue[0].$type!=="application/x-reference":this.addPropNbColumns(),this.isHidden||this.addPropActionButtons(t,n)},this._initProps=function(e,t){var n=this;n._columnProperties=[],e.forEach(function(e){n._createColumnProperty(e,t)})},this.addPropNbColumns=function(){var e={slideHandler:function(e){return e+" columns"},stopHandler:o.bindFn(this.updateColumns,this),value:this._columnProperties.length,min:1,max:this._protoValue.length,displayValue:"above"};this._generalProperties.push(i.newComponent("genericSlider",e,"nbcolumns"))},this._updateNbCols=function(){var e;this._generalProperties.some(function(t){if(t.name==="nbcolumns")return e=t,!0}),e.update({value:this._columnProperties.length})},this.addPropActionButtons=function(e,t){var n=[{value:"save",title:s.text("auth.tableDesign.save")}];this._generalProperties.push(i.newComponent("actionBtns",{btns:n,onClick:o.bindFn(this.onClickAction,this,e,t)}))},this.onClickAction=function(e,t,n){var i=$(e.target).val();if(i==="save"){var s=[],o,u=this,a;this._columnProperties.forEach(function(e){if(!e.colInfo)return;o={},u._tableConfigKeys.forEach(function(t){a=e.colInfo[t],a!=null&&(o[t]=$.isPlainObject(a)?$.extend(!0,{},a):a)}),s.push(o)}),console.log(JSON.stringify(s,null,2)),r.setValue(this,t,n,s),r.notifyChangePropUI(this.$$parent,t,n);return}if(i==="restore"){if(this._orginalValue){this._clearColumns(),this._initProps($.extend(!0,[],this._orginalValue),!0),this._updateNbCols();return}i="all"}if(i==="all"){this.updateColumns(null),this._updateNbCols();return}},this.createMarkup=function(e,t,n,r){this.$$parent=e,this._accordionId=u.UUID(),this.$$myAccordion=$('<div id="'+this._accordionId+'" ></div>'),e.append(this.$$myAccordion);var i=this,s;i._generalProperties.forEach(function(e){s=$(d("subtitle",{title:e.label?e.label||e.name:null})),e.createMarkup(s.find("div")),i.$$myAccordion.append(s)}),i._columnProperties.forEach(function(e){i._createColEntry(e)})},this._createColEntry=function(e){var t=u.UUID(),n;if(!this.isSingleArray){var r=$(d("subPropTitle",{id:t,type:"child columns",label:e.label,info:e.colInfo?e.colInfo.$bind:null,expanded:!1,parentId:this._accordionId}));n=r.find("#collapse_"+t),this.$$myAccordion.append(r)}else this.$$myAccordion.append(r),n=$('<div style="padding-left:10px;padding-right:10px;"></div>').appendTo(this.$$myAccordion);e.createMarkup(n)},this.destroyMarkup=function(){this.$$parent=null,this.ctrlArray=null,this.controller=null,this._getAllProps().forEach(function(e){e.destroyMarkup()}),this._generalProperties=null,this._columnProperties=null},this._getAllProps=function(){return(this._generalProperties||[]).concat(this._columnProperties||[])},this.updateColumns=function(e){this.$$myAccordion&&this.$$myAccordion.find(".collapse").collapse("hide");var t=e==null;e=t?this._protoValue.length:e;var n=0;if(t)this._clearColumns();else if(this._columnProperties.length>0){for(var r=this._columnProperties.length-1;r>=e;r--)this._columnProperties[r].destroyMarkup(),this._columnProperties.splice(r,1);n=this._columnProperties.length}for(var r=n;r<e;r++)this._createColumnProperty(this._protoValue[r],!0)},this._createColumnProperty=function(e,t){e.$title=this.controller.prototype.resolveExpression(e.$title)||e.$bind;var n=new p.arrayTableColumn(this,e);return this._columnProperties.push(n),t&&this._createColEntry(n),n},this._clearColumns=function(){this._columnProperties&&this._columnProperties.forEach(function(e){e.destroyMarkup()}),this._columnProperties=[]},this.getProtoValByIdx=function(e){if(e<0||e>=this._protoValue.length)throw new Error("unexpected bad index["+e+"]");return this._protoValue[e]},this.getProtoValByBind=function(e){var t=null;this._protoValue.some(function(n,r){if(n.$bind===e)return t={idx:r,value:n},!0});if(t==null)throw new Error("unexpected null value - bind=["+e+"]");return t},this.getProtoValLength=function(){return this._protoValue.length}}},m=function(e,t,n){return n===r.getValueOrDefault(v.arrayDisplay,e,t)};t.initModuleProperties=function(e){r.initProperties(v,e)},t.getModuleProperties=function(e,t,n,r,i){var s=t.prototype.isLookup()||t.prototype.isQuery(),o=i.control.prototype.isSingleArray();o||n.push(v.arrayDisplay),s&&n.push(v.arrayHeader),s&&t.$filtersGet()&&t.$filtersGet().length>1&&n.push(v.arrayProtoFilters),m(r,i,"card")?o||n.push(v.arrayCardsPerRow,v.arrayCardsMinWidth,v.arrayCardsEmptyCells,v.arrayCardButton):m(r,i,"table")&&(o||n.push(v.arrayTableHeader),n.push(v.arrayTableDesign)),t.prototype.isQuery()&&n.push(v.arrayQueryLink)},t.getCardDesignBackButton=function(e){return new v.arrayCardButton(e)}}),define("syracuse-tablet/html/js/authoring/authoringPropertiesGauge",["require","exports","module","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/authoring/authoringHtml","syracuse-tablet/html/js/authoring/authoringPropertiesGeneral"],function(e,t,n){"use strict";function f(e,t,n,u){var a={};a.label_apply=r.text("auth.g.label_apply");var f="s-m-auth-g-borders-min",l="s-m-auth-g-borders-max",c=u.articleSelection.$gSetBorderValues==="bind"?!0:!1;if(c){var h=u.articleSelection.$gauge.$bindMin,p=u.articleSelection.$gauge.$bindMax;a.label_tip=r.text("auth.gBorderValues.label_tip.property"),a.label_min=r.text("auth.gBorderValues.label_min.property"),a.label_max=r.text("auth.gBorderValues.label_max.property");var d=[],v=[];if(!(u.control.controller.prototype&&u.control.controller.prototype.json&&u.control.controller.prototype.json.$properties)){o(r.text("auth.gBorderValues.err.prototype.title"),r.text("auth.gBorderValues.err.prototype.msg"));return}$.each(u.control.controller.prototype.json.$properties,function(e,t){(t.$type.indexOf("integer")>=0||t.$type.indexOf("decimal")>=0||t.$type.indexOf("real")>=0)&&e!==u.control.$bind&&e!==u.articleSelection.$bind&&(d.push({option_value:e,selected:h===e}),v.push({option_value:e,selected:p===e}))}),a.markupMin=i.execute("gaugeSelect",{id:f,options:d}),a.markupMax=i.execute("gaugeSelect",{id:l,options:v})}else{var h,p;u.articleSelection.$gauge.$bindMin&&typeof u.articleSelection.$gauge.$bindMin=="string"?h=u.control.controller.dao.data[u.articleSelection.$gauge.$bindMin]:h=u.articleSelection.$gauge.$bindMin,u.articleSelection.$gauge.$bindMax&&typeof u.articleSelection.$gauge.$bindMax=="string"?p=u.control.controller.dao.data[u.articleSelection.$gauge.$bindMax]:p=u.articleSelection.$gauge.$bindMax,a.label_tip=r.text("auth.gBorderValues.label_tip.input"),a.label_min=r.text("auth.gBorderValues.label_min.input"),a.label_max=r.text("auth.gBorderValues.label_max.input"),a.markupMin=i.execute("gaugeBorderInput",{id:f,value:h}),a.markupMax=i.execute("gaugeBorderInput",{id:l,value:p})}var m=i.execute("authPanelPropertyGBorderValues",a),g=$(m);$("button",g).on("click",function(t){var i=!1,a=$(t.target).parent().find("#"+f).val(),h=$(t.target).parent().find("#"+l).val(),p=r.text("auth.gBorderValues.err.title");if(!isNaN(parseInt(a),10)&&!isNaN(parseInt(h),10))h<a&&(i=o(p,r.text("auth.gBorderValues.err.msg.lowerMax",[h,a])));else{if(typeof a!="string"||typeof h!="string")i=o(p,r.text("auth.gBorderValues.err.msg.bothString",[a,h]));c||(i=o(p,r.text("auth.gBorderValues.err.msg.expectedNumbers",[a,h]))),a===h&&(i=o(p,r.text("auth.gBorderValues.err.msg.samebind")))}i||(u.articleSelection.$gauge.$bindMin=a,u.articleSelection.$gauge.$bindMax=h,s.notifyChangePropUI(e,n,u))}),e.append(g)}function l(e,t,n,a){var f=a.articleSelection.$gauge.segments?a.articleSelection.$gauge.segments.length:"",l=[];for(var c=0,h=u+1;c<h;c++){var p={};c==0?(p.option_value=r.text("auth.gSegmentsNumber.default"),p.selected=f?!0:!1):(p.option_value=c,p.selected=f==c),l.push(p)}var d={value:i.execute("gaugeSelect",{id:"s-m-auth-g-segnumbers-txt",options:l}),label_apply:r.text("auth.g.label_apply")},v=i.execute("authPanelPropertyGSegmentsNumber",d),m=$(v);$("button",m).on("click",function(t){var i=$(t.target).prev().val();if(f!=i)if(i&&isNaN(parseInt(i,10)))o(r.text("auth.gSegmentsNumber.err.title"),r.text("auth.gSegmentsNumber.err.msg.expectedNumber",[i]));else{if(i){a.articleSelection.$gauge.segments=a.articleSelection.$gauge.segments||[],a.articleSelection.$gauge.segments.length>i&&a.articleSelection.$gauge.segments.splice(i);for(var u=0,l=i;u<l;u++)a.articleSelection.$gauge.segments[u]=a.articleSelection.$gauge.segments[u]||{}}else a.articleSelection.$gauge.segments=null;s.notifyChangePropUI(e,n,a)}}),e.append(m)}function c(e,t,n,s){var o=s.articleSelection.$gauge.segments[t.segIdx],u="s-m-auth-seg-",a=t.segIdx,f={};f.id=u+a,f.label_valstart=r.text("auth.gSegmentsConfig.label_valstart"),f.value_valstart=o.valStart,f.label_valend=r.text("auth.gSegmentsConfig.label_valend"),f.value_valend=o.valEnd,f.label_propstart=r.text("auth.gSegmentsConfig.label_propstart"),f.value_propstart=i.execute("authPanelGaugeSlider",{id:f.id+"-propstart",min:0,max:1,step:.1,value:o.propStart}),f.label_propend=r.text("auth.gSegmentsConfig.label_propend"),f.value_propend=i.execute("authPanelGaugeSlider",{id:f.id+"-propend",min:0,max:1,step:.1,value:o.propEnd}),f.label_color=r.text("auth.gSegmentsConfig.label_color"),f.value_color=o.color,f.label_apply=r.text("auth.g.label_apply");var l=i.execute("gaugeSegment",f),c=$(l),h=$("input.s-m-auth-g-range",c);h.slider(),h.on("slide",function(e){var t=$(e.target),n=t.next();n.text(e.value)}),e.append(c)}function h(e,t,n,u){var a=i.execute("authPanelButton",{label:r.text("auth.gSegmentsConfigApply.label"),css:"s-m-auth-g-apply"}),f=$(a);$("button",f).on("click",function(t){var i=[],a=$(t.target).parent().parent().find(".s-m-auth-seg-slot");for(var f=0,l=a.length;f<l;f++){var c=$(a[f]),h=c.attr("id"),p={};p.valStart=$("#"+h+"-valstart",c).val(),p.valEnd=$("#"+h+"-valend",c).val(),p.propStart=$("#"+h+"-propstart",c).val(),p.propEnd=$("#"+h+"-propend",c).val(),p.color=$("#"+h+"-color",c).val(),p.valStart=p.valStart===""?null:p.valStart,p.valEnd=p.valEnd===""?null:p.valEnd,p.propStart=p.propStart===""?null:p.propStart,p.propEnd=p.propEnd===""?null:p.propEnd,p.color=p.color===""?null:p.color;var d=p.valStart,v=p.valEnd;if(d&&isNaN(parseInt(d.replace(".","").replace(",",""),10))){o(r.text("auth.gSegmentsConfig.err.title"),r.text("auth.gSegmentsConfig.err.msg.expectedNumber",[r.text("auth.gSegmentsConfig.label_valstart"),d]));return}if(v&&isNaN(parseInt(v.replace(".","").replace(",",""),10))){o(r.text("auth.gSegmentsConfig.err.title"),r.text("auth.gSegmentsConfig.err.msg.expectedNumber",[r.text("auth.gSegmentsConfig.label_valend"),v]));return}i.push(p)}u.articleSelection.$gauge.segments=i,s.notifyChangePropUI(e,n,u)}),e.append(f)}function p(e,t){var n=e.find("input.s-m-auth-g-range");n.length>0&&n.slider&&n.slider("destroy")}function d(e,t,n,i,s){if(s.type==="integer"||s.type==="real"||s.type==="decimal"){var o;s.articleSelection.$numDisplay?o=s.articleSelection.$numDisplay==="gauge":(o=s.articleSelection.$gauge?!0:!1,s.articleSelection.$numDisplay=o?"gauge":"normal"),n.push(a.numDisplay);if(o){s.articleSelection.$gSetBorderValues||(s.articleSelection.$gauge.$bindMax?s.articleSelection.$gSetBorderValues=typeof s.articleSelection.$gauge.$bindMax=="string"?"bind":"value":s.articleSelection.$gSetBorderValues="default"),n.push(a.gSetBorderValues),s.articleSelection.$gSetBorderValues!=="default"&&n.push(a.gBorderValues),n.push(a.gSegmentsNumber);if(s.articleSelection.$gauge.segments&&s.articleSelection.$gauge.segments.length>0){for(var u=0,f=s.articleSelection.$gauge.segments.length;u<f;u++){var l="gSegmentsConfig"+u;a[l]={"default":"",createMarkup:c,type:"child-child",destroyMarkup:p,label:r.text("auth.gSegmentsConfig",[u+1]),segIdx:u,name:l},n.push(a[l])}n.push(a.gSegmentsConfigApply)}}}}var r=e("syracuse-tablet/html/js/helpers/locale"),i=e("syracuse-tablet/html/js/authoring/authoringHtml"),s=e("syracuse-tablet/html/js/authoring/authoringPropertiesGeneral"),o=s.err,u=5,a={numDisplay:{key:"$numDisplay","default":"normal",values:[{value:"normal"},{value:"gauge"}],createMarkup:s.createMarkupRadio,refreshMarkup:s.refreshMarkupRadio},gSetBorderValues:{key:"$gSetBorderValues","default":"default",values:[{value:"default"},{value:"value"},{value:"bind"}],createMarkup:s.createMarkupRadio,refreshMarkup:s.refreshMarkupRadio,type:"child"},gBorderValues:{"default":"",createMarkup:f,type:"child"},gSegmentsNumber:{"default":"",createMarkup:l,type:"child"},gSegmentsConfig:{"default":"",createMarkup:c,type:"child",destroyMarkup:p},gSegmentsConfigApply:{applyMarkup:h}};t.initModuleProperties=function(e){s.initProperties(a,e)},t.getModuleProperties=d}),define("syracuse-tablet/html/js/authoring/authoringPropertiesChart",["require","exports","module","syracuse-tablet/html/js/authoring/authoringPropertiesGeneral"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/authoring/authoringPropertiesGeneral"),i=r.err,s={};t.initModuleProperties=function(e){r.initProperties(s,e)},t.getModuleProperties=function(e,t,n,r,i){}}),define("syracuse-tablet/html/js/authoring/authoringPropertiesCtrls",["require","exports","module","syracuse-tablet/html/js/authoring/authoringPropertiesGeneral","syracuse-tablet/html/js/authoring/authoringPropertiesArrays","syracuse-tablet/html/js/authoring/authoringPropertiesGauge","syracuse-tablet/html/js/authoring/authoringPropertiesChart"],function(e,t,n){"use strict";function f(e,t){var n=r.getValueOrDefault(a.labelPosition,e,t),i=$.extend(!0,{},a.labelAlign);return i.values.forEach(function(e){n==="left"&&e.value==="center"?e.isHidden=!0:e.isHidden=!1}),i}var r=e("syracuse-tablet/html/js/authoring/authoringPropertiesGeneral"),i=e("syracuse-tablet/html/js/authoring/authoringPropertiesArrays"),s=e("syracuse-tablet/html/js/authoring/authoringPropertiesGauge"),o=e("syracuse-tablet/html/js/authoring/authoringPropertiesChart"),u=[i,s],a={isTitleHidden:{key:"$isTitleHidden","default":!1,values:[{value:!0},{value:!1}],createMarkup:r.createMarkupRadio,type:"default"},labelPosition:{key:"$labelPosition","default":"left",values:[{value:"left"},{value:"top"}],createMarkup:r.createMarkupRadio},labelAlign:{key:"$labelAlign","default":"left",values:[{value:"left"},{value:"center",isHidden:!0},{value:"right"}],createMarkup:r.createMarkupRadio,refreshMarkup:r.refreshMarkupRadio},theme:{key:"$theme","default":"a",values:[{value:"a"},{value:"b"},{value:"c"}],createMarkup:r.createMarkupRadio},refDescPosition:{key:"$refDescPosition","default":"right",values:[{value:"bottom"},{value:"right"},{value:"left"},{value:"top"},{value:"none"}],createMarkup:r.createMarkupRadio},refDescFormat:{key:"$refDescFormat","default":"desc",values:[{value:"desc"},{value:"title"},{value:"desctitle"},{value:"titledesc"}],createMarkup:r.createMarkupRadio},textHeight:{key:"$textHeight","default":"medium",values:[{value:"small"},{value:"medium"},{value:"large"},{value:"xlarge"}],createMarkup:r.createMarkupRadio,refreshMarkup:r.refreshMarkupRadio}};t.initModuleProperties=function(e){r.initProperties(a,e),u.forEach(function(t){t.initModuleProperties(e)})},t.getModuleProperties=function(e,t,n,r,u){var l=f(r,u);if(r.$$elmt.hasClass("s-m-field"))[a.isTitleHidden,a.labelPosition,l,a.theme].forEach(function(e){n.push(e)}),u.type==="reference"&&(n.push(a.refDescFormat),n.push(a.refDescPosition)),(u.type==="rtf"||u.type==="html"||u.type==="plain")&&n.push(a.textHeight),s.getModuleProperties(e,t,n,r,u);else if(r.$$elmt.hasClass("s-m-array")){var c=u&&u.control&&u.control.prototype&&u.control.prototype.getFacet();"query"!==c&&[a.isTitleHidden,a.labelPosition,l,a.theme].forEach(function(e){n.push(e)}),i.getModuleProperties(e,t,n,r,u)}else e.hasClass("s-m-chart")&&([a.isTitleHidden,a.labelPosition,l,a.theme].forEach(function(e){n.push(e)}),o.getModuleProperties(e,t,n,r,u))}}),define("syracuse-tablet/html/js/authoring/authoringPropertiesLayouts",["require","exports","module","syracuse-tablet/html/js/authoring/authoringPropertiesGeneral","syracuse-tablet/html/js/authoring/authoringHtml","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){"use strict";function a(e,t,n,s){var o={group:"auth_opt_"+t.name,options:[]},u=r.getValueOrDefault(t,n,s);t.values.forEach(function(e){o.options.push({id:o.group+"_"+e.value,value:""+e.value,label:e.label,color:e.value})});var a=i.execute("authPanelPropertyRadioColor",o),f=$(a);$("label[data-s-m-auth-value='"+(""+u)+"']",f).eq(0).button("toggle"),$("label",f).on("click",function(i){var o=$(i.currentTarget),u=o.attr("data-s-m-auth-value");o.eq(0).button("toggle"),u==="true"?u=!0:u==="false"&&(u=!1),r.setValue(t,n,s,u),r.notifyChangePropUI(e,n,s)}),e.append(f)}function f(e,t,n,s){var o=r.getValueOrDefault(t,n,s),u=i.execute("authPanelPropertyInput",{id:"auth_opt_"+t.name,value:o}),a=$(u);$("input",a).blur(function(){var i=$(this).val();r.setValue(t,n,s,i),r.notifyChangePropUI(e,n,s)}),e.append(a)}function l(e,t,n,o){var u=["1","2","3","4","5","6","7","8","9","10","11","12"],a=[{prop:"widthXs",label:s.text("auth.cellSize.$widthXs"),"class":"s-m-auth-highlight-xs"},{prop:"widthSm",label:s.text("auth.cellSize.$widthSm"),"class":"s-m-auth-highlight-sm"},{prop:"widthMd",label:s.text("auth.cellSize.$widthMd"),"class":"s-m-auth-highlight-md"},{prop:"widthLg",label:s.text("auth.cellSize.$widthLg"),"class":"s-m-auth-highlight-lg"}],f=i.execute("authPanelPropertyCellSize",{id:"auth_opt_"+t.name,sizes:a,values:u}),l=$(f),c="12";a.forEach(function(e){var t=o.articleSelection&&o.articleSelection["$"+e.prop];t=t||c,c=t,$("label[data-s-m-auth-prop='"+e.prop+"'][data-s-m-auth-value='"+t+"']",l).button("toggle")}),$("label",l).on("click",function(t){var i=$(t.currentTarget);i.eq(0).button("toggle"),a.forEach(function(e){i=l.find("label.active[data-s-m-auth-prop='"+e.prop+"']");if(i.length>0){var t=i.attr("data-s-m-auth-value");o.articleSelection["$"+e.prop]=t}}),r.notifyChangePropUI(e,n,o)}),e.append(l)}var r=e("syracuse-tablet/html/js/authoring/authoringPropertiesGeneral"),i=e("syracuse-tablet/html/js/authoring/authoringHtml"),s=e("syracuse-tablet/html/js/helpers/locale"),o={tileColor:{key:"$bgColor","default":"lime",values:[{value:"transparent"},{value:"teal"},{value:"green"},{value:"brown"},{value:"lime"},{value:"red"},{value:"pink"},{value:"magenta"},{value:"orange"},{value:"blue"}],createMarkup:a},tileSize:{key:"$size","default":"medium",values:[{value:"small"},{value:"medium"},{value:"wide"},{value:"large"},{value:"full"},{value:"all"}],createMarkup:r.createMarkupRadio},layoutTitle:{key:"$title","default":"",createMarkup:f},layoutCollapsible:{key:"$collapsible","default":"notcollapsible",values:[{value:"notcollapsible"},{value:"expanded"},{value:"collapsed"}],createMarkup:r.createMarkupRadio},tileTitle:{key:"$title","default":"",createMarkup:f},cellSize:{"default":4,createMarkup:l}},u={stack:[o.layoutTitle,o.layoutCollapsible],row:[],"hub-group":[o.layoutTitle],tile:[o.tileTitle,o.tileColor,o.tileSize],cell:[o.tileColor,o.cellSize]};t.properties=o,t.getModuleProperties=function(e,t,n,r,i){Object.keys(u).some(function(t){var r="s-m-"+t;e.hasClass(r)&&u[t].forEach(function(e){n.push(e)})})},t.initModuleProperties=function(e){r.initProperties(o,e)}}),define("syracuse-tablet/html/js/authoring/authoringProperties",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/authoring/authoringPropertiesGeneral","syracuse-tablet/html/js/authoring/authoringPropertiesCtrls","syracuse-tablet/html/js/authoring/authoringPropertiesLayouts"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/authoring/authoringPropertiesGeneral"),s=e("syracuse-tablet/html/js/authoring/authoringPropertiesCtrls"),o=e("syracuse-tablet/html/js/authoring/authoringPropertiesLayouts"),u=[s,o,i],a;t.initProperties=function(e){if(a!=null&&e!=1)return;a={},u.forEach(function(e){e.initModuleProperties(a)})},t.getAllProperties=function(){return a},t.getProperties=function(e,t){var n=e.$$elmt,s=[],o=r.findController(n);return u.forEach(function(r){r.getModuleProperties(n,o,s,e,t)}),s.forEach(function(n,r){if(typeof n=="function"){var u=s[r]=new n(o,e,t);u.initMarkup&&u.initMarkup(o,e,t),i.initProperty(u)}}),s}}),define("syracuse-tablet/html/js/authoring/authoringHelpers",["require","exports","module","syracuse-tablet/html/js/helpers/jsutils","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/authoring/authoringSData","syracuse-tablet/html/js/ui/modals/modal","syracuse-tablet/html/js/authoring/authoringProperties","syracuse-tablet/html/js/authoring/authoringHtml","syracuse-tablet/html/js/authoring/authoringVal","syracuse-tablet/html/js/helpers/notifications"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/jsutils"),i=e("syracuse-tablet/html/js/helpers/globals"),s=e("syracuse-tablet/html/js/helpers/locale"),o=e("syracuse-tablet/html/js/authoring/authoringSData"),u=e("syracuse-tablet/html/js/ui/modals/modal"),a=e("syracuse-tablet/html/js/authoring/authoringProperties"),f=e("syracuse-tablet/html/js/authoring/authoringHtml"),l=e("syracuse-tablet/html/js/authoring/authoringVal"),c=e("syracuse-tablet/html/js/helpers/notifications"),h=[];t.selectElement=function(e){$(".s-m-auth-selected").removeClass("s-m-auth-selected");var t=$("#"+e.id,$("#s-m-app-id")),n=t[0]},t.findControl=function(e){var t=i.getApplication(),n,r=e.attr("id");if(!r)return null;n=t.currentPage.getStructElmt(r);if(n)return n;var s=e.closest(".s-m-control.s-m-vignette").attr("id");if(!s)return null;var o=t.currentPage.getStructElmt(s);return o?s===r?o:(n=o.getPageStructElmt(r),n):null},t.getSelectionById=function(e){var t=$("#s-m-app-id #"+e);return t.length<=0?null:{$$elmt:t,id:e}},t.getSelectionData=function(e){if(!e||!e.id)return null;var n=i.getApplication(),r=$.extend(!0,{},n.currentPage.article),o,u,a=t.findControl(e.$$elmt);a&&a.isControl()?(o=a.prototype&&a.prototype.data("$title"),o?o+=" ("+a.$bind+")":o=a.$bind,u=a.typeName):(o=s.text("auth.label_layout"),u=e.$$elmt.attr("id"),u=u.replace(/\d/g,""));var f=a&&a.getArticle()||r;return{articlePage:r,articleSelection:f,title:o,type:u,control:a}};var p=function(e){this.$$parent=e,this.destroyHandlers=[],this.propInstances=[],this.destroy=function(){this.destroyHandlers.forEach(function(e){e&&e()}),this.propInstances.forEach(function(e){e.destroyMarkup&&e.destroyMarkup()}),this.destroyHandlers=this.propInstances=null,this.$$parent&&this.$$parent.empty()},this.addDestroyHandler=function(e,t){this.destroyHandlers.push(r.bindFn(t.destroyMarkup,null,e,t))},this.addPropInstance=function(e){this.propInstances.push(e)}};t.createPropertyPanel=function(e,t,n){var r=a.getProperties(t,n);if(!r)return;var i=new p(e),s=$('<div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">'),o,u=0,l=[],d=t.articleSelection,v=[];return r.forEach(function(e){o="auth_prop_"+e.name;var r=h.indexOf("collapse_"+o)>-1;if(e.createMarkup){var a=$(f.execute("authPanelPropertyGroup",{id:o,expanded:r,label:e.label,type:e.type||"default"})),l=$("#collapse_"+o,a);e.createMarkup(l,e,t,n),$.isPlainObject(e)&&e.destroyMarkup?i.addDestroyHandler(l,e):e.constructor&&i.addPropInstance(e),e.isHidden===!0&&a.hide()}else if(e.createButtonMarkup)v.unshift(e);else if(e.applyMarkup)e.applyMarkup(s,e,t,n);else if(e.isSeparatror)var a=$(f.execute("authPanelPropertySeperator",{id:o,expanded:r,label:e.label,type:e.type||"default"}));s.append(a),u++}),v.forEach(function(e){c.publish("sm.auth.top.button","add",e)}),e.append(s),i},t.refreshPropertyPanels=function(e,t){var n=a.getProperties(e,t);if(!n)return;n.forEach(function(n){if(n.refreshMarkup){var r="#collapse_auth_prop_"+n.name,i=$(r);n.refreshMarkup(i,n,e,t)}})},t.savePanelStates=function(){var e,t=$(".panel-collapse.collapse.in","#authPanelControlSimple");h=[];for(e=0;e<t.length;e++)h.push(t[e].id)},t.saveAuthoring=function(e,t){var n=e.split("."),r={application:n[0],contract:n[1],representation:n[2],facet:n[3],roles:[],users:[],endpoints:[],saveAsOption:t.saveAs,variantCode:t.code,variantTitle:t.title,variantDescription:t.description,article:t.article};return o.getPageVariants({application:n[0],contract:n[1],representation:n[2],facet:n[3]}).then(function(e){e&&e.some(function(e){var n=e.title===t.title&&e.code===t.code&&e.description===t.description;t.saveAs==="factory_variant"&&e.isFactory!==!0?n=!1:t.saveAs==="global_variant"&&e.isFactory===!0?n=!1:t.saveAs==="personal_copy"&&e.isFactory===!0&&(n=!1),n&&(r.variant=e.$uuid)})}).then(function(){return o.savePageDefinition(r)}).then(function(e){u.diagnoses(s.text("auth.panel.save_ok_title"),{$diagnoses:e.diags})}).fail(function(e){u.diagnoses(s.text("auth.panel.save_error_title"),e)})},t.rebuildArticleByPageStruct=function(e){function t(e,n){var r=n.getAuthArticle();Object.keys(r).forEach(function(t){e[t]=r[t]});if(n.isVignette()){var i=n.getPage();if(i){var s=i.rootLayout;e.$article={},t(e.$article,s)}}else n.children&&n.children.length>0&&(e.$items=[],n.children.forEach(function(n){var r={};e.$items.push(r),t(r,n)}))}var n=e.rootLayout,r={};t(r,n);var i=l.toSortedJSON(r);return i}}),define("syracuse-tablet/html/js/authoring/authoringPanelRight",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/helpers/notifications","syracuse-tablet/html/js/authoring/authoringHelpers","syracuse-tablet/html/js/authoring/authoringHtml","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/authoring/authoringPropertiesArrays"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/globals"),s=e("syracuse-tablet/html/js/helpers/locale"),o=e("syracuse-tablet/html/js/helpers/notifications"),u=e("syracuse-tablet/html/js/authoring/authoringHelpers"),a=e("syracuse-tablet/html/js/authoring/authoringHtml"),f=e("syracuse-tablet/html/js/ui/uiUtils"),l=e("syracuse-tablet/html/js/authoring/authoringPropertiesArrays");t.Panel=r.defineClass(function(){var t=this;t.$$panel=null,t.topButtons=[]},null,{show:function(){var e=this;e._ensurePanel(),e._subscribe(),e.$$panel.show(),e.$$splitter.show(),e._initDefaults(),$(".btn",e.$$panelSave).eq(0).button("toggle"),$('.nav-pills a[href="#authPanelControl"]').tab("show")},hide:function(){var e=this;e._ensurePanel(),e.$$panel.hide(),e.$$splitter.hide(),e._unscribe()},_subscribe:function(){var e=this;o.subscribe(e,["sm.main.layout.changed"]),o.subscribe(e,["sm.auth.set.page"]),o.subscribe(e,["sm.auth.set.selection"]),o.subscribe(e,["sm.auth.change.prop.ui"]),o.subscribe(e,["sm.auth.top.button"])},_unscribe:function(){var e=this;o.unsubscribe(e,["sm.main.layout.changed"]),o.unsubscribe(e,["sm.auth.set.page"]),o.unsubscribe(e,["sm.auth.set.selection"]),o.unsubscribe(e,["sm.auth.change.prop.ui"]),o.unsubscribe(e,["sm.auth.top.button"])},notifMainLayoutChanged:function(){var e=this;e.$$panel.find(".tab-content").css({height:e.$$panel.height()-100})},_ensurePanel:function(){var e=this;if(this.$$panel)return;var t={label_control:s.text("auth.panel.label_control"),label_edit:s.text("auth.panel.label_page"),label_close:s.text("auth.panel.label_close"),label_apply:s.text("auth.panel.label_apply"),label_simple:s.text("auth.panel.label_simple"),label_expert:s.text("auth.panel.label_expert"),label_control_title:s.text("auth.panel.label_control_title"),label_control_type:s.text("auth.panel.label_control_type")};e.$$panel=$("#s-m-auth-panel-right-id"),$(a.execute("authPanelRightStructure",t)).appendTo(e.$$panel),e.$$panelRightStruct=e.$$panel.find("#authPanelControlTitle"),e._getDomObjects(),e._initSplitter(),e._initDomEvents()},_getDomObjects:function(){var e=this;e.$$panelControlSimple=$("#authPanelControlSimple"),e.$$panelControlExpert=$("#authPanelControlExpert"),e.$$authPageName=$("#authPageName"),e.$$panelControlTitle=$("#authPanelControlTitle"),e.$$panelControlType=$("#authPanelControlType"),e.$$panelEdit=$("#authPanelEdit")},_initDomEvents:function(){var e=this},_initDefaults:function(){var e=this;e.$$panelControlTitle.text(""),e.$$panelControlType.text(s.text("auth.panel.label_control")),e.destroyPropertyPanel()},destroyPropertyPanel:function(e){if(this.topButtons){var t=[];this.topButtons.forEach(function(n){n.destroyButtonMarkup&&n.destroyButtonMarkup(e)===!1&&t.push(n)}),this.topButtons=t}this._propertyPanel&&(this._propertyPanel.destroy(),this._propertyPanel=null)},notifAuthSetPage:function(e){var t=this;t.currentPageName=e.state.authoringName,t.currentPageId=e.id,t.$$authPageName.text(t.currentPageName),t._initDefaults(),e.state.type=="carddesign"&&o.publish("sm.auth.top.button","add",l.getCardDesignBackButton(e))},notifAuthChangePropUi:function(e){var t=this},notifAuthSetSelection:function(e){var t=this;t.$$panelControlTitle.text(""),t.$$panelControlType.text(s.text("auth.panel.label_control"));var n=e?u.getSelectionById(e):null;u.savePanelStates(),t.destroyPropertyPanel({origin:"selection"});if(!n)return;var r=u.getSelectionData(n);if(r){t.$$panelControlTitle.text(r.title||""),t.$$panelControlType.text(s.text("auth.panel.label_control")+" "+r.type||"");var o=r.articleSelection;o&&(this._propertyPanel=u.createPropertyPanel(t.$$panelControlSimple,n,r)),n.$$elmt&&i.getMainPageGestureMgr()&&i.getMainPageGestureMgr().makeVisible(n.$$elmt.closest(".s-m-tile"))}},getPageArticle:function(){return this.getPage().article},getPage:function(){var e=$("#s-m-app-id").find("#"+this.currentPageId).smPageController();if(!e)throw new Error("Page not found "+this.currentPageId);if(!e.isActive())throw new Error("Page not active "+this.currentPageId);return e},_initSplitter:function(){var e=this;e.$$splitter=$("#s-m-auth-splitter-right-id"),e.$$splitter.draggable({axis:"x",stop:function(e,t){var n=$(this),r=n.position(),i=n.width(),s=$(window).width()-r.left-i;f.triggerResizeInternal({layout:{authPanelRight:{width:s}}})}})},notifAuthTopButton:function(e,t){if(!this.$$panelRightStruct||!t.createButtonMarkup)return;this.topButtons.push(t),this.$$panelRightStruct.after(t.createButtonMarkup(this.getPage()))}})}),define("syracuse-tablet/html/js/authoring/authoringDrag",["require","exports","module","syracuse-tablet/html/js/authoring/authoringHelpers","syracuse-tablet/html/js/controls/ctrlFactory","syracuse-tablet/html/js/helpers/notifications","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){"use strict";function u(e){if(!e.toType)return!1;var t,n;e.ctrl&&(e.container=e.ctrl.parent),e.toCtrl&&e.toCtrl.isLayout()?(n=e.toCtrl,t=e.toType):e.toCtrl&&(n=e.toCtrl.parent,t=n.$type,e.moveBeforeCtrl=e.toCtrl),e.toContainer=n;if(e.action==="add_layout"){if(e.bind=="stack"){if(t!=="stack"&&t!=="cell"&&t!=="tile")return!1}else if(e.bind=="group"){if(t!=="stack"&&t!=="hub")return!1}else if(e.bind=="tile"&&t!=="row"&&t!=="hubGroup"&&t!=="stack"&&t!=="hub")return!1;return!0}if(e.action==="add_bind"){if(e.parent!=e.toParent)return!1;if(t==="stack"||t==="tile"||t==="cell")return!0}if(e.action==="move")if(e.ctrl&&!e.ctrl.isLayout()){e.action="move_ctrl";if(e.parent!=e.toParent)return!1;if(t==="stack"||t==="tile"||t==="cell")return!0}else if(e.ctrl&&e.ctrl.isLayout()){e.action="move_layout";if(e.type=="stack"){if(t!=="stack"&&t!=="cell"&&t!=="tile")return!1}else if(e.type=="tile"){if(t!=="hubGroup")return!1}else if(e.type=="cell"){if(t!=="row")return!1}else if(e.type=="row"){if(t!=="stack"&&t!=="cell"&&t!=="tile")return!1}else if(e.type=="hubGroup"&&t!=="hub")return!1;var r=e.toCtrl.$$elmt.closest("#"+e.ctrl.id);if(r.length>0)return!1;var i=!0,s=e.ctrl.$$elmt.closest(".s-m-control.s-m-vignette"),o=e.toCtrl.$$elmt.closest(".s-m-control.s-m-vignette");return s.length!==o.length?i=!1:o.length===0?i=!0:s.length===1&&o.length===1&&(s.attr("id")===o.attr("id")?i=!0:i=!1),i}return!1}function a(e,t){var n,i,s,o,u;n=t.attr("data-auth-drag-action");switch(n){case"move":i=t.attr("data-ctrl-id");break;case"add_bind":o=t.attr("data-auth-bind"),u=t.attr("data-auth-bind-parent"),u=u===""?null:u;break;case"add_layout":o=t.attr("data-auth-bind");break;default:n="move",i=t.attr("id")}var a,f;if(i&&i.length>0){f=$("#"+i),a=r.findControl(f);var l=a&&a.controller.getParentVignette();l&&(u=l.$bind)}s=e.attr("data-ctrl-id"),s&&s.length>0?f=$("#"+s):(s=e.attr("id"),f=e);var c,h=r.findControl(f);if(h&&h.controller.isVignette){var l=h.controller.getParentVignette();l&&(c=l.$bind)}return{action:n,bind:o,ctrl:a,type:a&&a.$type,parent:u,fromId:i,toId:s,toType:h&&h.$type,toCtrl:h,toParent:c}}function f(e){var t="stack",n=e.toContainer,r;switch(e.bind){case"group":e.toType=="hub"?t="hubGroup":t="row";break;case"tile":e.toType=="hubGroup"?t="tile":e.toType=="row"?t="cell":e.toType=="stack"?(r=i.createLayout(e.toCtrl.controller,n,{$layoutType:"row"},{}),t="cell",n=r):e.toType=="hub"&&(r=i.createLayout(e.toCtrl.controller,n,{$layoutType:"hubGroup"},{}),t="tile",n=r);break;case"stack":t="stack"}var o={$layoutType:t},u=i.createLayout(e.toCtrl.controller,n,o,{});e.moveBeforeCtrl&&(r?(e.toContainer.removeChildRef(r),e.toContainer.addChildBefore(r,e.moveBeforeCtrl)):(n.removeChildRef(u),n.addChildBefore(u,e.moveBeforeCtrl))),s.publish(["sm.auth.change.item.prop.ui"])}function l(e){var t={$bind:e.bind},n=i.createBindControl(e.toCtrl.controller,e.toContainer,t,{});e.moveBeforeCtrl&&(e.toContainer.removeChildRef(n),e.toContainer.addChildBefore(n,e.moveBeforeCtrl)),s.publish(["sm.auth.change.item.prop.ui"])}function c(e){e.container.removeChildRef(e.ctrl),e.toContainer.addChildBefore(e.ctrl,e.moveBeforeCtrl),s.publish(["sm.auth.change.item.prop.ui"])}function h(e){e.container.removeChildRef(e.ctrl),e.toContainer.addChildBefore(e.ctrl,e.moveBeforeCtrl),s.publish(["sm.auth.change.item.prop.ui"])}function p(e){var t=e.prototype&&e.prototype.data("$title");return t?e.$bind&&(t=t+" ("+e.$bind+")"):t=e.$bind,t||(t=e.$type),t}var r=e("syracuse-tablet/html/js/authoring/authoringHelpers"),i=e("syracuse-tablet/html/js/controls/ctrlFactory"),s=e("syracuse-tablet/html/js/helpers/notifications"),o=e("syracuse-tablet/html/js/helpers/locale");t.getClosestDragElement=function(e){var t=e.closest(".ui-draggable");return t},t.dropDrop=function(e,t,n){var r=a(e,n);if(!u(r))return;r.action==="add_layout"?f(r):r.action=="add_bind"?l(r):r.action=="move_ctrl"?c(r):r.action=="move_layout"&&h(r)},t.dropAccept=function(e,t){var n=a(e,t);return!0},t.dropOver=function(e,t,n){var r=a(e,n),i=u(r);t.removeClass("drop_move"),t.removeClass("drop_add"),t.removeClass("drop_disabled");if(!i){t.addClass("drop_disabled"),$("#s-m-auth-drag-helper-desc-id",t).text("");return}var s="",f;r.moveBeforeCtrl?f=p(r.moveBeforeCtrl):f=p(r.toContainer);switch(r.action){case"add_layout":r.moveBeforeCtrl?s=o.text("auth.drag.add.before",[f]):s=o.text("auth.drag.add.intoend",[f]),t.addClass("drop_add");break;case"add_bind":r.moveBeforeCtrl?s=o.text("auth.drag.add.before",[f]):s=o.text("auth.drag.add.intoend",[f]),t.addClass("drop_add");break;case"move_ctrl":r.moveBeforeCtrl?s=o.text("auth.drag.move.before",[f]):s=o.text("auth.drag.move.intoend",[f]),t.addClass("drop_move");break;case"move_layout":r.moveBeforeCtrl?s=o.text("auth.drag.move.before",[f]):s=o.text("auth.drag.move.intoend",[f]),t.addClass("drop_move")}$("#s-m-auth-drag-helper-desc-id",t).text(s)}}),define("syracuse-tablet/html/js/authoring/authoringPanelLeft",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/jsutils","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/notifications","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/authoring/authoringHtml","syracuse-tablet/html/js/authoring/authoringDrag"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/jsutils"),s=e("syracuse-tablet/html/js/helpers/locale"),o=e("syracuse-tablet/html/js/helpers/globals"),u=e("syracuse-tablet/html/js/helpers/notifications"),a=e("syracuse-tablet/html/js/ui/uiUtils"),f=e("syracuse-tablet/html/js/authoring/authoringHtml"),l=e("syracuse-tablet/html/js/authoring/authoringDrag"),c;t.Panel=r.defineClass(function(){var t=this;t.$$panel=null,t.$$page=$("#s-m-app-id"),t._bindsOnPage=[]},null,{show:function(){var e=this;e._ensurePanel(),e._subscribe(),e.$$panel.show(),e.$$splitter.show()},hide:function(){var e=this;e._ensurePanel(),e.$$panel.hide(),e.$$splitter.hide(),e._unscribe()},_subscribe:function(){var e=this;u.subscribe(e,["sm.main.layout.changed"]),u.subscribe(e,["sm.auth.set.page"]),u.subscribe(e,["sm.auth.change.prop.ui"]),u.subscribe(e,["sm.auth.set.selection"]),u.subscribe(e,["sm.auth.remove.selection"]),u.subscribe(e,["sm.auth.hover.in"]),u.subscribe(e,["sm.auth.hover.out"]),u.subscribe(e,["sm.page.loaded"])},_unscribe:function(){var e=this;u.unsubscribe(e,["sm.main.layout.changed"]),u.unsubscribe(e,["sm.auth.set.page"]),u.unsubscribe(e,["sm.auth.change.prop.ui"]),u.unsubscribe(e,["sm.auth.set.selection"]),u.unsubscribe(e,["sm.auth.remove.selection"]),u.unsubscribe(e,["sm.auth.hover.in"]),u.unsubscribe(e,["sm.auth.hover.out"]),u.unsubscribe(e,["sm.page.loaded"])},notifMainLayoutChanged:function(){var e=this;$("#s-m-auth-tree-box",e.$$panel).css({height:e.$$panel.height()-40}),$("#s-m-auth-insert-box",e.$$panel).css({height:e.$$panel.height()-40})},_ensurePanel:function(){var e=this;if(this.$$panel)return;var t={label_content:s.text("auth.panel.label_content"),label_insert:s.text("auth.panel.label_insert"),label_containers:s.text("auth.panel.label_containers"),label_fields:s.text("auth.panel.label_fields"),lab_drag_to_add:s.text("auth.label_layout.drag"),lab_group:s.text("auth.label_layout.group"),lab_tile:s.text("auth.label_layout.tile"),lab_stack:s.text("auth.label_layout.stack")};e.$$panel=$("#s-m-auth-panel-left-id"),e.$$panel.append($(f.execute("authPanelLeftStructure",t))),e._getDomObjects(),e._initSplitter()},_getDomObjects:function(){var e=this;e.$$structureRoot=$("#auth-structure-root-id",e.$$panel),e.$$prototypeRoot=$("#auth-lp-cnt-props-clpse",e.$$panel)},_initSplitter:function(){var e=this;e.$$splitter=$("#s-m-auth-splitter-left-id"),e.$$splitter.draggable({axis:"x",stop:function(e,t){var n=$(this),r=n.position(),i=n.width(),s=r.left;a.triggerResizeInternal({layout:{authPanelLeft:{width:s}}})}})},notifAuthSetPage:function(e){var t=this;t._resetContent(e.article)},notifAuthChangePropUi:function(e){var t=this,n=JSON.parse(e);t._resetContent(n)},notifPageLoaded:function(e){var t=this;o.getCurrentPage().isDashboard()&&t._resetContent(o.getCurrentPage().article)},_resetContent:function(e){var t=this;t._buildPageStructTree(),t._buildProtoStructTree(),t._initDomEvents(),t._initDrag()},notifAuthSetSelection:function(e){var t=this,n=t._getItemById(e);n.length>0&&(n.addClass("s-m-auth-selected"),$("#s-m-auth-tree-box",t.$$panel).animate({scrollTop:n.offset().top},500))},notifAuthRemoveSelection:function(e){var t=this,n=t._getItemById(e);n.removeClass("s-m-auth-selected")},notifAuthHoverIn:function(e){var t=this,n=t._getItemById(e);n.addClass("s-m-auth-hover")},notifAuthHoverOut:function(e){var t=this,n=t._getItemById(e);n.removeClass("s-m-auth-hover")},_getItemById:function(e){var t=this;return $('[data-ctrl-id="'+e+'"]',t.$$panel)},_buildPageStructTree:function(){function t(n,r,i){var s=n.getArticle(),o=n.id,u,a;if(n.isControl()){var f=n.prototype&&n.prototype.data("$title");u=n.typeName,a=f?f+" ("+s.$bind+")":s.$bind+" ("+s.$bind+")";var l=i!=null?i+"."+n.$bind:n.$bind;e._bindsOnPage.push(l)}else u=s.$layoutType||n.typeName,a=s.$title?s.$title+" ("+u+")":u;var c=$('<li class="s-m-auth-tree s-m-auth-tree-'+u+'">').appendTo(r),h=$('<p data-ctrl-id="'+o+'" class="s-m-draggable s-m-droppable" data-auth-drag-action="move">'+a+"</p>");c.append(h);if(n.isVignette()){e._bindsOnPage.push(n.$bind);var p=n.getPage();if(p){var d=p.rootLayout,v=$('<ul class="s-m-auth-tree">').appendTo(c),m=t(d,v,n.$bind);$(">p",m).removeClass("s-m-draggable")}}else n.children&&n.children.length>0&&n.children.forEach(function(e){var n=$('<ul class="s-m-auth-tree">').appendTo(c);t(e,n,i)});return c}var e=this;e._bindsOnPage=[];var n=o.getApplication().currentPage,r=n.rootLayout,i=n.prototype.data("$title");e.$$structureRoot.empty();var s=$('<li class="s-m-auth-tree s-m-auth-tree-page">').appendTo(e.$$structureRoot);s.append('<p data-ctrl-id="'+n.id+'">'+i+"</p>");var u=$('<ul class="s-m-auth-tree">').appendTo(s),a=t(r,u);$(">p",a).removeClass("s-m-draggable")},_buildProtoStructTree:function(){var e=this,t=o.getApplication().currentPage,n=t.prototype.data("$title");e.$$prototypeRoot.empty();var r=$('<li class="s-m-auth-tree s-m-auth-tree-page">').appendTo(e.$$prototypeRoot);r.append('<p data-ctrl-id="'+t.id+'">'+n+"</p>");var s=$('<ul class="s-m-auth-tree">').appendTo(r);if(i.isInstanceOf(t,"DashboardPage")){var u=t.prototype.getPropertyNames();u.forEach(function(n){e._addVignette(t,n,s)})}else e._addPage(t,s)},_addVignette:function(e,t,n){var r=this,i=e.prototype,s=i.property(t),o=i.property(t,"$title"),u=o?o+" ("+t+")":t,a=$('<li class="s-m-auth-tree s-m-auth-tree-vignette">').appendTo(n);a.append('<p class="s-m-draggable" data-auth-bind="'+t+'"  data-auth-drag-action="add_bind">'+u+"</p>");var f=e.getControlByBind(t);if(f){a.removeClass("s-m-draggable"),a.addClass("disabled"),e=f.getPage();if(e){var l=$('<ul class="s-m-auth-tree">').appendTo(a);r._addPage(e,l,t);var c=$("li",l);r._bindsOnPage.indexOf(t)>-1&&c.length<=0&&a.remove(),c.length<=0&&l.remove()}else r._bindsOnPage.indexOf(t)>-1&&a.remove()}},_addPage:function(e,t,n){var i=this,s="?",o=e.prototype,u=o.getPropertyNames();u.forEach(function(e){if(o.property(e,"$isExcluded")!==!0){var s=n!=null?n+"."+e:e;if(i._bindsOnPage.indexOf(s)<0){var u=o.property(e,"$title"),a=o.property(e,"$type"),f=r.getTypeName(a),l=u?u+" ("+e+")":e,c=$('<li class="s-m-auth-tree s-m-auth-tree-'+f+'">').appendTo(t);c.append('<p class="s-m-draggable" data-auth-bind="'+e+'" data-auth-bind-parent="'+(n||"")+'" data-auth-drag-action="add_bind">'+l+"</p>")}}})},_initDomEvents:function(){var e=this;$("li.s-m-auth-tree > p",$("#auth-structure-root-id")).mouseover(function(t){var n=$(t.currentTarget);if(c){c.removeClass("s-m-auth-hover");var r=c.attr("id");u.publishEx(["sm.auth.hover.out"],{exclude:[e]},r)}n.addClass("s-m-auth-hover"),c=n;var r=n.attr("data-ctrl-id");return u.publishEx(["sm.auth.hover.in"],{exclude:[e]},r),!1}),$("li.s-m-auth-tree > p",$("#auth-structure-root-id")).mouseout(function(t){var n=$(t.currentTarget);n.removeClass("s-m-auth-hover");var r=n.attr("data-ctrl-id");u.publishEx(["sm.auth.hover.out"],{exclude:[e]},r)}),$("li.s-m-auth-tree > p",$("#auth-structure-root-id")).click(function(t){return e.setSelection($(t.currentTarget)),!1}),$("li.s-m-auth-tree > p",$("#auth-structure-root-id")).dblclick(function(t){return e.makeVisibleInPage($(t.currentTarget)),!1})},setSelection:function(e,t){var n=this,r=$(".s-m-auth-selected",n.$$panel);r.removeClass("s-m-auth-selected");var i=r.attr("data-ctrl-id");u.publishEx(["sm.auth.remove.selection"],{exclude:[n]},i),e?(e.addClass("s-m-auth-selected"),i=e.attr("data-ctrl-id")):i=null,u.publishEx(["sm.auth.set.selection"],{exclude:[n]},i,t==null?!0:t)},makeVisibleInPage:function(e){var t=this;t.setSelection(e,!1)},_initDrag:function(){var e=this,t={scroll:!1,containment:$("body"),helper:function(t){var n=$(t.target);return e._createDragHelper(n)},appendTo:"body"};$(".s-m-draggable",e.$$panel).draggable(t),$(".s-m-droppable",e.$$structureRoot).droppable({greedy:!0,hoverClass:"s-m-auth-hover-droptarget",tolerance:"pointer",drop:function(e,t){var n=t.helper,r=t.draggable;return l.dropDrop($(this),n,r)},accept:function(e){return l.dropAccept($(this),e)},over:function(e,t){var n=t.helper,r=t.draggable;return l.dropOver($(this),n,r)}})},_createDragHelper:function(e){var t=l.getClosestDragElement(e),n;if(t.attr("data-auth-drag-action")==="add_layout"){var r=t.attr("data-auth-bind");n=s.text("auth.drag."+r)}else n=t.text();var i=$('<div class="s-m-auth-drag-helper"><p id="s-m-auth-drag-helper-label-id"><p id="s-m-auth-drag-helper-desc-id"><div>');return $("#s-m-auth-drag-helper-label-id",i).text(n),i[0]}})}),define("syracuse-tablet/html/js/authoring/authoringPage",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/notifications","syracuse-tablet/html/js/authoring/authoringHelpers","syracuse-tablet/html/js/authoring/authoringDrag"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/notifications"),s=e("syracuse-tablet/html/js/authoring/authoringHelpers"),o=e("syracuse-tablet/html/js/authoring/authoringDrag"),u,a=[".s-m-array .s-m-control",".s-m-array .s-m-layout",".s-m-control.header",".s-m-control.footer",".s-m-control.navigationpanel",".s-m-control.pageactionpanelregular"];t.AuthPage=r.defineClass(function(){var t=this;t.__onElementClick=t._onElementClick.bind(t),t.__onElementMouseOver=t._onElementMouseOver.bind(t),t.__onElementMouseOut=t._onElementMouseOut.bind(t),t.$$page=$("#s-m-app-id")},null,{enable:function(){var e=this;e._subscribe()},disable:function(){var e=this;e._unscribe()},enableAuthCss:function(){var e=this;e.disableAuthCss(),$(".s-m-control").addClass("s-m-auth"),$(".s-m-layout").addClass("s-m-auth"),$(".s-m-layout").addClass("s-m-auth"),$(".s-m-page").addClass("s-m-auth"),a.forEach(function(e){$(e).removeClass("s-m-auth")}),$(".s-m-auth",e.$$page).on("click",e.__onElementClick),$(".s-m-auth",e.$$page).on("mouseover",e.__onElementMouseOver),$(".s-m-auth",e.$$page).on("mouseout",e.__onElementMouseOut),e._enableDrop()},disableAuthCss:function(){var e=this;e._disableDrop(),$(".s-m-auth",e.$$page).off("click",e.__onElementClick),$(".s-m-auth",e.$$page).off("mouseover",e.__onElementMouseOver),$(".s-m-auth",e.$$page).off("mouseout",e.__onElementMouseOut),$(".s-m-auth",e.$$page).removeClass("s-m-auth")},_subscribe:function(){var e=this;i.subscribe(e,["sm.auth.hover.in"]),i.subscribe(e,["sm.auth.hover.out"]),i.subscribe(e,["sm.auth.set.selection"]),i.subscribe(e,["sm.auth.remove.selection"])},_unscribe:function(){var e=this;i.unsubscribe(e,["sm.auth.hover.in"]),i.unsubscribe(e,["sm.auth.hover.out"]),i.unsubscribe(e,["sm.auth.set.selection"]),i.unsubscribe(e,["sm.auth.remove.selection"])},_enableDrop:function(){var e=this,t={scroll:!1,containment:$("body"),helper:function(t){var n=$(t.target);return e._createDragHelper(n)},appendTo:"body",revert:function(e){return"invalid"},start:function(){},stop:function(){}};$(".s-m-auth").droppable({greedy:!0,hoverClass:"s-m-auth-hover-droptarget",tolerance:"pointer",drop:function(e,t){var n=t.helper,r=t.draggable;return o.dropDrop($(this),n,r)},accept:function(e){return o.dropAccept($(this),e)},over:function(e,t){var n=t.helper,r=t.draggable;return o.dropOver($(this),n,r)}})},_disableDrop:function(){$(".s-m-auth.ui-droppable").droppable("destroy")},_createDragHelper:function(e){var t=o.getClosestDragElement(e),n=s.findControl(t);if(!n)return;var r=$('<p class="s-m-auth-drag-helper">'),i;return n.prototype?(i=n.prototype.data("$title"),i?i=i+"("+n.$bind+")":i=n.$bind):(i=n.title,i?i=i+" ("+n.typeName+")":i=n.typeName),r.text(i),r[0]},_onElementClick:function(e){var t=this,n=$(e.currentTarget),s=$(".s-m-auth-selected",t.$$page);s.removeClass("s-m-auth-selected");var o=s.attr("id");i.publishEx(["sm.auth.remove.selection"],{exclude:[t]},o),n.addClass("s-m-auth-selected"),o=n.attr("id"),i.publishEx(["sm.auth.set.selection"],{exclude:[t]},o);if(r.stopClickEvent(e))return!1},_onElementMouseOver:function(e){var t=this,n=$(e.currentTarget);return u&&(u.removeClass("s-m-auth-hover"),i.publishEx(["sm.auth.hover.out"],{exclude:[t]},u.attr("id"))),i.publishEx(["sm.auth.hover.in"],{exclude:[t]},n.attr("id")),n.addClass("s-m-auth-hover"),u=n,!1},_onElementMouseOut:function(e){var t=this,n=$(e.currentTarget);n.removeClass("s-m-auth-hover"),i.publishEx(["sm.auth.hover.out"],{exclude:[t]},n.attr("id"))},notifAuthHoverIn:function(e){var t=this,n=t._getItemById(e);n.addClass("s-m-auth-hover")},notifAuthHoverOut:function(e){var t=this,n=t._getItemById(e);n.removeClass("s-m-auth-hover")},notifAuthSetSelection:function(e,t){var n=this,r=n._getItemById(e);r&&r.length>0&&r.addClass("s-m-auth-selected")},notifAuthRemoveSelection:function(e){var t=this,n=t._getItemById(e);n.removeClass("s-m-auth-selected")},_getItemById:function(e){var t=this;return $("#"+e,t.$$page)},getCurrentSelectionId:function(){var e=this,t=$(".s-m-auth-selected",e.$$page);return t.attr("id")}})}),define("syracuse-tablet/html/js/ui/modals/modalChooseDevice",["require","exports","module","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/ui/modals/modalDialog"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/globals"),i=e("syracuse-tablet/html/js/helpers/utils"),s=e("syracuse-tablet/html/js/helpers/locale"),o=e("syracuse-tablet/html/js/ui/modals/modalDialog"),u={header:'			<buttons class="pull-right"> 				<button type="button" class="btn btn-default s-m-modal-btn-cancel" data-action="$cancel"></button> 			</buttons> 			<div class="modal-title">{{title}}</div> 			',content:' 			<div class="s-m-scroll-wrapper s-m-scroll-wrapper-v">				<div class="form-group s-m-scroll-element"> 					<div class="list-group" id="modal-device-select-list-id"> 						{{#each devices}} 							<a draggable="false" href="#" class="list-group-item" data-action="clickDevice" data-params="{{name}}">{{label}}</a> 						{{/each}} 					</div> 				</div> 		    </div>',footer:""},a=i.defineClass(function(t){var n=this;o.ModalBase.call(n),n.selectedDevice=t},o.ModalBase,{_getTemplates:function(){var e=this;return{std:u}},getDisplayFlags:function(){var e=this,t=e.displayFlags||{};return e.deviceType==="tablet"?t.modalClass="config-tile half_right":t.modalClass="config-tile full",t},_getDataContext:function(){var e=this,t=[],n=r.getSiteLayout(),i=n.getDeviceTemplates();for(var o in i)t.push({name:o,label:s.textOpt("auth.device."+o+".title")||o});var u={title:s.text("auth.device.title"),devices:t};return u},_onShow:function(){var e=this;o.ModalBase.prototype._onShow.call(e),$('a[data-params="'+e.selectedDevice+'"]').addClass("active")},_onValidate:function(){},_onCancel:function(){var e=this;e.selectedApps={}},_onAction:function(e,t){var n=this;return e==="clickDevice"?(n.selectedDevice=t,!0):!1},_getResult:function(){var e=this;return e.selectedDevice}});t.Modal=a}),define("syracuse-tablet/html/js/ui/modals/modalNewLayout",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/ui/modals/modalDialog"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/locale"),s=e("syracuse-tablet/html/js/ui/modals/modalDialog"),o={header:'		<buttons class="pull-right"> 			<button type="button" class="btn btn-default s-m-modal-btn-validate" data-action="$validate"></button> 			<button type="button" class="btn btn-default s-m-modal-btn-cancel" data-action="$cancel"></button> 		</buttons> 		<div class="modal-title">{{title}}</div> 			',content:' 			<div class="s-m-scroll-wrapper s-m-scroll-wrapper-v">				<div class="alert alert-warning" role="alert"> 					{{warning}} 				</div> 				<div class="form-group" id="dir"> 					<label>{{lab_dir}}</label>         			<div class="btn-group btn-group-vertical btn-group-justified" data-toggle="buttons"> 						<label class="btn btn-default {{#if horizontal}}active{{/if}}"> 							<input type="radio" id="horizontal" name="scroll" value="horizontal" {{#if horizontal}}checked{{/if}}/>{{lab_horizontal}}						</label> 						<label class="btn btn-default {{#unless horizontal}}active{{/unless}}"> 							<input type="radio" id="vertical" name="scroll" value="vertical" {{#unless horizontal}}checked{{/unless}}/>{{lab_vertical}}						</label> 					</div> 				</div> 				<div class="form-group" id="tpl"> 					<label>{{lab_tpl}}</label> 					<div class="btn-group btn-group-vertical btn-group-justified" data-toggle="buttons"> 						<label class="btn btn-default {{#if template}}active{{/if}}"> 							<input type="radio" id="template" name="empty" value="true" {{#if template}}checked{{/if}}/>{{lab_template}}						</label> 						<label class="btn btn-default {{#unless template}}active{{/unless}}"> 							<input type="radio" id="empty" name="empty" value="false" {{#unless template}}checked{{/unless}}/>{{lab_empty}}						</label> 					</div> 				</div> 			</div>',footer:""},u=r.defineClass(function(t){var n=this;s.ModalBase.call(n),n._defaults=t,n.result=null},s.ModalBase,{_getTemplates:function(){var e=this;return{std:o}},getDisplayFlags:function(){var e=this,t=e.displayFlags||{};return e.deviceType==="tablet"?t.modalClass="half_right":t.modalClass="full",t},_getDataContext:function(){var e=this,t={label_validate:i.text("modal.ok"),label_cancel:i.text("modal.cancel"),title:i.text("modal.newlayout.title"),warning:i.text("modal.newLayout.warning"),lab_horizontal:i.text("modal.newLayout.horizontal"),lab_vertical:i.text("modal.newLayout.vertical"),lab_template:i.text("modal.newLayout.template"),lab_empty:i.text("modal.newLayout.empty"),lab_dir:i.text("modal.newLayout.dir"),lab_tpl:i.text("modal.newLayout.tpl"),horizontal:e._defaults.scroll==="horizontal",template:e._defaults.template};return t},_onValidate:function(){var e=this,t=e.$$elmt.find("#dir label.active input").val(),n=e.$$elmt.find("#tpl label.active input").val();e.result={scroll:t,template:n==="true"}},_onCancel:function(){var e=this;e.result=null},_getResult:function(){var e=this;return e.result}});t.Modal=u}),define("syracuse-tablet/html/js/authoring/authoringHeader",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/jsutils","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/helpers/notifications","syracuse-tablet/html/js/authoring/authoringHtml","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/ui/modals/modalChooseDevice","syracuse-tablet/html/js/authoring/authoringHelpers","syracuse-tablet/html/js/ui/modals/modalNewLayout"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/jsutils"),s=e("syracuse-tablet/html/js/helpers/locale"),o=e("syracuse-tablet/html/js/helpers/notifications"),u=e("syracuse-tablet/html/js/authoring/authoringHtml"),a=e("syracuse-tablet/html/js/ui/uiUtils"),f=e("syracuse-tablet/html/js/helpers/globals"),l=e("syracuse-tablet/html/js/ui/modals/modalChooseDevice"),c=e("syracuse-tablet/html/js/authoring/authoringHelpers"),h=e("syracuse-tablet/html/js/ui/modals/modalNewLayout");t.Panel=r.defineClass(function(){var t=this;t.$$panel=null},null,{show:function(){var e=this;e._ensurePanel(),e._subscribe(),e.$$panel.show(),e._initDefaults()},hide:function(){var e=this;e._ensurePanel(),e.$$panel.hide(),e._unscribe()},_ensurePanel:function(){var e=this;if(this.$$panel)return;var t={label_settings:s.text("auth.device.settings"),label_save:s.text("auth.panel.label_save"),label_close:s.text("auth.panel.label_close"),label_remove:s.text("auth.panel.label_remove"),label_remove_container:s.text("auth.panel.label_remove_container"),label_remove_all:s.text("auth.panel.label_remove_all"),label_new_layout:s.text("auth.panel.label_new_layout"),label_preview_portrait:s.text("auth.panel.label_preview_portrait"),label_preview_landscape:s.text("auth.panel.label_preview_landscape"),label_scale_to_fit:s.text("auth.panel.label_scale_to_fit")};e.$$panel=$("#s-m-auth-panel-header-id"),e.$$panel.append($(u.execute("authPanelHeader",t))),e._getDomObjects(),e._initDomEvents()},_getDomObjects:function(){var e=this;e.$$orientation=$("#s-m-auth-orientation-id",e.$$panel),e.$$removeItem=$("#s-m-auth-remove-id",e.$$panel),e.$$removeCnt=$("#s-m-auth-remove-cnt-id",e.$$panel),e.$$removeAllItems=$("#s-m-auth-remove-all-id",e.$$panel),e.$$newLayout=$("#s-m-auth-new-layout-id",e.$$panel)},_initDomEvents:function(){var e=this;$("#s-m-auth-settings-id").on("click",e._onChooseDevice.bind(e)),$("#s-m-auth-scale-id").on("click",e._onScaleDevice.bind(e)),$("#s-m-auth-vertical-id").on("click",e._onOrientation.bind(e)),$("#s-m-auth-horizontal-id").on("click",e._onOrientation.bind(e)),e.$$removeItem.on("click",e._onRemoveItem.bind(e)),e.$$removeCnt.on("click",e._onRemoveCnt.bind(e)),e.$$removeAllItems.on("click",e._onRemoveAllItems.bind(e)),e.$$newLayout.on("click",e._onNewLayout.bind(e)),$("#auth-btn-save-id").on("click",e._onSave.bind(e)),$("#auth-btn-close-id").on("click",e._onClose.bind(e))},_initDefaults:function(){var e=this},_subscribe:function(){var e=this;o.subscribe(e,["sm.main.layout.changed"]),o.subscribe(e,["sm.auth.set.selection"]),o.subscribe(e,["sm.auth.change.prop.ui"])},_unscribe:function(){var e=this;o.unsubscribe(e,["sm.main.layout.changed"]),o.unsubscribe(e,["sm.auth.set.selection"]),o.unsubscribe(e,["sm.auth.change.prop.ui"])},notifMainLayoutChanged:function(){var e=this,t=f.getSiteLayout(),n=t.getCurrentLayoutSettings();n.pageParameters.forceAutoScale===!0?$("#s-m-auth-scale-id").addClass("active"):$("#s-m-auth-scale-id").removeClass("active"),n.pageParameters.orientation==="landscape"?($("#s-m-auth-horizontal-id").addClass("active"),$("#s-m-auth-vertical-id").removeClass("active")):($("#s-m-auth-horizontal-id").removeClass("active"),$("#s-m-auth-vertical-id").addClass("active"))},notifAuthChangePropUi:function(e){var t=this},notifAuthSetSelection:function(e){var t=this;t._currentSelectionId=e,t._enableRemoveBtn()},_enableRemoveBtn:function(){var e=this,t=!1,n=!1,r,i,s;e._currentSelectionId&&(r=c.getSelectionById(e._currentSelectionId),i=r&&c.getSelectionData(r),!i||!i.control?t=!1:t=!0),i&&i.control&&i.control&&(i.control.isRoot()&&(t=!1),i.control.isLayout()&&(n=!0)),t!==!1?e.$$removeItem.removeClass("disabled"):e.$$removeItem.addClass("disabled"),n!==!1?e.$$removeCnt.removeClass("disabled"):e.$$removeCnt.addClass("disabled")},_setDeviceSize:function(e,t){var n=this,r={layout:{pageParameters:{}}};e&&(r.layout.pageParameters.device=e),t&&(r.layout.pageParameters.orientation=t),a.triggerResizeInternal(r)},_onRemoveItem:function(){var e=this;if(!e._currentSelectionId)return;var t=c.getSelectionById(e._currentSelectionId),n=t&&c.getSelectionData(t);if(!n||!n.control||n.control.isRoot())return;e._enableRemoveBtn(!1),n.control.parent.removeChild(n.control),o.publish(["sm.auth.change.item.prop.ui"])},_onRemoveCnt:function(){var e=this;if(!e._currentSelectionId)return;var t=c.getSelectionById(e._currentSelectionId),n=t&&c.getSelectionData(t);if(!n||!n.control)return;n.control.removeChildren(),o.publish(["sm.auth.change.item.prop.ui"])},_onRemoveAllItems:function(){var e=f.getApplication().currentPage;e.rootLayout.removeChildren(),o.publish(["sm.auth.change.item.prop.ui"])},_onClose:function(){var e=this;o.publish(["sm.auth.close"])},_onSave:function(){var e=this;o.publish(["sm.auth.save"])},_onChooseDevice:function(e){var t=this,n=f.getSiteLayout(),r=n.getCurrentLayoutSettings(),i=new l.Modal(r.pageParameters.device);i.show().then(function(e){e!=null&&(t._setDeviceSize(e),o.publish(["sm.auth.display.changed"],"device"))})},_onScaleDevice:function(e){var t=f.getSiteLayout(),n=t.getCurrentLayoutSettings(),r={layout:{pageParameters:{forceAutoScale:n.pageParameters.forceAutoScale===!1}}};a.triggerResizeInternal(r),o.publish(["sm.auth.display.changed"],"scale")},_onOrientation:function(e){var t=this,n=$(e.currentTarget).attr("data-auth-orientation");n&&(t._setDeviceSize(null,n),o.publish(["sm.auth.display.changed"],"orientation"))},_onNewLayout:function(){var e=this,t=f.getApplication().currentPage,n={scroll:i.isInstanceOf(t,"DashboardPage")?"horizontal":"vertical",template:!0},r=new h.Modal(n);r.show().then(function(e){e!=null&&o.publish(["sm.auth.new.layout"],e.scroll,e.template)})}})}),define("syracuse-tablet/html/js/authoring/authoringFooter",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/notifications","syracuse-tablet/html/js/authoring/authoringHtml"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/notifications"),s=e("syracuse-tablet/html/js/authoring/authoringHtml");t.Panel=r.defineClass(function(){var t=this;t.$$panel=null},null,{show:function(){var e=this;e._ensurePanel(),e._subscribe(),e.$$panel.show(),e._initDefaults()},hide:function(){var e=this;e._ensurePanel(),e.$$panel.hide(),e._unscribe()},_ensurePanel:function(){var e=this;if(this.$$panel)return;var t={};e.$$panel=$("#s-m-auth-panel-footer-id"),e.$$panel.append($(s.execute("authPanelFooter",t))),e._getDomObjects(),e._initDomEvents()},_getDomObjects:function(){var e=this},_initDomEvents:function(){var e=this},_initDefaults:function(){var e=this},_subscribe:function(){var e=this;i.subscribe(e,["sm.main.layout.changed"]),i.subscribe(e,["sm.auth.set.selection"]),i.subscribe(e,["sm.auth.change.prop.ui"])},_unscribe:function(){var e=this;i.unsubscribe(e,["sm.main.layout.changed"]),i.unsubscribe(e,["sm.auth.set.selection"]),i.unsubscribe(e,["sm.auth.change.prop.ui"])},notifMainLayoutChanged:function(){var e=this},notifAuthChangePropUi:function(e){var t=this},notifAuthSetSelection:function(e){var t=this}})}),define("syracuse-tablet/html/js/ui/modals/modalSaveAuth",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/ui/modals/modalDialog"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/locale"),s=e("syracuse-tablet/html/js/ui/modals/modalDialog"),o={header:'			<buttons class="pull-right"> 				<button type="button" class="btn btn-default s-m-modal-btn-validate" data-action="$validate"></button> 				<button type="button" class="btn btn-default s-m-modal-btn-cancel" data-action="$cancel"></button> 			</buttons> 			<div class="modal-title">{{title}}</div> 			',content:' 			<div class="s-m-scroll-wrapper s-m-scroll-wrapper-v">			<div class="s-m-scroll-element"> 				<div class="form-group"> 					<label>{{label_code}}</label> 					<input class="form-control" id="authCode" value="{{authCodeDefault}}" /> 				</div> 				<div class="form-group"> 					<label>{{label_title}}</label> 					<input class="form-control" id="authTitle" value="{{authTitleDefault}}" /> 				</div> 				<div class="form-group"> 					<label>{{label_description}}</label> 					<input class="form-control" id="authDescription" value="{{authDescriptionDefault}}"  /> 				</div> 				<label>{{label_saveas_option}}</label> 				<div class="btn-group btn-group-justified" data-toggle="buttons"> 					<div class="btn-group"> 						<label class="btn btn-primary"> 							<input type="radio" name="options" id="personal_copy" checked>{{label_personal}} 						</label> 					</div> 					<div class="btn-group"> 						<label class="btn btn-primary"> 							<input type="radio" name="options" id="global_variant"> {{label_global}} 						</label> 					</div> 					<div class="btn-group"> 						<label class="btn btn-primary active"> 							<input type="radio" name="options" id="factory_variant">{{label_factory}} 						</label> 					</div> 				</div> 			</div> 			</div>',footer:""},u=r.defineClass(function(t){var n=this;s.ModalBase.call(n),n.saveContext=t,n.result=null},s.ModalBase,{_getTemplates:function(){var e=this;return{std:o}},getDisplayFlags:function(){var e=this,t=e.displayFlags||{};return e.deviceType==="tablet"?t.modalClass="config-tile half_right":t.modalClass="config-tile full",t},_getDataContext:function(){var e=this,t={title:i.text("auth.save.title"),page:e.saveContext.pageName,authCodeDefault:e.saveContext.code,authTitleDefault:e.saveContext.title,authDescriptionDefault:e.saveContext.description,label_code:i.text("auth.panel.label_code"),label_title:i.text("auth.panel.label_title"),label_description:i.text("auth.panel.label_description"),label_saveas_option:i.text("auth.panel.label_saveas_option"),label_personal:i.text("auth.panel.label_personal"),label_global:i.text("auth.panel.label_global"),label_factory:i.text("auth.panel.label_factory"),label_save:i.text("auth.panel.label_save"),label_cancel:i.text("auth.panel.label_cancel")};return t},_onValidate:function(){var e=this,t=e.$$elmt.find("#authCode").val(),n=e.$$elmt.find("#authTitle").val(),r=e.$$elmt.find("#authDescription").val();e.result={code:t,title:n,description:r,saveAs:$("input:radio:checked",e.$$elmt)[0].id}},_onCancel:function(){var e=this;e.result=null},_getResult:function(){var e=this;return e.result}});t.Modal=u}),define("syracuse-tablet/html/js/authoring/authoring",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/notifications","syracuse-tablet/html/js/authoring/authoringHelpers","syracuse-tablet/html/js/authoring/authoringPanelRight","syracuse-tablet/html/js/authoring/authoringPanelLeft","syracuse-tablet/html/js/authoring/authoringPage","syracuse-tablet/html/js/authoring/authoringHeader","syracuse-tablet/html/js/authoring/authoringFooter","syracuse-tablet/html/js/authoring/authoringArticleGen","syracuse-tablet/html/js/authoring/authoringVal","syracuse-tablet/html/js/ui/modals/modalSaveAuth","syracuse-tablet/html/js/ui/modals/modal","syracuse-tablet/html/js/authoring/authoringProperties","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/globals"),s=e("syracuse-tablet/html/js/helpers/notifications"),o=e("syracuse-tablet/html/js/authoring/authoringHelpers"),u=e("syracuse-tablet/html/js/authoring/authoringPanelRight"),a=e("syracuse-tablet/html/js/authoring/authoringPanelLeft"),f=e("syracuse-tablet/html/js/authoring/authoringPage"),l=e("syracuse-tablet/html/js/authoring/authoringHeader"),c=e("syracuse-tablet/html/js/authoring/authoringFooter"),h=e("syracuse-tablet/html/js/authoring/authoringArticleGen"),p=e("syracuse-tablet/html/js/authoring/authoringVal"),d=e("syracuse-tablet/html/js/ui/modals/modalSaveAuth"),v=e("syracuse-tablet/html/js/ui/modals/modal"),m=e("syracuse-tablet/html/js/authoring/authoringProperties"),g=e("syracuse-tablet/html/js/ui/uiUtils"),y=e("syracuse-tablet/html/js/helpers/locale"),b,w;t.toggleDesignPage=function(){b||(b=new E),b.toggleDesignPage()};var E=r.defineClass(function(){var t=this;t.$$authPanel=null,t.isActive=!1,t.rightPanel=new u.Panel,t.leftPanel=new a.Panel,t.headerPanel=new l.Panel,t.footerPanel=new c.Panel,t.authPage=new f.AuthPage,m.initProperties(o)},null,{toggleDesignPage:function(){var e=this;e.isActive?e.disable():e.enable(),g.triggerResizeInternal()},enable:function(){var e=this;e._subscribe(),e.authPage.enable(),e.rightPanel.show(),e.leftPanel.show(),e.headerPanel.show(),e.footerPanel.show();var t=i.getApplication().currentPage;s.publish(["sm.auth.set.page"],t),g.triggerResizeInternal({layout:{authPanelLeft:{visible:!0},authPanelRight:{visible:!0},authPanelHeader:{visible:!0},authPanelFooter:{visible:!0},pageParameters:{forcePreview:!0}}}),e.authPage.enableAuthCss(),e.isActive=!0,i.setAuthoringActive(!0)},disable:function(){var e=this;e.authPage.disable(),e.rightPanel.hide(),e.leftPanel.hide(),e.headerPanel.hide(),e.footerPanel.hide(),e.isActive=!1,e.authPage.disableAuthCss(),g.triggerResizeInternal({layout:{authPanelLeft:{visible:!1},authPanelRight:{visible:!1},authPanelHeader:{visible:!1},authPanelFooter:{visible:!1},pageParameters:{forcePreview:!1}}}),e.isActive=!1,e._unscribe(),i.setAuthoringActive(!1)},_subscribe:function(){var e=this;s.subscribe(e,["sm.page.loaded"]),s.subscribe(e,["sm.auth.change.item.prop.ui"]),s.subscribe(e,["sm.auth.change.prop.ui"]),s.subscribe(e,["sm.auth.close"]),s.subscribe(e,["sm.auth.save"]),s.subscribe(e,["sm.auth.new.layout"]),s.subscribe(e,["sm.auth.set.page"]),s.subscribe(e,["sm.auth.display.changed"])},_unscribe:function(){var e=this;s.unsubscribe(e,["sm.page.loaded"]),s.unsubscribe(e,["sm.auth.change.item.prop.ui"]),s.unsubscribe(e,["sm.auth.change.prop.ui"]),s.unsubscribe(e,["sm.auth.close"]),s.unsubscribe(e,["sm.auth.save"]),s.unsubscribe(e,["sm.auth.new.layout"]),s.unsubscribe(e,["sm.auth.set.page"]),s.unsubscribe(e,["sm.auth.display.changed"])},notifPageLoaded:function(e){var t=this;if(!t.isActive)return;if(e&&e.state&&e.state.disableAuthoring){t.authPage.disableAuthCss(),t.toggleDesignPage();return}e&&!e.isVignette&&s.publish(["sm.auth.set.page"],e),t.authPage.enableAuthCss()},notifAuthSetPage:function(e){var t=this;t.currentPageName=e.state.authoringName},notifAuthChangePropUi:function(e){var t=this;t._updateLayoutPage(e)},notifAuthChangeItemPropUi:function(e){var t=this,n=i.getApplication().currentPage,r=o.rebuildArticleByPageStruct(n);s.publish(["sm.auth.change.prop.ui"],r)},notifAuthClose:function(e){var t=this;t.disable()},notifAuthDisplayChanged:function(e){this.leftPanel.setSelection(null)},notifAuthSave:function(){var e=this,t=e.rightPanel.getPageArticle(),n=p.validateJSON(!0,t,m.getAllProperties());if(!n)return;w=w||{code:y.text("auth.panel.authCodeDefault"),title:y.text("auth.panel.authTitleDefault"),description:y.text("auth.panel.authDescriptionDefault"),saveAs:"personal_copy"},w.pageName=e.currentPageName;var r=new d.Modal(w);r.show().then(function(t){if(t!=null){w=t;var r={code:t.code,title:t.title,description:t.description,saveAs:t.saveAs,article:n};o.saveAuthoring(e.currentPageName,r)}}).fail(function(e){i.getModal().error(e)})},notifAuthNewLayout:function(e,t){var n=i.getApplication().currentPage;h.genNewArticle({page:n,orientation:e,template:t}).then(function(e){var t=p.toSortedJSON(e);s.publish(["sm.auth.change.prop.ui"],t)}).fail(function(e){v.error(e)})},_updateLayoutPage:function(e){var t=this,n=i.getApplication().currentPage;try{var r=JSON.parse(e)}catch(s){}if(!r)return;var u=t._findSelectionPath();o.savePanelStates(),t.authPage.disableAuthCss(),n.updateLayout(r).then(function(){t.authPage.enableAuthCss(),t._selectByPath(u)}).fail(function(e){v.error("Error",e)})},_findSelectionPath:function(){var e=this,t=e.authPage.getCurrentSelectionId(),n=t&&o.getSelectionById(t),r=n&&o.getSelectionData(n);if(!r||!r.control)return null;var i=r.control.getPathInTree();return i},_selectByPath:function(e){var t=this;if(!e)return;var n=i.getApplication().currentPage,r=n.rootLayout.findChildByPath(e);r&&s.publishEx(["sm.auth.set.selection"],{exclude:[t]},r.id)}})}),define("syracuse-tablet/html/js/ui/developmentPage",["require","exports","module","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/storage/localStorage"],function(e,t,n){"use strict";function a(e){s.setItem("devPanelOpen",e?"true":"false")}var r=e("syracuse-tablet/html/js/helpers/globals"),i=e("syracuse-tablet/html/js/ui/uiUtils"),s=e("syracuse-tablet/html/js/storage/localStorage"),o='	<div id="page_dev_mode" style="margin: 0; width: auto; position: absolute; z-index: 9999">     <div class="modal-dialog" style="margin: 0; width: auto;"> 		<div class="modal-content" style="width: 230px;"> 		    <div class="modal-header"> 				<h4 class="modal-title">{{title}}</h4> 		    </div> 		    <div class="modal-body"> 				<div class="form-group"> 					<label>{{label_device}}</label>					<select class="form-control" id="dev-select-device"> 					{{#each devices}}						<option value="{{this.device}}.{{this.orientation}}" {{#if this.selected}}selected{{/if}}>						{{this.description}}						</option>					{{/each}}					</select>					<span class="input-group"> 						<input id="dev-device-scale" type="checkbox" {{#if scaleChecked}}checked{{/if}}>{{label_scale}} 					</span> 				</div> 				<div class="form-group"> 					<span class="input-group"> 						<input id="dev-cache" type="checkbox" {{#if cacheChecked}}checked{{/if}}>{{label_cache}} 	  				</span> 				</div> 			</div> 		    <div class="modal-footer"> 				<button type="button" class="btn" id="btn_dev_close">{{label_close}}</button> 				<button type="button" class="btn btn-default" id="btn_dev_apply">{{label_apply}}</button>     			<button type="button" class="btn" id="btn_dev_ok">{{label_ok}}</button> 			</div> 		</div> 	</div> 	</div>',u=function(){a(!0);if($("#page_dev_mode").is(":visible"))return;var e=Handlebars.compile(o),t=r.getCache(),n=r.getSiteLayout(),u=n.getDeviceTemplates(),f=n.getCurrentLayoutSettings(),l=s.getItem("devPanelDevice"),c={title:"Development settings",label_device:"Device",devices:[],label_scale:"Scale if needed",label_cache:"Disable caching",label_close:"Cancel",label_ok:"Ok",label_apply:"Apply",scaleChecked:s.getItem("devPanelScale")==="true",cacheChecked:s.getItem("devPanelCache")==="true"};c.devices.push({device:"<No emulation>",orientation:"landscape",description:"<No emulation>",selected:l==="<No emulation>.landscape"});for(var h in u)u[h].orientations.forEach(function(e){var t=h,n=e,r={device:h,orientation:e,description:t+" ("+e+")"};r.selected=l===r.device+"."+r.orientation,c.devices.push(r)});e=e(c),$("body").append($(e));var p=$("#page_dev_mode");p.draggable(),$("#btn_dev_ok",p).on("click",function(){d(),p.remove()}),$("#btn_dev_apply",p).on("click",function(){d()}),$("#btn_dev_close",p).on("click",function(){a(!1),p.remove()});var d=function(){var e=p.find("#dev-select-device").val(),n=e.split("."),r={layout:{pageParameters:{}}};s.setItem("devPanelDevice",e),e==="<No emulation>.landscape"?(r.layout.pageParameters.forcePreview=!1,r.layout.pageParameters.forceAutoScale=!1):(r.layout.pageParameters.device=n[0],r.layout.pageParameters.orientation=n[1],r.layout.pageParameters.forcePreview=!0,$("#dev-device-scale",p).is(":checked")===!0?(r.layout.pageParameters.forceAutoScale=!0,s.setItem("devPanelScale","true")):(r.layout.pageParameters.forceAutoScale=!1,s.setItem("devPanelScale","false"))),$("#dev-cache",p).is(":checked")===!0?(s.setItem("devPanelCache","true"),t.disableCache(!0)):(s.setItem("devPanelCache","false"),t.disableCache(!1)),i.triggerResizeInternal(r)};d()};t.wasActive=function(){return s.getItem("devPanelOpen")==="true"},t.show=u}),define("syracuse-tablet/html/js/storage/storageInterface",["require","exports","module","syracuse-tablet/html/js/helpers/utils"],function(e,t,n){"use strict";function s(){this.infoString="Interface only"}function u(e,t,n,r,i){var s={$status:e};return t&&(s.$data=t),i&&(s.$metaData=i),n&&(s.$message=n),r&&(s.$exception=r),s}function a(e,t){return u(i.ERROR,null,e,t)}var r=e("syracuse-tablet/html/js/helpers/utils"),i={OK:1,NOT_FOUND:2,ERROR:3},o=r.defineClass(s,null,{getInfo:function(){return this.infoString},init:function(){throw new Error("Not implemented!")},query:function(e){throw new Error("Not implemented!")},put:function(e){throw new Error("Not implemented!")},read:function(e){throw new Error("Not implemented!")},remove:function(e){throw new Error("Not implemented!")},clearCollection:function(){throw new Error("Not implemented!")}});t.StorageInterface=o,t.StatusCodes=i,t.buildResult=u,t.buildErrResult=a,t.databaseName="sage-tablet-db"}),define("syracuse-tablet/html/js/storage/storageWinJS",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/storage/storageInterface","syracuse-tablet/html/js/helpers/winjs"],function(e,t,n){"use strict";function u(){this.infoString="WinJS storage interface"}var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/globals"),s=e("syracuse-tablet/html/js/storage/storageInterface"),o=e("syracuse-tablet/html/js/helpers/winjs"),a=r.defineClass(u,s.StorageInterface,{init:function(){var e=i.isTestEnvironment();return o.callWinJS("winjsDB","init",{useTestDatabase:e})},queryAppConfigs:function(){return o.callWinJS("winjsDB","queryAppConfigs",{})},createAppConfig:function(e){return o.callWinJS("winjsDB","createAppConfig",{app:e})},readAppConfig:function(e){return o.callWinJS("winjsDB","readAppConfig",{appid:e})},deleteAppConfig:function(e){return o.callWinJS("winjsDB","deleteAppConfig",{appid:e})}});t.StorageInterface=a,t.isAvailable=function(){return o.isAvailable()}}),define("syracuse-tablet/html/js/storage/storageWebSQL",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/storage/storageInterface","syracuse-tablet/html/js/helpers/logger"],function(e,t,n){"use strict";function f(){this.infoString="WebSQL storage interface",this.databaseVersion=u,this.databaseName=s.databaseName,this.useTestDatabase=!1,this.databaseSize=2097152,this.db=null}function c(e,t){return"CODE: "+t.code+" MESSAGE: "+t.message}var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/globals"),s=e("syracuse-tablet/html/js/storage/storageInterface"),o=e("syracuse-tablet/html/js/helpers/logger").getLogger("webSQL"),u=16,a=["DROP TABLE IF EXISTS sdata_meta","CREATE TABLE sdata_meta ( key text, collection text, endpoint text, context text, id text, etag text, last_read text, last_updated text)","DROP INDEX IF EXISTS sdata_meta_pk","CREATE UNIQUE INDEX sdata_meta_pk ON sdata_meta (key, collection, endpoint, context)","DROP INDEX IF EXISTS sdata_meta_id","CREATE UNIQUE INDEX sdata_meta_id ON sdata_meta (id)","DROP TABLE IF EXISTS sdata_objects","CREATE TABLE sdata_objects ( id text, data text )","DROP INDEX IF EXISTS sdata_objects_pk","CREATE UNIQUE INDEX sdata_objects_pk ON sdata_objects (id)"],l=r.defineClass(f,s.StorageInterface,{init:function(){var e=$.Deferred(),t=this,n=i.isTestEnvironment();t.databaseName=s.databaseName+"-test",t.useTestDatabase=n;try{t._openDB().then(function(t){e.resolve(t)}).fail(function(t){e.reject(t)})}catch(r){e.reject(s.buildErrResult("error initializing database",r))}finally{return e.promise()}},put:function(e){var t=$.Deferred(),n=this;try{var i=n.db;o&&o("PUT: ",JSON.stringify(e));if(!e.$key||!e.$collection||!e.$endpoint||!e.$context)throw new Error("Insufficient parameters");var u=JSON.stringify(e.$context),a=[e.$key,e.$collection,e.$endpoint,u],f=function(r){n._executeSql("INSERT INTO sdata_objects (data, id) values (?, ?)",[JSON.stringify(e.$data),r.$id]).then(function(){t.resolve(s.buildResult(s.StatusCodes.OK,e.$data))}).fail(function(e){t.reject(e)})},l=function(r){n._executeSql("UPDATE sdata_objects set data = ? where id = ?",[JSON.stringify(e.$data),r.$id]).then(function(n){t.resolve(s.buildResult(s.StatusCodes.OK,e.$data))}).fail(function(e){t.reject(e)})};n._readMetaData(u,a).then(function(i){i&&i.$etag===e.$data.$etag?t.resolve(s.buildResult(s.StatusCodes.OK,e.$data)):i?(i.$etag=e.$data.$etag,i.$lastUpdated=r.getCurISODateTime(),n._writeMetaData(i).then(function(){l(i)}).fail(function(e){t.reject(e)})):(i={$key:e.$key,$collection:e.$collection,$endpoint:e.$endpoint,$context:e.$context,$etag:e.$data.$etag,$lastUpdated:r.getCurISODateTime()},n._writeMetaData(i).then(function(e){f(e)}).fail(function(e){t.reject(e)}))}).fail(function(e){t.reject(e)})}catch(c){t.reject(s.buildErrResult("error writing to database",c))}finally{return t.promise()}},read:function(e){var t=$.Deferred(),n=this;try{var r=n.db;o&&o("READ: ",JSON.stringify(e));if(!e.$key||!e.$collection||!e.$endpoint||!e.$context)throw new Error("Insufficient parameters");var i=JSON.stringify(e.$context),u=[e.$key,e.$collection,e.$endpoint,i];n._readMetaData(i,u).then(function(e){e?n._executeSql("SELECT * FROM sdata_objects where id = ?",[e.$id]).then(function(n){try{n.rows.length<=0?t.resolve(s.buildResult(s.StatusCodes.NOT_FOUND)):t.resolve(s.buildResult(s.StatusCodes.OK,JSON.parse(n.rows.item(0).data),null,null,{$lastRead:e.$lastRead,$lastUpdated:e.$lastUpdated}))}catch(r){t.reject(s.buildErrResult("error reading from database",r))}}).fail(function(e){t.reject(e)}):t.resolve(s.buildResult(s.StatusCodes.NOT_FOUND))}).fail(function(e){t.reject(e)})}catch(a){t.reject(s.buildErrResult("error reading from database",a))}finally{return t.promise()}},query:function(e){var t=$.Deferred(),n=this;try{var r=n.db;o&&o("QUERY: ",JSON.stringify(e));if(!e.$collection||!e.$endpoint||!e.$context)throw new Error("Insufficient parameters");var i=JSON.stringify(e.$context),u=[e.$collection,e.$endpoint,i];n._executeSql("SELECT o.*, m.last_read, m.last_updated FROM sdata_objects o INNER JOIN sdata_meta m ON (o.id = m.id and m.collection = ? and m.endpoint = ? and m.context = ?)",u).then(function(e){var n=[],r=[];try{for(var i=0;i<e.rows.length;i++){var o=e.rows.item(i);n.push(JSON.parse(o.data)),r.push({$lastRead:o.last_read,$lastUpdated:o.last_updated})}}catch(u){t.reject(s.buildErrResult("error reading from database",u));return}t.resolve(s.buildResult(s.StatusCodes.OK,n,null,null,r))}).fail(function(e){t.reject(e)})}catch(a){t.reject(s.buildErrResult("error reading from database",a))}finally{return t.promise()}},remove:function(e){var t=$.Deferred(),n=this;try{var r=n.db;o&&o("REMOVE: ",JSON.stringify(e));if(!e.$key||!e.$collection||!e.$endpoint||!e.$context)throw new Error("Insufficient parameters");var i=JSON.stringify(e.$context),u=[e.$key,e.$collection,e.$endpoint,i];n._removeMetaData(i,u).then(function(e){e?n._executeSql("DELETE FROM sdata_objects where id = ?",[e.$id]).then(function(){t.resolve(s.buildResult(s.StatusCodes.OK))}).fail(function(e){t.reject(e)}):t.resolve(s.buildResult(s.StatusCodes.NOT_FOUND))}).fail(function(e){t.reject(e)})}catch(a){t.reject(s.buildErrResult("error writing to database",a))}finally{return t.promise()}},clearCollection:function(e){var t=$.Deferred(),n=this;try{var r=n.db;o&&o("CLEAR: ",JSON.stringify(e));if(!e.$collection||!e.$context)throw new Error("Insufficient parameters");var i=JSON.stringify(e.$context),u=[i];n._executeSql("SELECT * FROM sdata_meta").then(function(r){var i=[];try{for(var o=0;o<r.rows.length;o++){var u=r.rows.item(o);e.$collection.test(u.collection)&&i.push({$context:e.$context,$collection:u.collection,$endpoint:u.endpoint,$key:u.key})}$.smForEachPromise(i,function(e){return n.remove(e)}).then(function(){t.resolve(s.buildResult(s.StatusCodes.OK))}).fail(function(e){t.reject(e)})}catch(a){t.reject(s.buildErrResult("error reading from database",a))}}).fail(function(e){t.reject(e)})}catch(a){t.reject(s.buildErrResult("error reading from database",a))}finally{return t.promise()}},_readMetaData:function(e,t,n){var r=$.Deferred(),i=this;try{var u=i.db;i._executeSql("SELECT * FROM sdata_meta where key = ? and collection = ? and endpoint = ? and context = ?",t).then(function(e){try{if(e.rows.length<=0)r.resolve(null);else{var t=e.rows.item(0),u={$key:t.key,$collection:t.collection,$endpoint:t.endpoint,$context:t.context,$id:t.id,$etag:t.etag,$lastRead:t.last_read,$lastUpdated:t.last_updated};o&&o("Read meta data: "+JSON.stringify(u)),n===!0?r.resolve(u):i._writeMetaData(u).then(function(){r.resolve(u)}).fail(function(e){r.reject(s.buildErrResult("error reading from database",e))})}}catch(a){r.reject(s.buildErrResult("error reading from database",a))}}).fail(function(e){r.reject(e)})}catch(a){r.reject(s.buildErrResult("error reading from database",a))}finally{return r.promise()}},_writeMetaData:function(e){var t=$.Deferred(),n=this;try{var i=n.db;e.$lastRead=r.getCurISODateTime(),e.$id?n._executeSql("UPDATE sdata_meta set etag = ?, last_read = ?, last_updated = ? where id = ?",[e.$etag,e.$lastRead,e.$lastUpdated,e.$id]).then(function(n){t.resolve(e)}).fail(function(e){t.reject(e)}):(e.$id=r.UUID(),n._executeSql("INSERT INTO sdata_meta (key, collection, endpoint, context, id, etag, last_read, last_updated) values (?, ?, ?, ?, ?, ?, ?, ?)",[e.$key,e.$collection,e.$endpoint,JSON.stringify(e.$context),e.$id,e.$etag,e.$lastRead,e.$lastUpdated]).then(function(){t.resolve(e)}).fail(function(e){t.reject(e)}))}catch(o){t.reject(s.buildErrResult("error writing meta data",o))}finally{return t.promise()}},_removeMetaData:function(e,t){var n=$.Deferred(),r=this;try{r._readMetaData(e,t,!0).then(function(e){e?r._executeSql("DELETE FROM sdata_meta where id = ?",[e.$id]).then(function(){n.resolve(e)}).fail(function(e){n.reject(e)}):n.resolve(null)}).fail(function(e){n.reject(e)})}catch(i){n.reject(s.buildErrResult("error reading from database",i))}finally{return n.promise()}},_executeSql:function(e,t){var n=$.Deferred(),r=this;try{r.db.transaction(function(r){try{o&&o("SQL: "+e),o&&o(t),r.executeSql(e,t,function(e,t){n.resolve(t)},function(e,t){n.reject(s.buildErrResult("error initializing database: "+c(e,t)))})}catch(i){n.reject(s.buildErrResult("error running SQL statement",i))}})}catch(i){n.reject(s.buildErrResult("error running SQL statement",i))}return n.promise()},_openDB:function(){var e=$.Deferred(),t=this;t.useTestDatabase===!1&&t.db&&e.resolve(s.buildResult(s.StatusCodes.OK));var n;try{o&&o("Open database, request version: "+t.databaseVersion),t.db=openDatabase(t.databaseName,7,"Database",t.databaseSize),t._readCurrentVersion().then(function(n){o&&o("Current version: "+n),n===t.databaseVersion&&t.useTestDatabase!==!0?e.resolve(s.buildResult(s.StatusCodes.OK)):t._createTables().then(function(e){return t._writeCurrentVersion()}).then(function(t){e.resolve(t)}).fail(function(t){e.reject(t)})}).fail(function(t){e.reject(t)})}catch(r){o&&o("Open database, exception",r),t.db=null,e.reject(s.buildErrResult("error initializing database",r))}return e.promise()},_readCurrentVersion:function(){var e=$.Deferred(),t=this;return t._executeSql("SELECT version FROM version",null).then(function(t){try{var n=t.rows.length;if(n===1){var r=t.rows.item(0).version;o&&o("Read version: "+r),e.resolve(+r)}e.resolve(-1)}catch(i){e.reject(s.buildErrResult("error reading database version",i))}}).fail(function(n){o&&o("Creating version table"),t._executeSql("CREATE TABLE version (version TEXT)").then(function(t){e.resolve(-1)}).fail(function(t){i.getModal().error("Error Creating version table",t,function(){e.reject(t)})})}),e.promise()},_writeCurrentVersion:function(){var e=$.Deferred(),t=this;return t._executeSql("DELETE FROM version",null).then(function(e){return t._executeSql("INSERT INTO version (version) values (?)",[u])}).then(function(t){e.resolve(s.buildResult(s.StatusCodes.OK))}).fail(function(t){e.reject(t)}),e.promise()},_createTables:function(){var e=$.Deferred(),t=this,n=[];for(var r=0;r<a.length;r++)n.push(t._executeSql(a[r]));return $.when.apply($,n).then(function(){e.resolve(s.buildResult(s.StatusCodes.OK))}).fail(function(t){e.reject(t)}),e.promise()}});t.StorageInterface=l,t.isAvailable=function(){return window.openDatabase!=null}}),define("syracuse-tablet/html/js/storage/storageIndexedDB",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/storage/storageInterface","syracuse-tablet/html/js/helpers/logger"],function(e,t,n){"use strict";function v(){this.infoString="IndexedDB storage interface",this.databaseVersion=p,this.databaseName=s.databaseName,this.useTestDatabase=!1,this.db=null}function g(e){return JSON.stringify(e)}var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/globals"),s=e("syracuse-tablet/html/js/storage/storageInterface"),o=e("syracuse-tablet/html/js/helpers/logger").getLogger("indexedDB"),u=window.indexedDB||window.webkitIndexedDB,a=window.IDBTransaction||window.webkitIDBTransaction,f=window.IDBKeyRange||window.webkitIDBKeyRange,l=window.IDBDatabaseException||window.webkitIDBDatabaseException,c=a&&a.READ_ONLY||"readonly",h=a&&a.READ_WRITE||"readwrite",p=11,d={sdata:{options:{autoIncrement:!0},indexes:{read_write_one:{key:"key_collection_endpoint_context",options:{unique:!0}},read_write_all:{key:"collection_endpoint_context",options:{unique:!1}},read_write_ctx:{key:"context",options:{unique:!1}}}}},m=r.defineClass(v,s.StorageInterface,{init:function(e){e=e||"",o&&o("_INIT "+e);var t=$.Deferred(),n=this,r=i.isTestEnvironment();try{var a=function(){o&&o("DATABASE INIT!"),n._openDB().then(function(n){o&&o("_openDB OK "+e),t.resolve(n)}).fail(function(n){o&&o("_openDB KO "+e),t.resolve(n)})};if(r===!0){n.db&&(n.db.close(),n.db=null),n.useTestDatabase=!0,n.databaseName=s.databaseName+"-test",o&&o("DATABASE IN TEST MODE! "+e);var f=u.deleteDatabase(n.databaseName);f.onsuccess=function(){a()},f.onerror=function(n){o&&o("REQUEST ERROR! "+e),t.reject(s.buildErrResult("error deleting database"))},f.onblocked=function(n){o&&o("REQUEST BLOCKED! "+e),t.reject(s.buildErrResult("error deleting database (blocked)"))}}else n.db||a()}catch(l){o&&o("init ERROR "+e),t.reject(s.buildErrResult("error initializing database",l))}finally{return t.promise()}},put:function(e){var t=$.Deferred(),n=this;try{var i=n.db;o&&o("PUT: ",JSON.stringify(e));if(!e.$key||!e.$collection||!e.$endpoint||!e.$context)throw new Error("Insufficient parameters");var u=i.transaction(["sdata"],h),a=u.objectStore("sdata"),c=JSON.stringify(e.$context),p=[e.$key,e.$collection,e.$endpoint,c].join("_"),d=a.index("read_write_one"),v=f.only(p),m=d.openCursor(v),y=!0,b=r.getCurISODateTime(),w=function(){var n={context:c,collection:e.$collection,endpoint:e.$endpoint,key:e.$key,last_updated:b,last_read:b,key_collection_endpoint_context:p,collection_endpoint_context:[e.$collection,e.$endpoint,c].join("_"),data:e.$data},r=a.add(n);r.onerror=function(e){t.reject(s.buildErrResult("error writing to database: "+g(e)))},r.onsuccess=function(n){t.resolve(s.buildResult(s.StatusCodes.OK,e.$data))}};m.onsuccess=function(n){try{var r=n.target.result;if(r){if(e.$data.$etag){var i=r.value&&r.value.data.$etag;if(i===e.$data.$etag){t.resolve(s.buildResult(s.StatusCodes.OK,e.$data));return}}r["delete"](),r["continue"]()}else w()}catch(o){t.reject(s.buildErrResult("error writing to database",o))}},m.onerror=function(e){e.target.errorCode==l.NOT_FOUND_ERR?w():t.reject(s.buildErrResult("error writing to database: "+g(e)))}}catch(E){t.reject(s.buildErrResult("error writing to database",E))}finally{return t.promise()}},read:function(e){var t=$.Deferred(),n=this;try{var r=n.db;o&&o("READ: ",JSON.stringify(e));if(!e.$key||!e.$collection||!e.$endpoint||!e.$context)throw new Error("Insufficient parameters");var i=r.transaction(["sdata"],h),u=i.objectStore("sdata"),a=JSON.stringify(e.$context),c=[e.$key,e.$collection,e.$endpoint,a].join("_"),p=u.index("read_write_one"),d=f.only(c),v=p.openCursor(d);v.onsuccess=function(e){try{var n=e.target&&e.target.result&&e.target.result.value;n?t.resolve(s.buildResult(s.StatusCodes.OK,n.data,null,null,{$lastRead:n.last_read,$lastUpdated:n.last_updated})):t.resolve(s.buildResult(s.StatusCodes.NOT_FOUND))}catch(r){t.reject(s.buildErrResult("error reading from database",r))}},v.onerror=function(e){e.target.errorCode==l.NOT_FOUND_ERR?t.resolve(s.buildResult(s.StatusCodes.NOT_FOUND)):t.reject(s.buildErrResult("error reading from database: "+g(e)))}}catch(m){t.reject(s.buildErrResult("error reading from database",m))}finally{return t.promise()}},query:function(e){var t=$.Deferred(),n=this;try{var r=n.db;o&&o("QUERY: ",JSON.stringify(e));if(!e.$collection||!e.$endpoint||!e.$context)throw new Error("Insufficient parameters");var i=r.transaction(["sdata"],h),u=i.objectStore("sdata"),a=JSON.stringify(e.$context),c=[e.$collection,e.$endpoint,a].join("_"),p=u.index("read_write_all"),d=f.only(c),v=p.openCursor(d),m=[],y=[];v.onsuccess=function(e){try{var n=e.target.result;if(n){var r=n.value.data;m.push(r),y.push({$lastRead:n.last_read,$lastUpdated:n.last_updated}),n["continue"]()}else t.resolve(s.buildResult(s.StatusCodes.OK,m,null,null,y))}catch(i){t.reject(s.buildErrResult("error reading from database",i))}},v.onerror=function(e){e.target.errorCode==l.NOT_FOUND_ERR?t.resolve(s.buildResult(s.StatusCodes.OK,m,null,null,y)):t.reject(s.buildErrResult("error reading from database: "+g(e)))}}catch(b){t.reject(s.buildErrResult("error reading from database",b))}finally{return t.promise()}},remove:function(e){var t=$.Deferred(),n=this;try{var r=n.db;o&&o("REMOVE: ",JSON.stringify(e));if(!e.$key||!e.$collection||!e.$endpoint||!e.$context)throw new Error("Insufficient parameters");var i=r.transaction(["sdata"],h),u=i.objectStore("sdata"),a=JSON.stringify(e.$context),c=[e.$key,e.$collection,e.$endpoint,a].join("_"),p=u.index("read_write_one"),d=f.only(c),v=p.openCursor(d);v.onsuccess=function(e){try{var n=e.target.result;n?(n["delete"](),t.resolve(s.buildResult(s.StatusCodes.OK))):t.resolve(s.buildResult(s.StatusCodes.NOT_FOUND))}catch(r){t.reject(s.buildErrResult("error deleting from database",r))}},v.onerror=function(e){e.target.errorCode==l.NOT_FOUND_ERR?t.resolve(s.buildResult(s.StatusCodes.NOT_FOUND)):t.reject(s.buildErrResult("error reading from database: "+g(e)))}}catch(m){t.reject(s.buildErrResult("error deleting from database",m))}finally{return t.promise()}},clearCollection:function(e){var t=$.Deferred(),n=this;try{var r=n.db;o&&o("CLEAR: ",JSON.stringify(e));var i=r.transaction(["sdata"],h),u=i.objectStore("sdata"),a=JSON.stringify(e.$context),f=a,c=u.openCursor(),p=[],d=function(){$.smForEachPromise(p,function(t){return n.remove({$context:e.$context,$collection:t.collection,$endpoint:t.endpoint,$key:t.key})}).then(function(){t.resolve()}).fail(function(e){t.reject(e)})};c.onsuccess=function(n){try{var r=n.target.result;r?(e.$collection.test(r.value.collection)&&p.push(r.value),r["continue"]()):d()}catch(i){t.reject(s.buildErrResult("error reading from database",i))}},c.onerror=function(e){e.target.errorCode==l.NOT_FOUND_ERR?d():t.reject(s.buildErrResult("error reading from database: "+g(e)))}}catch(v){t.reject(s.buildErrResult("error reading from database",v))}finally{return t.promise()}},_openDB:function(){var e=$.Deferred(),t=this;t.useTestDatabase===!1&&t.db&&e.resolve(s.buildResult(s.StatusCodes.OK));var n;try{o&&o("Open database, request version: "+t.databaseVersion),n=u.open(t.databaseName,t.databaseVersion),n.onupgradeneeded=function(e){o&&o("Open database, need upgrade"),t.db=e.target.result||e.target.source,t._createObjectStore()},n.onsuccess=function(n){o&&o("Open database, success");var r=n.target.result||n.target.source;if(!r.setVersion&&t.databaseVersion!=r.version){o&&o("Open database, versions missmatch: "+t.DatabaseVersion+" != "+r.version);var i=r.setVersion(t.databaseVersion);i.onsuccess=function(n){o&&o("Open database, setting version, success"),t.db=r,t._createObjectStore(),o&&o("Open database, opened"),e.resolve(s.buildResult(s.StatusCodes.OK))},i.onerror=function(n){o&&o("Open database, setting version, error",n),t.db=null,e.reject(s.buildErrResult("error initializing database: "+g(n)))}}else o&&o("Open database, opened"),t.db=r,e.resolve(s.buildResult(s.StatusCodes.OK))},n.onerror=function(n){o&&o("Open database, error",n),t.db=null,e.reject(s.buildErrResult("error initializing database: "+g(n)))}}catch(r){o&&o("Open database, exception",r),t.db=null,e.reject(s.buildErrResult("error initializing database",r))}return e.promise()},_createObjectStore:function(){var e=this,t=e.db;o&&o("Updating database"),Object.keys(d).forEach(function(e){var n=d[e];t.objectStoreNames.contains(e)&&(o&&o("Deleting objectStore: "+e),t.deleteObjectStore(e)),o&&o("Creating objectStore: "+e);var r=t.createObjectStore(e,n.options);Object.keys(n.indexes).forEach(function(e){var t=n.indexes[e];o&&o("Creating index: "+e),r.createIndex(e,t.key,t.options)})})}});t.StorageInterface=m,t.isAvailable=function(){return u!=null}}),define("syracuse-tablet/html/js/storage/storage",["require","exports","module","syracuse-tablet/html/js/storage/storageInterface","syracuse-tablet/html/js/storage/storageWinJS","syracuse-tablet/html/js/storage/storageWebSQL","syracuse-tablet/html/js/storage/storageIndexedDB"],function(e,t,n){"use strict";function o(){return s?s:(i.some(function(e){if(e.isAvailable()){var t=e.StorageInterface;return s=new t,!0}return!1}),s)}var r=e("syracuse-tablet/html/js/storage/storageInterface"),i=[e("syracuse-tablet/html/js/storage/storageWinJS"),e("syracuse-tablet/html/js/storage/storageWebSQL"),e("syracuse-tablet/html/js/storage/storageIndexedDB")],s;t.getStorage=o,t.StatusCodes=r.StatusCodes}),define("syracuse-tablet/html/js/application/settings",["require","exports","module","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/storage/storage","syracuse-tablet/html/js/helpers/logger"],function(e,t,n){"use strict";function l(){var e=r.getUserCtx();return e?e:{$user:"none",$role:"none",$lang:"en-US"}}function c(){var e=l();if(o.user!=e.$user||o.role!=e.$role)o.user=e.$user,o.role=e.$role,o.lang=e.$lang,a=null}function h(){var e=r.getStorage(),t={$user:o.user,$role:o.role,$lang:"none"};return e.read({$context:t,$collection:"$settings",$endpoint:"$local",$key:"$user_and_role"}).then(function(e){return e.$status===i.StatusCodes.OK?e.$data:{}})}function p(){var e=l();if(u.user!=e.$user||u.role!=e.$role)u.user=e.$user,u.role=e.$role,u.lang=e.$lang,f=null}function d(){var e=r.getStorage(),t={$user:u.user,$role:"none",$lang:"none"};return e.read({$context:t,$collection:"$settings",$endpoint:"$local",$key:"$user"}).then(function(e){e.$status===i.StatusCodes.OK?f=e.$data:f={},s&&s("Read user settings..."),s&&s(f)})}function v(){var e=r.getStorage(),t={$user:u.user,$role:"none",$lang:"none"};return s&&s("Writing user settings..."),s&&s(f),e.put({$context:t,$collection:"$settings",$endpoint:"$local",$key:"$user",$data:f}).then(function(e){return e.$status===i.StatusCodes.OK?e.$data:{}})}var r=e("syracuse-tablet/html/js/helpers/globals"),i=e("syracuse-tablet/html/js/storage/storage"),s=e("syracuse-tablet/html/js/helpers/logger").getLogger("settings"),o={},u={},a=null,f=null;t.getPinnedPages=function(){p();var e;return f==null?e=d():e=$.smResolve(),e.then(function(){return f.pinnedPages=f.pinnedPages||[],f.pinnedPages})},t.addPinnedPage=function(e){return t.getPinnedPages().then(function(t){return t.some(function(n,r){if(n.id===e.id)return t[r]=e,!0})||t.push(e),v(),e})},t.isPinnedPage=function(e){return t.getPinnedPages().then(function(t){return t.some(function(t,n){if(t.id===e)return!0})})},t.removePinnedPage=function(e){return t.getPinnedPages().then(function(t){t.some(function(n,r){if(n.id===e)return t.splice(r,1),!0})&&v()})},t.getHiddenApplications=function(){p();var e;return f==null?e=d():e=$.smResolve(),e.then(function(){return f.hiddenApplications=f.hiddenApplications||[],f.hiddenApplications})},t.unhideApplication=function(e){return t.getHiddenApplications().then(function(t){t.some(function(n,r){if(n===e)return t.splice(r,1),!0})&&v()})},t.hideApplication=function(e){return t.getHiddenApplications().then(function(t){t.some(function(t,n){if(t===e)return!0})||(t.push(e),v())})},t.getTileConfigs=function(){p();var e;return f==null?e=d():e=$.smResolve(),e.then(function(){return f.tileConfigs=f.tileConfigs||{},f.tileConfigs})},t.setTileConfig=function(e){return t.getTileConfigs().then(function(t){t[e.tileId]=e,v()})},t.getLastUserProfile=function(e){var t={$user:"none",$role:"none",$lang:"none"},n=r.getStorage();return n.read({$context:t,$collection:"$settings",$endpoint:"$local",$key:"$last_user_profile"}).then(function(e){return e.$status===i.StatusCodes.OK?e.$data:null})},t.setLastUserProfile=function(e){var t={$user:"none",$role:"none",$lang:"none"},n=r.getStorage();return n.put({$context:t,$collection:"$settings",$endpoint:"$local",$key:"$last_user_profile",$data:e}).then(function(e){return e.$status===i.StatusCodes.OK?e.$data:{}})}}),define("syracuse-tablet/html/js/helpers/types/date",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){"use strict";function o(e,t,n){e=e?e.toString():"";if(!n||n.length==0)n=" ";while(e.length<t)e=n+e;return e}function f(e){this._value=e}function l(e,t){return t?s().abbreviatedDayNames[e]:s().dayNames[e]}function c(e,t){return t?s().abbreviatedMonthNames[e-1]:s().monthNames[e-1]}function h(e){var t=e.toString();return t.length==1?"0"+t:t}function p(e){var t=e.year,n=e.month,r=e.day,i=n<=2?t-1:t,s=Math.floor(i/4)-Math.floor(492.5),o=Math.floor(i/100)-Math.floor(19.7),a=Math.floor(i/400)-Math.floor(4.925),f=s-o+a;return(t-1970)*365+f+u[n-1]+r-1}function d(e){var t=2440588+e,n=t+68569,r=Math.floor(4*n/146097);n-=Math.floor((146097*r+3)/4);var i=Math.floor(4e3*(n+1)/1461001);n=n-Math.floor(1461*i/4)+31;var s=Math.floor(80*n/2447),o=n-Math.floor(2447*s/80);n=Math.floor(s/11);var u=s+2-12*n,a=100*(r-49)+i+n;return new f(a*1e4+u*100+o)}function v(e,t,n){return new f(e*1e4+t*100+n)}function m(e){return e%4===0&&(e%100!==0||e%400===0)}function g(e,t){return t==2?m(e)?29:28:a[t-1]}function y(e){return e!=0&&e!=6}function b(){return s().amDesignator||"AM"}function w(){return s().pmDesignator||"PM"}function E(e,t){function i(t){var n=e[t],r=1;while(e[t+r]===n)r++;return r}var n=0,r=e.length;while(n<r){var s=e[n];switch(s){case"'":n++;var o="";for(;n<r;n++)if(e[n]==="'"){n++;if(e[n]!=="'")break;o+="'"}else o+=e[n];t.literal(o);break;case"d":case"M":case"y":var u=i(n);t[s](u),n+=u;break;default:t.literal(s),n++}}}function S(e,t){function f(t){if(!/\d/.test(e[a]))throw new Error(i.text("date.notNumber",e.substring[a]));var n=a++;while(a<n+t&&/\d/.test(e[a]))a++;return parseInt(e.substring(n,a),10)}function l(t){for(var n=0;n<t.length;n++){var r=t[n],s=r.length;if(e.substring(a,a+s).toUpperCase()==r.toUpperCase())return a+=s,n}throw new Error(i.text("date.unknown",e.substring(a)))}var n,r,o,u,a=0;return E(t,{literal:function(t){if(e.substring(a,a+t.length)!==t)throw new Error(i.text("date.wrongFormat",t,e.substring(a)));a+=t.length},d:function(e){switch(e){case 1:case 2:n=f(2);break;case 3:r=l(s().abbreviatedDayNames);break;case 4:r=l(s().dayNames);break;default:throw new Error(i.text("date.badDay",t.substring(a)))}},M:function(e){switch(e){case 1:case 2:o=f(2);break;case 3:o=l(s().abbreviatedMonthNames)+1;break;case 4:o=l(s().monthNames)+1;break;default:throw new Error(i.text("date.badDay",t.substring(a)))}},y:function(e){switch(e){case 2:u=f(2),u=u<40?2e3+u:1900+u;break;case 4:u=f(4),u=u>99?u:u<40?2e3+u:1900+u;break;default:throw new Error(i.text("date.badYear",t.substring(a)))}}}),v(u,o,n)}var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/locale"),s=i.getDatetimeInfo;t.validate=function(e,t,n){if(e==null){if(t.$isMandatory)return n.push(i.text("date.valMan"));if(!t.$isNullable)return n.push(i.text("date.valNull"));return}if(!(e instanceof f)){n.push(i.text("date.valDate"));return}if(!(e.month>=1&&e.month<=12)){n.push(i.text("date.invMonth"));return}if(!(e.day>=1&&e.day<=g(e.year,e.month))){n.push(i.text("date.invDay"));return}};var u=[0,31,59,90,120,151,181,212,243,273,304,334],a=[31,28,31,30,31,30,31,31,30,31,30,31];t.amDesignator=b,t.pmDesignator=w,r.defineClass(f,null,{year:{get:function(){return Math.floor(this._value/1e4)}},month:{get:function(){return Math.floor(this._value/100)%100}},day:{get:function(){return this._value%100}},weekDay:{get:function(){return(2440589+p(this))%7}},yearDay:{get:function(){var e=this.month,t=e>2&&m(this.year)?1:0;return u[e-1]+t+this.day}},week:{get:function(){var e=v(this.year,1,4).begOfWeek(1);return Math.floor((7+p(this)-p(e))/7)}},valueOf:function(){return this.toString()},compare:function(e){return this._value-e._value},equals:function(e){return this._value===e._value},between:function(e,t){return e._value<=this._value&&this._value<=t._value},isLeapYear:function(){return m(this.year)},isWorkDay:function(){return y(this.weekDay)},daysInMonth:function(){return g(this.year,this.month)},begOfYear:function(){return v(this.year,1,1)},endOfYear:function(){return v(this.year,12,31)},begOfQuarter:function(){return v(this.year,Math.floor((this.month-1)/3)*3+1,1)},endOfQuarter:function(){return this.begOfQuarter().addMonths(2).endOfMonth()},begOfMonth:function(){return v(this.year,this.month,1)},endOfMonth:function(){return v(this.year,this.month,this.daysInMonth())},sameMonth:function(e){return e=Math.min(e,this.daysInMonth()),v(this.year,this.month,e)},pastDay:function(e,t){var n=e-this.day;return n>0||n==0&&!t?this.addMonths(-1).sameMonth(e):this.sameMonth(e)},futureDay:function(e,t){var n=e-this.day;return n<0||n==0&&!t?this.addMonths(1).sameMonth(e):this.sameMonth(e)},pastMonth:function(e,t){var n=this.month-e;return n=n==0?t?0:12:n>0?n:n+12,this.addMonths(-n)},futureMonth:function(e,t){var n=e-this.month;return n=n==0?t?0:12:n>0?n:n+12,this.addMonths(n)},begOfWeek:function(e){var t=this.weekDay-(e||0);return t==0?this:t>0?this.addDays(-t):this.addDays(-t-7)},endOfWeek:function(e){return this.begOfWeek(e).addDays(6)},sameWeek:function(e,t){return this.begOfWeek(t).futureWeekDay(e,!0)},pastWeekDay:function(e,t){var n=this.begOfWeek(e);return!t&&n.equals(this)?this.addWeeks(-1):n},futureWeekDay:function(e,t){return this.pastWeekDay(e,!t).addWeeks(1)},addYears:function(e){if(e==0)return this;var t=this.year+e,n=this.month,r=Math.min(this.day,g(t,n));return v(t,n,r)},addMonths:function(e){if(e==0)return this;var t=this,n=t.day,r=t.month-1,i=t.year;r+=e,i+=Math.floor(r/12);var s=(r+12e4)%12+1,o=g(i,s);return n=n<o?n:o,v(i,s,n)},addWeeks:function(e){return this.addDays(7*e)},addDays:function(e){return e==0?this:d(p(this)+e)},daysDiff:function(e){return p(this)-p(e)},add:function(e){return this.addYears(e.years||0).addMonths(e.months||0).addWeeks(e.weeks||0).addDays(e.days||0)},toString:function(e){var t=this;if(e==null){var n=t._value.toString();return n=o(n,8,"0"),n.substring(0,4)+"-"+n.substring(4,6)+"-"+n.substring(6,8)}var r="";return E(e,{literal:function(e){r+=e},d:function(e){switch(e){case 1:r+=t.day.toString();break;case 2:r+=h(t.day);break;case 3:r+=l(t.weekDay,!0);break;case 4:r+=l(t.weekDay);break;default:throw new Error(i.text("date.formatd",e))}},M:function(e){switch(e){case 1:r+=t.month.toString();break;case 2:r+=h(t.month);break;case 3:r+=c(t.month,!0);break;case 4:r+=c(t.month);break;default:throw new Error(i.text("date.formatM",e))}},y:function(e){switch(e){case 2:r+=t.year.toString().substring(2,4);break;case 4:r+=t.year.toString();break;default:throw new Error(i.text("date.formatM",e))}}}),r},at:function(e,t){throw new Error(i.text("date.notInstalled"))},toJsDate:function(e){return e?new Date(Date.UTC(this.year,this.month-1,this.day)):new Date(this.year,this.month-1,this.day)},isNull:function(){return this._value==0}}),t.monthName=c,t.monthFromName=function(e){var t=s().monthNames,n=s().abbreviatedMonthNames,r=e.toLowerCase();for(var i=0;i<t.length;i++)if(t[i].toLowerCase()==r||n[i].toLowerCase()==r)return i+1;return-1},t.dayName=l,t.weekDayFromName=function(e){var t=s().dayNames,n=s().abbreviatedDayNames,r=s().shortestDayNames,i=e.toLowerCase();for(var o=0;o<t.length;o++)if(t[o].toLowerCase()==i||n[o].toLowerCase()==i)return o;return-1},t.isLeap=m,t.daysInMonth=g,t.today=function(e){return t.fromJsDate(new Date,e)},t.parse=function(e,t){if(e==null)throw new Error(i.text("date.dateNull"));if(t==null){if(e.length!=10)throw new Error(i.text("date.badFormat",e));var n=parseInt(e.replace(/-/g,""),10);return new f(n)}return S(e,t)},t.walkFormat=E,t.fromJsDate=function(e,t){return t?v(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate()):v(e.getFullYear(),e.getMonth()+1,e.getDate())},t.fromInternalValue=function(e){return new f(e)},t.makeInWeek=function(e,t,n){var r=n?n-1:6;return v(e,1,4).begOfWeek(1).addDays(7*(t-1)+r)},t.isDate=function(e){return e instanceof f},t.sunday=0,t.Sunday=0,t.monday=1,t.Monday=1,t.tuesday=2,t.Tuesday=2,t.wednesday=3,t.Wednesday=3,t.thursday=4,t.Thursday=4,t.friday=5,t.Friday=5,t.saturday=6,t.Saturday=6,t.make=v,t.getLocalShortDate=function(e){if(!e||e.length<6)return"";var t=e.split("-"),n=v(+t[0],+t[1],+t[2]);return n.toString(i.getDateFormat())}}),define("syracuse-tablet/html/js/ui/modals/modalShowLegal",["require","exports","module","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/ui/modals/modalDialog","syracuse-tablet/html/js/sdata/sdataHttp","syracuse-tablet/html/js/helpers/types/date"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/globals"),i=e("syracuse-tablet/html/js/helpers/utils"),s=e("syracuse-tablet/html/js/helpers/locale"),o=e("syracuse-tablet/html/js/ui/modals/modalDialog"),u=e("syracuse-tablet/html/js/sdata/sdataHttp"),a=e("syracuse-tablet/html/js/helpers/types/date"),f={header:'			<buttons class="pull-right"> 				<button type="button" class="btn btn-default s-m-modal-btn-cancel" data-action="$cancel"></button> 			</buttons> 			<div class="modal-title">{{title}}</div> 			',content:' 			<div class="s-m-scroll-wrapper s-m-scroll-wrapper-v">			<div class="s-m-scroll-element"> 				<div class="form-group"> 					<div class="s-m-header-brand"> 						<span class="s-m-brand">{{label_brand}}</span> 						<span class="s-m-product">{{label_product}}</span> 					</div> 					<span class="s-m-product-update-label">{{label_update}}</span><span class="s-m-product-update-value">{{update}}</span> 				</div> 				<div class="form-group"> 					<h3>{{label_legal}}</h3> 					<label>{{text1}}</label> 					<label>{{text2}}</label> 					<label>{{text3}}</label> 					<label>{{text4}}</label> 					<label>{{text5}}</label> 					<label>{{text6}}</label> 				</div> 				<div class="form-group"> 					<h3>{{label_license}}</h3> 					{{#each licenses}} 						<div class="s-m-field"><div class="s-m-title">{{../label_registrationNumber}}</div><div class="s-m-value">{{toRegNum}}</div></div> 						<div class="s-m-field"><div class="s-m-title">{{../label_licensedTo}}</div><div class="s-m-value">{{toName}}</div></div> 						<div class="s-m-field"><div class="s-m-title">{{../label_reference}}</div><div class="s-m-value">{{toRefNum}}</div></div> 						<div class="s-m-field"><div class="s-m-title">{{../label_installedBy}}</div><div class="s-m-value">{{installedBy}}</div></div> 						<div class="s-m-field"><div class="s-m-title">{{../label_expiryDate}}</div><div class="s-m-value">{{expiryDate}}</div></div> 					{{/each}} 				</div> 			</div> 			</div>',footer:""},l=i.defineClass(function(){var t=this;o.ModalBase.call(t)},o.ModalBase,{_getTemplates:function(){var e=this;return{std:f}},getDisplayFlags:function(){var e=this,t=e.displayFlags||{};return e.deviceType==="tablet"?t.modalClass="show-legal half_right":t.modalClass="show-legal full",t},_getDataContext:function(){var e=this;return u.send({method:"GET",url:"/sdata/syracuse/collaboration/syracuse/licenses/$service/current"}).then(function(e){var t=null,n=[];e&&e.responseJSON&&e.responseJSON.forEach(function(e){var r={};r.expiryDate=s.text("modal.legal.license.expiryDateValue",[a.getLocalShortDate(e.validFrom),a.getLocalShortDate(e.expiryDate)]),r.toName=e.licensedTo.name,r.toRegNum=e.licensedTo.registrationNumber,r.toRefNum=e.licensedTo.reference,r.installedBy=e.reseller.name,n.push(r),t||(t=e.productVersion)});var e={title:s.text("modal.legal.title"),label_brand:s.text("modal.legal.title_brand"),label_product:s.text("modal.legal.title_x3"),label_update:s.text("modal.legal.update"),label_license:s.text("modal.legal.about.license"),label_legal:s.text("modal.legal.about.legal"),update:t,licenses:n,builddate:s.text("modal.legal.builddate",[r.getBuildTimeStamp()]),text1:s.text("modal.legal.text1"),text2:s.text("modal.legal.text2"),text3:s.text("modal.legal.text3"),text4:s.text("modal.legal.text4"),text5:s.text("modal.legal.text5"),text6:s.text("modal.legal.text6"),label_registrationNumber:s.text("modal.legal.license.registrationNumber"),label_licensedTo:s.text("modal.legal.license.licensedTo"),label_reference:s.text("modal.legal.license.reference"),label_userLicense:s.text("modal.legal.license.userLicense"),label_installedBy:s.text("modal.legal.license.installedBy"),label_server:s.text("modal.legal.license.server"),label_expiryDate:s.text("modal.legal.license.expiryDate")};return e})},_onValidate:function(){},_onCancel:function(){},_getResult:function(){}});t.Modal=l}),define("syracuse-tablet/html/js/application/application",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/ui/modals/modal","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/helpers/notifications","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/application/authentication","syracuse-tablet/html/js/application/eventListener","syracuse-tablet/html/js/application/pageLoader","syracuse-tablet/html/js/init/initContext","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/application/pageRegistry","syracuse-tablet/html/js/authoring/authoring","syracuse-tablet/html/js/ui/developmentPage","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/application/settings","syracuse-tablet/html/js/ui/modals/modalShowLegal"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/ui/modals/modal"),s=e("syracuse-tablet/html/js/helpers/logger").getLogger("app"),o=e("syracuse-tablet/html/js/helpers/notifications"),u=e("syracuse-tablet/html/js/helpers/globals"),a=e("syracuse-tablet/html/js/application/authentication"),f=e("syracuse-tablet/html/js/application/eventListener"),l=e("syracuse-tablet/html/js/application/pageLoader"),c=e("syracuse-tablet/html/js/init/initContext"),h=e("syracuse-tablet/html/js/ui/uiUtils"),p=e("syracuse-tablet/html/js/application/pageRegistry"),d=e("syracuse-tablet/html/js/authoring/authoring"),v=e("syracuse-tablet/html/js/ui/developmentPage"),m=e("syracuse-tablet/html/js/helpers/locale"),g=e("syracuse-tablet/html/js/application/settings"),y=e("syracuse-tablet/html/js/ui/modals/modalShowLegal"),b={transition:null,openLinkInVignette:!1,loadUserImage:!0},w=function(e){o.subscribe(e,["sm.context.changed","sm.switch.app","sm.modal.open","sm.modal.close","sm.main.layout.changed"],1)},E=r.defineClass(function(e,t){var n=this;n.$$elmt=e,n.currentPage=null,n._$config=$.extend(!0,{},b),n.factory=t,n._pageLoader=null,n._nbModals=0,n._wait=h.waitWheelCreate(e),n.homePageId=null,n.uuid="root",n.history=[],n.pushState=!0},null,{init:function(){var e=this;f.bindEvents(e),e.dao=e.factory.createDaoApp(e),w(e),e.$$elmt.show()},destroy:function(){var e=this;e._wait&&h.waitWheelDestroy(e._wait),o.unsubscribe(),e.removeAllChildPages(e.$$elmt),e.currentPage=null,e._pageLoader==null&&(e._pageLoader.destroy(),e._pageLoader=null),r.unbindObj(e),r.unbindObj(e.$$elmt),$(window).unbind()},isWelcomeApplication:function(){return this.uuid==="$welcomeApplication"},getTitle:function(){return this.dao.getApplicationTitle()},gotoHome:function(){var e=this;setTimeout(function(){e.changePage(e.homePageId)})},$config:function(e){return r.getPropByPath(this._$config,e)},notifContextChanged:function(e){this.gotoWelcomeApplication(e)},notifModalOpen:function(){this._nbModals++,s&&s("notifModalOpen nbModals="+this._nbModals)},notifModalClose:function(){this._nbModals=Math.max(this._nbModals-1,0),s&&s("notifModalClose nbModals="+this._nbModals)},notifMainLayoutChanged:function(e,t,n){var r=this;r.$$elmt.width(e.application.width),r.$$elmt.height(e.application.height),r.currentPage&&r.currentPage.onMainPageResize(e,t,n)},getScrollOffset:function(){return{top:this.$$elmt.scrollTop(),left:this.$$elmt.scrollLeft()}},hasModalOpen:function(){return s&&s("_nbModals="+this._nbModals),this._nbModals>0},_actGotoWelcomeApplication:function(){this.gotoWelcomeApplication()},_actLogout:function(e){this.logout()},_actHistoryBack:function(){window.history.back()},_actSwitchContext:function(){var e=this;c.init(!0,!0).then(function(e){}).fail(function(e){i.error("Switch context error",e)})},_actDevelopmentPage:function(){v.show()},_actClearCache:function(){var e=this;return u.getModal().simpleConfirmPromise({message:m.text("confirm.clear.cache.msg")}).then(function(t){return t.action==="yes"?(e.waitWheelStart(),u.getCache().clearCache()):"no"}).then(function(t){e.waitWheelStop();var n={severityClass:t==="no"?"info":"success",title:"",body:t==="no"?m.text("notify.clear.cache.no"):m.text("notify.clear.cache.ok")};u.getModal().notify(n)}).fail(function(t){e.waitWheelStop(),setTimeout(function(){i.error("Clear cache error",t,function(){e.waitWheelStop()})},10)})},_actDesignPage:function(){d.toggleDesignPage()},_actAbout:function(){var e=new y.Modal;e.show()},notifSwitchApp:function(e){var t=this;u.getMetaData().getApplication(e).then(function(e){t._setCurrentApplication(e)}).fail(function(e){u.getModal().error(null,e)})},gotoWelcomeApplication:function(e){var t=this;u.isLoggedIn()?u.getMetaData().getApplication("$welcomeApplication").then(function(n){t._setCurrentApplication(n,{deferred:e})}):(e&&e.resolve(),this.gotoLogin())},gotoLogin:function(e){var t=this;setTimeout(function(){t.changePage("login",{reason:e||m.text("login.authentication")})},0)},_setCurrentApplication:function(e,t){var n=this;t=t||{};var r=t.deferred,o=function(e,t){n.waitWheelStop(),r?r.reject(t):i.error(e,t,function(){n.currentPage&&n.currentPage.activate()})},a=function(e){try{n.waitWheelStop();if(!e.$application.$uuid)throw new Error("No application $uuid - "+e.applicationName);n.uuid!==e.$application.$uuid&&(n.dao.setApplication(e),n.homePageId=u.getMetaData().getDashboardPageName(n.dao.getHomeDashboardName()),n.uuid=e.$application.$uuid),t.noPageChange!==!0&&n.gotoHome(),r&&r.resolve()}catch(i){o("Error loading new application",i)}};try{if(!e)throw new Error("Null appInfo");s&&s("Switch to Syracuse Mobile Application "+e.applicationName),n.currentPage&&n.currentPage.deactivate(),n.waitWheelStart(),a(e)}catch(f){o("Error switching application",f)}},_gotoPage:function(e,t){var n=this;return n._pageLoader||(n._pageLoader=n._createPageLoader()),e.isLogin===!1&&!u.isLoggedIn()?(n.gotoLogin("Authentication is required"),$.smResolve()):n._pageLoader.loading?$.smResolve():n._pageLoader.load(e,t)},_createPageLoader:function(){var e=this,t=new l.Klass({waitStop:function(){e.waitWheelStop()},getRootElmt:function(){return e.$$elmt},waitStart:function(){e.waitWheelStart()},getCurrentPage:function(){return e.currentPage},setCurrentPage:function(t){e.currentPage=t,t.state.isLogin===!0?e.historyReset(t):t.state.name===e.homePageId&&(s&&s("Home page "+e.homePageId+" - Destroy all pages except current"),e.removeAllChildPages(e.$$elmt,t))},historyPush:function(t){e.history.push(t),e.pushState?window.history.pushState({x:new Date},r.UUID(),null):window.history.replaceState({x:new Date},r.UUID(),null)},succeeded:function(t,n,r){s&&s("succeeded - win="+window.history.length+" - app="+e.history.length),h.triggerResizeInternal();if(n&&n.notifId){var a=u.getController(n.parentId);a?o.notifyController(n.notifId,a,n.notifData,n.controlId):i.error("Controller notification warning","Controller["+n.parentId+"] not found")}}});return t},historyReset:function(e){this.removeAllChildPages(this.$$elmt,e),this.history=[]},historyScan:function(e){for(var t=this.history.length-1;t>=0;t--)if(e(this.history[t])===!0)break},historyLog:function(e){console.log(e),this.historyScan(function(e){console.log("	",e.name)})},historyPop:function(e,t,n){try{var r=this;s&&s("History pop before - win="+window.history.length+" - app="+r.history.length);if(r._nbModals>0){e&&e.preventDefault();return}if(r.uuid==="root"||r.history.length===0){window.history.back();return}if(n&&r.history.length>0){var o=-1;for(var u=r.history.length-1;u>=0;u--)if(n(r.history[u])){o=u;break}if(o<0){e&&e.preventDefault();return}while(r.history.length>o+2){var a=r.history.pop(),f=$("#"+a.uuid).smPageController();f&&f.destroy()}}var a=r.history.length>0?r.history.pop():null;if(a&&(a.isWelcomePage||a.isLogin))return;a=r.history.length>0?r.history[r.history.length-1]:null,e&&e.preventDefault(),r.pushState=!0,a&&setTimeout(function(){var e;if(a.isWelcomePage){var n=$.Deferred();r.gotoWelcomeApplication(n),e=n.promise()}else e=r._gotoPage(a,!0);t&&t(e)},0)}catch(l){i.error("historyPop error",l,function(){t&&t($.smReject(l))})}},goBack:function(e){var t=$.Deferred();return this.historyPop(null,function(e){e?e.then(function(e){t.resolve(e)}).fail(function(e){t.reject(e)}):t.resolve()},e),t.promise()},changePage:function(e,t){var n=this,r;if(t&&t.applicationName){var i=n.dao&&n.dao.getApplicationName();i!==t.applicationName&&(r=$.Deferred(),u.getMetaData().getApplication(t.applicationName).then(function(e){n._setCurrentApplication(e,{deferred:r,noPageChange:!0})}))}return r||(r=$.smResolve()),r.then(function(){var r;if(t&&t.parentId&&t.parentId.length>0){r=u.getController(t.parentId);if(!r)throw new Error("changePage - Can't find parent page - "+t.parentId)}else r=n.currentPage;return p.getPageInfo(e,t,r)}).then(function(e){return n._gotoPage(e)})},logout:function(){var e=$.Deferred(),t=this,n=function(){s&&s("User Logged out"),u.setUserCtx(null),e.resolve(),t.gotoLogin("You have been logged out")};return t.waitWheelStart(),a.logout().then(function(e,r){t.waitWheelStop(),e?n():i.error(r,function(){n()})}).fail(function(e){t.waitWheelStop(),i.error("Logout error",e,function(){n()})}),e.promise()},refreshPage:function(e){var t=this;if(!t.currentPage)throw new Error("No current page");t.currentPage.refresh(e).then(function(){}).fail(function(e){t.modalError("Refresh page",e)})},waitWheelStart:function(){h.waitWheelStart(this._wait)},waitWheelStop:function(){h.waitWheelStop(this._wait)},modalError:function(e,t,n){i.error(e,t,n)},getMessageSlot:function(){this._$$actMsgSlot||(this._$$actMsgSlot={});var e=u.getSiteLayout().getDeviceType();if(this._$$actMsgSlot[e])return this._$$actMsgSlot[e];var t=this._$$actMsgSlot[e]=$("<div>").addClass("s-m-act-msg-slot").addClass(e);return(e!=="tablet"&&this.currentPage?this.currentPage.$$contentElmt:this.$$elmt).prepend(t),t},_actPinPage:function(){var e=this,t=e.currentPage,n=!1;g.isPinnedPage(t.getPinPageId()).then(function(e){var t;return e?(n=!0,t=m.text("pin.page.remove.confirm")):t=m.text("pin.page.add.confirm"),u.getModal().simpleConfirmPromise({message:t})}).then(function(r){if(r.action==="yes"){var i=t.getPinPageData(i);return n?g.removePinnedPage(i.id).then(function(){var e={severityClass:"success",title:"",body:m.text("pin.page.remove.ok",[i.title])};u.getModal().notify(e),o.publish("sm.page.pin.state.change",1)}):(i.applicationName=e.dao.getApplicationName(),i.endpoint=u.getEndpoint(),i.dashboardName&&i.applicationName===e.dao.getApplicationName()&&i.dashboardName===e.dao.getHomeDashboardName()&&(i.icon=e.dao.getApplicationIcon()),g.addPinnedPage(i).then(function(){var e={severityClass:"success",title:"",body:m.text("pin.page.add.ok",[i.title])};u.getModal().notify(e),o.publish("sm.page.pin.state.change",2)}))}}).fail(function(e){u.getModal().error(e)})},removeAllChildPages:function(e){if(!e)return;e.jquery||(e=$(e));var t=Array.prototype.slice.call(arguments,1);e.children(".s-m-page").each(function(e){var n=$(this).smPageController();n&&Array.prototype.indexOf.call(t,n)==-1&&n.destroy()})}});t.Application=E}),define("syracuse-tablet/html/js/helpers/controller",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/jsutils","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/articleParser","syracuse-tablet/html/js/helpers/notifications"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/jsutils"),s=e("syracuse-tablet/html/js/helpers/globals"),o=e("syracuse-tablet/html/js/helpers/articleParser"),u=e("syracuse-tablet/html/js/helpers/notifications"),a=r.defineClass(function(e,t,n,i){this.options=i||{},this.id=e||r.UUID(),this.prototype=t,this.article=n,this.rootLayout=null,this.dao=null,this._evtListener=null,this.isVignette=!1,this._controlsMap={},this._layoutsMap={},this.$activity="read",s.addController(this),u.subscribe(this,["sm.lookup.selection"],1)},null,{resetMaps:function(){this._controlsMap={},this._layoutsMap={}},destroy:function(){s.removeController(this),this._controlsMap=null,this._layoutsMap=null,this.dao&&(this.dao.destroy(),this.dao=null),this.rootLayout&&(this.rootLayout.destroy(),this.rootLayout=null),this.prototype&&(this.prototype.destroy(),this.prototype=null),this.removeEventListener(),r.unbindObj(this),this.article=null,this.prototype=null},addControl:function(e){if(!e)return;this._controlsMap[e.id]=e},removeControl:function(e){if(!e)return;delete this._controlsMap[e.id]},addLayout:function(e){if(!e)return;this._layoutsMap[e.id]=e},getControl:function(e){return this._controlsMap&&this._controlsMap[e]},getLayout:function(e){return this._layoutsMap&&this._layoutsMap[e]},getStructElmt:function(e){return this.getControl(e)||this.getLayout(e)},forEachControl:function(e){if(!e)return;var t=null;for(var n in this._controlsMap)if(e(n,this._controlsMap[n])){t=this._controlsMap[n];break}return t},getControlByBind:function(e){for(var t in this._controlsMap)if(this._controlsMap[t].$bind===e)return this._controlsMap[t];return null},setDao:function(e){this.dao&&this.dao.destroy&&this.dao.destroy(),this.dao=e},isEditMode:function(){return this.$activity==="edit"||this.$activity==="create"},setActivity:function(e){this.$activity=e||"read"},buildControlsTree:function(){return this.rootLayout&&this.rootLayout.destroy(),this.rootLayout=o.article2Controls(this,this.article,this.prototype,{}),this.rootLayout},render:function(e,t){if(!this.rootLayout)return;this.rootLayout.buildHtml(e,this.dao,t),this.rootLayout.$$elmt.attr("data-controller-id",this.id)},refresh:function(e,t){throw new Error("Not implemeneted")},refreshControls:function(e,t){var n=this,r=[],i=function(e){if(!e)return;e.refresh(n.dao,t),e.hasError()&&r.push(e)};return e&&e.length>0?e.forEach(function(e){i(n._controlsMap[e])}):Object.keys(n._controlsMap).forEach(function(e){i(n._controlsMap[e])}),r},notifActionLink:function(e,t,n,r){throw new Error("not implemented")},notifLookupSelection:function(e,t){try{var n=this.getControl(t);if(!n)throw new Error("Control not found '"+t+"'");n.setFieldValue(e)}catch(r){s.getModal().error("notifLookupSelection failed",r)}},checkControlsData:function(){if(!this.isEditMode())return!0;var e=this,t=!0,n,r;return Object.keys(e._controlsMap).forEach(function(i){r=e._controlsMap[i],r&&r.checkData&&(t=t&&r.checkData(),!t&&n==null&&(n=r))}),n&&n.setFocus(),t},makeVisible:function(e){},applyChange:function(e){if(!e||!this.dao)return;this.dao.applyChange(e),this.refreshControls(null,{refreshValue:!0})},replaceData:function(e){if(!e||!this.dao)return;this.dao.replaceData(e),this.refreshControls(null,{refreshValue:!0})},addEventListener:function(e,t){if(!t||typeof t!="function")return;this._evtListener||(this._evtListener={}),this._evtListener[e]=i.bindFn(t,this)},removeEventListener:function(e){if(!this._evtListener)return;if(e)this._evtListener[e]=null;else for(var t in this._evtListener)this._evtListener=null},getEventListener:function(e){return this._evtListener?this._evtListener[e]:null}});t.Klass=a}),define("syracuse-tablet/html/js/pages/page",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/uiSettings","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/controller","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/ui/rect","syracuse-tablet/html/js/controls/ctrlFactory","syracuse-tablet/html/js/helpers/hammerScroller","syracuse-tablet/html/js/application/settings","syracuse-tablet/html/js/helpers/notifications"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/uiSettings"),s=e("syracuse-tablet/html/js/helpers/globals"),o=e("syracuse-tablet/html/js/helpers/controller").Klass,u=e("syracuse-tablet/html/js/helpers/logger").getLogger("page"),a=e("syracuse-tablet/html/js/ui/uiUtils"),f=e("syracuse-tablet/html/js/ui/rect"),l=e("syracuse-tablet/html/js/controls/ctrlFactory"),c=e("syracuse-tablet/html/js/helpers/hammerScroller").Klass,h=e("syracuse-tablet/html/js/application/settings"),p=e("syracuse-tablet/html/js/helpers/notifications"),d={fullpage:'		<section class="s-m-page s-m-full {{type}} {{subtype}}" id="{{pageid}}" {{#if parentId}}data-parent-id="{{parentId}}"{{/if}} class="ctrl-event-click" style=""> 			<header></header> 			<section class="s-m-main-content"></section> 			<footer style="display:none"></footer> 		</section> 	',vignette:'<section class= "s-m-page s-m-nested {{type}} {{subtype}}" id="{{pageid}}"></section>',panels:'		<div class="s-m-side-panel-dismiss" data-action="toggleSidePanel" data-params="close,all"></div> 		<aside class="s-m-panel s-m-left"></aside> 		<aside class="s-m-panel s-m-right"></aside>'},v=function(e,t){var n=e+"compiled",r=d[n];return r||(r=d[n]=Handlebars.compile(d[e])),r(t||{})},m=function(e){this.page=e,e.isVignette||(e.$$elmt.append($(v("panels"))),e.$$dismissPanel=e.$$elmt.children(".s-m-side-panel-dismiss")),this.destroy=function(){this.page=null},this.mainPage=function(){return this.page.isVignette?s.getCurrentPage():this.page},this.panelAttach=function(e,t,n){var r=this.mainPage();if(!r.$$dismissPanel||!t||e!="right"&&e!="left")return;var i=r._pageControls.get(e);i&&i!=t&&this._panelDetach(e);if(!t.isAttached(e)){var s=r.$$elmt.children("aside.s-m-panel.s-m-"+e);if(s.length!=1)return;r.addControl(t),r._pageControls.add(e,t).attach(s,e)}return this.panelToggle(e,t,n)},this.panelToggle=function(e,t,n){var r=this.mainPage();t||(t=r._pageControls.get(e));if(!t||!t.$$elmt)return null;t.$$elmt.toggle(n==="close"?!1:undefined);var i=t.$$elmt.is(":visible")===!0,s=i?t.$$elmt.width():0;t.closeBox!=1&&(r.$$dismissPanel[i?"addClass":"removeClass"](e),r.$$dismissPanel.css(e,s));if(t.overlap!=1){var o=this,u=[r.$$contentElmt];["header","footer"].forEach(function(e){var t=r._pageControls.get(e);t&&u.push(t.$$elmt.parent())}),u.forEach(function(t){t.css("left",(i?(e==="right"?-1:1)*s:0)+"px")})}return t.notifyToggled(e,n,i),t},this._panelDetach=function(e){var t=this.mainPage();if(!t.$$dismissPanel)return;var n=t._pageControls.remove(e);if(!n)return;return this.panelToggle(e,n,"close"),t.removeControl(n),n.detach()},this.panelCreate=function(e,t){return l.createPanel(this.page,e,t)},this.panelResize=function(e){var t=this.mainPage();["right","left"].forEach(function(n){var r=t._pageControls.get(n);r&&r.onResize&&r.onResize(e)})}},g=function(e){this.page=e,this.map={},this.statics={},this.add=function(e,t){this.map[e]&&alert("Control "+e+" already exists"),this.map[e]=t;if(e==="header"||e==="footer")this.statics[e]=t;return t},this.get=function(e){return this.map[e]},this.remove=function(e){var t=this.map[e];return this.map[e]=undefined,t},this.destroy=function(){this.page=null;if(!this.map)return;for(var e in this.map)this.map[e]&&this.map[e].destroy();this.map=null,this.statics=null},this.buildHtml=function(e,t){for(var n in this.statics)this.statics[n].buildHtml(this.page.$$elmt.children(n),e,t)},this.afterRender=function(e){for(var t in this.statics)this.statics[t].afterRender&&this.statics[t].afterRender(e)},this.forAllCtrls=function(e){for(var t in this.map)e(t,this.map[t])},this.addToControlMap=function(){for(var e in this.map)this.page.addControl(this.map[e])},this.closeSidePanel=function(){}},y={header:!0,footer:!0},b=r.defineClass(function(t,n,r,i,s){o.call(this,n.uuid,r,i,$.extend({},y,s)),this._pageControls=null,this._panelsManager=null,this._$$parent=t,this.state=n,this.state.options=n.options||{},this.ctrlAfterRenderCalls=[],this.ctrlSaveCtxCalls=[],this.isVignette=n.options.vignette===!0,this.isChild=n.options.parentId!=null,this.isChild&&(this.state.cached=!0),this._initRootElmt(t),this.isNew=!1,this.lastSelectedRow=null,p.subscribe(this,["sm.select.row","sm.updt.card.article"],1)},o,{resetMaps:function(){o.prototype.resetMaps.call(this),this.ctrlAfterRenderCalls=[],this.ctrlSaveCtxCalls=[]},_initRootElmt:function(e){var t=this,n=t.state.type,r,s={pageid:t.id,type:n,subtype:t.state.subtype,parentId:t.getParentId()};t.isVignette?t.$$contentElmt=t.$$elmt=$(v("vignette",s)):(t.$$elmt=$(v("fullpage",s)),t.$$contentElmt=t.$$elmt.children("section.s-m-main-content"),t._pageControls=new g(t),t.options.header===!0&&t.$$contentElmt.css({top:i.getProp("header.height")})),t._panelsManager=new m(t),t.scrollAllowed()?(t.$$scrollWrapper=$('<div class="s-m-scroll-wrapper"/>').appendTo(t.$$contentElmt),t.$$scrollWrapper.css({height:"auto"}),t.$$ctrlsRootElmt=t.$$scrollWrapper,t._gestureMgr=new c(t.$$scrollWrapper,{isPageScroller:!t.isVignette})):t.$$ctrlsRootElmt=t.$$contentElmt,t.$$elmt.hide(),t.$$elmt.appendTo(e),t.$$elmt.smPageController(t)},isDashboard:function(){return this.getType()==="dashboard"},destroy:function(){o.prototype.destroy.call(this),this._$$parent=null,this.$$elmt&&(r.unbindObj(this.$$elmt),this.$$elmt=null),this._pageControls&&(this._pageControls.destroy(),this._pageControls=null),this._panelsManager&&(this._panelsManager.destroy(),this._panelsManager=null),this._waiting&&(a.waitWheelDestroy(this._waiting),this._waiting=null),this.ctrlAfterRenderCalls=null,this.ctrlSaveCtxCalls=null,this._gestureMgr&&(this._gestureMgr.destroy(),this._gestureMgr=null)},destroySiblings:function(){if(this.$$elmt){u&&u("Page destroySiblings","destroySiblings");var e=this.$$elmt.siblings(function(e){var t=$(this).smPageController();t&&t.destroy()})}},getType:function(){return this.state.type},getProp:function(e){return r.getPropByPath(this.state,e)},openLinkInVignette:function(){return this.state.options.openLinkInVignette===!0},load:function(e){var t=this,e=e===!0,n=r.getTimeLine("page",t.state.name);return n&&n.start(),$.smResolve().then(function(){return t.initOnLoad()}).then(function(){return t.buildHtmlOption()}).then(function(n){return t.buildOpts=n,t.loadStructure(e)}).then(function(){return e?$.smResolve():(n&&n.step("loadStructure"),t.loadData())}).then(function(){return n&&n.step("loadData"),t.render(e,t.buildOpts)}).then(function(){return n&&n.step("render"),t.afterRender(e,t.buildOpts)}).then(function(){n&&n.stop()})},loadStructure:function(e){var t=$.Deferred();try{if(!this.article||!this.prototype)throw new Error("loadStructure - NULL article or prototype");this._pageControls&&e!==!0&&(this.options.header===!0&&this._pageControls.add("header",l.createPageControl("header",this)),this.options.footer===!0&&this._pageControls.add("footer",l.createPageControl("footer",this,{showHide:!0}))),this.buildControlsTree(),t.resolve()}catch(n){t.reject(n)}finally{return t.promise()}},loadData:function(){var e=$.Deferred(),t=this;try{t.setDao(null),e.resolve()}catch(n){e.reject(n)}finally{return e.promise()}},render:function(e,t){try{if(!this.rootLayout)throw new Error("buildHtml - NULL rootLayout");this._pageControls&&e!==!0&&this._pageControls.buildHtml(this.dao,t),this.$$ctrlsRootElmt&&(this.beforeAddContent(),o.prototype.render.call(this,this.$$ctrlsRootElmt,t))}catch(n){return $.smReject(n)}return $.smResolve()},initOnLoad:function(){return $.smResolve()},buildHtmlOption:function(){var e=this;return h.isPinnedPage(e.getPinPageId()).then(function(t){return{makeFullHeight:e.isVignette,toolBars:{showAuthoring:!e.isChild&&e.state.disableAuthoring!==!0,showLinks:!e.isChild,showHome:!e.isChild&&!this.state.isWelcomePage,statusPinPage:e.isChild?0:t?2:1}}})},updateLayout:function(e){var t=this;return t.article=e,t.resetMaps(),t.rootLayout.destroy(),t.$$ctrlsRootElmt.empty(),t.load(!0).then(function(){t._pageControls.addToControlMap(),a.triggerResizeInternal()})},onMainPageResize:function(e,t,n){var r=this;if(!this.isVignette){this._deviceType&&this.$$elmt.removeClass(this._deviceType),this._deviceType=s.getSiteLayout().getDeviceType(),this.$$elmt.addClass(this._deviceType);var i=0,o=0,u=e.application.height,a=e.application.width;r._pageControls&&(e.contentWidth=a,e.contentHeight=u,r._pageControls.forAllCtrls(function(r,s){if(s.onMainPageResize){s.onMainPageResize(e,t,n);if(s.isVisible()&&(r==="header"||r==="footer")){var o=s.getHeight();u-=o,r==="header"&&(i+=o)}}})),r.$$contentElmt.css({top:i+"px",left:o+"px",width:a+"px",height:u+"px"})}r._mainContentRect=f.elmtRect(r.$$contentElmt,"computed"),r._mainContentRect.moveLeft(parseInt(r.$$contentElmt.css("padding-left"),10)),r._initScroll(e&&e.preserveScroll),r.onResize(e)},getMainContentRect:function(){return this._mainContentRect},onResize:function(e){this.rootLayout&&this.rootLayout.onResize&&this.rootLayout.onResize(e),this._panelsManager&&this._panelsManager.panelResize(e)},afterRender:function(e,t){this.ctrlAfterRenderCalls.forEach(function(e){e.afterRender(t)}),this._pageControls&&e!==!0&&this._pageControls.afterRender(t)},beforeAddContent:function(){},addTitle:function(e,t){var n="";e&&(n='<header class="s-m-page-title">'+e+"</header>"),t&&(n+="<p>"+t+"<p>"),n.length>0&&$(n).prependTo(this.$$ctrlsRootElmt)},addControl:function(e){o.prototype.addControl.call(this,e),e.isPageControl()||(e.afterRender&&this.ctrlAfterRenderCalls.push(e),e.savedCtxCreate&&e.savedCtxRestore&&this.ctrlSaveCtxCalls.push(e))},activate:function(e,t,n){var r=this;r._show(e,function(){t?(r.savedContext=t.parent,r.savedCtxRestore(t.current)):r.lastSelectedRow&&r._hilightLastSelectedRow(r.lastSelectedRow),n&&n()})},deactivate:function(e){this._hide(e)},contextSave:function(e){var t=this;if(!e)return;t.savedContext={parent:e.savedContext,current:e.savedCtxCreate()}},savedCtxCreate:function(){var e=this,t={pageName:this.state.name,lastSelectedRow:e.lastSelectedRow};return e._gestureMgr&&(t.scroll=e._gestureMgr.savedCtxCreate()),e.ctrlSaveCtxCalls.length>0&&(t.ctxCtrls={},e.ctrlSaveCtxCalls.forEach(function(e){var n=e.savedCtxCreate();n&&(t.ctxCtrls[e.$bind]=n)})),t},savedCtxRestore:function(e){var t=this;if(!e)return;if(e.pageName!=this.state.name)return;t._gestureMgr&&e.scroll&&t._gestureMgr.savedCtxRestore(e.scroll,!0);if(e.ctxCtrls)for(var n in e.ctxCtrls){var r=t.getControlByBind(n),i=e.ctxCtrls[n];r&&r.savedCtxRestore&&i&&(e.lastSelectedRow&&e.lastSelectedRow.array$Bind===n&&(i.selectedRowId=e.lastSelectedRow.rowId),r.savedCtxRestore(i))}},_hilightLastSelectedRow:function(e,t){var n=this,r=function(e,t){var r=n.getControlByBind(e.array$Bind);r&&r.selectLastSelectedRow&&r.selectLastSelectedRow(e.rowId,t)};return t&&r(t,!1),e?(r(e,!0),!0):!1},_show:function(e,t){var n=this,r=n.getProp("transition");if(e){e._hide(function(){n.$$elmt.show(r||0,function(){t&&t()})});return}n.$$elmt.show(r==null?0:r,t)},_hide:function(e){if(!this.$$elmt){e&&e();return}this._pageControls&&this._pageControls.closeSidePanel("all");var t=this.getProp("transition");this.$$elmt.hide(t==null?0:t,e)},isActive:function(){return this.$$elmt&&this.$$elmt.is(":visible")},isLookup:function(){return this.prototype&&this.prototype.isLookup()},getParentNotif:function(){throw new Error("not implemented")},getParentId:function(){return this.isChild?this.state.options.parentId:null},getOpenLinkAttrs:function(){return{"data-nav":this.state.name}},_actTest:function(e){var t=$('<h5 style="color:red">Action test succeeded</h5>').prependTo(this.$$elmt);window.setTimeout(function(){t.remove()},2e3)},_actHome:function(){s.getApplication().gotoWelcomeApplication()},waitWheelStart:function(e){var t=this;if(e){var n=t.getControl(e);n&&n.waitStart&&n.waitStart();return}t._waiting||(t._waiting=a.waitWheelCreate(t.$$elmt)),a.waitWheelStart(t._waiting)},waitWheelStop:function(e){var t=this;if(e){var n=t.getControl(e);n&&n.waitStop&&n.waitStop();return}t._waiting&&a.waitWheelStop(t._waiting)},notifSelectRow:function(e,t,n,r){var i=this.getControl(e);if(!i)return;var s=this.lastSelectedRow;this.lastSelectedRow={array$Bind:i.$bind,rowId:t},r&&this._hilightLastSelectedRow(this.lastSelectedRow,s)},goBack:function(){window.history.back()},initVignetteScroll:function(e){if(!this._gestureMgr)return;var t=this.getParentVignette().getScrollViewRect(),n=e===!0;this._gestureMgr.init(t,"v",0,n)},_initScroll:function(e){if(!this._gestureMgr)return;if(this.scrollAllowed()){var t=this.isVignette?this.getParentVignette().getScrollViewRect():this._mainContentRect;if(t.height<this.$$scrollWrapper.height()){var n=0;e=e===!0||this.isNew!==!0,this._gestureMgr.init(t,"v",n,e);var r=this.state.options["auto-scroll"];r!=null&&(this.autoScroll(r),this.state.options["auto-scroll"]=undefined)}}else this._gestureMgr.reset()},autoScroll:function(e){this._gestureMgr&&this._gestureMgr.autoScroll(e)},scrollAllowed:function(){return this.isVignette?!1:this.isDashboard()?this.article&&this.article.$layoutType!=="hub":!0},getScrollOffset:function(){return s.getApplication().getScrollOffset()},getScrollValue:function(){return this._gestureMgr?this._gestureMgr.getScrollValue():0},setParentVignette:function(e){this._parentVignette=e},getParentVignette:function(){return this._parentVignette},getGestureMgr:function(){return this._gestureMgr},makeVisible:function(e){if(!e||!this.getGestureMgr()||!e.$$elmt)return;this.getGestureMgr().makeVisible(e.$$elmt)},panelAttach:function(e,t,n){return this._panelsManager?this._panelsManager.panelAttach(e,t,n):null},panelCreate:function(e,t){return this._panelsManager?this._panelsManager.panelCreate(e,t):null},_actToggleSidePanel:function(e,t){if(!this._panelsManager)return;var n=this,t=t==null||t==="all"?["left","right"]:[t];t.forEach(function(t){n._panelsManager.panelToggle(t,null,e)})},getPinPageId:function(){},getPinPageData:function(){var e=this,t={name:e.state.name,title:e.prototype.data("$title"),id:e.getPinPageId(),icon:"star"};return t},getAuthoring:function(e,t){var n=r.getPropByPath(this.article,e);return n!=null?n:t},notifUpdtCardArticle:function(e,t){var n=this.getControl(t);if(!n||!e)return;n.setCardAuthoring(e.article)}});t.Page=b}),define("syracuse-tablet/html/js/pages/pageDashboard",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/pages/page","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/helpers/globals"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/pages/page").Page,s=e("syracuse-tablet/html/js/helpers/locale"),o=e("syracuse-tablet/html/js/helpers/globals"),u=r.defineClass(function(t,n,r,s,u){i.call(this,t,n,r,s,u),this.vignettes=[],this.cacheNotify=!0;var a=o.getApplication();a.dao.isSageApplication()&&this.state.dashboardName===a.dao.getHomeDashboardName()&&this.$$contentElmt.addClass(a.dao.getAppBackGroundClass())},i,{destroy:function(){i.prototype.destroy.call(this),this.vignettes=null},loadData:function(){return this.cacheNotify=!0,null},beforeAddContent:function(){},addControl:function(e){i.prototype.addControl.call(this,e),e&&e.isVignette&&e.isVignette()&&this.vignettes.push(e)},afterRender:function(e,t){var n=this;i.prototype.afterRender.call(this,e,t),!this.vignettes||this.vignettes.length<1||this.vignettes.forEach(function(e){var t={sdataParameters:n.state.options&&n.state.options.sdataParameters||{}};e.load(null,t)})},onMainPageResize:function(e,t,n){i.prototype.onMainPageResize.call(this,e,t,n),this.vignettes.forEach(function(r){r.onMainPageResize(e,t,n)})},updateLayout:function(e){return this.vignettes=[],i.prototype.updateLayout.call(this,e)},savedCtxCreate:function(){var e=i.prototype.savedCtxCreate.call(this);e.vignettes=[];var t;return this.vignettes&&this.vignettes.forEach(function(n){t=n.getPage(),e.vignettes.push(t?t.savedCtxCreate():null)}),this.isHubLayout()&&(e.hubCtx=this.rootLayout.savedCtxCreate()),e},savedCtxRestore:function(e){i.prototype.savedCtxRestore.call(this,e),this._savedVignetteContext=e.vignettes,e.hubCtx&&this.isHubLayout()&&this.rootLayout.savedCtxRestore(e.hubCtx)},savedCtxVignette:function(e){if(e==null||this._savedVignetteContext==null)return null;var t=this.vignettes.indexOf(e);return t==-1||t>this._savedVignetteContext.length-1?null:{current:this._savedVignetteContext[t]}},renderEmptyDashboardMessage:function(){var e;this.state.isWelcomePage?e=s.text("dashboard.welcome.empty"):e=s.text("dashboard.all.empty"),this.rootLayout.$$elmt.prepend('<div class="s-m-dashboard-msg-empty">'+e+"</div>")},getPinPageId:function(){var e=this;return e.state.dashboardName+"_"+JSON.stringify(e.state.options.sdataParameters)},getPinPageData:function(){var e=this,t;e.state.options.sdataParameters&&Object.keys(e.state.options.sdataParameters).forEach(function(n){var r=n+"="+e.state.options.sdataParameters[n];t?t+="&"+r:t=r});var n=i.prototype.getPinPageData.call(e);return n.dashboardName=e.state.dashboardName,n.sdataParameters=t,n},cachedDataNotification:function(e){this.cacheNotify===!0&&(o.getModal().notify(e),this.cacheNotify=!1)},isHubLayout:function(){return this.rootLayout&&this.rootLayout.$type==="hub"},getGestureMgr:function(){return this.isHubLayout()?this.rootLayout.getGestureMgr():i.prototype.getGestureMgr.call(this)},getScrollOffset:function(){var e=o.getApplication().getScrollOffset();if(this.isHubLayout()&&this.getGestureMgr()){var t=this.getGestureMgr().getOffset();return e.top+=t.top,e.left+=t.left,t}return e}});t.Page=u}),define("syracuse-tablet/html/js/sdata/entities/welcomeApplication",["require","exports","module","syracuse-tablet/html/js/sdata/entities/clientContract","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/application/settings","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){"use strict";function f(e){return e.dashboardName?c(e):l(e)}function l(e){return{$type:"$representation",$title:e.title,entity:e.entity,action:e.action,representation:e.representation,facet:e.facet,keyParameter:e.key,endpoint:e.endpoint,applicationName:e.applicationName,icon:e.icon}}function c(e){return{$type:"$dashboard",$title:e.title,dashboardName:e.dashboardName,applicationName:e.applicationName,sdataParameters:e.sdataParameters,icon:e.icon}}function h(e){var t,n=1,r;return s.getTileConfigs().then(function(e){r=e}).then(function(){return s.getPinnedPages()}).then(function(i){if(i.length<=0)return;t={$layoutType:"hubGroup",$title:o.text("welcome.myquicklinks"),$items:[]},i.forEach(function(i){var s=r["pin-"+i.id];s=s||{};var o="$$$"+n;n++;var u=o,a=f(i);a.$title=s.title||a.$title,a.icon=s.icon||a.icon,a.pinPageId=i.id,e.$gadgets[o]=a,e.$vignettes[u]={$uuid:o,$displayStyle:"$link"},t.$items.push({$layoutType:"tile",$bgColor:s.color||"lime",$items:[{$bind:u}],$size:s.size||"medium"})})}).then(function(){t&&e.$article.$items.push(t)})}function p(e){var t=i.getMetaData(),n,r,f={sageAppli:{$layoutType:"hubGroup",$title:o.text("welcome.sageapp"),$items:[]},byDefault:{$layoutType:"hubGroup",$title:o.text("welcome.myapps"),$items:[]}},l;return s.getTileConfigs().then(function(e){l=e}).then(function(){return t.getApplications()}).then(function(e){return n=e,s.getHiddenApplications()}).then(function(t){r=t,u.hidden=[],u.visible=[],r.forEach(function(e){n.forEach(function(t){e===t.applicationName&&u.hidden.push(t)})}),n.forEach(function(t){var n=t.applicationName;if(t.applicationName!==a.$application.applicationName&&r.indexOf(n)<0){u.visible.push(n);var i=l["app-"+n];i=i||{};var n="$welcome_"+t.applicationName,s={$type:"$application",$title:i.title||t.title,applicationName:t.applicationName,icon:i.icon||t.iconName},o={$uuid:n};e.$gadgets[n]=s,e.$vignettes[n]=o,f[t.isSageApplication?"sageAppli":"byDefault"].$items.push({$layoutType:"tile",$bgColor:i.color,$items:[{$bind:n}],$size:i.size||"medium"})}});for(var s in f)(i.isDvlpMode()||s!=="sageAppli")&&f[s].$items.length>0&&e.$article.$items.push(f[s])})}function d(e){return e.$gadgets={},e.$vignettes={},e.$article={$layoutType:"hub",$items:[]},h(e).then(function(){return p(e)}).then(function(){return e}).fail(function(e){return console.log(e),$.smReject(e)})}var r=e("syracuse-tablet/html/js/sdata/entities/clientContract"),i=e("syracuse-tablet/html/js/helpers/globals"),s=e("syracuse-tablet/html/js/application/settings"),o=e("syracuse-tablet/html/js/helpers/locale"),u={hidden:[],visible:[]},a={$application:{$uuid:"$welcomeApplication",applicationName:"$welcomeApplication",title:"Welcome",description:"Welcome",iconName:"gears",$homeDashboard:{$uuid:"$welcomeDashboard",dashboardName:"$welcomeDashboard"}},$dashboards:{$welcomeDashboard:{$pageInfo:{isWelcomePage:!0,disableAuthoring:!0},$update:function(e){return d(e)},$dashboardName:"$welcomeDashboard",$title:"",$description:""}}};t.register=function(){r.registerApp(a)},t.getApplicationLists=function(){return u}}),define("syracuse-tablet/html/js/ui/modals/modalChooseApps",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/ui/modals/modalDialog"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/locale"),s=e("syracuse-tablet/html/js/ui/modals/modalDialog"),o={header:'			<buttons class="pull-right"> 				<button type="button" class="btn btn-default s-m-modal-btn-validate" data-action="$validate"></button> 				<button type="button" class="btn btn-default s-m-modal-btn-cancel" data-action="$cancel"></button> 			</buttons> 			<div class="modal-title">{{title}}</div> 			',content:' 			<div class="s-m-scroll-wrapper s-m-scroll-wrapper-v">				<div class="form-group s-m-scroll-element"> 					<div class="list-group">						{{#each appList}} 							<a draggable="false" href="#" class="list-group-item" data-action="clickApp" data-params="{{applicationName}}">								<h4 class="list-group-item-heading">{{title}}</h4>								<p class="list-group-item-text">{{description}}</p>							</a>						{{/each}} 					</div> 				</div> 			</div>',footer:""},u=r.defineClass(function(t){var n=this;s.ModalBase.call(n),n.appList=[],t.forEach(function(e){n.appList.push(e)}),n.selectedApps={}},s.ModalBase,{_getTemplates:function(){var e=this;return{std:o}},getDisplayFlags:function(){var e=this,t=e.displayFlags||{};return e.deviceType==="tablet"?t.modalClass="half_right":t.modalClass="full",t},_getDataContext:function(){var e=this;return{label_validate:i.text("welcome.select.app.add"),label_cancel:i.text("welcome.select.app.cancel"),title:i.text("welcome.select.app.title"),appList:e.appList}},_onValidate:function(){},_onCancel:function(){var e=this;e.selectedApps={}},_onAction:function(e,t){var n=this;if(e==="clickApp"){var r=n.$$elmt.find('[data-params="'+t+'"]');n.selectedApps[t]?(r.removeClass("active"),delete n.selectedApps[t]):(r.addClass("active"),n.selectedApps[t]=!0)}return!1},_getResult:function(){var e=this;return Object.keys(e.selectedApps)}});t.Modal=u}),define("syracuse-tablet/html/js/ui/iconList",["require","exports","module"],function(e,t,n){"use strict";t.fontAwesomeIconNames=["fa-adjust","fa-adn","fa-ambulance","fa-anchor","fa-android","fa-angellist","fa-apple","fa-archive","fa-arrows","fa-asterisk","fa-at","fa-automobile","fa-backward","fa-ban","fa-bank","fa-barcode","fa-bars","fa-beer","fa-behance","fa-bell","fa-bicycle","fa-binoculars","fa-bitbucket","fa-bitcoin","fa-bold","fa-bolt","fa-bomb","fa-book","fa-bookmark","fa-briefcase","fa-btc","fa-bug","fa-building","fa-bullhorn","fa-bullseye","fa-bus","fa-cab","fa-calculator","fa-calendar","fa-camera","fa-car","fa-cc","fa-certificate","fa-chain","fa-check","fa-child","fa-circle","fa-clipboard","fa-close","fa-cloud","fa-cny","fa-code","fa-codepen","fa-coffee","fa-cog","fa-cogs","fa-columns","fa-comment","fa-comments","fa-compass","fa-compress","fa-copy","fa-copyright","fa-crop","fa-crosshairs","fa-css3","fa-cube","fa-cubes","fa-cut","fa-cutlery","fa-dashboard","fa-database","fa-dedent","fa-delicious","fa-desktop","fa-deviantart","fa-digg","fa-dollar","fa-download","fa-dribbble","fa-dropbox","fa-drupal","fa-edit","fa-eject","fa-empire","fa-envelope","fa-eraser","fa-eur","fa-euro","fa-exchange","fa-exclamation","fa-expand","fa-eye","fa-eyedropper","fa-facebook","fa-fax","fa-female","fa-file","fa-film","fa-filter","fa-fire","fa-flag","fa-flash","fa-flask","fa-flickr","fa-folder","fa-font","fa-forward","fa-foursquare","fa-gamepad","fa-gavel","fa-gbp","fa-ge","fa-gear","fa-gears","fa-gift","fa-git","fa-github","fa-gittip","fa-glass","fa-globe","fa-google","fa-group","fa-header","fa-headphones","fa-heart","fa-history","fa-home","fa-html5","fa-ils","fa-image","fa-inbox","fa-indent","fa-info","fa-inr","fa-instagram","fa-institution","fa-ioxhost","fa-italic","fa-joomla","fa-jpy","fa-jsfiddle","fa-key","fa-krw","fa-language","fa-laptop","fa-lastfm","fa-leaf","fa-legal","fa-link","fa-linkedin","fa-linux","fa-list","fa-lock","fa-magic","fa-magnet","fa-male","fa-maxcdn","fa-meanpath","fa-medkit","fa-microphone","fa-minus","fa-mobile","fa-money","fa-music","fa-navicon","fa-openid","fa-outdent","fa-pagelines","fa-paperclip","fa-paragraph","fa-paste","fa-pause","fa-paw","fa-paypal","fa-pencil","fa-phone","fa-photo","fa-pinterest","fa-plane","fa-play","fa-plug","fa-plus","fa-print","fa-qq","fa-qrcode","fa-question","fa-ra","fa-random","fa-rebel","fa-recycle","fa-reddit","fa-refresh","fa-remove","fa-renren","fa-reorder","fa-repeat","fa-reply","fa-retweet","fa-rmb","fa-road","fa-rocket","fa-rouble","fa-rss","fa-rub","fa-ruble","fa-rupee","fa-save","fa-scissors","fa-search","fa-send","fa-share","fa-shekel","fa-sheqel","fa-shield","fa-signal","fa-sitemap","fa-skype","fa-slack","fa-sliders","fa-slideshare","fa-sort","fa-soundcloud","fa-spinner","fa-spoon","fa-spotify","fa-square","fa-star","fa-steam","fa-stethoscope","fa-stop","fa-strikethrough","fa-stumbleupon","fa-subscript","fa-suitcase","fa-superscript","fa-support","fa-table","fa-tablet","fa-tachometer","fa-tag","fa-tags","fa-tasks","fa-taxi","fa-terminal","fa-th","fa-ticket","fa-times","fa-tint","fa-trash","fa-tree","fa-trello","fa-trophy","fa-truck","fa-try","fa-tty","fa-tumblr","fa-twitch","fa-twitter","fa-umbrella","fa-underline","fa-undo","fa-university","fa-unlink","fa-unlock","fa-unsorted","fa-upload","fa-usd","fa-user","fa-users","fa-vine","fa-vk","fa-warning","fa-wechat","fa-weibo","fa-weixin","fa-wheelchair","fa-wifi","fa-windows","fa-won","fa-wordpress","fa-wrench","fa-xing","fa-yahoo","fa-yelp","fa-yen","fa-youtube"]}),define("syracuse-tablet/html/js/ui/modals/modalConfigTile",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/ui/modals/modalDialog","syracuse-tablet/html/js/ui/iconList","syracuse-tablet/html/js/authoring/authoringProperties"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/locale"),s=e("syracuse-tablet/html/js/ui/modals/modalDialog"),o=e("syracuse-tablet/html/js/ui/iconList"),u=e("syracuse-tablet/html/js/authoring/authoringProperties"),a={header:'		<buttons class="pull-right"> 			<button type="button" class="btn btn-default s-m-modal-btn-validate" data-action="$validate"></button> 			<button type="button" class="btn btn-default s-m-modal-btn-cancel" data-action="$cancel"></button> 		</buttons> 		<div class="modal-title">{{title}}</div> 			',content:' 			<div class="s-m-scroll-wrapper s-m-scroll-wrapper-v">				<div class="form-group s-m-scroll-element"> 					<label>{{lab_title}}</label> 					<input id="tile_title" value="{{tileTitle}}"> 					<label>{{lab_color}}</label> 					<div class="s-m-list-colors">						{{#each colors}} 							<a draggable="false" href="#" {{#if this.active}}class="active"{{/if}} data-action="clickColor" data-params="{{value}}">								<div class="s-m-bg-{{value}}"> 								</div> 							</a>						{{/each}} 					</div> 					<label>{{lab_size}}</label> 					<div class="s-m-list-sizes">						{{#each sizes}} 							<a draggable="false" href="#" {{#if this.active}}class="active"{{/if}} data-action="clickSize" data-params="{{value}}">{{label}}</a>						{{/each}} 					</div> 					<label>{{lab_icon}}</label> 					<div class="s-m-list-icons">						{{#each icons}} 							<a draggable="false" href="#" {{#if this.active}}class="active"{{/if}} data-action="clickIcon" data-params="{{value}}"> 								<i class="fa {{value}}"/> 							</a>						{{/each}} 					</div> 					<div style="width:100%; display: inline-block;"></div> 				</div> 			</div>',footer:""},f=r.defineClass(function(t){var n=this;s.ModalBase.call(n),n.tile=t,n.result=null},s.ModalBase,{_getTemplates:function(){var e=this;return{std:a}},getDisplayFlags:function(){var e=this,t=e.displayFlags||{};return e.deviceType==="tablet"?t.modalClass="config-tile half_right":t.modalClass="config-tile full",t},_getDataContext:function(){var e=this;u.initProperties();var t=u.getAllProperties(),n={label_validate:i.text("welcome.tile.cfg.ok"),label_cancel:i.text("welcome.tile.cfg.cancel"),title:i.text("welcome.tile.cfg.title"),lab_title:i.text("welcome.tile.cfg.lab_title"),lab_color:i.text("welcome.tile.cfg.lab_color"),lab_size:i.text("welcome.tile.cfg.lab_size"),lab_icon:i.text("welcome.tile.cfg.lab_icon")};return n.colors=t.tileColor.values.map(function(t){return{active:e.tile.color===t.value,value:t.value,label:t.label}}),n.colors.shift(),n.sizes=t.tileSize.values.map(function(t){return{active:e.tile.size===t.value,value:t.value,label:t.label}}),n.icons=o.fontAwesomeIconNames.map(function(t){return{active:"fa-"+e.tile.icon===t,value:t,label:t}}),n.tileTitle=e.tile.title,n},_onValidate:function(){var e=this,t=e.$$elmt.find("a.active"),n,r=$.extend(!0,{},e.tile);r.title=e.$$elmt.find("#tile_title").val();for(n=0;n<t.length;n++){var i=$(t[n]).attr("data-action"),s=$(t[n]).attr("data-params");switch(i){case"clickColor":r.color=s;break;case"clickSize":r.size=s;break;case"clickIcon":r.icon=s.substring(3)}}e.result=r},_onCancel:function(){var e=this;e.result=null},_onAction:function(e,t){var n=this;switch(e){case"clickColor":case"clickSize":case"clickIcon":var r=n.$$elmt.find('a.active[data-action="'+e+'"]'),i=n.$$elmt.find('a[data-action="'+e+'"][data-params="'+t+'"]');r.removeClass("active"),i.addClass("active")}return!1},_getResult:function(){var e=this;return e.result}});t.Modal=f}),define("syracuse-tablet/html/js/pages/pageWelcomeDashboard",["require","exports","module","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/pages/pageDashboard","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/application/settings","syracuse-tablet/html/js/sdata/entities/welcomeApplication","syracuse-tablet/html/js/ui/modals/modalChooseApps","syracuse-tablet/html/js/ui/modals/modalConfigTile"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/globals"),i=e("syracuse-tablet/html/js/helpers/utils"),s=e("syracuse-tablet/html/js/pages/pageDashboard").Page,o=e("syracuse-tablet/html/js/helpers/locale"),u=e("syracuse-tablet/html/js/application/settings"),a=e("syracuse-tablet/html/js/sdata/entities/welcomeApplication"),f=e("syracuse-tablet/html/js/ui/modals/modalChooseApps"),l=e("syracuse-tablet/html/js/ui/modals/modalConfigTile"),c=!1,h=i.defineClass(function(t,n,r,i){s.call(this,t,n,r,i),this.vignettes=[]},s,{destroy:function(){s.prototype.destroy.call(this)},beforeAddContent:function(){this.addTitle(this.prototype.data("$title"),this.prototype.data("$description")),this.$$elmt.addClass("s-m-page-welcome-background")},buildHtmlOption:function(){var e=this;return s.prototype.buildHtmlOption.call(e).then(function(e){return e.makeFullHeight=!1,e.toolBars={showAuthoring:!1,showLinks:!0,showHome:!1,showPageConfig:!0,statusPinPage:0},e})},afterRender:function(e,t){var n=this;s.prototype.afterRender.call(n,e,t),c&&n._initConfigUI(),c=!1},_actPageConfig:function(){var e=this;e._initConfigUI()},_actCancelPageConfig:function(){var e=this;e._destroyConfigUI()},_actRemoveTile:function(e){var t=this,n=t._getTileInfo(e),r;n.gadget.pinPageId?r=u.removePinnedPage(n.gadget.pinPageId):r=u.hideApplication(n.gadget.applicationName),r.then(function(){return t._afterChangePage()})},_actAddWelcomeApp:function(){var e=this,t=new f.Modal(e._appList.hidden);t.show().then(function(t){t&&t.length>0&&$.smForEachPromise(t,function(e){return u.unhideApplication(e)}).then(function(){return e._afterChangePage()})})},_afterChangePage:function(){var e=this;c=!0,r.getApplication().gotoWelcomeApplication(null,!0)},_actConfigTile:function(e){var t=this,n=t._getTileInfo(e),r=n.$$tile.attr("class"),i="medium",s=r.split(" "),o=["small","medium","wide","large","full","all"];s&&s.some(function(e){return o.indexOf(e)>-1?(i=e,!0):!1});var u=/s-m-bg-(\w+)/.exec(r);u=u&&u.length>1&&u[1]||"lime";var a={title:n.gadget.$title,color:u,size:i,icon:n.gadget.icon},f=new l.Modal(a);f.show().then(function(e){e!=null&&t._applyTileChanges(n,e)})},_applyTileChanges:function(e,t){var n=this,r;e.gadget.pinPageId?r="pin-"+e.gadget.pinPageId:r="app-"+e.gadget.applicationName,t.tileId=r,u.setTileConfig(t).then(function(){n._afterChangePage()})},_initConfigUI:function(){var e=this;e._appList=a.getApplicationLists();var t=$(".s-m-control.header",e.$elmt);e.$$pageConfigHeader=$('<div class="s-m-page-config-header">					<div class="pull-left">						<btn class="hidden addapp btn fa fa-cubes" data-action="addWelcomeApp">'+o.text("page.configure.add.app")+'						</btn>					</div>			  	<div class="pull-right">					<btn class="cancel btn glyphicon glyphicon-remove" data-action="cancelPageConfig"></btn>				</div>			</div>'),t.append(e.$$pageConfigHeader),e._appList.hidden.length>0&&$("[data-action=addWelcomeApp]",t).removeClass("hidden");var n=$(".s-m-tile",e.$$elmt);n.addClass("s-m-tile-edit");for(var r=0;r<n.length;r++){var i=$(n[r]);i.attr("data-tile-config-id",r);var s=$(".s-m-vignette",i);i.append($('<btn class="cfg config fa fa-gears" data-action="configTile" data-params="'+s.attr("id")+'">')),i.append($('<btn class="cfg remove fa fa-trash-o" data-action="removeTile" data-params="'+s.attr("id")+'">'))}$(".s-m-control.footer",e.$elmt).css({display:"none"})},_destroyConfigUI:function(){var e=this;e.$$pageConfigHeader&&(e.$$pageConfigHeader.remove(),e.$$pageConfigHeader=null),$(".s-m-control.footer",e.$elmt).css({display:"block"}),$(".s-m-tile-edit").removeClass("s-m-tile-edit"),$(".s-m-tile btn.remove",e.$elmt).remove(),$(".s-m-tile btn.config",e.$elmt).remove()},_getTileInfo:function(e){var t=this.getControl(e);if(!t)return;var n=$("#"+e),r=n.closest(".s-m-tile");return{$$tile:r,$$vignette:n,$$remove:$(".s-m-tile btn.remove",r),ctrl:t,gadget:t.prototype.data("$gadget")}}});t.Page=h}),define("syracuse-tablet/html/js/sdata/sdatawhere/operator",["require","exports","module","syracuse-tablet/html/js/helpers/utils"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils");t.Operator=function(e,t,n,r,i,s,o){var u=this;u.code=e,u.text=t,u.precedence=n,u.isPrefix=r,u.isInfix=i,u.isAssociative=s,u.isPredicate=o},r.defineClass(t.Operator,null,{toString:function(){return this.text}}),t.operators=new function(){function n(n,r,i,s,o,u,a){var f=new t.Operator(n||r,r,i,s,o,u,a);e.operators[f.text]=f}function r(){n(null,".",1,!1,!0,!0,!1),n(null,"not",2,!0,!1,!1,!1),n("*","mul",3,!1,!0,!0,!1),n("/","div",3,!1,!0,!0,!1),n("%","mod",3,!1,!0,!0,!1),n(null,"+",4,!1,!0,!0,!1),n(null,"-",4,!0,!0,!0,!1),n("=","eq",5,!1,!0,!1,!0),n("<>","ne",5,!1,!0,!1,!0),n("<","lt",5,!1,!0,!1,!0),n("<=","le",5,!1,!0,!1,!0),n(">","gt",5,!1,!0,!1,!0),n(">=","ge",5,!1,!0,!1,!0),n(null,"between",5,!1,!0,!1,!0),n(null,"in",5,!1,!0,!1,!0),n(null,"like",5,!1,!0,!1,!0),n(null,"and",6,!1,!0,!0,!0),n(null,"or",7,!1,!0,!0,!0),n(null,"(",8,!0,!1,!1,!1),n(null,")",8,!1,!1,!1,!1),n(null,",",8,!1,!1,!1,!1)}var e=this;return e.operators={},r(),e}}),define("syracuse-tablet/html/js/sdata/sdatawhere/token",["require","exports","module","syracuse-tablet/html/js/helpers/utils","./operator"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("./operator");t.tokenType={identifier:"identifier",operator:"operator",literal:"literal"},t.Token=function(e,t,n,r,i){var s=this;s.type=e,s.value=i;var o=t,u=n,a=r;s.getRemainingText=function(){return o.substring(u,o.length)}},r.defineClass(t.Token,null,{matches:function(e){return this.value instanceof i.Operator&&this.value.code==e}})}),define("syracuse-tablet/html/js/sdata/sdatawhere/tokenizer",["require","exports","module","./token","./operator"],function(e,t,n){var r=e("./token"),i=e("./operator");t.Tokenizer=new function(){function t(e,t){while(t<e.length&&e[t]===" ")t++;return t}function n(e){return(new RegExp("[0-9]")).test(e)}function s(e){return(new RegExp("[$a-zA-Z%']")).test(e)}function o(e){return(new RegExp("[$a-zA-Z0-9_%']")).test(e)}function u(e,t,i,s){var o=i+1;while(o<t.length&&n(t[o]))o++;var u;if(o<t.length&&t[o]==="."){o++;while(o<t.length&&n(t[o]))o++;u=parseFloat(e.substring(i,o))}else u=parseInt(e.substring(i,o),10);return s.push(new r.Token(r.tokenType.literal,e,i,o-i,u)),o}function f(e,t,n,s){var u=n+1;while(u<t.length&&o(t[u]))u++;var f=t.substr(n,u-n),l=i.operators.operators[f.toLowerCase()];if(l!=null)s.push(new r.Token(r.tokenType.operator,e,n,u-n,l));else{var c;(c=a[f])!==undefined?s.push(new r.Token(r.tokenType.literal,e,n,u-n,c)):s.push(new r.Token(r.tokenType.identifier,e,n,u-n,f))}return u}function l(e,t,n,i){var s=t[n],o=n+1,u=0,a="";while(o<t.length){if(t[o]===s){o++;if(o===t.length||t[o]!==s)return i.push(new r.Token(r.tokenType.literal,e,n,o-n,a)),o}a+=t[o++]}throw new Error("quoted string not terminated: "+e.substring(n))}function c(e,t,n,s){var o=i.operators.operators[t];return s.push(new r.Token(r.tokenType.operator,e,n,1,o)),n+1}function h(e,t,n,i){var s=n+1,o=t.length;while(s<o){if(t[s]=="@")break;s++}if(s===t.length)throw new Error("Where parser: date constant not terminated:"+e.substring(n,e.length));var u=t.substr(n+1,s-n-1),a=new Date(u);if(a!=null){var f=new r.Token(r.tokenType.literal,e,n,s+1-n,a);f.dataType="datetime",f.svalue=u,i.push(f)}return s+1}var e=this,a={"true":!0,"false":!1,"null":null};return e.tokenize=function(e){var r=[],i=0;while(i<e.length){i=t(e,i);var o=e[i];switch(o){case"@":i=h(e,e,i,r);break;case'"':case"'":i=l(e,e,i,r);break;case".":case"-":case"+":case"(":case")":case",":i=c(e,o,i,r);break;default:if(s(o))i=f(e,e,i,r);else{if(!n(o))throw new Error("invalid character: "+e.substring(i));i=u(e,e,i,r)}}}return r},e}}),define("syracuse-tablet/html/js/sdata/sdatawhere/expression",["require","exports","module","syracuse-tablet/html/js/helpers/utils"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils");t.Expression=function(e){var t=this;t.children=null,e.operator?(t.type="operator",t.value=e.operator,t.children=[],e.expression1&&t.children.push(e.expression1),e.expression2&&t.children.push(e.expression2)):e.expressionType&&(t.type=e.expressionType,t.value=e.value,t.svalue=e.svalue,t.dataType=e.dataType,t.type==="function"&&(t.children=[]))},r.defineClass(t.Expression,null,{isPredicate:function(){switch(this.type){case"operator":return this.value.isPredicate;case"identifier":return!0;case"function":return!0;case"literal":return!1;default:throw new Error("invalid expression type: "+this.type)}},toString:function(){if(this.children==null)return this.value.toString();var e=[];e.push("["+this.value.toString());for(var t=0;t<this.children.length;t++)e.push(" "+this.children[t].toString());return e.push("]"),e.join("")}})}),define("syracuse-tablet/html/js/sdata/sdatawhere/parser",["require","exports","module","./token","./operator","./tokenizer","./expression"],function(e,t,n){"use strict";var r=e("./token"),i=e("./operator"),s=e("./tokenizer"),o=e("./expression");t.Parser=new function(){function n(e,t,n,r){if(t[0]==e.length||!e[t[0]].matches("and"))throw new Error("invalid expression: expected 'and' after "+e[t[0]-1].getRemainingText());t[0]++;var i=u(e,t,r);n.children.push(i)}function u(e,t,r){var s=a(e,t);while(t[0]<e.length){var l=e[t[0]],c=l.value instanceof i.Operator?l.value:null;if(c==null||!c.isInfix||c.precedence>r)break;t[0]++;if(c.code=="in"){if(t[0]===e.length||!e[t[0]].matches("("))throw new Error("invalid expression: '(' expected after "+l.getRemainingText());t[0]++,s=new o.Expression({operator:c,expression1:s}),f(e,l,t,s.children)}else{var h=u(e,t,c.precedence-1);s=new o.Expression({operator:c,expression1:s,expression2:h}),c.code=="between"&&n(e,t,s,c.precedence)}if(!c.isAssociative&&c.precedence==r)return s}return s}function a(e,t){if(t[0]==e.length)throw new Error("premature end of expression");var n=e[t[0]];switch(n.type){case r.tokenType.identifier:return t[0]++,t[0]<e.length&&e[t[0]].matches("(")?c(e,n,t):new o.Expression({expressionType:"identifier",value:n.value});case r.tokenType.literal:return t[0]++,new o.Expression({expressionType:"literal",value:n.value,svalue:n.svalue,dataType:n.dataType});case r.tokenType.operator:var i=n.value;if(!i.isPrefix)throw new Error("invalid expression: expected beginning of term at "+n.getRemainingText());return t[0]++,l(e,i,t);default:throw new Error("internal error: bad token type "+n.type)}}function f(e,n,r,i){if(r[0]<e.length&&e[r[0]].matches(")")){r[0]++;return}while(r[0]<e.length){var s=u(e,r,t);i.push(s);if(r[0]<e.length&&e[r[0]].matches(")")){r[0]++;return}if(r[0]==e.length||!e[r[0]].matches(","))throw new Error("invalid expression: expected ',' or ')' at "+e[r[0]].getRemainingText());r[0]++}throw new Error("invalid function call syntax: argument missing after "+n.getRemainingText())}function l(e,t,n){var r;switch(t.code){case"-":case"not":return r=u(e,n,1),new o.Expression({operator:t,expression1:r});case"(":r=u(e,n,t.precedence);if(n[0]==e.length||!e[n[0]].matches(")"))throw new Error("invalid expression: expected ')' after "+e[n[0]-1].getRemainingText());return n[0]++,r;default:throw new Error("internal error: bad prefix operator "+t.code)}}function c(e,t,n){n[0]++;var r=new o.Expression({expressionType:"function",value:t.value});return f(e,t,n,r.children),r}var e=this,t=8;return e.parse=function(e){if(e==null||e.length==0)return null;var n=s.Tokenizer.tokenize(e),r=[];r[0]=0;var i=u(n,r,t);if(r[0]!=n.length)throw new Error("invalid expression: unexpected token at "+n[r[0]].getRemainingText());return i},e}}),define("syracuse-tablet/html/js/sdata/sdatawhere/whereUtils",["require","exports","module"],function(e,t,n){"use strict";function r(e,t,n){if(t.type=="identifier"){t.property=e[t.value];var i=n&&n.$properties&&n.$properties.$resources?n.$properties.$resources.$item:null;i&&i.$properties&&i.$properties[t.value]&&i.$properties[t.value].$type==="application/x-boolean"&&(t.property=t.property===!0?2:1)}else if(t.type=="literal")t.property=t.dataType=="datetime"?t.svalue:t.value;else if(t.children){var s=null;if(t.type=="operator")switch(t.value.code){case"and":t.children.forEach(function(t){r(e,t,n)}),t.property=t.children[0].property&&t.children[1].property;break;case"or":t.children.forEach(function(t){r(e,t,n)}),t.property=t.children[0].property||t.children[1].property;break;case"between":t.children.forEach(function(t){r(e,t,n)}),t.property=t.children[0].property>=t.children[1].property&&t.children[0].property<=t.children[2].property;break;case">=":t.children.forEach(function(t){r(e,t,n)}),t.property=t.children[0].property>=t.children[1].property;break;case">":t.children.forEach(function(t){r(e,t,n)}),t.property=t.children[0].property>t.children[1].property;break;case"<=":t.children.forEach(function(t){r(e,t,n)}),t.property=t.children[0].property<=t.children[1].property;break;case"<":t.children.forEach(function(t){r(e,t,n)}),t.property=t.children[0].property<t.children[1].property;break;case"like_s":t.children.forEach(function(t){r(e,t,n)}),t.property=t.children[0].property.toUpperCase().indexOf(t.children[1].property.toUpperCase())===0;break;case"like":t.children.forEach(function(t){r(e,t,n)});var o=t.children[1].property.toUpperCase().replace(/%/g,"");t.property=t.children[0].property.toUpperCase().indexOf(o)>=0;break;case"=":t.children.forEach(function(t){r(e,t,n)}),t.children[0].property=="0000-00-00"&&t.children[1].dataType==="datetime"&&(t.children[0].property=""),t.children[1].property=="0000-00-00"&&t.children[0].dataType==="datetime"&&(t.children[1].property=""),t.property=t.children[0].property==t.children[1].property;break;case"<>":t.children.forEach(function(t){r(e,t,n)}),t.children[0].property=="0000-00-00"&&t.children[1].dataType==="datetime"&&(t.children[0].property=""),t.children[1].property=="0000-00-00"&&t.children[0].dataType==="datetime"&&(t.children[1].property=""),t.property=t.children[0].property!=t.children[1].property;break;case".":r(e,t.children[0],n),r(t.children[0].property,t.children[1],n),t.property=t.children[1].property;break;default:t.property=s,t.children.forEach(function(t){r(e,t,n),t.type=="literal"&&(t.property=s)})}else if(t.type=="function")throw new Error("exp.type == 'function' not implemented")}}t.execWhere=function(e,t,n){return t==null?!0:(r(e,t,n),t.property)}}),define("syracuse-tablet/html/js/sdata/sdataDispatcherLocal",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/sdata/entities/clientContract","syracuse-tablet/html/js/sdata/sdatawhere/parser","syracuse-tablet/html/js/sdata/sdatawhere/whereUtils"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/sdata/entities/clientContract"),s=e("syracuse-tablet/html/js/sdata/sdatawhere/parser").Parser,o=e("syracuse-tablet/html/js/sdata/sdatawhere/whereUtils");t.Dispatcher=r.defineClass(function(){},null,{getEntity:function(e){var t=e&&e.split(".");return t&&t[0]&&t[0].smStartsWith("QUERY~")?t=t[0].split("~")[1]:t=t&&t[0],t&&i.getEntity(t)},accept:function(e,t){var n=this,r=$.Deferred();return r.resolve(n.getEntity(e.$representation)!=null),r.promise()},prototype:function(e,t){var n=$.Deferred();return n.reject("Dispatcher should never request for prototypes since they are cached in the application model on client side"),n.promise()},"new":function(e,t){var n=this,r=n.getEntity(e.$representation);return r.$services.$new(e,t)},read:function(e,t){var n=this,r=n.getEntity(e.$representation);return r.$services.$read(e,t)},query:function(e,t){var n=this,r=n.getEntity(e.$representation),u=r.$services.$query(e,t);if(e.$where){var a=$.Deferred();return u.then(function(t){var n=t.$resources,r=s.parse(e.$where),u=e.$representation&&e.$representation.split("."),f=i.getPrototype(u[0],u[1]),l=[];n.forEach(function(e,t){o.execWhere(e,r,f)&&l.push(e)}),a.resolve({$resources:l})}).fail(function(e){a.reject(e)}),a.promise()}return u},save:function(e,t){var n=this,r=n.getEntity(e.$representation);return r.$services.$save(e,t)},"delete":function(e,t){var n=this,r=n.getEntity(e.$representation);return r.$services.$delete(e,t)},service:function(e,t){var n=this,r=n.getEntity(e.$representation);return r.$services[e.$service](e,t)}})}),define("syracuse-tablet/html/js/sdata/sdataDispatcherHttp",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/sdata/sdataHttp"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/locale"),s=e("syracuse-tablet/html/js/helpers/globals"),o=e("syracuse-tablet/html/js/helpers/logger").getLogger("sdataDispatcher"),u=e("syracuse-tablet/html/js/sdata/sdataHttp");t.Dispatcher=r.defineClass(function(){},null,{accept:function(){var e=$.Deferred();return e.resolve(!0),e.promise()},_isOnline:function(){return s.isOnline()},_isOfflineError:function(e){return e&&e.status<100?!0:!1},_networkError:function(e,t){return t&&t.responseJSON&&t.responseJSON.$diagnoses?$.smReject({$title:e,$diagnoses:t.responseJSON.$diagnoses}):$.smReject({$title:e})},_offlineNoCachedDataMessage:function(){return $.smReject({$diagnoses:[{$message:i.text("error.network.offline.cache"),$severity:"error"}]})},_useCache:function(e,t,n){var r=s.getCache();if(r.isDisabled())return!1;var i=e.$parsedUrl&&e.$parsedUrl.query&&e.$parsedUrl.query.nocache;return i&&n==="read"?!1:e.$representation.indexOf(".$edit")>0&&n==="read"?!1:!0},prototype:function(e,t){var n=$.Deferred();return n.reject("Dispatcher should never request for prototypes since they are cached in the application model on client side"),n.promise()},"new":function(e,t){var n=this,i,s;return n._isOnline()?(i=$.smResolve(),s=!1):(i=n._newGetCache(e,t),s=!0),i.then(function(i){return i?(o&&o("Read template from cache: "+e.$representation),i.$uuid=r.UUID(),i):n._newDoHttp(e,t).then(function(t){if(t.isSuccess){var i=t.responseJSON;return n._newPutCache(e,i).then(function(){return i})}return s?n._networkError("Error reading $template",t):n._newGetCache(e,i).then(function(t){return t?(o&&o("Read template from cache fallback: "+e.$representation),t.$uuid=r.UUID(),t):n._networkError("Error reading $template",t)})})})},_newGetCache:function(e){var t=this;if(t._useCache(e,null,"read")){var n=s.getCache();return o&&o("Reading template from cache: "+e.$representation),n.read({$representation:"$templates",$endpoint:e.$endpoint,$key:e.$representation})}return o&&o("Disabled reading template from cache : "+e.$representation),$.smResolve()},_newDoHttp:function(e,t){var n={method:"GET",url:e.$link.$url};return u.send(n)},_newPutCache:function(e,t){var n=this;if(n._useCache(e,t,"write")){o&&o("Writing template to cache: "+e.$representation);var r=s.getCache();return r.put({$representation:"$templates",$key:e.$representation,$endpoint:e.$endpoint,$data:t})}return o&&o("Disabled writing template to cache : "+e.$representation),$.smResolve()},read:function(e,t){var n=this,r,i;return n._isOnline()?(r=$.smResolve(),i=!1):(r=n._readGetCache(e,t),i=!0),r.then(function(r){return r?(o&&o("Read data from cache: "+e.$representation),r.$cacheHint={},r):n._readDoHttp(e,t).then(function(t){if(t.isSuccess){var r=t.responseJSON;return n._readPutCache(e,r).then(function(){return r})}return n._isOfflineError(t)?i?n._offlineNoCachedDataMessage():n._readGetCache(e,r).then(function(e){return e?(e.$cacheHint={},e):n._offlineNoCachedDataMessage()}):n._networkError("Error reading data",t)})})},_readGetCache:function(e){var t=this;if(t._useCache(e,null,"read")){var n=s.getCache();return o&&o("Reading data from cache: "+e.$representation),n.read({$representation:e.$representation,$endpoint:e.$endpoint,$key:e.$key})}return o&&o("Disabled reading data from cache : "+e.$representation),$.smResolve()},_readDoHttp:function(e,t){var n={method:"GET",url:e.$link.$url};return u.send(n)},_readPutCache:function(e,t){var n=this;if(n._useCache(e,t,"write")){o&&o("Writing data to cache: "+e.$representation);var r=s.getCache();return r.put({$representation:e.$representation,$key:e.$key,$endpoint:e.$endpoint,$data:t})}return o&&o("Disabled writing data to cache : "+e.$representation),$.smResolve()},query:function(e,t){var n=this,r,i;return n._isOnline()?(r=$.smResolve(),i=!1):(r=n._queryGetCache(e,t),i=!0),r.then(function(r){var s;if(r&&r.length>0){o&&o("Queried data from cache: "+e.$representation);var u={};s=n._queryCutAndAddLinks(e,t,r,u).then(function(){if(u.$resources.length>0)return u.$cacheHint={},u})}else s=$.smResolve(null);return s.then(function(r){return r&&r.$resources&&r.$resources.length>0?r:n._queryDoHttp(e,t).then(function(t){if(t.isSuccess){var r=t.responseJSON;return n._queryPutCache(e,r).then(function(){return r})}return n._isOfflineError(t)?i?n._offlineNoCachedDataMessage():n._queryGetCache(e,r).then(function(t){if(t&&t.length>0){o&&o("Queried data from cache: "+e.$representation);var i={};return n._queryCutAndAddLinks(e,r,t,i).then(function(){if(i.$resources.length>0)return i.$cacheHint={},i})}return n._offlineNoCachedDataMessage()}):n._networkError("Error reading data",t)})})})},_queryCutAndAddLinks:function(e,t,n,r){var i=this,o=e.$parsedUrl.source.split("?")[0],u="",a,f=30,l="";e.$parsedUrl.query&&e.$parsedUrl.query.where&&(u+="&where="+e.$parsedUrl.query.where),a=e.$parsedUrl.query&&e.$parsedUrl.query.key;var c,h,p=r.$resources=[],d=!1,v=!1,m,g=e.$endpoint+"."+e.$representation;return s.getMetaData().getPrototype(g).then(function(t){var s,l,g="";t=t.$properties&&t.$properties.$resources&&t.$properties.$resources.$item||t;var y;t.$key?y=t.$key.replace(/{/g,"").replace(/}/g,""):y="$uuid",e.$parsedUrl.query&&e.$parsedUrl.query.orderBy&&(g=i._buildOrderBy(e,y,e.$parsedUrl.query.orderBy),u+="&orderBy="+g);var b=t.$properties[y],w=b&&b.$type&&b.$type!=="application/x-string",E=!1;if(a&&a.smStartsWith("gt")){s=a.substr(3),s=w?+s:s;for(m=0;m<n.length;m++){E||(l=i._calculateKey(t,n[m]),l=w?+l:""+l);if(l==s&&!E)E=!0;else if(E){p.push(n[m]);if(p.length>f)break}else v=!0}p.length>0&&(p.length>f&&(p.pop(),d=!0),c=i._calculateKey(t,p[0]),h=i._calculateKey(t,p[p.length-1]))}else if(a&&a.smStartsWith("lt")){if(a.length>3){s=w?+a.substr(3):""+a.substr(3);for(m=n.length-1;m>=0;m--){E||(l=i._calculateKey(t,n[m]),l=w?0+l:""+l);if(l==s&&!E)E=!0;else if(E){p.push(n[m]);if(p.length>f)break}else d=!0}p.length>f&&(v=!0,p.pop())}else for(m=n.length-1;m>=0;m--){p.push(n[m]);if(p.length>f)break}p.length>0&&(p.length>f&&(v=!0,p.pop()),r.$resources=p=p.reverse(),c=i._calculateKey(t,p[0]),h=i._calculateKey(t,p[p.length-1]))}else{for(m=0;m<n.length;m++){p.push(n[m]);if(p.length>f)break}p.length>0&&(p.length>f&&(d=!0,p.pop()),c=i._calculateKey(t,p[0]),h=i._calculateKey(t,p[p.length-1]))}var S=r.$links={};a&&(S.$first={$url:o+"?representation="+e.$representation+u}),a&&c&&v&&a!=="gt"&&(S.$previous={$url:o+"?representation="+e.$representation+u+"&key=lt."+c}),a!=="lt"&&h&&d&&(S.$next={$url:o+"?representation="+e.$representation+u+"&key=gt."+h}),a!=="lt"&&(S.$last={$url:o+"?representation="+e.$representation+u+"&key=lt"}),S.$more={$url:e.$parsedUrl.source+"&nocache=true"}})},_queryGetCache:function(e){var t=this;if(t._useCache(e,null,"read")){var n=s.getCache();o&&o("Querying data from cache: "+e.$representation);var r=e.$endpoint+"."+e.$representation;return s.getMetaData().getPrototype(r).then(function(r){t._checkQueryPrototype(e,r);var i=r.$filters,s=t._extendWhereWithFilter(e,i),r=r.$properties&&r.$properties.$resources&&r.$properties.$resources.$item||r,o;r.$key?o=r.$key.replace(/{/g,"").replace(/}/g,""):o="$uuid";var u=t._parseOrderBy(e.$orderBy,o);return n.query({$proto:r,$endpoint:e.$endpoint,$where:s,$orderBy:u}).fail(function(e){return $.smReject(e)})})}return o&&o("Disabled querying data from cache : "+e.$representation),$.smResolve()},_queryDoHttp:function(e,t){var n={method:"GET",url:e.$link.$url};return u.send(n)},_queryPutCache:function(e,t){var n=this;if(n._useCache(e,t,"write")){o&&o("Writing data to cache: "+e.$representation);var r=s.getCache(),i=e.$endpoint+"."+e.$representation;return s.getMetaData().getPrototype(i).then(function(i){return i=i.$properties&&i.$properties.$resources&&i.$properties.$resources.$item||i,$.smForEachPromise(t.$resources,function(t){var s=n._calculateKey(i,t);return r.put({$representation:e.$representation,$key:s,$endpoint:e.$endpoint,$data:t})})})}return $.smResolve(t)},save:function(e,t){var n=this;return n._saveDoHttp(e,t).then(function(t){if(t.isSuccess){var r=t.responseJSON;return n._savePutCache(e,r).then(function(){return r})}return $.smReject(t)})},_saveDoHttp:function(e,t){var n={method:e.$link.$method,url:e.$link.$url,send:t};return u.send(n)},_savePutCache:function(e,t){var n=this;try{if(n._useCache(e,t,"write")){o&&o("Writing data to cache: "+e.$representation);var r=s.getCache(),i=e.$key,u;if(!i){var a=e.$endpoint+"."+e.$representation;u=s.getMetaData().getPrototype(a).then(function(e){return e=e.$properties&&e.$properties.$resources&&e.$properties.$resources.$item||e,i=n._calculateKey(e,t),i})}else u=$.smResolve(i);u.then(function(i){n._removeFromCache({$representation:e.$representation,$key:i,$endpoint:e.$endpoint}).then(function(){return r.put({$representation:e.$representation,$key:i,$endpoint:e.$endpoint,$data:t})})})}return o&&o("Disabled writing data to cache : "+e.$representation),$.smResolve()}catch(f){return $.smReject(f)}},"delete":function(e,t){var n=this,r=$.Deferred();try{n._deleteDoHttp(e,t).then(function(t){if(t.isSuccess){var r=t.responseJSON;return n._deleteRemoveCache(e,r).then(function(){return r})}return $.smReject(t)}).then(function(e){r.resolve(e)}).fail(function(e){r.reject(e)})}catch(i){r.reject(i)}return r.promise()},_deleteDoHttp:function(e,t){var n={method:e.$link.$method,url:e.$link.$url};return u.send(n)},_deleteRemoveCache:function(e,t){var n=this;if(n._useCache(e,t,"write")){o&&o("Deleting data from cache: "+e.$representation);var r=s.getCache();n._removeFromCache({$representation:e.$representation,$key:e.$key,$endpoint:e.$endpoint}).then(function(){return r.remove({$representation:e.$representation,$key:e.$key,$endpoint:e.$endpoint})})}return o&&o("Disabled deleting data from cache : "+e.$representation),$.smResolve()},service:function(e,t){if(this._isOnline()){var n={method:e.$link.$method,url:e.$link.$url,data:t};return u.send(n)}return $.smResolve({$diagnoses:[{$severity:"error",$message:i.text("error.service.offline")}]})},_calculateKey:function(e,t){var n;return e.$key?n=e.$key.replace(/\{(.*?)\}/g,function(e,n){return t[n]}):n=t.$uuid,n},_getKeyFields:function(e){var t=e.$key||e.$properties&&e.$properties.$resources&&e.$properties.$resources.$item&&e.$properties.$resources.$item.$key;if(t){var n=[];return t.replace(/\{(.*?)\}/g,function(e,t){n.push(t)}),n.length<1?["$uuid"]:n}return["$uuid"]},_checkQueryPrototype:function(e,t){t.$properties.$resources.$item&&(t.$properties.$resources.$item.$type="{$baseType}."+e.$representation)},_removeFromCache:function(e){var t=this,n=s.getCache(),r=["$edit","$create","$details","$query","$lookup"],i=e.$representation.split(".")[0];return $.smForEachPromise(r,function(t){return e.$representation.indexOf("."+t)>0?$.smResolve():n.remove({$representation:i+"."+t,$key:e.$key,$endpoint:e.$endpoint})})},_parseOrderBy:function(e,t){if(!e)return[{property:t,sort:"ASC"}];var n=[];return e.split(",").map(function(e){e=e.trim();var t=e.split(" "),r=t[0].trim();if(r.length>0){var i="ASC";t.length>1&&(i=t[1].toUpperCase(),i=i!=="DESC"?"ASC":"DESC"),n.push({property:r,sort:i})}}),n},_buildOrderBy:function(e,t,n){return n?(n===t||n.indexOf(t+" ")>-1||n.indexOf(t+",")>-1||(n.indexOf(" DESC")>-1?n+=", "+t+" DESC":n+=", "+t+" ASC"),n):t},_extendWhereWithFilter:function(e,t){var n=this,r=e.$where;if(!t)return r;var i=e.$parsedUrl&&e.$parsedUrl.query&&e.$parsedUrl.query.filter;if(!i)return r;var s=t&&t[i];if(!s)return r;var o=n._checkFilterWhere(i,s.$where);return o?(r?r="("+r+") and ("+o+")":r="("+o+")",r):r},_checkFilterWhere:function(e,t){var n=t.match(/(\[F\:\w+\]?)/g);return n?(s.getModal().error(i.text("sdata.error.filter.screenFieldTitle"),i.text("sdata.error.filter.screenFieldDetails",[e,n.join(","),t])),null):t}})}),define("syracuse-tablet/html/js/sdata/sdataDispatcher",["require","exports","module","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/sdata/sdataUtils","syracuse-tablet/html/js/sdata/sdataDispatcherLocal","syracuse-tablet/html/js/sdata/sdataDispatcherHttp"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/logger").getLogger("sdataDispatcher"),i=e("syracuse-tablet/html/js/sdata/sdataUtils"),s=e("syracuse-tablet/html/js/sdata/sdataDispatcherLocal").Dispatcher,o=e("syracuse-tablet/html/js/sdata/sdataDispatcherHttp").Dispatcher,u=[new s,new o];t.dispatch=function(e,n,i){var s=$.Deferred();try{r&&r("Dispatch: "+e.$method+": "+e.$url);var o=t.parseLink(e),a;$.smForEachPromise(u,function(e){return e.accept(o,n)},function(e,t){return t===!0?(a=e,!0):!1});var f=a[o.$operation](o,n);if(!f)throw new Error("Could not dispatch: "+e.$method+": "+e.$url+" ("+o.$operation+")");f.then(function(e){s.resolve(e)}).fail(function(e){s.reject(e)})}catch(l){s.reject(l)}return s.promise()};var a=/\$prototypes\('(.*?)'\)/,f=/\('(.*?)'\)/;t.parseLink=function(e){var t=e.$url,n={$link:e,$parsedUrl:i.parseSDataURL(e.$url)};n.$endpoint=n.$parsedUrl.application+"."+n.$parsedUrl.contract+"."+n.$parsedUrl.dataset;var r=n.$parsedUrl.directory,s;if(e.$method==="GET"){if(t.indexOf("$prototypes")>-1)n.$operation="prototype",n.$representation=a.exec(t)[1];else if(r.indexOf("$template")>-1)n.$operation="new",n.$representation=n.$parsedUrl.query&&n.$parsedUrl.query.representation;else if(n.$parsedUrl.$services)n.$operation="service",n.$service=n.$parsedUrl.$services,n.$representation=n.$parsedUrl.query&&n.$parsedUrl.query.representation;else{var o=f.exec(r),u=r.indexOf("/QUERY(")>-1;o&&!u?(n.$operation="read",n.$key=o[1],n.$representation=n.$parsedUrl.query&&n.$parsedUrl.query.representation):(n.$operation="query",n.$representation=n.$parsedUrl.query&&n.$parsedUrl.query.representation)}n.$parsedUrl.query&&n.$parsedUrl.query.where&&(n.$where=n.$parsedUrl.query.where),n.$parsedUrl.query&&n.$parsedUrl.query.orderBy&&(n.$orderBy=n.$parsedUrl.query.orderBy)}else if(n.$parsedUrl.$services)n.$operation="service",n.$service=n.$parsedUrl.$services,n.$representation=n.$parsedUrl.query&&n.$parsedUrl.query.representation;else if(e.$method==="DELETE"){var o=f.exec(r);n.$operation="delete",n.$key=o[1],n.$representation=n.$parsedUrl.query&&n.$parsedUrl.query.representation}else{var o=f.exec(r);o?(n.$operation="save",n.$key=o[1],n.$representation=n.$parsedUrl.query&&n.$parsedUrl.query.representation):(n.$operation="save",n.$representation=n.$parsedUrl.query&&n.$parsedUrl.query.representation)}return n}}),define("syracuse-tablet/html/js/storage/sessionStorage",["require","exports","module","syracuse-tablet/html/js/helpers/logger"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/logger").getLogger("sessstorage"),i=null,s={},o=function(){if(i!==null)return i;i=!1;try{window.sessionStorage.setItem("__test_availability_session__","__test_availability_session__"),i=!0}catch(e){}return i},u=function(e){if(!o())return r&&r("session.fallback.getItem("+e+"):"+t),s[e];var t=window.sessionStorage.getItem(e);return r&&r("session.getItem("+e+"):"+t),t},a=function(e,t){if(!o()){r&&r("session.fallback.setItem("+e+"):"+t),s[e]=t;return}return r&&r("session.setItem("+e+"):"+t),window.sessionStorage.setItem(e,t)},f=function(e){if(!o()){r&&r("session.fallback.removeItem("+e+")"),delete s[e];return}return r&&r("session.removeItem("+e+")"),window.sessionStorage.removeItem(e)};t.removeItem=f,t.setItem=a,t.getItem=u}),define("syracuse-tablet/html/js/pages/pageRegular",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/pages/page","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/sdata/sdataDispatcher","syracuse-tablet/html/js/application/appFactory","syracuse-tablet/html/js/sdata/sdataUtils","syracuse-tablet/html/js/helpers/notifications","syracuse-tablet/html/js/storage/sessionStorage","syracuse-tablet/html/js/application/eventListener","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/logger").getLogger("page"),s=e("syracuse-tablet/html/js/pages/page").Page,o=e("syracuse-tablet/html/js/helpers/globals"),u=e("syracuse-tablet/html/js/sdata/sdataDispatcher"),a=e("syracuse-tablet/html/js/application/appFactory"),f=e("syracuse-tablet/html/js/sdata/sdataUtils"),l=e("syracuse-tablet/html/js/helpers/notifications"),c=e("syracuse-tablet/html/js/storage/sessionStorage"),h=e("syracuse-tablet/html/js/application/eventListener"),p=e("syracuse-tablet/html/js/helpers/locale"),d=function(e){var t=e.prop,n,r=(e.originalValue||e.value)==null?"":e.originalValue||e.value;switch(t.$type){case"application/x-password":case"application/x-string":return n=r.replace(/'/g,"\\'"),e.operator==="like"?n="%"+n+"%":e.operator==="like_s"&&(n+="%"),n="'"+n+"'",n;case"application/x-integer":case"application/x-real":case"application/x-decimal":case"application/x-quantity":return r;case"application/x-date":if(!r)return null;return"@"+r+"@";case"application/x-datetime":return"@"+r+"@";case"application/x-time":return null;case"application/x-boolean":return r?"true":"false";case"application/x-choice":return t.$value&&t.$value.$type==="application/x-string"?"'"+r.replace(/'/g,"\\'")+"'":r+"";case"application/x-reference":return typeof r!="string"&&(r=e.value),n=(r||"").replace(/'/g,"\\'"),n="'"+n+"'",n;default:}return null},v=r.defineClass(function(t,n,r,i,o){s.call(this,t,n,r,i,o),this.gadget=this.state.options.gadget,this._originalSdataUrl=this.state.options["sdata-url"],this._originalSdataUrl||(this.gadget?this._originalSdataUrl=this.gadget.getSDataUrl(this.prototype):this._originalSdataUrl=this.prototype.data("$url")),this._init$Filters(),this._initSdataInfo(),l.subscribe(this,["sm.rowdetail.update","sm.rowdetail.delete","sm.action.link"],1),this.prototype.data("$url")&&(this.$facet=f.parseSDataURL(this.prototype.data("$url")).facet,this.setActivity(this.$facet==="edit"?"edit":this.$facet==="create"?"create":"read")),l.subscribe(this,["sm.action.link"],1)},s,{_init$Filters:function(){this._$filters=[];var e=this.$filtersGetAuthoring(),t=this.prototype.data("$filters");if(e==="none"||!t){this._$filtersDisabled=!0;return}var n=!1;for(var r in t){var i=this.prototype.resolveExpression(t[r].$title);if(i){var s=$.extend(!0,{},t[r]);s.$title=i,s.id=r,n=n||s.$isDefault===!0,this._$filters.push(s)}}if(this._$filters.length==0)return;n||(this._$filters[0].$isDefault=!0)},_initSdataInfo:function(e){e||(e=this._originalSdataUrl);if(this.gadget){var t=this.gadget.getParameters();t.where&&(e=f.addWhereClause(e,t.where,this.state.options.sdataParameters))}if(!e)throw new Error("$url (sDataUrl) is expected");this.state.options["sdata-url"]=this.sDataUrl=e,this.sDataMethod=this.state.options["sdata-method"]||"GET"},destroy:function(){s.prototype.destroy.call(this),this.gadget=null},initOnLoad:function(){},beforeAddContent:function(){},afterRender:function(){var e=this;s.prototype.afterRender.call(e);if(!e.isVignette){var t=e.dao&&e.dao.data&&e.dao.data.$diagnoses;t&&t.length>0&&t.forEach(function(e){var t={severityClass:o.X3_SEVERITY_TO_BS[e.$severity]||e.$severity||"error",title:e.$message};o.getModal().notify(t)})}},getOpenLinkAttrs:function(){var e=s.prototype.getOpenLinkAttrs.call(this);return e["data-sdata-url"]=this.sDataUrl,e["data-sdata-method"]=this.sDataMethod,e["data-gadget-id"]=this.gadget.data("$uuid"),e},refresh:function(e,t){var n=this;e=e||{};var r=$.Deferred(),i=e["sdata-url"],s=e.controlId,o=e.type||"",u=o==="filtersort",a=function(e){n["waitWheel"+e.smCapitalize()].call(n,s)};try{var f=function(){a("stop"),n.refreshControls(s?[s]:null,e),r.resolve()};!i&&u!==!0?f():(a("start"),i&&n._initSdataInfo(i),n.loadData().then(function(){f()}).fail(function(e){a("stop"),r.reject(e)}))}catch(l){r.reject(l)}finally{return r.promise()}},loadData:function(){var e=$.Deferred(),t=this,n=function(t){i&&i("loadData failed",t),e.reject(t)};try{u.dispatch({$url:t._filterSortAllowed(!1)?t._filterSortUpdateUrl():t.sDataUrl,$method:t.sDataMethod}).then(function(n){if(n){t.setDao(a.createDaoSdata("representation",n,t.prototype,null));if(n.$cacheHint){var r={severityClass:"warning",title:p.text("info.network.offline.title"),body:p.text("info.network.offline.outdated")};if(!t.isVignette)o.getModal().notify(r);else{var i=o.getApplication().currentPage;i&&i.cachedDataNotification?i.cachedDataNotification(r):o.getModal().notify(r)}}}else o.getModal().actionResult("updateDao",{$diagnoses:[{$message:"NO DATA",$severity:"info"}]});return e.resolve()}).fail(function(e){n(e)})}catch(r){n(r)}finally{return e.promise()}},notifLookupSelection:function(e,t){if(!this.isActive())return;s.prototype.notifLookupSelection.call(this,e,t)},notifActionLink:function(e,t,n,r){var i=this;if(!this.isActive())return;try{var s=n?n.responseJSON||{}:{};switch(t.name){case"$save":this._doActSave(e,t,s,r);break;case"$delete":o.getApplication().goBack().always(function(){o.getModal().displayActionMsg(e,t.name,i.prototype,s)});break;case"$canceledit":var u=this.getScrollValue();o.getApplication().goBack().always(function(e){e&&setTimeout(function(){e.autoScroll(u*.8)})});break;default:t.$isAction===!0&&s&&this._myApplyChange(s),o.getModal().displayActionMsg(e,t.name,i.prototype,s)}}catch(a){o.getModal().error("notifActionLink failed",a)}},_myApplyChange:function(e){this.dao.applyChange(e,{$isPartialDelta:!1,$isEditMode:this.isEditMode()});var t=this.refreshControls(null,{refreshValue:!0});t.length>0&&t[0].setFocus(),this._gestureMgr&&this._gestureMgr.adjust()},validateBeforeActionLink:function(e){return e&&e.name==="$save"?this.checkControlsData():!0},_doActSave:function(e,t,n,r){var i=this;if(e)o.getApplication().goBack().always(function(){o.getModal().displayActionMsg(e,t.name,i.prototype,n)});else{if(i.dao.updateMeta(n)){var s=i.refreshControls(null,{});s.length>0&&s[0].setFocus(),i._gestureMgr&&i._gestureMgr.adjust()}!e&&(n==null||!n.$diagnoses||n.$diagnoses.length==0)&&(n.$diagnoses=[{$message:"Save action failed without any message",$severity:"error"}]),o.getModal().actionResult("Action: "+t.name,n)}},scrollAllowed:function(){return this.prototype.isLookup()||this.prototype.isQuery()?!1:!0},notifRowdetailUpdate:function(e,t){if(!e)return;var n=e.dao;if(!n)return;var r=this.getControl(t);if(!r)return;var i=e.activity==="create",s;!i&&r.prototype.isSingleArray()&&(s=r.rowId2Idx(n.getValue("$uuid")));if(n.updateParentRow(i,s)){var o=this.refreshControls([t],{});o.length>0&&o[0].setFocus()}n.destroy()},notifRowdetailDelete:function(e,t){if(!e||!e.uuid)return;var n=this.getControl(t);if(!n)return;var r=e.uuid;n.prototype.isSingleArray()&&(r=n.rowId2Idx(e.uuid)),this.dao.deleteRow(n.$bind,r),n.removeRow(e.uuid)},getPinPageId:function(){var e=this;return e.state.name+"_"+e.sDataUrl},getPinPageData:function(){var e=this,t=s.prototype.getPinPageData.call(e);t.sDataUrl=e.sDataUrl,t.key=e.prototype.data("$key",e.dao);var n=r.parseURL(t.sDataUrl),i=n.query.representation.split(".");t.representation=i[0],t.facet=i[1],t.action=i[1];var o=n.path.split("/");t.entity=o[5];var u=e.prototype.data("$value",e.dao);return u&&(t.title=e.prototype.data("$title")+" - "+u),t},filterSortRead:function(e,t){if(!this._filterSortAllowed(!0))return;var n=this._filterInfoSaveId(e,t);this._filterSortInfo||(this._filterSortInfo={});var r=this._filterSortInfo[n];if(r)return r;r=c.getItem(n);if(r)try{return r=JSON.parse(r),r}catch(i){}return null},filterSortWrite:function(e,t,n,r){if(!this._filterSortAllowed(!0))return;var i=this._filterInfoSaveId(e,n),s=!1;if(t&&t.length>0){var o=this.filterSortRead(e,n);if(o==null||!this._filterSortEquals(e,t,o))s=!0}else s=t!=this._filterSortInfo[i];s&&(c.setItem(i,t?JSON.stringify(t):null),this._filterSortInfo[i]=t,r===!0&&this._filterSortRefresh(n))},_filterSortRefresh:function(e){var t={"data-control-id":e.id,"data-nav-target":this.isVignette?"vignette":"application","data-nav-type":"filtersort"};this._initSdataInfo(null),setTimeout(function(){h.triggerRefreshPage(e.$$elmt,t)})},_filterSortAllowed:function(e){return this.prototype.isLookup()||this.prototype.isQuery()},_filterInfoSaveId:function(e,t){this._filtersortUrlId||(this._filtersortUrlId=this._originalSdataUrl);var n=this._filtersortUrlId+"#"+e;return this.prototype.isLookup()||this.prototype.isQuery()?n:n+"_"+t.$bind},_filterSortEquals:function(e,t,n){if(t==null||n==null)return!0;if(e=="sort"){if(n.length!=t.length)return!1;for(var r=0;r<t.length;r++){if(t[r].sort!==n[r].sort)return!1;if(t[r].field!==n[r].field)return!1}return!0}if(e=="filter")return!1},_filterSortUpdateUrl:function(){var e=this,t=r.parseURL(e.sDataUrl);if(this.$filtersGet().length>0&&this._$filtersDisabled!=1){var n=null;this.$filtersGet().some(function(e){if(e.$isDefault===!0)return n=e,!0}),n&&(t.query||(t.query={}),t.query.filter=n.id)}if(!e._filterSortAllowed(!0))return r.urlToString(t);var i=null,s=e.filterSortRead("sort");s!=null&&s.length!=0&&s.some(function(e){if(e.sort!="none")return i={order:e.sort,field:e.id},!0});var o="";s=e.filterSortRead("filter"),s!=null&&s.length!=0&&$.each(s,function(e,t){var n="("+t.id+" "+(t.operator==="like_s"?"like":t.operator)+" "+d(t)+")";o=o.length==0?n:o+" and "+n});if(!i&&!o)return r.urlToString(t);if(i&&t.query.key==null){var u=t.query.orderBy;t.query.orderBy=i.field+" "+i.order,u&&(t.query.orderBy=", "+u)}if(o&&t.query.key==null){var u=t.query.where;t.query.where=o,u&&(t.query.where=u+" and "+t.query.where)}return r.urlToString(t)},$filtersGet:function(){return this._$filters},$filtersSelect:function(e,t){if(!this._$filters)return;this._$filtersDisabled=!1,this._$filters.forEach(function(t){t.$isDefault=!1,e===t.id&&(t.$isDefault=!0)}),this._filterSortRefresh(t)},$filtersGetAuthoring:function(){var e=this.getControlByBind("$resources");return e?e.$filtersGetAuthoring():null}});t.Page=v}),define("syracuse-tablet/html/js/pages/pageRowDetail",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/pages/pageRegular"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/globals"),s=e("syracuse-tablet/html/js/pages/pageRegular").Page,o=r.defineClass(function(e,t,n,r,i,o){this.parentPage=i,this.parentPage.state.type==="rowdetail"?this.mainPageId=this.parentPage.mainPageId:this.mainPageId=this.parentPage.state.uuid;if(!this.parentPage)throw new Error("rowdetail page - Unexpected empty parent page");s.call(this,e,t,n,r,o),this.setActivity(this.parentPage.$activity)},s,{_initSdataInfo:function(e,t){},destroy:function(){s.prototype.destroy.call(this),this.parentPage=null,this._notifData=null},isEditMode:function(){return this.parentPage&&this.parentPage.isEditMode()},buildHtmlOption:function(){return s.prototype.buildHtmlOption.call(this).then(function(e){return e.toolBars.showHome=!0,e})},_actHome:function(){var e=this;if(!e.parentPage)return;i.getApplication().goBack(function(t){return t.uuid===e.mainPageId})},loadData:function(){var e=this.parentPage.getControl(this.state.options.controlId);if(!e)throw new Error("rowdetail page - Array datasource not found");var t=e.rowDetailGetInfo(),n=t.dao;if(!n)throw new Error("rowdetail page - Row data not found");return this.setDao(n),this.setActivity(t.activity),this.singleArrayRowIdx=t.singleArrayRowIdx,$.smResolve()},notifActionLink:function(e,t,n,r){try{switch(t.name){case"$save":this._doActSave(e,t,r);break;case"$delete":this._doActDelete(e,t,r);break;case"$canceledit":i.getApplication().goBack();break;default:i.getModal().displayActionMsg(e,t.name)}}catch(s){i.getModal().error("notifActionLink failed",s)}},_doActSave:function(e,t,n,r){e&&(this.dao.checkArrayUpdateError(),this._notifData={notifId:"sm.rowdetail.update",notifData:{dao:this.dao,activity:this.$activity,singleArrayRowIdx:this.singleArrayRowIdx}},this.dao=null,i.getApplication().goBack())},_doActDelete:function(e,t,n,r){this._notifData={notifId:"sm.rowdetail.delete",notifData:{uuid:this.dao.getValue("$uuid")}},i.getApplication().goBack()},getParentNotif:function(){if(this._notifData)return this._notifData.parentId=this.state.options.parentId,this._notifData.controlId=this.state.options.controlId,this._notifData}});t.Page=o}),define("syracuse-tablet/html/js/helpers/deltaManager",["require","exports","module"],function(e,t,n){"use strict";function r(e){var t=e&&e.length>0?e[0]:null;return t&&t.$uuid==undefined&&typeof t=="object"&&Object.keys(t).length==1?!0:!1}function i(e){if(r(e))for(var t=0,n=e.length;t<n;t++){var i=e[t];typeof i=="object"&&(i[Object.keys(i)[0]].$serverIndex=t)}else if(e.length&&typeof e[0]=="object"&&e[0].$uuid!==undefined)for(var t=0,n=e.length;t<n;t++)e[t].$serverIndex=t}function s(e,t,n,r,i,s){if(n.$uuid!==undefined){if(!n.$isDeleted)if(n.$uuid!==undefined&&r[n.$uuid])if(s){var o=u(e,r[n.$uuid],n);t={},t[s]=o,i.push(t)}else i.push(u(e,r[n.$uuid],n));else i.push(t)}else i.push(t)}function o(e,t,n){if(n)if(t.length==n.length)for(var r=0,i=n.length;r<i;r++)u(e,t[r],n[r]);else{t.splice(0,t.length);for(var r=0,i=n.length;r<i;r++)t.push(n[r])}return t}function u(e,n,r,s){e=e||{};if(r){var a=Object.keys(r),f;for(var l=0,c=a.length;l<c;l++){var h=a[l];f=h.charAt(0)!="$";var p=n[h],d=r[h];if(typeof d=="object"){if(p!=null&&d!==null)if(Array.isArray(d)){if(s||!f)d=o(e,p,d);else if(e.$isEditMode||e.$isPartialDelta)d=t.applyPageArrayDelta(e,p,d)}else d=u(e,p,d,s);Array.isArray(d)&&f&&i(d)}n[h]=d}}return n}t.cleanServerIndex=function(e){if(e&&typeof e=="object")if(Array.isArray(e))for(var n=0,r=e.length;n<r;n++)t.cleanServerIndex(e[n]);else{delete e.$serverIndex;var i=Object.keys(e);for(var n=0,r=i.length;n<r;n++)t.cleanServerIndex(e[i[n]])}return e},t.applyObjectDelta=u,t.applyPageArrayDelta=function(e,t,n){e=e||{};if(n){var i={},o=r(n);if(e.$isPartialDelta||n.length==1&&n[0].$index!==undefined){var a,f;for(var l=0,c=n.length;l<c;l++){a=null;var h=n[l];f=0;for(var p=t.length;f<p;f++){a=t[f];if(a.$uuid==h.$uuid)break;a=null}a?h.$isDeleted?t.splice(f,1):(u(e,a,h),h.$index!==undefined&&h.$index!=f&&(t.splice(f,1),t.splice(h.$index,0,a),delete a.$index)):h.$isDeleted||(h.$index!==undefined?t.splice(h.$index,0,h):t.push(h))}}else{for(var l=0,c=t.length;l<c;l++){var d=t[l];d&&(d.$uuid!==undefined?i[d.$uuid]=d:o&&(d=d[Object.keys(d)[0]],d.$uuid!==undefined&&(i[d.$uuid]=d)))}t=[];for(var l=0,c=n.length;l<c;l++){var d=n[l];if(o){var v=Object.keys(d)[0];s(e,d,d[v],i,t,v)}else s(e,d,d,i,t)}}}return t}}),define("syracuse-tablet/html/js/application/daoSdata",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/notifications","syracuse-tablet/html/js/helpers/articleParser","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/helpers/deltaManager"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/globals"),s=e("syracuse-tablet/html/js/helpers/notifications"),o=e("syracuse-tablet/html/js/helpers/articleParser"),u=e("syracuse-tablet/html/js/helpers/locale"),a=e("syracuse-tablet/html/js/helpers/deltaManager"),f={$properties:{$isExcluded:!1,$isHidden:!1,$isMandatory:!1,$isReadOnly:!1,$isDisabled:!1,$diagnoses:null,$x3Format:null,$value:null,$format:null},$links:{$isDisabled:!1,$isHidden:!1,$style:!1,$isRequested:!1}},l=function(e,t){var n={},r;for(var i in f)r=e[i],r&&!$.isEmptyObject(r)&&(n[i]=r);return $.isEmptyObject(n)?null:($.extend(t,n),n)},c=function(e,t,n,r){if(!e||!t)return!1;var i=l(e,t);if(r==1&&i&&i.$properties)for(var s in i.$properties)if(i.$properties[s].$diagnoses!=null){t.$arrayUpdateError=!0;break}var u=i!=null;if(n)for(var a in n){var h=n[a];if(h&&h.$type==="application/x-array"&&e[a])if(!o.isSingleArray(h)){var p=e[a],d=t[a];if(!d)throw new Error("Unexpected empty data array - "+a);for(var v=0;v<p.length&&v<d.length;v++){var m=d[v];i=c(p[v],m,h.$item.$properties,!0),m.$arrayUpdateError&&r&&(t.$arrayUpdateError=!0),u=i!=null||u}}else if(h.$item.$type==="application/x-reference"){var p=e[a],d=t[a],g,y;for(var v=0;v<p.length&&v<d.length;v++){g=d[v],y=p[v];for(var s in f.$properties)y&&y[s]!=null?g[s]=y[s]:h.$item[s]!=null?g[s]=h.$item[s]:g[s]=f.$properties[s]}}}return u},h=function(e){switch(e.$type){case"application/x-password":case"application/x-string":return"";case"application/x-quantity":return 0;case"application/x-decimal":case"application/x-real":return 0;case"application/x-integer":return 0;case"application/x-boolean":return!1;case"application/x-date":return"";case"application/x-datetime":return"";case"application/x-time":return"";case"application/x-choice":return e.$value.$enum[0].$value;case"application/x-reference":return{$value:"",$description:"",$title:""};case"application/x-array":return[];default:return null}},p=["$isMandatory","$isReadOnly","$isHidden","$isExcluded","$isDisabled","$actions","$format"],d=function(e){var t;if(e.isSingleArray())t={$properties:{"~data~":""}};else{t={$properties:{}};var n=e.getDataByPath("$item.$properties");for(var r in n)if(!r.smStartsWith("$")){var i=n[r];t[r]=h(i);var s=t.$properties[r]={};p.forEach(function(e){i[e]!=null&&(s[e]=i[e])})}}return t},v=function(e,t,n,i){var s;return s=d(t),s.$uuid=r.UUID(),new y(s,m(e,t),i,n)},m=function(e,t){var n={$url:"",$typ:"rowdetail",$links:{}};e.controller.isEditMode()&&(n.$links.$save={$title:"Save"},n.$links.$delete={$title:"Delete",$confirm:u.text("actions.del.confirm")});if(t.isSingleArray()){var r=$.extend({},t.getDataByPath("$item"));return r.$isMandatory=!0,r.$isReadOnly=r.$isHidden=r.$isDisabled=!1,n.$properties={"~data~":r},t.create(n)}return t.getPrototype("$item",n,"details")},g=function(e){var t=e.prototype,n={$url:"",$typ:"carddesign",$links:{}};if(t.isSingleArray())throw new Error("No card design for single array");t=t.getPrototype("$item",n,"details");var r=t.data("$properties");return Object.keys(r).forEach(function(e){r[e].$isHidden=!1}),t},y=r.defineClass(function(e,t,n,r){var i=this;i.$bind=r||"",i.data=e||{};if(!t)throw new Error("Prototype is mandatory");if(!e)throw new Error("jsonData is mandatory");i.prototype=t,i.resetCache(),i.parent=n},null,{destroy:function(){var e=this;e.parent=null,e.data=null,e.prototype=null},resetCache:function(){this._cache={metaData:{},queryData:null}},setValue:function(e,t,n){var r=!1,i=this.data[e];if(this.prototype.isReference(e)){var o=this.prototype.getFieldNameForValue(e);if(o!==e){var u;typeof t=="object"?u=t.$value||"":u=t+"";if(u!=this.data[o]){this.data[e]=i={},this.data[o]=u;if(u===t)i.$value=u;else for(var a in t)i[a]=t[a];i[o]=u,r=!0}}else if(i==null||i.$value!=t)throw new Error("Syracuse entities - x-refrence setValue not implemented")}else if(i==null||i!==t)this.data[e]=t,r=!0;return r&&n===!0&&s.publish("sm.dao.updated",this,e,t),r},getValue:function(e,t,n){if(!e||e.length===0)return t;var r=this.data[e];if(r!=null&&this.prototype.isReference(e)&&typeof r=="object"&&r.$value==null){var i=this.prototype.getFieldNameForValue(e);return i!=e?r.$value=this.getValue(i,t):r.$value=r,r}if(r!=null)return r;if(n&&r==null&&this.parent){var s=this.parent.getValue(e,t,n);r=s}return r!=null?r:t},getMetaData:function(e,t){if(!e)throw new Error("getMetaData - type expected");t!=null&&e=="$properties"&&this.prototype&&this.prototype.isReference(t)&&(t=this.prototype.getFieldNameForValue(t));var n=this._cache.metaData[e];if(n){if(t==null)return n;if(t!=null&&n[t]!=null)return n[t];n=n[t]={}}else n=this._cache.metaData[e]={},t!=null&&(n=n[t]={});var r=this.prototype.data(e);r&&t!=null&&(r=r[t]);var i=this.data[e];i&&t!=null&&(i=i[t]);var s=f[e];if(!s)throw new Error("getMetaData - unexpected type["+e+"]");for(var o in s){if(i&&i[o]!=null){n[o]=i[o];continue}r&&r[o]!=null?n[o]=r[o]:n[o]=s[o]}return n},removeMetaDiagnoses:function(e){this.prototype.isReference(e)&&(e=this.prototype.getFieldNameForValue(e)),[this.data,this._cache.metaData].forEach(function(t){var n=t.$properties;n&&n[e]&&(n[e].$diagnoses=undefined)})},getFieldInfo:function(e){return{meta:this.getMetaData(),value:this.getValue()}},getArrayData:function(e,t){var n=this,s={$resources:[]},o=n.getValue(e)||[];if(t.isSingleArray())o.forEach(function(o){var u={};u[i.SINGLEARRAYPROP]=o,u.$uuid=r.UUID();var a=t.getPrototype("$item");if(a.property(i.SINGLEARRAYPROP).$type==="application/x-reference"){var f=a.getFieldNameForValue(i.SINGLEARRAYPROP);f&&(u[f]=o[f])}s.$resources.push(new y(u,a,n,e))});else{var u=t.getPrototype("$item");o.forEach(function(t){s.$resources.push(new y(t,u,n,e))})}return s},getQueryData:function(e){var t=this,n={$itemsPerPage:t.getValue("$itemsPerPage"),$resources:[],$links:t.getValue("$links")};if(!e)throw new Error("getQueryData - Prototype Array is mandatory");var r=e.getPrototype("$item"),i="$resources",s=t.getValue(i);return s.forEach(function(e){n.$resources.push(new y(e,r,t,i))}),n},getLookupData:function(e){return this.getQueryData(e)},getQueryResources:function(){return this.getValue("$resources")},parseExpression:function(e){return r.parseExpression(e,this,this.prototype)},setRowIndex:function(e){this.setValue(i.ROWIDXPROP,e,!1)},getActionPayload:function(e){switch(e.name){case"$save":case"$edit":return $.extend({},this.data);default:return null}},clone:function(){return new y($.extend(!0,{},this.data),this.prototype,this.parent,this.$bind)},updateMeta:function(e){if(!e)return;this.resetCache();var t=c(e,this.data,this.prototype.data("$properties"));return t},updateParentRow:function(e,t){if(!this.parent||!this.data||$.isEmptyObject(this.data))return!1;var n=this.data.$uuid,s=this.parent.data[this.$bind];if(!s){if(!e)return!1;s=this.parent.data[this.$bind]=[]}var o=this.prototype.isSingleArray();if(e){var u=o?this.data[i.SINGLEARRAYPROP]:this.data;s.push($.isPlainObject(u)?$.extend({},u):u)}else{var a=-1,u=this.data;if(o){s.length>t&&(a=t);if(a<0)return!1;u=this.data[i.SINGLEARRAYPROP]}else{s.some(function(e,t){if(e.$uuid==n)return a=t,!0});if(a<0)return!1}if(r.areEqual(u,s[a]))return!1;s[a]=$.isPlainObject(u)?$.extend({},u):u}return!0},deleteRow:function(e,t){var n=this.data[e];if(!n)return!1;var r=-1;return this.prototype.isSingleArray(!1,e)?(t=parseInt(t,10),n.length>t&&(r=t)):n.some(function(e,n){if(e.$uuid==t)return r=n,!0}),r<0?!1:(n.splice(r,1),!0)},checkArrayUpdateError:function(){var e=this.data,t=!1;if(e.$properties)for(var n in e.$properties)if(n.$diagnoses&&n.$diagnoses.length>0){t=!0;break}if(!t){var r=this.prototype.data("$properties")||{};for(var n in r)if(r[n].$type==="application/x-array"&&this.data[n]&&this.data[n].some(function(e){if(e.$arrayUpdateError)return!0})){t=!0;break}}t||(e.$arrayUpdateError=!1)},applyChange:function(e,t){e||(e={}),this.resetCache(),t||(t={}),t.$isPartialDelta==null&&(t.$isPartialDelta=!0),t.$isEditMode==null&&(t.$isEditMode=!0),a.applyObjectDelta(t,this.data,e)},replaceData:function(e){e||(e={}),this.resetCache(),this.data=e}});t.Dao=y,t.emptyDao=function(e,t){return new y({$properties:{}},e,t)},t.getArrayEmptyRow=v,t.getProtoRowDetail=m,t.getProtoCardDesign=g}),define("syracuse-tablet/html/js/pages/pageCardDesign",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/pages/pageRegular","syracuse-tablet/html/js/application/daoSdata"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/globals"),s=e("syracuse-tablet/html/js/pages/pageRegular").Page,o=e("syracuse-tablet/html/js/application/daoSdata"),u=r.defineClass(function(e,t,n,r,i,o){o.header=!1,o.footer=!1;if(!i)throw new Error("carddesign page - Unexpected empty parent page");this.parentPage=i,s.call(this,e,t,n,r,o)},s,{_initSdataInfo:function(e,t){},destroy:function(){s.prototype.destroy.call(this),this.parentPage=null,this._notifData=null},buildHtmlOption:function(){return s.prototype.buildHtmlOption.call(this).then(function(e){return e.toolBars.showHome=!0,e})},isEditMode:function(){return!1},loadData:function(){var e=this.parentPage.getControl(this.state.options.controlId);if(!e)throw new Error("cardDesign page - Array datasource not found");var t;if(e.getArrayData()&&e.getArrayData().$resources.length>0){var n=$.extend(!0,{},e.getArrayData().$resources[0].data);t=new o.Dao(n,this.prototype,null,"carddesign")}else t=o.getArrayEmptyRow(this,this.prototype,"carddesign",e.getDao());return this.setDao(t),$.smResolve()},getParentNotif:function(){return this._notifData?{parentId:this.state.options.parentId,controlId:this.state.options.controlId,notifId:"sm.updt.card.article",notifData:this._notifData}:null},_actSaveCardDesign:function(){this._notifData={},this._notifData.article=$.extend(!0,{},this.article),i.getApplication().goBack()}});t.Page=u}),define("syracuse-tablet/html/js/pages/pageLookup",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/pages/pageRegular","syracuse-tablet/html/js/application/eventListener"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/pages/pageRegular").Page,s=e("syracuse-tablet/html/js/application/eventListener"),o='	<br><br><br>					<h3 class="alert alert-info" style= "text-align:center" role="alert">					No data					</h3>					<br>					<div  style= "font-size:xx-large;text-align:center">					<a draggable="false" href="#" data-action="lookupBack" class="fa fa fa-arrow-circle-o-left" style="display: inline-block;"/>					</div>',u=r.defineClass(function(e,t,n,r,s){s.footer=!1,i.call(this,e,t,n,r,s),this.selectedRowJson=null},i,{destroy:function(){i.prototype.destroy.call(this),this.selectedRowJson=null},notifSelectRow:function(e,t,n){if(!n)return;this.selectedRowJson=n,this._actLookupBack()},afterRender:function(e,t){i.prototype.afterRender.call(this,e,t);var n=this.forEachControl(function(e,t){return t.$type==="application/x-array"});n&&n.isEmpty==1&&this.$$elmt.html(o)},getParentNotif:function(){return this.selectedRowJson?{parentId:this.state.options.parentId,controlId:this.state.options.controlId,notifId:"sm.lookup.selection",notifData:this.selectedRowJson}:null},_actLookupBack:function(){this.isVignette?s.triggerAction(this.$$elmt,"vignetteBack"):this.goBack()}});t.Page=u}),define("syracuse-tablet/html/js/pages/pageHtml",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/prototype","syracuse-tablet/html/js/pages/page"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/prototype"),s=e("syracuse-tablet/html/js/pages/page").Page,o=r.defineClass(function(e,t,n){s.call(this,e,t,i.create(t.$prototype),t.$article,n)},s,{afterRender:function(e,t){s.prototype.afterRender.call(this,e,t),this.$$htmlRoot=this.rootLayout.$$elmt,this.appendHtml(this.$$htmlRoot,t)},appendHtml:function(e,t){}});t.Page=o}),define("syracuse-tablet/html/js/pages/pageLogin",["require","exports","module","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/pages/pageHtml","syracuse-tablet/html/js/application/authentication","syracuse-tablet/html/js/helpers/notifications","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/helpers/jsutils","syracuse-tablet/html/js/ui/rect","syracuse-tablet/html/js/application/settings","syracuse-tablet/html/js/helpers/hammerScroller"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/globals"),i=e("syracuse-tablet/html/js/helpers/utils"),s=e("syracuse-tablet/html/js/pages/pageHtml").Page,o=e("syracuse-tablet/html/js/application/authentication"),u=e("syracuse-tablet/html/js/helpers/notifications"),a=e("syracuse-tablet/html/js/helpers/locale"),f=e("syracuse-tablet/html/js/helpers/jsutils"),l=e("syracuse-tablet/html/js/ui/rect"),c=e("syracuse-tablet/html/js/application/settings"),h=e("syracuse-tablet/html/js/helpers/hammerScroller").Klass,p='		<div class="s-m-scroll-wrapper">			<div class="s-m-loginform" style="display:none;position: relative;">				<div class="row s-m-login-info">					<div class="col-xs-offset-1 col-xs-10 col-sm-offset-3 col-sm-6 col-md-offset-4 col-md-4 col-lg-offset-4 col-lg-4">						<div id="login-reason" style="display: none" class="alert alert-info" role="alert"></div>						<div id="login-success" style="display: none" class="alert alert-success" role="alert"></div>						<div id="login-fail" style="display: none" class="alert alert-danger" role="alert"></div>					</div>				</div>				<div id="s-m-login-online" class="row">					<div class="col-xs-offset-1 col-xs-10 col-sm-offset-3 col-sm-6 col-md-offset-4 col-md-4 col-lg-offset-4 col-lg-4">						<div class="panel panel-default">							<div class="s-m-login-header"><span class="s-m-signin">{{label_signin}} </span> <span class="s-m-brand">{{label_brand}}</span> <span class="s-m-product">{{label_product}}</span></div>							<div class="panel-body s-m-login-body">								<br>								<div class="form-group">									<input type="text" value="" class="form-control s-m-login-form-input" placeholder="{{label_user}}"	id="login-user">								</div>								<br>								<div class="form-group">									<input type="password" class="form-control s-m-login-form-input" placeholder="{{label_password}}" id="login-password">								</div>								<br>								<button id="login-login" data-action="login" type="button" class="btn btn-primary s-m-signin-btn">{{act_login}}</button>							</div>							<div class="s-m-login-header" id="s-m-sageid-header">								<span class="s-m-signin">{{sageid_label_header}}</span>							</div>							<div class="panel-body s-m-login-body" id="s-m-sageid-body">								<button id="s-m-sageid-signin" data-action="sageidsignin" type="button" class="btn btn-primary s-m-signin-btn">{{sageid_label_signin}}</button>							</div>						</div>					</div>				</div>				<div id="s-m-login-offline" class="row" style="display: none;">					<div class="col-xs-offset-1 col-xs-10 col-sm-offset-3 col-sm-6 col-md-offset-4 col-md-4 col-lg-offset-4 col-lg-4">						<div class="panel panel-default">							<div class="s-m-login-header"><span class="s-m-signin">{{label_signin}} </span> <span class="s-m-brand">{{label_brand}}</span> <span class="s-m-product">{{label_product}}</span></div>							<div class="s-m-login-header" id="s-m-offline-header">								<span class="s-m-signin">{{offline_label_header}}</span>							</div>							<div class="panel-body s-m-login-body" id="s-m-sageid-body">								<button id="s-m-offline-signin" data-action="offlinesignin" type="button" class="btn btn-primary s-m-signin-btn"> 									<div id="s-m-offline-label">{{offline_label_signin_as}}</div> 									<div id="s-m-offline-user"></div> 								</button>							</div>						</div>					</div>				</div>			</div>		</div>	',d,v=i.defineClass(function(e,t,n){n.header=!1,n.footer=!1,this.offline=!1,this.message=null,this.stack=null,s.call(this,e,t,n)},s,{appendHtml:function(e,t){var n=this;n.$$elmt.addClass("login");var i={label_user:a.text("login.label.user"),label_password:a.text("login.label.password"),act_login:a.text("login.label.signinaction"),label_signin:a.text("login.label.signin"),label_brand:a.text("login.label.brand"),label_product:a.text("login.label.product"),sageid_label_header:a.text("sageid.label.header"),sageid_label_signin:a.text("sageid.label.signin"),offline_label_header:a.text("login.label.offline"),offline_label_signin_as:a.text("login.label.login_as")},s=Handlebars.compile(p);e.html(s(i)),n.state.options.reason&&e.find("#login-reason").text(n.state.options.reason).show(),r.isOnline()||(n.offline=!0,n._updateStatus()),n._gestureMgr=new h($(".s-m-loginform",n.$$elmt),{direction:"v"})},_actLogin:function(){var e=this;e.$$elmt.find("#login-reason").remove();var t=e.$$elmt.find("#login-user").val(),n=e.$$elmt.find("#login-password").val(),r=e.$$elmt.find("#login-locale").val(),i=null;return e.waitWheelStart(),o.login(t,n).then(function(e,t,n,r){return e?(i=t,$.smResolve()):$.smReject(n,r)}).then(function(){e.waitWheelStop();var t=$.Deferred();return u.publish("sm.login",i,t),t.promise()}).then(function(e){}).fail(function(t,n){e.waitWheelStop(),e.offline=n,e._checkMessage(t),e._updateStatus()})},_checkMessage:function(e){var t=this;t.message=null,t.stack=null,f.isError(e)?(t.message=e.message,t.stack=f.cleanStack(e.stack,3,!0)):t.message=e},_updateStatus:function(){var e=this,t=$("#login-fail");e.message?t.show().html("Login failed<p>"+e.message+"</p>"+(e.stack?e.stack:"")):t.hide(),c.getLastUserProfile().then(function(t){e.profile=t,e.profile?$("#s-m-offline-user").text(e.profile.user.firstName+" "+e.profile.user.lastName):e.offline=!1,e.offline?($("#s-m-login-online").hide(),$("#s-m-login-offline").show()):($("#s-m-login-online").show(),$("#s-m-login-offline").hide())})},_actSageidsignin:function(){o.sageidsignin()},_actOfflinesignin:function(){var e=this,t=$.Deferred();e.waitWheelStart(),u.publish("sm.login",e.profile,t),t.then(function(){e.waitWheelStop()}).fail(function(t){e.waitWheelStop(),e._checkMessage(t),e._updateStatus()})},onMainPageResize:function(e,t,n){var r=this;s.prototype.onMainPageResize.call(r,e,t,n);var i=r.$$htmlRoot.find("div.s-m-loginform");i.show(),setTimeout(function(){var t=$(".s-m-scroll-wrapper",r.$$elmt),n=l.elmtRect(t,"outer"),i=r._gestureMgr.$$elmt.height();n.height<i?r._gestureMgr.init(n,null,null,e&&e.preserveScroll):r._gestureMgr.reset()})},scrollAllowed:function(){return!1},destroy:function(){s.prototype.destroy.call(this),this._gestureMgr&&(this._gestureMgr.destroy(),this._gestureMgr=null)}});t.Page=v}),define("syracuse-tablet/html/js/application/daoApp",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/locale"),s=r.defineClass(function(e){var t=this;t._appli=e,t.appMetaData=null},null,{destroy:function(){var e=this;e._appli=null},isApplicationLoaded:function(){var e=this;return e.appMetaData!=null},setApplication:function(e){var t=this;e&&(t.appMetaData=$.extend(!0,{},e))},getApplicationName:function(){var e=this;return e.appMetaData&&e.appMetaData.$application.applicationName||""},getApplicationTitle:function(){var e=this;return e.appMetaData&&(e.appMetaData.$application.title||e.appMetaData.$application.applicationName)||""},getApplicationIcon:function(){return this.appMetaData&&this.appMetaData.$application.iconName},isSageApplication:function(){return this.appMetaData!=null&&this.appMetaData.$application.isSageApplication===!0},getAppBackGroundClass:function(){return!this.appMetaData||!this.isSageApplication()||!this.getApplicationIcon()?"":"s-m-bckg "+this.getApplicationIcon()},getHomeDashboardName:function(){var e=this,t=(e.appMetaData.$application.$homeDashboard.dashboardName||"").trim();t.length==0&&new Error(i.text("error.page.homenotdefined",[e.getApplicationName()]));if(e.appMetaData&&e.appMetaData.$dashboards)for(var n in e.appMetaData.$dashboards){var r=e.appMetaData.$dashboards[n];if(r.$dashboardName===t)return r.$dashboardName}throw new Error(i.text("error.page.homenotfound",[e.getApplicationName(),t]))}});t.Dao=s}),define("syracuse-tablet/html/js/application/appFactoryDeps",["require","exports","module","syracuse-tablet/html/js/application/application","syracuse-tablet/html/js/pages/pageDashboard","syracuse-tablet/html/js/pages/pageWelcomeDashboard","syracuse-tablet/html/js/pages/pageRegular","syracuse-tablet/html/js/pages/pageRowDetail","syracuse-tablet/html/js/pages/pageCardDesign","syracuse-tablet/html/js/pages/pageLookup","syracuse-tablet/html/js/pages/pageLogin","syracuse-tablet/html/js/application/daoApp","syracuse-tablet/html/js/application/daoSdata","syracuse-tablet/html/js/application/appFactory"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/application/application").Application,i=e("syracuse-tablet/html/js/pages/pageDashboard").Page,s=e("syracuse-tablet/html/js/pages/pageWelcomeDashboard").Page,o=e("syracuse-tablet/html/js/pages/pageRegular").Page,u=e("syracuse-tablet/html/js/pages/pageRowDetail").Page,a=e("syracuse-tablet/html/js/pages/pageCardDesign").Page,f=e("syracuse-tablet/html/js/pages/pageLookup").Page,l=e("syracuse-tablet/html/js/pages/pageLogin").Page,c=e("syracuse-tablet/html/js/application/daoApp").Dao,h=e("syracuse-tablet/html/js/application/daoSdata").Dao,p=e("syracuse-tablet/html/js/application/appFactory");t.init=function(){p.setImpl("Application",r),p.setImpl("DashoardPage",i),p.setImpl("WelcomeDashoardPage",s),p.setImpl("RegularPage",o),p.setImpl("RowDetailPage",u),p.setImpl("CardDesignPage",a),p.setImpl("LookupPage",f),p.setImpl("LoginPage",l),p.setImpl("DaoApp",c),p.setImpl("DaoSdata",h)}}),define("syracuse-tablet/html/js/controls/structElmt",["require","exports","module","syracuse-tablet/html/js/helpers/jsutils","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/ui/uiUtils"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/jsutils"),i=e("syracuse-tablet/html/js/helpers/utils"),s=e("syracuse-tablet/html/js/ui/uiUtils"),o=i.defineClass(function(t,n,r,s){var o=this;o.options=s||{},o.controller=t,o.$type=n,o.typeName=i.getTypeName(n),o.article=r||{},o.children=null,o.parent=null,o.initReuseProperties()},null,{initReuseProperties:function(){this.$$elmt=null,this.id=this.createId(this.typeName)},destroy:function(){this.controller=null,this.parent=null,this._gestures&&(this._gestures.destroy(),this._gestures=null),i.unbindObj(this.$$elmt),i.unbindObj(this),this.children&&(this.children.forEach(function(e){e&&e.destroy()}),this.children=null),this.$$elmt&&(this.$$elmt.remove(),this.$$elmt=null)},isRoot:function(){return this.parent==null||this.parent===this.controller},generateHtml:function(e,t,n){var r=this.options;return n&&(r.htmlRootCtrl=n),r.isHtmlGenerator=!0,this.buildHtml(e,t,r),this.$$elmt},buildHtml:function(e,t,n){n&&n.isHtmlGenerator===!0&&(this._needReuse?this.initReuseProperties():this._needReuse=!0)},getMetaData:function(e){return null},getAuthoring:function(e,t){var n=i.getPropByPath(this.article,e);return n!=null?n:t},appendStyleAuthoring:function(e,t){e=e||[];if(!t)return e;if($.isPlainObject(t))var n=t;else var n=this.getAuthoring(t);if(!n)return e;for(var r in n)["$theme","$fontStyle","$fontSize"].indexOf(r)>=0&&e.push(n[r]);return e},empty:function(){var e=this;e.children&&e.children.forEach(function(e){e&&e.empty()}),e.$$elmt&&e.$$elmt.empty()},isLayout:function(){return!1},isVignette:function(){return!1},isControl:function(){return!1},createId:function(e){return i.readableuid(e)},appendStructElmt:function(e){var t=this;if(!e)return;t.children||(t.children=[]),e.parent=t,t.children.push(e)},getNbChilds:function(){return this.children&&this.children.length>0},createRootElement:function(e,t){var n=this,r=n.setRootElement(s.createDomElement("div",e,null,n.options.isHtmlGenerator===!0?null:{id:n.id}),t);return r},setRootElement:function(e,t){return e?(e.jquery||(e=$(e)),this.$$elmt=e,t&&(t.jquery||(t=$(t)),e.appendTo(t)),e):null},isVisible:function(){return this.$$elmt&&this.$$elmt.is(":visible")},isHidden:function(){return!this.isVisible()},show:function(){this.$$elmt&&this.$$elmt.show()},hide:function(){this.$$elmt&&this.$$elmt.hide()},setFocus:function(){},getArticle:function(){return this.article},removeChild:function(e){var t=this,n=[];t.children.forEach(function(t){t&&t.id===e.id?t.destroy():n.push(t)}),t.children=n},removeChildren:function(){var e=this;e.children&&e.children.forEach(function(e){e.destroy()}),e.children=[]},getIndexOfChild:function(e){var t=this,n=-1;return t.children&&t.children.some(function(t){return n+=1,t===e?!0:!1}),n},getChildByIndex:function(e){var t=this;return t.children&&t.children[e]},addChildBefore:function(e,t){var n=this,r=!1,i=[];n.children&&n.children.forEach(function(n){t&&n.id===t.id&&(i.push(e),r=!0),n.id!==e.id&&i.push(n)}),r||i.push(e),n.children=i},removeChildRef:function(e){var t=this,n=[];t.children&&t.children.forEach(function(t){t.id!==e.id&&n.push(t)}),t.children=n},getPathInTree:function(){var e=this,t,n=[];t=this.parent;while(t&&t!=this.controller){var i;if(r.isInstanceOf(t,"Page")){if(!t.isVignette)break;var s=t.getParentVignette();i=0,t=s.parent}else i=t.getIndexOfChild(e);n.push(i),e=t,t=t.parent}return n.reverse(),n},findChildByPath:function(e){var t=this;if(!e)return;var n=t;return e.some(function(e){if(r.isInstanceOf(n,"VignetteBase")){if(!n.getPage())return n=null,!0;n=n.getPage().rootLayout}n=n.getChildByIndex(+e)}),n},getAuthArticle:function(){var e=this,t={},n=e.getArticle();return Object.keys(n).forEach(function(e){e!=="$items"&&(t[e]=n[e])}),t}});t.Klass=o}),define("syracuse-tablet/html/js/controls/ctrlBase",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/structElmt"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/structElmt").Klass,s=function(e,t,n,r){var i=this;n=n||{};var s=[],o=e.data("$url"),u=n.tag||"a",a=n.css||"a";if(o&&o.length)s.push("<"),s.push(u),s.push(' href="'+o+'"'),a&&s.push(' class="'+a+'"'),s.push(">");else{var f=e.data("$action")||i.prototype.data("$navigation");if(f){s.push("<"),s.push(u),s.push(' href="#"');for(var l in f)s.push(" "+l+'="'+encodeURIComponent(t?t.parseExpression(f[l]):f[l])+'"');a&&s.push(' class="'+a+'"'),s.push(">")}}return r&&r(s),s.length>1&&(s.push("</"),s.push(u),s.push(">")),s.join("")},o=r.defineClass(function(t,n,r,s){var o=this;s=s||{},o.prototype=r,o.$bind=n.$bind,i.call(o,t,r.data("$type"),n,s),o.$isEditMode=t.isEditMode(),s.displayCtx==="table"&&(o.$isEditMode=!1),o._dao=null},i,{destroy:function(){var e=this;i.prototype.destroy.call(e),e.prototype&&(e.prototype.destroy(),e.prototype=null),e._dao=null},createId:function(e){return r.readableuid(this.$bind,e.substr(0,3))},isPageControl:function(){return this.$type.smStartsWith("tablet/x-page-")},buildHtml:function(e,t,n,r){i.prototype.buildHtml.call(this,e,t,n),this._dao=t;var s=["s-m-control"];r&&s.push(r.join(" ")),this.createRootElement(s,e),this._oldValue=this.getValue()},afterRender:function(e){this.applyMetaData(this.getMetaData())},getDao:function(){return this._dao?this._dao:this.controller.dao},refresh:function(e,t){this._dao=e;if(t&&t.refreshValue){var n=this.getValue();r.areEqual(n,this._oldValue)||(this.refreshValue(n),this._oldValue=n)}this.applyMetaData(this.getMetaData())},refreshValue:function(e){},getMetaData:function(e){var t=this.getDao(),n=t?t.getMetaData("$properties",this.$bind):null;return e?n?n[e]:null:n},getTitle:function(){return this.article&&this.article.$title||this.prototype.data("$title")||this.prototype.getPropTitle(this.$bind)},applyMetaData:function(e){var t=this;if(e==null)return;if(t.$isEditMode){var n=t.$$elmt.find(".s-m-meta");n.length>0&&(n.is("input")&&!n.is(".btn")?(n[e.$isReadOnly===!0?"attr":"removeAttr"]("readonly",""),n[e.$isDisabled===!0?"attr":"removeAttr"]("disabled","")):n[e.$isReadOnly===!0||e.$isDisabled===!0?"attr":"removeAttr"]("disabled",""))}e.$isHidden!=undefined&&t.$$elmt.toggle(e.$isHidden===!1)},getValue:function(){var e=this.getDao();return e?e.getValue(this.$bind):null},setValue:function(e){this.getDao().setValue(this.$bind,e)},checkData:function(){return!0},setErrorStatus:function(e){if(!this.$$elmt)return;this.$$elmt[e===!0?"addClass":"removeClass"]("error")},hasError:function(){return this.$$elmt&&this.$$elmt.hasClass("error")},setFocus:function(){if(!this.controller)return;this.controller.makeVisible(this)},isControl:function(){return!0}});t.genHtmlCtrlLink=s,t.Klass=o}),define("syracuse-tablet/html/js/helpers/types/time",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){"use strict";function o(e){e=(e+31536e7)%86400,this._value=e}function u(e){var t=e.toString();return t.length==1?"0"+t:t}function a(e,t,n){return parseInt(e.substring(t,n),10)}function f(e,t,n){return new o(e*3600+(t||0)*60+(n||0))}function l(){return s().amDesignator||"AM"}function c(){return s().pmDesignator||"AM"}function h(e,t){function i(t){var n=e[t],r=1;while(e[t+r]===n)r++;return r}var n=0,r=e.length;while(n<r){var s=e[n];switch(s){case"'":n++;var o="";for(;n<r;n++)if(e[n]==="'"){n++;if(e[n]!=="'")break;o+="'"}else o+=e[n];t.literal(o);break;case"H":case"h":case"m":case"s":case"t":var u=i(n);t[s](u),n+=u;break;default:t.literal(s),n++}}}function p(e,t){function v(t){if(!/\d/.test(e[d]))throw new Error(i.text("time.noNumber",e.substring[d]));var n=d++;while(d<n+t&&/\d/.test(e[d]))d++;return parseInt(e.substring(n,d),10)}function m(t){for(var n=0;n<t.length;n++){var r=t[n],s=r.length;if(e.substring(d,d+s).toUpperCase()==r.toUpperCase())return d+=s,n}throw new Error(i.text("time.unknown",e.substring(d)))}function g(e,t){switch(e[t]){case e[0]:n=n===12?0:n;break;case e[1]:n>=1&&n<=11&&(n+=12)}}var n,r,s,o,u,a=[l(),c()],p=[a[0].substring(0,1),a[1].substring(0,1)],d=0;h(t,{literal:function(t){if(e.substring(d,d+t.length)!==t)throw new Error(i.text("time.wrongFormat",t,e.substring(d)));d+=t.length},H:function(e){switch(e){case 1:case 2:n=v(2);break;default:throw new Error(i.text("time.badHour",t.substring(d)))}},h:function(e){switch(e){case 1:case 2:n=v(2);break;default:throw new Error(i.text("time.badHour",t.substring(d)))}},m:function(e){switch(e){case 2:r=v(2);break;default:throw new Error(i.text("time.badMin",t.substring(d)))}},s:function(e){switch(e){case 2:s=v(2);break;default:throw new Error(i.text("time.badSec",t.substring(d)))}},t:function(e){switch(e){case 1:u=m(p);break;case 2:o=m(a);break;default:throw new Error(i.text("time.badMarker",t.substring(d)))}}});if(o!=null||u!=null){if(n>12)throw new Error(i.text("time.badHourVal",n,o));var y=o!=null?a:p,b=o!=null?o:u;g(y,b)}return f(n,r,s)}var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/locale"),s=i.getDatetimeInfo;t.validate=function(e,t,n){if(e==null){if(t.$isMandatory)return n.push(i.text("time.valMan"));if(!t.$isNullable)return n.push(i.text("time.valNull"));return}if(!(e instanceof o)){n.push(i.text("time.valTime"));return}},r.defineClass(o,null,{hour:{get:function(){return Math.floor(this._value/3600)}},minute:{get:function(){return Math.floor(this._value/60)%60}},second:{get:function(){return this._value%60}},value:{get:function(){return this._value}},valueOf:function(){return this.toString()},compare:function(e){return this._value-e._value},equals:function(e){return this._value===e._value},between:function(e,t){return e._value<=this._value&&this._value<=t._value},begOfDay:function(){return f(0,0,0)},endOfDay:function(){return f(23,59,59)},begOfHour:function(){return f(this.hour,0,0)},endOfHour:function(){return f(this.hour,59,59)},begOfMinute:function(){return f(this.hour,this.minute,0)},endOfMinute:function(){return f(this.hour,this.minute,59)},toString:function(e){var t=this;if(e==null)return u(t.hour)+":"+u(t.minute)+":"+u(t.second);var n="";return h(e,{literal:function(e){n+=e},H:function(e){switch(e){case 1:n+=t.hour;break;case 2:n+=u(t.hour);break;default:throw new Error(i.text("time.formatH",e))}},h:function(e){switch(e){case 1:var r=t.hour;r===0?n+=12:n+=r>12?r-12:r;break;case 2:var r=t.hour;r===0?n+=12:n+=r>12?u(r-12):u(r);break;default:throw new Error(i.text("time.formath",e))}},m:function(e){switch(e){case 2:n+=u(t.minute);break;default:throw new Error(i.text("time.formatm",e))}},s:function(e){switch(e){case 2:n+=u(t.second);break;default:throw new Error(i.text("time.formats",e))}},t:function(e){switch(e){case 1:n+=t.hour<12?l().substring(0,1):c().substring(0,1);break;case 2:n+=t.hour<12?l():c();break;default:throw new Error(i.text("time.formata",e))}}}),n},secondsDiff:function(e){return this._value-e._value},addHours:function(e){return e==0?this:new o(this._value+e*3600)},addMinutes:function(e){return e==0?this:new o(this._value+e*60)},addSeconds:function(e){return e==0?this:new o(this._value+e)},add:function(e){return this.addHours(e.hours||0).addMinutes(e.minutes||0).addSeconds(e.seconds||0)},isNull:function(){return this._value==0}}),t.make=f,t.fromSeconds=function(e){return new o(e)},t.fromJsDate=function(e,t){return t?f(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds()):f(e.getHours(),e.getMinutes(),e.getSeconds())},t.now=function(e){return t.fromJsDate(new Date,e)},t.parse=function(e,t){if(e==null)throw new Error(i.text("time.isNull"));if(t==null){if(e.length!=5&&e.length!=8)throw new Error(i.text("time.badFormat",e));var n=e.length==8?a(e,0,2)*3600+a(e,3,5)*60+a(e,6,8):a(e,0,2)*3600+a(e,3,5)*60;return new o(n)}return p(e,t)},t.amDesignator=l,t.pmDesignator=c}),define("syracuse-tablet/html/js/helpers/types/datetime",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/types/date","syracuse-tablet/html/js/helpers/types/time","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){"use strict";function a(e){var t=e.toString();return t.length==1?"0"+t:t}function f(e){var t=e.toString();switch(t.length){case 1:return"00"+t;case 2:return"0"+t;default:return t}}function l(e,t){this._value=e,t!=null&&(this._tzOffset=t)}function c(e){return(e._value+63072e9)%1e3}function h(e){var t=e._utc;if(!t){var n=new Date(e._value);t=n.getUTCFullYear()*1e4*1e5+(n.getUTCMonth()+1)*100*1e5+n.getUTCDate()*1e5+n.getUTCHours()*3600+n.getUTCMinutes()*60+n.getUTCSeconds(),n._utc=t}return t}function p(e){var t=e._local;if(!t){var n=new Date(e._value);t=n.getFullYear()*1e4*1e5+(n.getMonth()+1)*100*1e5+n.getDate()*1e5+n.getHours()*3600+n.getMinutes()*60+n.getSeconds(),n._local=t}return t}function d(e,t){var n="-";e<0&&(n="+",e=-e);var r=Math.round(e/60),i=e-r*60;return n+=t>1?a(r):r,n+=t>2||i?":"+(t>1?a(i):i):"",n}function v(e){var t=0,n=0,r=0,i=0,s=0,u=0,a=0,f=0,c=!0,h=/(\d{4})-(\d{2})-(\d{2})([T\s]?)(\d{2})?(:)?(\d{2})?(:)?(\d{2})?(\.(\d{3}))?(Z)?(([+-])(\d{2}))?(.*$)/.exec(e);if(h){c=!1,t=+h[1],n=h[2]-1,r=+h[3],i=+(h[5]||0),s=+(h[7]||0),u=+(h[9]||0),a=+(h[11]||0);if(h[12]==="Z"){h[14]==="-"?f=(h[15]||0)*60:h[14]==="+"&&(f=-(h[15]||0)*60);var p=Date.UTC(t,n,r,i,s+f,u,a);return new l(p)}var d=new Date(t,n,r,i,s+f,u,a);return new l(d.getTime(),d.getTimezoneOffset())}if(c)throw new Error(o.text("datetime.noParse",e))}function m(e,t,n,r,i,s,o){var u=new Date(e,t-1,n,r||0,i||0,s||0,o||0);return new l(u.getTime(),u.getTimezoneOffset())}function g(e,t,n,r,i,s,o){var u=new Date(Date.UTC(e,t-1,n,r||0,i||0,s||0,o||0));return new l(u.getTime(),u.getTimezoneOffset())}function y(e,t){function i(t){var n=e[t],r=1;while(e[t+r]===n)r++;return r}var n=0,r=e.length;while(n<r){var s=e[n];switch(s){case"'":n++;var o="";for(;n<r;n++)if(e[n]==="'"){n++;if(e[n]!=="'")break;o+="'"}else o+=e[n];t.literal(o);break;case"H":case"h":case"m":case"s":case"S":case"t":case"d":case"M":case"y":var u=i(n);t[s](u),n+=u;break;default:t.literal(s),n++}}}function b(e,t){function w(t){if(!/\d/.test(e[b]))throw new Error(o.text("datetime.noNumber",e.substring[b]));var n=b++;while(b<n+t&&/\d/.test(e[b]))b++;return parseInt(e.substring(n,b),10)}function E(t){for(var n=0;n<t.length;n++){var r=t[n],i=r.length;if(e.substring(b,b+i).toUpperCase()==r.toUpperCase())return b+=i,n}throw new Error(o.text("datetime.unknown",e.substring(b)))}function S(e,t){switch(e[t]){case e[0]:f=f===12?0:f;break;case e[1]:f>=1&&f<=11&&(f+=12)}}var n,r,s,a,f,l,c,h,p,d,v=[i.amDesignator(),i.pmDesignator()],g=[v[0].substring(0,1),v[1].substring(0,1)],b=0;y(t,{literal:function(t){if(e.substring(b,b+t.length)!==t)throw new Error(o.text("datetime.formatMis",t,e.substring(b)));b+=t.length},d:function(e){switch(e){case 1:case 2:n=w(2);break;case 3:r=E(u().abbreviatedDayNames);break;case 4:r=E(u().dayNames);break;default:throw new Error(o.text("datetime.badDay",t.substring(b)))}},M:function(e){switch(e){case 1:case 2:s=w(2);break;case 3:s=E(u().abbreviatedMonthNames)+1;break;case 4:s=E(u().monthNames)+1;break;default:throw new Error(o.text("datetime.badDay",t.substring(b)))}},y:function(e){switch(e){case 2:a=w(2),a=a<40?2e3+a:1900+a;break;case 4:a=w(4),a=a>99?a:a<40?2e3+a:1900+a;break;default:throw new Error(o.text("datetime.badYear",t.substring(b)))}},H:function(e){switch(e){case 1:case 2:f=w(2);break;default:throw new Error(o.text("datetime.badHour",t.substring(b)))}},h:function(e){switch(e){case 1:case 2:f=w(2);break;default:throw new Error(o.text("datetime.badHour",t.substring(b)))}},m:function(e){switch(e){case 2:l=w(2);break;default:throw new Error(o.text("datetime.badMin",t.substring(b)))}},s:function(e){switch(e){case 2:c=w(2);break;default:throw new Error(o.text("datetime.badSec",t.substring(b)))}},t:function(e){switch(e){case 1:d=E(g);break;case 2:p=E(v);break;default:throw new Error(o.text("datetime.badMarker",t.substring(b)))}}});if(p!=null||d!=null){if(f>12)throw new Error(o.text("datetime.badHourVal",f,p));var x=p!=null?v:g,T=p!=null?p:d;S(x,T)}return m(a,s,n,f,l,c,h)}function w(e){function r(t){var n=e[t],r=1;while(e[t+r]===n)r++;return r}var t=0,n=e.length;while(t<n){var i=e[t];if(i==="'"){t++;var s="";for(;t<n;t++)if(e[t]==="'"){t++;if(e[t]!=="'")break;s+="'"}else s+=e[t]}else{if(i==="Z")return t;t++}}}var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/types/date"),s=e("syracuse-tablet/html/js/helpers/types/time"),o=e("syracuse-tablet/html/js/helpers/locale"),u=o.getDatetimeInfo;t.validate=function(e,t,n){if(e==null){if(t.$isMandatory)return n.push(o.text("datetime.valMand"));if(!t.$isNullable)return n.push(o.text("datetime.valNull"));return}if(!(e instanceof l)){n.push(o.text("datetime.valDT"));return}if(!(e.month>=1&&e.month<=12)){n.push(o.text("datetime.valMon"));return}if(!(e.day>=1&&e.day<=i.daysInMonth(e.year,e.month))){n.push(o.text("datetime.valDay"));return}},t.Datetime=r.defineClass(l,null,{date:{get:function(){return i.fromInternalValue(Math.floor(p(this)/1e5))}},time:{get:function(){return s.fromSeconds(p(this)%1e5)}},year:{get:function(){return this.date.year}},month:{get:function(){return this.date.month}},day:{get:function(){return this.date.day}},weekDay:{get:function(){return this.date.weekDay}},yearDay:{get:function(){return this.date.yearDay}},hour:{get:function(){return this.time.hour}},minute:{get:function(){return this.time.minute}},second:{get:function(){return this.time.second}},millisecond:{get:function(){return c(this)}},utcDate:{get:function(){return i.fromInternalValue(Math.floor(h(this)/1e5))}},utcTime:{get:function(){return s.fromSeconds(h(this)%1e5)}},utcYear:{get:function(){return this.utcDate.year}},utcMonth:{get:function(){return this.utcDate.month}},utcDay:{get:function(){return this.utcDate.day}},utcWeekDay:{get:function(){return this.utcDate.weekDay}},utcYearDay:{get:function(){return this.utcDate.yearDay}},utcHour:{get:function(){return this.utcTime.hour}},utcMinute:{get:function(){return this.utcTime.minute}},utcSecond:{get:function(){return this.utcTime.second}},utcMillisecond:{get:function(){return c(this)}},value:{get:function(){return this._value}},timezoneOffset:{get:function(){return this._tzOffset==null&&(this._tzOffset=this.toJsDate().getTimezoneOffset()),this._tzOffset}},compare:function(e){return this._value-e._value},equals:function(e){return this._value===e._value},between:function(e,t){return e._value<=this._value&&this._value<=t._value},addYears:function(e){return this.date.addYears(e).at(this.time,this.millisecond)},addMonths:function(e){return this.date.addMonths(e).at(this.time,this.millisecond)},addWeeks:function(e){return this.date.addWeeks(e).at(this.time,this.millisecond)},addDays:function(e){return this.date.addDays(e).at(this.time,this.millisecond)},addHours:function(e){return new l(this._value+e*3600*1e3)},addMinutes:function(e){return new l(this._value+e*60*1e3)},addSeconds:function(e){return new l(this._value+e*1e3)},addMilliseconds:function(e){return new l(this._value+e)},addDayFractions:function(e){return new l(this._value+e*86400*1e3)},millisDiff:function(e){return this._value-e._value},begOfMonth:function(){return m(this.year,this.month,1)},begOfWeek:function(e){var t=this.weekDay-(e||0);return t==0?this:t>0?this.addDays(-t):this.addDays(-t-7)},add:function(e){return this.addYears(e.years||0).addMonths(e.months||0).addWeeks(e.weeks||0).addDays(e.days||0).addHours(e.hours||0).addMinutes(e.minutes||0).addSeconds(e.seconds||0).addMillis(e.millis||0)},toString:function(e){var t=this;if(e==null)return(new Date(this._value)).toISOString();var n=w(e),r=n?t.utcDate:t.date,s=n?t.utcTime:t.time,l="";return y(e,{literal:function(e){l+=e},H:function(e){switch(e){case 1:l+=s.hour.toString();break;case 2:l+=a(s.hour);break;default:throw new Error(o.text("datetime.formatH",e))}},h:function(e){switch(e){case 1:l+=s.hour<13?s.hour:s.hour-12;break;case 2:l+=a(s.hour<13?s.hour:s.hour-12);break;default:throw new Error(o.text("datetime.formath",e))}},m:function(e){switch(e){case 2:l+=a(s.minute);break;default:throw new Error(o.text("datetime.formatm",e))}},s:function(e){switch(e){case 2:l+=a(t.second);break;default:throw new Error(o.text("datetime.formats",e))}},t:function(e){switch(e){case 1:l+=t.hour<12?u().amDesignator.substring(0,1):u().pmDesignator.substring(0,1);break;case 2:l+=t.hour<12?u().amDesignator:u().pmDesignator;break;default:throw new Error(o.text("datetime.formata",e))}},d:function(e){switch(e){case 1:l+=r.day.toString();break;case 2:l+=a(r.day);break;case 3:l+=i.dayName(r.weekDay,!0);break;case 4:l+=i.dayName(r.weekDay);break;default:throw new Error(o.text("datetime.formatd",e))}},M:function(e){switch(e){case 1:l+=r.month.toString();break;case 2:l+=a(r.month);break;case 3:l+=i.monthName(r.month,!0);break;case 4:l+=i.monthName(r.month);break;default:throw new Error(o.text("datetime.formatM",e))}},y:function(e){switch(e){case 2:l+=r.year.toString().substring(2,4);break;case 4:l+=r.year.toString();break;default:throw new Error(o.text("datetime.formaty",e))}},S:function(e){e===3?l+=f(t.millisecond):new Error(o.text("datetime.formatS",e))}}),l},toJsDate:function(){return new Date(this._value)},withoutTimezoneOffset:function(){return new l(this._value)},isNull:function(){return this._value==0}}),t.now=function(e){var t=new Date,n=t.getTime();return e||(n=Math.floor(n/1e3)*1e3),new l(n,t.getTimezoneOffset())},t.parse=function(e,t){if(e==null)throw new Error(o.text("datetime.isNull"));return t==null?v(e):b(e,t)},t.fromJsDate=function(e){return new l(e.getTime(),e.getTimezoneOffset())},t.isDatetime=function(e){return e instanceof l},t.fromInternalValue=function(e){return new l(e)},t.dayName=function(e,t){return t?u().abbreviatedDayNames[e]:u().dayNames[e]},t.monthName=function(e,t){return t?u().abbreviatedMonthNames[e-1]:u().monthNames[e-1]},t.make=m,t.makeUtc=g,i.make(1,1,1).constructor.prototype.at=function(e,n){return t.make(this.year,this.month,this.day,e.hour,e.minute,e.second,n)},t.sunday=0,t.Sunday=0,t.monday=1,t.Monday=1,t.tuesday=2,t.Tuesday=2,t.wednesday=3,t.Wednesday=3,t.thursday=4,t.Thursday=4,t.friday=5,t.Friday=5,t.saturday=6,t.Saturday=6,t.walkFormat=y}),define("syracuse-tablet/html/js/helpers/types/numberFormat",["require","exports","module","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){"use strict";function i(e,t,n){this.prefix=e,this.postfix=t,this.properties=n}function s(e,t){var n=new i(t.prefix,t.postfix,t.properties),r,s,o=e.indexOf("."),u=e.indexOf(",");n.properties.hasDecimalSeparator=r=o>-1,n.properties.hasGroupSeparator=s=u>-1;if(r){var a=e.substring(o+1);n.properties.mandatoryAfter=a.indexOf("0")>-1?a.match(/0/g).length:0,n.properties.maxAfter=a.length}s&&(n.properties.groupSize=r?o-u-1:e.substring(u+1).length);var f=r?e.substring(0,o):e;return n.properties.mandatoryBefore=f.indexOf("0")>-1?f.match(/0/g).length:0,n.properties.directive=e,n.properties.hasPercent=e.indexOf("%")>-1,n.properties.hasPermil=e.indexOf("‰")>-1,n.properties.hasSignFormat=e.indexOf("+")>-1&&e.indexOf("+")===0,n}function o(e,t){function s(t){var n=e[t],r=1;while(i.indexOf(e[t+r])>-1)r++;return r}var n=0,r=e.length,i="0#.,%‰+";while(n<r){var o=e[n];switch(o){case"'":n++;var u="";for(;n<r;n++)if(e[n]==="'"){n++;if(e[n]!=="'")break;u+="'"}else u+=e[n];t.literal(u);break;case"0":case"#":case".":case"%":case"‰":case"+":var a=s(n);t.directive(n,n+a),n+=a;break;case";":t.listSeparator(),n++;break;default:t.literal(o),n++}n===r&&t.listSeparator()}}function u(e,t,n){var r="",i=e.length,s="",o=0;for(var u=i-1;u>=0;u--)s=e[u],r+=s,++o,o%n===0&&u>0&&(r+=t);return r.split("").reverse().join("")}function a(e,t){var n,u,a=0,c=[],h=!1,p=new i("","",{});o(t,{literal:function(e){h?p.postfix+=e:p.prefix+=e},directive:function(e,n){var r=t.substring(e,n);p=s(r,p),h=!0},listSeparator:function(){h=!1,c.push(p),p=new i("","",{}),n="",u=""}});var d=c.length;switch(d){case 1:return l(e,c[0]);case 2:case 3:return e===0?f(c[2]):e<0?l(e.toString().substring(1),c[1]):l(e,c[0]);default:throw new Error(d===0?r.text("numberFormat.noFormat"):r.text("numberFormat.manyFormat"))}}function f(e){return e.prefix}function l(e,t){var n="",i=r.getNumberGroupSeparator(),s=r.getNumberDecimalSeparator(),o=t.properties.directive;e=t.properties.hasPercent?e*100:e,e=t.properties.hasPermil?e*1e3:e;if(t.properties.hasDecimalSeparator){var a="",f=t.properties.maxAfter,l=o.substr(o.indexOf(".")+1,f),c=e%1,h=""+c.toFixed(f);h=h.substring(h.indexOf(".")+1);for(var p=0;p<f;p++){var d=l.charAt(p),v=h.charAt(p);if(d==="0")a+=v;else if(d==="#"&&v!=="0")a+=v;else if(d==="#"&&v==="0"){var m=h.substring(p);if(!m.match("[1-9]"))break;a+=v}}n=a?s+a:n}else e=Math.round(e);var g=e<0?""+Math.ceil(e):""+Math.floor(e);g=g.replace(/[^\d]+/g,"");var y=o.indexOf(".")===-1?o:o.substring(0,o.indexOf("."));if(g.length<t.properties.mandatoryBefore){var b=t.properties.mandatoryBefore-g.length,w="";for(var p=0;p<b;p++)w+="0";g=w+g}return t.properties.hasGroupSeparator&&t.properties.groupSize<g.length&&(g=u(g,i,t.properties.groupSize)),g=parseInt(g,10)===0&&t.properties.mandatoryBefore===0?"":g,g=g&&e<0?"-"+g:g,n=g+n,n=t.properties.hasSignFormat&&e>0?"+"+n:n,n+=t.properties.hasPercent?"%":"",n+=t.properties.hasPermil?"‰":"",t.prefix+n+t.postfix}function c(e,t){var n,r,u=0,a=[],f=!1,l=new i("","",{});return o(t,{literal:function(e){f?l.postfix+=e:l.prefix+=e},directive:function(e,n){var r=t.substring(e,n);l=s(r,l),f=!0},listSeparator:function(){f=!1,a.push(l),l=new i("","",{}),n="",r=""}}),h(e,a)}function h(e,t,n){var i=t.length,s,o=r.getNumberGroupSeparator(),u=r.getNumberDecimalSeparator();switch(i){case 1:var a=t[0],f=e,l,c,p=a.prefix,d=a.postfix;f=p?f.substring(p.length):f,f=d?f.substring(0,f.length-d.length):f;var v=f.split(u);if(v.length>2)throw new Error(r.text("numberFormat.oneSep",f));l=v[0]?v[0].match(/[0-9]/g).join(""):"0",c=v.length>1?v[1].match(/[0-9]/g).join(""):"",s=parseFloat(c?l+"."+c:l),s=f.charAt(0)==="-"?parseFloat("-"+s):s,s=a.properties.hasPercent?s/100:s,s=a.properties.hasPermil?s/1e3:s,s=n?parseFloat("-"+s):s;break;case 2:case 3:var m="1234567890"+u+o+"%‰-+",g=t.length,y=e.length;for(var b=0;b<g;b++){var w=t[b],p=w.prefix,d=w.postfix,E=p?!0:!1,S=d?!0:!1,x,T;x=E?e.substring(0,p.length):"",T=S?e.substring(y-d.length):"";if(E&&!S&&x.indexOf(p)>-1||E&&S&&x.indexOf(p)>-1&&T.indexOf(d)>-1||!E&&S&&T.indexOf(d)>-1||!E&&!S&&m.indexOf(e.charAt(0))>-1&&m.indexOf(e.charAt(y-1))>-1)break}var N=[];N.push(t[b]);switch(b){case 0:s=h(e,N);break;case 1:s=h(e,N,!0);break;case 2:s=0;break;default:throw new Error(r.text("numberFormat.cannotParse"))}break;default:throw new Error(i===0?r.text("numberFormat.noFormat"):r.text("numberFormat.manyFormats"))}return s}var r=e("syracuse-tablet/html/js/helpers/locale");t.format=function(e,t){if(isNaN(e))throw new Error(r.text("numberFormat.notNumber",e));if(t==null){e=e.toString();var n=e.indexOf("."),i=n>-1,s=i?e.substring(0,n):e,o=i?e.substring(n+1):"",f=r.getNumberGroupSeparator()||"",l=i?r.getNumberDecimalSeparator()||".":"";return u(s,f,3)+l+o}return a(e,t)},t.parse=function(e,t){return e?t==null?parseFloat(e):c(e,t):0}}),define("syracuse-tablet/html/js/helpers/formatApi",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/helpers/types/date","syracuse-tablet/html/js/helpers/types/datetime","syracuse-tablet/html/js/helpers/types/time","syracuse-tablet/html/js/helpers/types/numberFormat"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/locale"),s=e("syracuse-tablet/html/js/helpers/types/date"),o=e("syracuse-tablet/html/js/helpers/types/datetime"),u=e("syracuse-tablet/html/js/helpers/types/time"),a=e("syracuse-tablet/html/js/helpers/types/numberFormat"),f={},l;t.getFormatter=function(e,t){var n=m[e];if(!n)return null;var r=i.getCurrentLocaleHash();r!==l&&(l=r,f={});var s=f[e];s||(s=f[e]={});var o=t||"noformat",u=s[o];return u?u:(u=new n(e,t),s[o]=u,u)};var c=r.defineClass(function(e,t){this.$format=t,this.$type=e},null,{_isEmpty:function(e){return e==null?!0:(e=""+e,e=e.trim(),e===""?!0:!1)},formatValue:function(e){return e},formatValueEdit:function(e){return e},parseValue:function(e,t){t.push("No parser for this type, return this dummy error to not override value by null")},getFormat:function(){return this.format}}),h=r.defineClass(function(e,t){c.call(this,e,t),this.format=i.getDateFormat(),this.twoDigitYearSwitch=40},c,{_isEmpty:function(e){return e==null?!0:(e=""+e,e=e.trim(),e===""?!0:e==="0000-00-00"?!0:!1)},_checkShortYear:function(e){if(e.year){var t=e.year;t<100&&e.add({years:t<this.twoDigitYearSwitch?2e3:1900})}else e=e>99?e:e<this.twoDigitYearSwitch?2e3+e:1900+e;return e},formatValue:function(e){if(this._isEmpty(e))return"";var t=e.split(/[^\d]+/),n;if(t.length>=3){t[0]=this._checkShortYear(+t[0]);var r=s.make(+t[0],+t[1],+t[2]);n=r.toString(this.format)}else n=e;return n},parseValue:function(e,t){var n;if(this._isEmpty(e))return"";try{n=s.parse(e,this.format),n=this._checkShortYear(n)}catch(r){return t.push(i.text("field.invalidInput",[this.format])),e}return n.toString("yyyy-MM-dd")}}),p=r.defineClass(function(e,t){h.call(this,e,t),this.format=i.getDateTimeFormat()},h,{_isEmpty:function(e){return e==null?!0:(e=""+e,e=e.trim(),e===""?!0:e==="0000-00-00T00:00:00Z"?!0:!1)},formatValue:function(e){if(this._isEmpty(e))return o.now().toString(this.format);var t=e.split(/[^\d]+/),n;if(t.length>=6){t[0]=this._checkShortYear(+t[0]);var r=o.make(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]);n=r.toString(this.format)}else n=e;return n},parseValue:function(e,t){var n;if(this._isEmpty(e))return"";try{n=o.parse(e,this.format),n=this._checkShortYear(n)}catch(r){return t.push(i.text("field.invalidInput",[this.format])),e}return n.toString("yyyy-MM-ddTHH:mm:ss.SSS")+"Z"}}),d=r.defineClass(function(e,t){c.call(this,e,t),this.$format==="TT"?this.format=i.getTimeFormat():this.format=i.getTimeFormatShort()},c,{formatValue:function(e){if(this._isEmpty(e))return"";var t=e.split(/[^\d]+/),n;if(t.length>=2){var r=u.make(+t[0],+t[1],+t[2]);n=r.toString(this.format)}else n=e;return n},parseValue:function(e,t){if(this._isEmpty(e))return"";var n=e.split(/[^\d]+/);if(n.length>=1){var r=u.make(+n[0],+n[1],+n[2]);return r.toString("HH:mm:ss")}}}),v=r.defineClass(function(e,t){c.call(this,e,t),this.format=this.$format||i.getNumberFormat(this.$type)},c,{formatValue:function(e){if(this._isEmpty(e))return"";var t=a.format(e,this.format);return t},parseValue:function(e,t){if(this._isEmpty(e))return"";try{var n=a.parse(e,this.format)}catch(r){return t.push(i.text("field.invalidInput",[this.format])),e}return n}}),m={"application/x-integer":v,"application/x-decimal":v,"application/x-real":v,"application/x-date":h,"application/x-time":d,"application/x-datetime":p}}),define("syracuse-tablet/html/js/controls/validator",["require","exports","module","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/locale"),i={validate:function(e,t,n,s){var o=e.prototype,u=!0;for(var a=0;a<s.length;a++){var f=s[a],l=null;e&&e.getMetaData&&(l=e.getMetaData(f)),l==null&&(l=o&&o.data(f));if(l!=null){var c=i[f];c?u=c(t,n,l)&&u:(n.push(r.text("field.unknownConstraint",[f])),u=!1)}}return u},$isMandatory:function(e,t,n){return!n||e!=null&&e!=""?!0:(t.push(r.text("field.valMand")),!1)},$pattern:function(e,t,n){var i=this;if(e&&n){var s=new RegExp(n);if(!s.test(e))return t.push(r.text("field.patternError",[n])),!1}return!0},$minimum:function(e,t,n){var i=this;return e!=null&&e<n?(t.push(r.text("field.minimum",[n])),!1):!0},$maximum:function(e,t,n){var i=this;return e!=null&&e>n?(t.push(r.text("field.maximum",[n])),!1):!0},$exclusiveMinimum:function(e,t,n){var i=this;return e!=null&&e<=n?(t.push(r.text("field.exclusiveMinimum",[n])),!1):!0},$exclusiveMaximum:function(e,t,n){var i=this;return e!=null&&e>=n?(t.push(r.text("field.exclusiveMaximum",[n])),!1):!0},$minLength:function(e,t,n){var i=this;return!e||e.length<n?(t.push(r.text("field.minLength",[n])),!1):!0},$maxLength:function(e,t,n){var i=this;return e&&e.length>n?(t.push(r.text("field.maxLength",[n])),!1):!0},$precision:function(e,t,n){var i=this;if(e){var s=(""+e).split(".").join("");if(s.length>n)return t.push(r.text("field.precision",[n])),!1}return!0},$scale:function(e,t,n){var i=this;if(e){var s=(""+e).split(".");s=s&&s[1]||"";if(s.length>n)return t.push(r.text("field.scale",[n])),!1}return!0}};t.Validator=i}),define("syracuse-tablet/html/js/controls/field/ctrlFieldBase",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/ctrlBase","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/helpers/formatApi","syracuse-tablet/html/js/controls/validator","syracuse-tablet/html/js/authoring/authoringProperties"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/ctrlBase").Klass,s=e("syracuse-tablet/html/js/ui/uiUtils"),o=e("syracuse-tablet/html/js/helpers/formatApi"),u=e("syracuse-tablet/html/js/controls/validator").Validator,a=e("syracuse-tablet/html/js/authoring/authoringProperties").properties,f=r.defineClass(function(t,n,r,s){var o=this;i.call(o,t,n,r,s),o.formatter=o.initFormatter(),o.cssType=null},i,{initFormatter:function(){return o.getFormatter(this.$type,this.prototype.data("$format"))},initReuseProperties:function(){i.prototype.initReuseProperties.call(this),this.domInput=null,this.$$message=null,this.$$value=null},destroy:function(){var e=this;i.prototype.destroy.call(e),e.formatter=null},buildHtml:function(e,t,n){var r=["s-m-field"];this.cssType&&r.push(this.cssType),this.getAuthoring("$value.$valueFirst",!1)&&r.push("s-m-valueFirst"),i.prototype.buildHtml.call(this,e,t,n,r);var s=this.$$elmt.get(0);this.buildFieldTitle(s,n),this.buildFieldValue(s,n),n&&n.afterRender&&i.prototype.afterRender.call(this,n),this._applyLabelAuthoring(),this._applyThemeAuthoring(),this.checkDiagnoses()},refreshValue:function(e){if(!this.$$value)return;this.buildFieldValue(this.$$elmt.get(0),e)},_applyThemeAuthoring:function(){var e=this,t=e.getAuthoring("$theme");if(t){var n=a.theme.values.map(function(e,t,n){return e.value});$.each(n,function(t,n){e.$$elmt.toggleClass("s-m-control-"+n,!1)}),e.$$elmt.toggleClass("s-m-control-"+t)}},_applyLabelAuthoring:function(){var e=this,t=e.getAuthoring("$labelPosition");t&&e.setLabelPosition(t);var n=e.getAuthoring("$labelAlign");n&&e.setLabelAlign(n)},setLabelPosition:function(e){if(e){var t=this,n=t.$$elmt.find("div.s-m-title"),r;switch(e){case"top":r=[n,t.$$value],$.each(r,function(e,t){t&&t.css("float","none").css("width","inherit")});break;default:n.css("float","left").css("width","30%")}}},setLabelAlign:function(e){var t=this,n=t.$$elmt.find("div.s-m-title");n.css("text-align",e||"inherit")},createMainInput:function(e,t,n){var r=this;n=n||"text";var i=["s-m-meta"],o={type:n};return"text"===n?(i.push("form-control"),i.push("ctrl-evt-blur"),o.value=t):"checkbox"===n&&i.push("ctrl-evt-click"),r.domInput=s.createDomElement("input",i,null,o,e),"checkbox"===n&&(r.domInput.checked=t),r.domInput},buildFieldTitle:function(e,t){if(this.getAuthoring("$isTitleHidden"))return;if(t&&t.displayCtx==="table")return;var n=(this.getTitle()||"").trim();return n.length>0?(this.getMetaData("$isMandatory")===!0&&(n+="*"),s.createDomElement("div",["s-m-title"],n,null,e)):null},buildFieldValue:function(e,t){if(this.$$value)this.$$value.empty(),this.clearInputErrors(),this.$$message=null;else{var n=s.createDomElement("div",["s-m-value",this.$isEditMode?"edit":""],null,null,e);this.$$value=$(n)}return this.$$value.get(0)},appendTextValue:function(e,t){if(e==null||t==null)return;typeof t!="string"&&(t=t.toString?t.toString():"??Can't display??"),t=t.trim(),t.length>0&&s.appendTextNode(e,t)},validateValue:function(e,t){return u.validate(this,e,t,["$isMandatory"])},parseValue:function(e,t){return this.formatter?this.formatter.parseValue(e,t):e},applyMetaData:function(e){i.prototype.applyMetaData.call(this,e);if(e&&e.$diagnoses){var t=[];e.$diagnoses.forEach(function(e){t.push(e.$message)}),this.showInputErrors(t)}},showInputErrors:function(e){var t=this;t.$$message?t.$$message.empty():t.$$message=$('<span class="s-m-error"/>').appendTo(t.$$value),t.$$elmt.removeClass("error"),e&&e.length>0&&(t.$$elmt.addClass("error"),e.forEach(function(e){e!=null&&(e+"").trim().length>0&&t.$$message.append($("<p>").text(e))}))},clearInputErrors:function(){this.showInputErrors(null)},getFormattedValue:function(e){return this.formatter?this.formatter.formatValue(e):e||""},setFieldValue:function(e){this.setDisplayValue(this.getFormattedValue(e)),this.setValue(e)},onBlur:function(e){var t=this;t.clearInputErrors();if(!t.domInput)return!0;var n=t.domInput.value,r=[];return n=t.parseValue(n,r),r.length===0&&(t.validateValue(n,r),e!==!0&&(t.setDisplayValue(t.getFormattedValue(n)),r.length===0&&t.setValue(n))),r.length>0&&t.showInputErrors(r),r.length==0},setDisplayValue:function(e){this.domInput&&(this.domInput.value=e),this.clearInputErrors(),this.removeDiagnoses()},refresh:function(e,t){i.prototype.refresh.call(this,e,t),this.checkDiagnoses()},checkDiagnoses:function(){var e=[],t=this.getMetaData("$diagnoses");return t&&t.length>0&&t.forEach(function(t){t.$severity==="error"&&e.push(t.$message)}),e.length>0&&this.showInputErrors(e),e.length===0},checkData:function(e){this.clearInputErrors();var t=this.getMetaData();if(!t||t.$isDisabled!==!0&&t.$isReadOnly!==!0&&t.$isHidden!==!0){if(!this.onBlur(!0))return!1;var n=[],r=this.getValue();return this.validateValue(r,n),n.length>0&&this.showInputErrors(n),n.length===0}return!0},removeDiagnoses:function(){this.getDao()&&this.getDao().removeMetaDiagnoses(this.$bind)},setFocus:function(){i.prototype.setFocus.call(this),this.domInput&&this.domInput.focus()}});t.Klass=f}),define("syracuse-tablet/html/js/controls/field/ctrlAlphanum",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/field/ctrlFieldBase","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/controls/validator"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/field/ctrlFieldBase").Klass,s=e("syracuse-tablet/html/js/ui/uiUtils"),o=e("syracuse-tablet/html/js/controls/validator").Validator,u=r.defineClass(function(t,n,r,s){var o=this;i.call(o,t,n,r,s)},i,{validateValue:function(e,t){var n=this,r=i.prototype.validateValue.call(n,e,t);return r&&o.validate(n,e,t,["$pattern","$minLength","$maxLength"])},buildFieldValue:function(e,t){var n=this,r=i.prototype.buildFieldValue.call(n,e,t),s=n.getFormattedValue(n.getValue());n.$isEditMode?n.createMainInput(r,s):n.appendTextValue(r,s)}}),a=r.defineClass(function(t,n,r,i){var s=this;u.call(s,t,n,r,i),s.cssType="s-m-phone"},u,{buildFieldValue:function(e,t){var n=this;if(n.$isEditMode)u.prototype.buildFieldValue.call(n,e,t);else{var r=n.getFormattedValue(n.getValue()),i=s.createDomElement("a",[],r,{href:"phoneto:"+r});i.appendChild(s.createDomElement("span",["badge","pull-left"])),e.appendChild(i)}}}),f=r.defineClass(function(t,n,r,i){var s=this;u.call(s,t,n,r,i),s.cssType="s-m-email"},u,{buildFieldValue:function(e,t){var n=this;if(n.$isEditMode)u.prototype.buildFieldValue.call(n,e,t);else{var r=n.getFormattedValue(n.getValue()),i=s.createDomElement("a",[],r,{href:"mailto:"+r});i.appendChild(s.createDomElement("span",["badge","pull-left"])),e.appendChild(i)}}});t.Klass=u,t.PhoneField=a,t.EmailField=f}),define("syracuse-tablet/html/js/controls/field/ctrlProgress",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/controls/field/ctrlFieldBase"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/ui/uiUtils"),s=e("syracuse-tablet/html/js/controls/field/ctrlFieldBase").Klass,o={$valueMin:0,$valueMax:100},u=r.defineClass(function(t,n,r){var i=this;s.call(i,t,n,r)},s,{buildFieldValue:function(e,t){var n=this,r=s.prototype.buildFieldValue.call(n,e,t),u=n.getValue(),a=i.createDomElement("div",["progress"]),f=i.createDomElement("div",["progress-bar"],u,{role:"progressbar","aria-valuenow":u,"aria-valuemin":n.article.$valueMin||o.$valueMin,"aria-valuemax":n.article.$valueMax||o.$valueMax,style:"width:"+u+"%;"})}});t.Klass=u}),define("syracuse-tablet/html/js/controls/field/ctrlNumeric",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/field/ctrlFieldBase","syracuse-tablet/html/js/controls/validator","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/field/ctrlFieldBase").Klass,s=e("syracuse-tablet/html/js/controls/validator").Validator,o=e("syracuse-tablet/html/js/helpers/locale"),u=r.defineClass(function(t,n,r,s){var o=this;i.call(o,t,n,r,s)},i,{buildFieldValue:function(e,t){var n=this,r=i.prototype.buildFieldValue.call(n,e,t),s=n.getFormattedValue(n.getValue());n.$isEditMode?n.createMainInput(r,s):n.appendTextValue(r,s)},parseValue:function(e,t){var n=this;if(n.formatter){var r=n.formatter.getFormat();if(r){var s=o.getNumberGroupSeparator(),u=o.getNumberDecimalSeparator();r.indexOf(",")<0&&s&&s.length>0&&(e=e.replace(new RegExp("\\"+s,"g"),u)),r.indexOf(",")>0&&r.indexOf(".")>0&&s&&s.length>0&&e.indexOf(s)>-1&&e.indexOf(u)<0&&(e=e.replace(new RegExp(s,"g"),u))}}return i.prototype.parseValue.call(n,e,t)},validateValue:function(e,t){var n=this,r=i.prototype.validateValue.call(n,e,t);return r=s.validate(n,e,t,["$minimum","$maximum","$exclusiveMinimum","$exclusiveMaximum","$precision"])&&r,n.$type!=="application/x-integer"&&(r=s.validate(n,e,t,["$scale"])&&r),r}});t.Klass=u}),define("syracuse-tablet/html/js/controls/field/ctrlQuantity",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/field/ctrlFieldBase","syracuse-tablet/html/js/helpers/formatApi","syracuse-tablet/html/js/controls/ctrlFactory"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/field/ctrlFieldBase").Klass,s=e("syracuse-tablet/html/js/helpers/formatApi"),o=e("syracuse-tablet/html/js/controls/ctrlFactory"),u=r.defineClass(function(t,n,r,s){i.call(this,t,n,r,s),this.unitFieldInfo=r.getUnitFieldInfo(),this.displayUnit=!1,this.unitFieldInfo&&this.unitFieldInfo.unitFieldProto&&!this.unitFieldInfo.unitFieldProto.data("$isExcluded")&&(this.displayUnit=s&&s.displayCtx!=="table"),this.unitCtrl=null},i,{initFormatter:function(){var e=this.prototype.data("$value");return s.getFormatter(e.$type,e.$format)},destroy:function(){i.prototype.destroy.call(this),this.unitCtrl&&(this.unitCtrl.destroy(),this.unitCtrl=null)},buildHtml:function(e,t,n){i.prototype.buildHtml.call(this,e,t,n),this.$$elmt.addClass("s-m-qty"),this.displayUnit&&(this.unitCtrl=o.createControl(this.controller,this,{$bind:this.unitFieldInfo.unitBindName},this.unitFieldInfo.unitFieldProto,{isUnit:!0}),this.unitCtrl.buildHtml(this.$$elmt,t,n))},buildFieldValue:function(e,t){var n=i.prototype.buildFieldValue.call(this,e,t),r=this.getFormattedValue(this.getValue());this.$isEditMode?this.createMainInput(n,r):this.appendTextValue(n,r)}});t.Klass=u}),define("syracuse-tablet/html/js/ui/fontUtils",["require","exports","module","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/ui/iconList"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/logger").getLogger("app"),i=e("syracuse-tablet/html/js/ui/iconList"),s={$first:"glyphicon glyphicon-step-backward",$previous:"glyphicon glyphicon-chevron-left",$next:"glyphicon glyphicon-chevron-right",$last:"glyphicon glyphicon-step-forward",$more:"glyphicon glyphicon-refresh"},o=function(e){if(e==null)e=Math.random()*(i.fontAwesomeIconNames.length-1);else if(e<i.fontAwesomeIconNames.length)e=Math.abs(e);else{var t=Math.round(Math.abs(e)/i.fontAwesomeIconNames.length);e-=t*i.fontAwesomeIconNames.length}return"fa "+i.fontAwesomeIconNames[e]},u=function(e){switch(e){case"$multiSelection":return"glyphicon glyphicon-list-alt";case"$cancelMultiSel":case"$cancelEdit":return"fa fa-undo";case"$edit":return"fa fa-pencil-square-o";case"$query":return"fa fa-list";case"$save":return"fa fa-floppy-o";case"$details":return"fa fa-level-down";case"$delete":return"fa fa-trash-o";case"$create":return"fa fa-plus-square";default:if(i.fontAwesomeIconNames.indexOf("fa-"+e)>-1)return"fa fa-"+e;return r&&r("Icon name="+e+" not implemented yet"),"fa fa-warning"}return!0};t.getIconByIdx=o,t.getIconByName=u,t.checkBoxIcon=function(e){return["glyphicon",e?"glyphicon-ok":"glyphicon-remove"]},t.dateFieldIcon=function(e){return e.indexOf("date")!=-1?["glyphicon","glyphicon-calendar"]:["glyphicon","glyphicon-time"]},t.refFieldIcon=function(){return["glyphicon","glyphicon-eye-open"]},t.binaryIcon=function(e,t){return e==="s-m-img"?"glyphicon "+(t==="default"?"glyphicon-picture":""):e==="s-m-binary"?"glyphicon "+(t==="default"?"glyphicon-file":""):""},t.paginationIcon=function(e){return s[e]},t.pageIcon=function(e){if(e==="clearCache")return"fa fa-history";if(e==="switchContext")return"fa fa-user";if(e==="search")return"fa fa-search";if(e==="sidePanelL")return"fa fa-caret-square-o-left";if(e==="sidePanelR")return"fa fa-angle-double-right";if(e==="home")return"fa fa-home";if(e==="designPage")return"fa fa-paint-brush";if(e==="back")return"fa fa-arrow-circle-o-left";if(e==="developmentPage")return"fa fa-wrench";if(e==="bars")return"fa fa-bars";if(e==="backIphone")return"fa fa-angle-left";if(e==="about")return"fa fa-info-circle";if(e==="logout")return"fa fa-sign-out";if(e==="pinPage_1")return"fa fa-star-o";if(e==="pinPage_2")return"fa fa-star";if(e==="pageConfig")return"fa fa-gear"},t.ctrlIcon=function(e){if(e==="editrow")return"fa fa-pencil-square-o";if(e==="detailrow")return"fa fa-hand-o-right";if(e==="delrow")return"fa fa-remove";if(e==="addrow")return"fa fa-plus"},t.vignetteIcons=function(e){if(e==="home")return"fa fa-home";if(e==="back")return"fa fa fa-arrow-circle-o-left";if(e==="refresh")return"fa fa-history"},t.sortIcon=function(e){if(e==="asc")return"fa fa-long-arrow-up";if(e==="none")return"fa fa-times";if(e==="desc")return"fa fa-long-arrow-down"},t.filterIcon=function(e){if(e==="panel")return"fa fa-bars";if(e==="filtered")return"fa fa-filter";if(e==="edit")return"fa fa-pencil";if(e==="delete")return"fa fa-times"}}),define("syracuse-tablet/html/js/controls/field/ctrlCheckBox",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/field/ctrlFieldBase","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/ui/fontUtils"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/field/ctrlFieldBase").Klass,s=e("syracuse-tablet/html/js/ui/uiUtils"),o=e("syracuse-tablet/html/js/ui/fontUtils"),u=r.defineClass(function(t,n,r,s){var o=this;i.call(o,t,n,r,s)},i,{buildHtml:function(e,t,n){var r=this;i.prototype.buildHtml.call(r,e,t,n)},buildFieldValue:function(e,t){var n=this,r=i.prototype.buildFieldValue.call(n,e,t),u=n.getValue();if(u==null)return;u=u===!0,n.$isEditMode?n.createMainInput(r,u,"checkbox"):r.appendChild(s.createDomElement("span",o.checkBoxIcon(u)))},onClick:function(e){var t=this;setTimeout(function(){t.domInput.checked=!t.domInput.checked,t.setValue(t.domInput.checked)},50)}});t.Klass=u}),define("syracuse-tablet/html/js/controls/field/ctrlCombo",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/controls/field/ctrlFieldBase"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/ui/uiUtils"),s=e("syracuse-tablet/html/js/controls/field/ctrlFieldBase").Klass,o=function(e,t){if(!e||!t)return!1;if(e.length!=t.length)return!1;for(var n=0,r=e.length;n<r;n++){if(e.$value!=t.$value)return!1;if(e.$title!=t.$title)return!1}return!0},u=r.defineClass(function(t,n,r,i){s.call(this,t,n,r,i)},s,{initReuseProperties:function(){s.prototype.initReuseProperties.call(this),this.radioItemList=null,this._choiceList=null,this.valueSlot=null},buildFieldValue:function(e,t){this.valueSlot=s.prototype.buildFieldValue.call(this,e,t),this._updateList(this.getMetaData(),!1)},refreshValue:function(e){this._updateList(this.getMetaData(),!0)},_updateList:function(e,t){var n=this;if(!n.valueSlot)return;var r=e&&e.$value?e.$value.$enum:null;if(t!==!0&&o(r,n._choiceList))return;$(n.valueSlot).empty(),n._choiceList=$.extend(!0,[],r);if(n.$isEditMode){var s=e?e.$format:null;s||(s=n.prototype.data("$format")),s&&s!="$radios"&&s!="$combo"&&(s="$combo");var u=n.currentValue=n.getValue(),a;if(n._choiceList.length>0)if(s=="$radios")n.radioItemList=[],$.each(n._choiceList,function(e,t){var r=i.createDomElement("div",["s-m-field-radio-item"]),s=i.createDomElement("input",["s-m-field-choice-radio","ctrl-evt-click","s-m-meta"],null,{type:"radio",value:e,name:"s-m-radio-"+n.id});u&&t.$value==u&&s.setAttribute("checked",!0);var o=i.createDomElement("div",["s-m-field-choice-radio-title"],t.$title);n.radioItemList.push({inputDom:s,titleDom:o}),n.valueSlot.appendChild(s),n.valueSlot.appendChild(o)});else{var f=i.createDomElement("select",["form-control ctrl-evt-change","s-m-meta"]);$.each(n._choiceList,function(e,t){var r=n.prototype.resolveExpression(t.$title),s=i.createDomElement("option",null,r,{value:t.$value},f);(t.$value==u||!u&&e==0)&&s.setAttribute("selected",!0)}),e.$isReadOnly||e.$isDisabled?f.setAttribute("disabled",!0):f.removeAttribute("disabled"),n.valueSlot.appendChild(f)}}else if(n._choiceList.length>0){var u=n.currentValue=n.getValue();u=n._getChoiceTitle(u),u=n.prototype.resolveExpression(u),n.appendTextValue(n.valueSlot,u)}},_getChoiceTitle:function(e){var t;return $.each(this._choiceList,function(n,r){t=r.$value==e?r.$title:t;if(t)return!1}),t},_getChoiceValue:function(e){var t;return $.each(this._choiceList,function(n,r){t=r.$title==e?r.$value:t;if(t)return!1}),t},setDisplayValue:function(e,t,n){var r=this;r.$isEditMode&&r.prototype.data("$format")=="$radios"&&e!=r.currentValue&&$.each(r.radioItemList,function(n,i){setTimeout(function(){t?i.inputDom.checked=t==n:i.inputDom.checked=r._choiceList[n].$value==e},5)})},setFieldValue:function(e,t,n){this.setDisplayValue(e,t,n),this.currentValue=e,this.setValue(e)},onClick:function(e){this.prototype.data("$format")=="$radios"&&this.setFieldValue(this._getChoiceValue(e.target.nextElementSibling.textContent),$(e.target.parentNode).index())},onChange:function(e){this.setFieldValue(e.target.value,e.target.selectedIndex,e.target.options[e.target.options.selectedIndex].textContent)},applyMetaData:function(e){s.prototype.applyMetaData.call(this,e),this._updateList(e)}});t.Klass=u}),define("syracuse-tablet/html/js/ui/datetimeSelectors/monthChoice",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/types/date"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/types/date"),s=r.defineClass(function(){},null,{create:function(e,t,n){this.parent=e,this.handler=n,this.domItem=document.createElement("nav"),this.domItem.className="s-calendar-quick-list",this._dateValue=t;var r=document.createElement("table");r.className="s-calendar-month-choice";var s=document.createElement("tbody");for(var o=0;o<6;o++){var u=document.createElement("tr");u.appendChild(this.drawCell(o+1,i.monthName(o+1,!0),this._dateValue.month)),u.appendChild(this.drawCell(o+7,i.monthName(o+7,!0),this._dateValue.month)),s.appendChild(u)}r.appendChild(s),this.domItem.appendChild(r),this.parent.appendChild(this.domItem),this.bindEvents(!0)},drawCell:function(e,t,n){var r=document.createElement("td");return r.className="s-calendar-my-item",r.syraOnClick="onMonthClick",r.syraValue=e,r.textContent=t,e==n&&(r.className+=" s-calendar-select",this.selectedCell=r),r},toggle:function(e){e?this.domItem.style.display="":this.domItem.style.display="none"},onMonthClick:function(e){this.selectedCell&&(this.selectedCell.className="s-calendar-my-item"),(this.selectedCell=e).className="s-calendar-my-item s-calendar-select",this._selectedMonth=e.syraValue;var t=this._selectedMonth?this._selectedMonth:this._dateValue.month;this._currentDate=this._dateValue=i.fromJsDate(new Date(this._dateValue.year,t-1,this._dateValue.day)),this.handler.onEvent("onCalendarUpdate",this)},bindEvents:function(e){var t=this;e?$(t.domItem).delegate("td","click",function(e){t.onClick(e),e.preventDefault(),e.stopPropagation()}):$(t.domItem).undelegate()},onClick:function(e){var t=this;while(e.target){if(e.target.syraOnClick){this[e.target.syraOnClick](e.target,e);return}e.target=e.target.parentNode}},destroy:function(){this.bindEvents(!1),this.domItem=this._dateValue=this.selectedCell=null}});t.MonthChoice=s}),define("syracuse-tablet/html/js/ui/datetimeSelectors/yearChoice",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/helpers/types/date"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/locale"),s=e("syracuse-tablet/html/js/helpers/types/date"),o=r.defineClass(function(){},null,{create:function(e,t,n){this.parent=e,this.domItem=document.createElement("nav"),this.domItem.className="s-calendar-quick-list",this.handler=n,this._dateValue=t,this._selectedYear=this._dateValue.year;var r=document.createElement("table");r.className="s-calendar-year-choice";var i=document.createElement("tbody");this.rows=[];for(var s=0;s<6;s++){var o=document.createElement("tr");if(s==0)this.addPrevNextCell(o,!0),this.addPrevNextCell(o,!1);else{var u=this._dateValue.year+s-4;o.appendChild(this.drawCell(u,u)),o.appendChild(this.drawCell(u+5,u+5))}i.appendChild(o),this.rows.push(o)}r.appendChild(i),this.domItem.appendChild(r),this.parent.appendChild(this.domItem),this.bindEvents(!0)},addPrevNextCell:function(e,t){var n=document.createElement("td");n.className="s-calendar-my-link-cell";var r=document.createElement("a");r.className=(r.syraIsPrev=t)?"s-calendar-prev-year":"s-calendar-next-year",r.textContent=(r.syraIsPrev=t)?i.text("date.month.label.prev"):i.text("date.month.label.next"),r.syraOnClick="onChangeYear",n.appendChild(r),e.appendChild(n)},drawCell:function(e,t){var n=document.createElement("td");return n.className="s-calendar-my-item",n.syraOnClick="onSelectYear",n.syraValue=e,n.textContent=t,e==this._selectedYear&&(n.className+=" s-calendar-select",this.selectedCell=n),n},toggle:function(e){e?this.domItem.style.display="":this.domItem.style.display="none"},_refreshYearCell:function(e,t){e.syraValue+=t,e.textContent=e.syraValue,e.syraValue==this._selectedYear&&(e.className+=" s-calendar-select",this.selectedCell=e)},onChangeYear:function(e){var t=e.syraIsPrev?-10:10;for(var n=1,r=this.rows.length;n<r;n++){var i=this.rows[n].childNodes;this._refreshYearCell(i[0],t),this._refreshYearCell(i[1],t)}},onSelectYear:function(e){this.selectedCell&&(this.selectedCell.className="s-calendar-my-item"),(this.selectedCell=e).className="s-calendar-my-item s-calendar-select",this._selectedYear=e.syraValue;var t=this._selectedYear?this._selectedYear:this._dateValue.year;this._currentDate=this._dateValue=s.fromJsDate(new Date(t,this._dateValue.month,this._dateValue.day)),this.handler.onEvent("onCalendarUpdate",this)},bindEvents:function(e){var t=this;e?$(t.domItem).delegate("td","click",function(e){t.onClick(e),e.preventDefault(),e.stopPropagation()}):$(t.domItem).undelegate()},onClick:function(e){var t=this;while(e.target){if(e.target.syraOnClick){this[e.target.syraOnClick](e.target,e);return}e.target=e.target.parentNode}},destroy:function(){this.bindEvents(!1),this.rows=this.domItem=this._dateValue=this.selectedCell=null}});t.YearChoice=o}),define("syracuse-tablet/html/js/ui/datetimeSelectors/dateSelector",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/helpers/types/date","syracuse-tablet/html/js/ui/datetimeSelectors/monthChoice","syracuse-tablet/html/js/ui/datetimeSelectors/yearChoice"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/ui/uiUtils"),s=e("syracuse-tablet/html/js/helpers/locale"),o=e("syracuse-tablet/html/js/helpers/types/date"),u=e("syracuse-tablet/html/js/ui/datetimeSelectors/monthChoice").MonthChoice,a=e("syracuse-tablet/html/js/ui/datetimeSelectors/yearChoice").YearChoice,f=r.defineClass(function(){},null,{onClick:function(e){var t=this,n;while(e.target&&e.target!=t.handler.parentSlot){if(e.target.getAttribute("data-s-syraOnClick")){n=this[e.target.getAttribute("data-s-syraOnClick")](e.target,e),n&&this.handler.closeContainer();return}e.target=e.target.parentNode}},onTodayClick:function(){return this._currentDate=o.today(),this.field.setFieldValue(o.fromInternalValue(this._currentDate._value).toString()),!0},onDayClick:function(e){return this.field.setFieldValue(o.fromInternalValue(e.getAttribute("data-s-syraValue")).toString()),!0},onChangePeriode:function(e){e.getAttribute("data-s-syraPeriod")=="month"?this._currentDate=this._currentDate.addMonths(e.getAttribute("data-s-syraIsPrev")?-1:1):e.getAttribute("data-s-syraPeriod")=="year"?this._currentDate=this._currentDate.addYears(e.getAttribute("data-s-syraIsPrev")?-1:1):this._currentDate=this._currentDate.addDays(e.getAttribute("data-s-syraIsPrev")?-7:7),this.handler.onEvent("onCalendarUpdate",this)},onMonthClick:function(){this.handler.onEvent("onMonthClick",this)},onYearClick:function(){this.handler.onEvent("onYearClick",this)},getValueForSelector:function(e){return e.getValue()&&e.getValue().slice(0,10)},create:function(e,t){this.domItem=document.createElement("div"),this.domItem.className="s-calendar";var n=this.getValueForSelector(e)||"";return this._selectedDate=n?o.parse(n):o.today(),this._selectedDate=this._selectedDate._value==0?o.today():this._selectedDate,this._currentDate=t._currentDate||o.fromInternalValue(this._selectedDate._value),this.field=e,this.handler=t,this._table=document.createElement("table"),this._table.setAttribute("cellspacing",0),this._table.className="s-calendar-content",this._table.appendChild(this._appendHead()),this._table.appendChild(this.body=document.createElement("tbody")),this._table.appendChild(this._appendFoot()),this.domItem.appendChild(this._table),this._drawBody(),this.domItem},_appendHead:function(){var e=document.createElement("thead"),t=document.createElement("tr"),n=document.createElement("th");n.setAttribute("colspan",8),n.className="s-calendar-month-year";var r=document.createElement("div");r.className="s-calendar-month-year-slot",n.appendChild(r);var i=document.createElement("a");i.setAttribute("data-s-syraOnClick","onChangePeriode"),i.setAttribute("data-s-syraIsPrev",!0),i.setAttribute("data-s-syraPeriod","year"),i.className="s-calendar-prev s-calendar-prev-year glyphicon glyphicon-fast-backward",r.appendChild(i),i=document.createElement("a"),i.setAttribute("data-s-syraOnClick","onChangePeriode"),i.setAttribute("data-s-syraIsPrev",!0),i.setAttribute("data-s-syraPeriod","month"),i.className="s-calendar-prev s-calendar-prev-month glyphicon glyphicon-step-backward",r.appendChild(i),this._monthLink=document.createElement("a"),this._monthLink.className="s-month s-calendar-month-year-link",r.appendChild(this._monthLink).setAttribute("data-s-syraOnClick","onMonthClick"),this._yearLink=document.createElement("a"),this._yearLink.className="s-year s-calendar-month-year-link",r.appendChild(this._yearLink).setAttribute("data-s-syraOnClick","onYearClick"),i=document.createElement("a"),i.setAttribute("data-s-syraOnClick","onChangePeriode"),i.setAttribute("data-s-syraPeriod","month"),i.className="s-calendar-next s-calendar-next-month glyphicon glyphicon-step-forward",r.appendChild(i),i=document.createElement("a"),i.setAttribute("data-s-syraOnClick","onChangePeriode"),i.setAttribute("data-s-syraPeriod","year"),i.className="s-calendar-next s-calendar-next-year glyphicon glyphicon-fast-forward",r.appendChild(i),t.appendChild(n),e.appendChild(t),t=document.createElement("tr");var n=document.createElement("th");n.className="s-calendar-week-day",t.appendChild(n);var s=[1,2,3,4,5,6,0];for(var u=0,a=s.length;u<a;u++){var n=document.createElement("th");n.className="s-calendar-week-day",n.title=o.dayName(s[u]),n.textContent=o.dayName(s[u],!0),t.appendChild(n)}return e.appendChild(t),e},_appendFoot:function(){var e=document.createElement("tr"),t=document.createElement("td");t.setAttribute("colspan",3),t.className="s-calendar-foot-week";var n=document.createElement("a");n.setAttribute("data-s-syraOnClick","onChangePeriode"),n.setAttribute("data-s-syraPeriod","week"),n.className="s-calendar-prev s-calendar-prev-week glyphicon glyphicon-chevron-left",n.setAttribute("data-s-syraIsPrev",!0),t.appendChild(n);var r=document.createElement("label");r.className="s-calendar-foot-week-title",r.textContent=s.text("date.label.week"),t.appendChild(r),this._weekNumber=document.createElement("label"),this._weekNumber.className="s-calendar-foot-week-title-num",t.appendChild(this._weekNumber),n=document.createElement("a"),n.setAttribute("data-s-syraOnClick","onChangePeriode"),n.setAttribute("data-s-syraPeriod","week"),n.className="s-calendar-next s-calendar-next-week glyphicon glyphicon-chevron-right",t.appendChild(n),e.appendChild(t),t=document.createElement("td"),t.setAttribute("colspan",3),t.className="s-calendar-foot-today",n=document.createElement("a"),n.className="s-calendar-today-link",n.setAttribute("data-s-syraOnClick","onTodayClick"),n.textContent=s.text("date.label.today"),t.appendChild(n),e.appendChild(t),t=document.createElement("td"),t.setAttribute("colspan",2),e.appendChild(t);var i=document.createElement("tfoot");return i.appendChild(e),i},_drawBody:function(){var e=this._currentDate.month||9,t=o.monthName(e);this._monthLink.textContent=t,this._yearLink.textContent=this._currentDate.year||2014,i.empty(this.body);var n=o.fromInternalValue(this._currentDate._value),r=n=n.begOfMonth();n=n.begOfWeek(1);for(var s=0;s<6;s++){var u=document.createElement("tr"),a=s==0?r:n,f=document.createElement("td");f.className="s-calendar-week-num",u.appendChild(f),f.textContent=a.week;for(var l=0;l<7;l++){var f=document.createElement("td");f.className="s-calendar-day-link",f.setAttribute("data-s-syraOnClick","onDayClick"),f.setAttribute("data-s-syraValue",n._value);var c=document.createElement("a");c.textContent=n.day,e!=n.month&&(f.className+=" s-calendar-other-month"),this._currentDate.equals(n)&&(f.className+=" s-calendar-select",c.className="s-calendar-select"),f.appendChild(c),u.appendChild(f),n=n.addDays(1)}this.body.appendChild(u)}this._weekNumber.textContent=this._currentDate.week},bindEvents:function(e){var t=this,n=t.handler.getParentSlot();e?$(n).delegate("td, a","click",function(e){t.onClick(e),e.preventDefault(),e.stopPropagation()}):($(n).undelegate(),t._month&&t._month.bindEvents(!1),t._year&&t._year.bindEvents(!1))},destroy:function(){this.bindEvents(!1),this._currentDate=this.field=this._currentDate=this.quickList=this._month=this._year=this._selectedDate=this._monthLink=this._yearLink=this._weekNumber=this._quick=this.body=this.domItem=null}});t.Klass=f}),define("syracuse-tablet/html/js/ui/datetimeSelectors/timeSelector",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/types/time","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/types/time"),s=e("syracuse-tablet/html/js/helpers/locale"),o=r.defineClass(function(){},null,{onClick:function(e){var t=this,n;while(e.target){if(e.target.getAttribute("data-s-syraOnClick")){n=this[e.target.getAttribute("data-s-syraOnClick")](e.target,e),n&&this.handler.closeContainer();return}e.target=e.target.parentNode}},setContainer:function(e){this.$$modalElmt=e},create:function(e,t,n){this.domItem=document.createElement("div"),this.domItem.className="s-time-choice";var r=r||{};this.columns=r.columns||2,this.interval=r.interval||60,this.field=e,this.handler=t,this.cb=n,this.curTime=i.now();var o=1440/this.interval,u=o/this.columns,a=document.createElement("table");a.className="s-time-choice-table",a.setAttribute("cellspacing","0"),a.setAttribute("cellpadding","0");var f,l,c=0,h=i.parse("00:00:00");for(var p=0;p<u;p++){f=document.createElement("tr");for(var d=0;d<this.columns;d++){l=document.createElement("td"),l.className="s-time-choice-td";if(c<o){var v=document.createElement("a");v.className="s-time-choice-a",v.setAttribute("data-s-syraOnClick","onTimeClick"),h.hour==this.curTime.hour&&(v.className+=" s-time-select"),v.textContent=h.toString(s.getTimeFormat()),l.appendChild(v)}f.appendChild(l),h=h.addMinutes(this.interval),c++}a.appendChild(f)}return this.domItem.appendChild(a),this.domItem},onTimeClick:function(e){var t=this,n=i.parse(e.textContent,s.getTimeFormat()).toString();if(!this.cb)return t.field.setFieldValue(n),!0;t.cb(n,t.handler)},bindEvents:function(e){var t=this,n=t.handler.getParentSlot();e?$(n).delegate("a","click",function(e){t.onClick(e),e.preventDefault(),e.stopPropagation()}):$(n).undelegate()},destroy:function(){this.bindEvents(!1),this.domItem=this.field=this.selectedLink=null}});t.Klass=o}),define("syracuse-tablet/html/js/ui/datetimeSelectors/selectorSwitchHandler",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/ui/datetimeSelectors/monthChoice","syracuse-tablet/html/js/ui/datetimeSelectors/yearChoice","syracuse-tablet/html/js/ui/datetimeSelectors/dateSelector","syracuse-tablet/html/js/ui/datetimeSelectors/timeSelector"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/ui/uiUtils"),s=e("syracuse-tablet/html/js/ui/datetimeSelectors/monthChoice").MonthChoice,o=e("syracuse-tablet/html/js/ui/datetimeSelectors/yearChoice").YearChoice,u=e("syracuse-tablet/html/js/ui/datetimeSelectors/dateSelector").Klass,a=e("syracuse-tablet/html/js/ui/datetimeSelectors/timeSelector").Klass,f=r.defineClass(function(e){this.field=e},null,{onEvent:function(e,t){this[e](t)},setContainer:function(e){this.$$container=e},setParentSlot:function(e){this.parentSlot=e},getParentSlot:function(){return this.parentSlot},onMonthClick:function(e){var t=this,n=e._currentDate;i.empty(t.parentSlot),e.destroy();var r=new s;r.create(this.parentSlot,n,t)},onYearClick:function(e){var t=this,n=e._currentDate;i.empty(t.parentSlot),e.destroy();var r=new o;r.create(t.parentSlot,n,t)},onOpenTime:function(e){var t=this;t.dateValue=e.dateValue,i.empty(t.parentSlot),e.destroy();var n=new a,r=n.create(t.field,t,t.onSelectTime);t.parentSlot.appendChild(r),n.bindEvents(!0)},onCalendarUpdate:function(e){var t=this;t._currentDate=e._currentDate,i.empty(t.parentSlot),e.destroy();var n=new u,r=n.create(t.field,t);t.parentSlot.appendChild(r),n.bindEvents(!0)},onSelectTime:function(e,t){var n=t;n.field.setFieldValue(n.dateValue+" "+e),n.closeContainer()},closeContainer:function(){this.$$container.modal("hide")}});t.Klass=f}),define("syracuse-tablet/html/js/ui/datetimeSelectors/datetimeSelector",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/types/date","syracuse-tablet/html/js/ui/datetimeSelectors/dateSelector"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/types/date"),s=e("syracuse-tablet/html/js/ui/datetimeSelectors/dateSelector").Klass,o=r.defineClass(function(){},s,{onTodayClick:function(){this._currentDate=i.today(),this.dateValue=i.fromInternalValue(this._currentDate._value).toString(),this.handler.onEvent("onOpenTime",this)},onDayClick:function(e){this.dateValue=i.fromInternalValue(e.getAttribute("data-s-syraValue")).toString(),this.handler.onEvent("onOpenTime",this)}});t.Klass=o}),define("syracuse-tablet/html/js/ui/datetimeSelectors/selectorFactory",["require","exports","module","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/ui/modals/modal","syracuse-tablet/html/js/ui/datetimeSelectors/selectorSwitchHandler","syracuse-tablet/html/js/ui/datetimeSelectors/dateSelector","syracuse-tablet/html/js/ui/datetimeSelectors/datetimeSelector","syracuse-tablet/html/js/ui/datetimeSelectors/timeSelector"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/globals"),i=e("syracuse-tablet/html/js/ui/modals/modal"),s=e("syracuse-tablet/html/js/ui/datetimeSelectors/selectorSwitchHandler").Klass,o={date:{windows:null,android:null,ios:null,"default":e("syracuse-tablet/html/js/ui/datetimeSelectors/dateSelector").Klass},datetime:{windows:null,android:null,ios:null,"default":e("syracuse-tablet/html/js/ui/datetimeSelectors/datetimeSelector").Klass},time:{windows:null,android:null,ios:null,"default":e("syracuse-tablet/html/js/ui/datetimeSelectors/timeSelector").Klass}},u=function(e){var t;switch(e){case"application/x-date":t="date";break;case"application/x-datetime":t="datetime";break;case"application/x-time":t="time";break;default:throw new Error("Expected date/time/datetime type. Got "+e)}var n=r.getLookAndFeel(),i=o[t];i&&(i=i[n]||i["default"]);if(!i)throw new Error("Expected date/time/datetime type. Got "+e);return new i},a=function(e){var t=new s(e),n=u(e.$type),r=n.create(e,t),o=i.field(e.getTitle(),r.outerHTML,function(e,r){e=="shown.bs.modal"?(t.setContainer(r),t.setParentSlot(r.find(".modal-body")[0]),n.bindEvents(!0)):n.destroy()})};t.createSelector=a}),define("syracuse-tablet/html/js/controls/field/ctrlDate",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/field/ctrlFieldBase","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/ui/datetimeSelectors/selectorFactory","syracuse-tablet/html/js/ui/fontUtils"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/field/ctrlFieldBase").Klass,s=e("syracuse-tablet/html/js/ui/uiUtils"),o=e("syracuse-tablet/html/js/ui/datetimeSelectors/selectorFactory"),u=e("syracuse-tablet/html/js/ui/fontUtils"),a=r.defineClass(function(t,n,r,s){var o=this;i.call(o,t,n,r,s)},i,{initReuseProperties:function(){i.prototype.initReuseProperties.call(this),this.picker=null},buildFieldValue:function(e,t){var n=this,r=i.prototype.buildFieldValue.call(n,e,t),a=n.getFormattedValue(n.getValue());if(n.$isEditMode){var f=s.createDomElement("div",["input-group"],null,null,r);n.createMainInput(f,a);var l=s.createDomElement("span",["input-group-btn"],null,null,f);n.picker=s.createDomElement("button",["btn","btn-default","s-m-meta"],null,null,l),s.createDomElement("span",u.dateFieldIcon(n.$type),null,null,n.picker),$(n.picker).click(function(){o.createSelector(n)})}else n.appendTextValue(r,a)},setFieldValue:function(e){this.$type.indexOf("datetime")>-1&&e.length<=10&&(e+="T00:00:00.0Z"),i.prototype.setFieldValue.call(this,e)},getFieldFormat:function(){return this.formatter.format}});t.Klass=a}),define("syracuse-tablet/html/js/controls/array/builderBase",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/ui/fontUtils","syracuse-tablet/html/js/helpers/hammerScroller"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/globals"),s=e("syracuse-tablet/html/js/ui/uiUtils"),o=e("syracuse-tablet/html/js/ui/fontUtils"),u=e("syracuse-tablet/html/js/helpers/hammerScroller").Klass,a=i.PANELFILTERSORT,f={pagin:'			<nav class="s-m-pagin"> 				<ul class="pagination"> 					{{#each links}}						<li>							<a class="s-m-link {{css}}"								href = "#"								{{#if url}}									data-nav-refresh="true"									data-nav-type="{{type}}"									data-sdata-url="{{url}}"									data-control-id="{{id}}"									data-nav-target="{{target}}"								{{/if}}								draggable="false">							</a>						</li>					{{/each}}				</ul> 			</nav> 		',filterSort:'		<div class="s-m-filterSort" data-action="actionArray" data-params="{{panelId}}">			<i class="s-m-sorted" style="display:none"></i>			<i class="s-m-filtered '+o.filterIcon("filtered")+'" style="display:none"></i>			<i class="'+o.filterIcon("panel")+'"></i>		</div>',$filtersList:'		<nav class="s-m-filterslist">			<select	class="form-control" data-action="actionArray">				{{#each filters}}					<option value="filterSelected,{{id}}" {{#if $isDefault}}selected=""{{/if}}>{{$title}}</option>				{{/each}}			</select>		</nav>',$filterstabs:'		<nav class="s-m-filtertabs">			<ul class="nav nav-pills nav-justified">				{{#each filters}}					<li role="presentation" role="tab" data-toggle="tab" data-action="actionArray" data-params="filterSelected,{{id}}" class="{{#if $isDefault}}active{{/if}}"><a href="#">{{$title}}</a></li>				{{/each}}			</ul>		</nav>'},l=function(e,t){var n=e+"compiled",r=f[n];return r||(r=f[n]=Handlebars.compile(f[e])),r||alert("template "+e+" not found"),r(t)},c=["application/x-password"],h=["$first","$previous","$more","$next","$last"],p=r.defineClass(function(e,t,n){var r=this;this.$display=t,r.options=n||{};if(e==null)throw new Error("Null control");r.control=e,r.$article=e.article.$article,r.$articleArray=e.article,r.$itemProto=e.prototype.getPrototype("$item"),r.displayRowIdx=r.$article.$rowIdx===!0,r._gestureMgr=null},null,{initReuseProperties:function(){},destroy:function(){this.control=null,this.$itemProto&&(this.$itemProto.destroy(),this.$itemProto=null),this._gestureMgr&&(this._gestureMgr.destroy(),this._gestureMgr=null)},refresh:function(e,t){t=t||{},t.refresh=!0,this.buildHtml(e,t),this._gestureMgr&&(this._gestureMgr.reset(),this._initGestureMgr())},buildHtml:function(e,t,n){this.$article||this.insertError("<b>No $article found for array "+this.control.$bind+"<b>"),this._refreshHeader(t)},onResize:function(e){this._refreshHeader(),this._initGestureMgr(e&&e.preserveScroll)},_initGestureMgr:function(e){this._gestureMgr&&this.control.getArrayData().$resources.length>0?this._gestureMgr.checkViewRect(this.control.getScrollViewRect(),e):this._gestureMgr&&this._gestureMgr.reset();if(this._restoreSelectedRowId){var t=this.selectLastSelectedRow(this._restoreSelectedRowId,!0);t&&this._gestureMgr&&this._gestureMgr.makeVisible(t),this._restoreSelectedRowId=null}},insertError:function(e){var t=['<div class="s-m-error">'];t.push(e),t.push("</div>"),$(t.join("")).appendTo(this.control.$$elmt)},_refreshHeader:function(e){var t=null,n=this.control.getHeaderOptions?this.control.getHeaderOptions():null;n&&n.$filters&&n.$filters.length>1&&(t=this.control.controller.$filtersGetAuthoring?this.control.controller.$filtersGetAuthoring():null,this.$filtersAuthoring&&t==this.$filtersAuthoring&&(t=null));var r=this.control.getAuthoring("$headerOptions",this.control.controller.isVignette?"none":"all");this.headerAuthoring&&r==this.headerAuthoring&&(r=null),r&&(r!="none"||t==="list")&&this.buildArrayHeader(this.control.getArrayData(),e,r,t),t&&t!="none"&&t!=="list"&&this.build$Filters(this._$$stdHeader,n.$filters,t)},buildArrayHeader:function(e,t,n,r){this.headerAuthoring=n;var i=t&&t.refresh,s=this.control.getHeaderOptions?this.control.getHeaderOptions():{};this.control.$$header.children(".s-m-stdheader").remove();if(!n)return;this._$$stdHeader=$('<nav class="s-m-stdheader"/>').prependTo(this.control.$$header),s.paginEnabled===!0&&(n==="all"||n==="paginOnly")&&this.buildPagin(this._$$stdHeader,e),(s.filterEnabled===!0||s.sortEnabled===!0)&&(n==="all"||n==="sortFilterOnly")&&this.buildSortFilter(this._$$stdHeader),r==="list"&&this.build$Filters(this._$$stdHeader,s.$filters,r)},build$Filters:function(e,t,n){this.$filtersAuthoring=n,this.control.$$header.find(".s-m-filtertabs").remove(),this.control.$$header.find(".s-m-filterslist").remove();if(!n)return;var r=this.control.controller;if(n=="none")return;if(n=="list"){$(l("$filtersList",{filters:t})).appendTo(e);return}if(n=="tabs"){$(l("$filterstabs",{filters:t})).appendTo(this.control.$$header);return}},buildPagin:function(e,t){var n=this,r=function(e,t,n){$(s.createDomElement("a",["s-m-link",o.paginationIcon(t),t.substr(1)],null,n)).appendTo(e)};if(t.$links){var u={links:[]},a;h.forEach(function(e){if(e==="$more"&&i.getCache().isDisabled())return;a={css:o.paginationIcon(e)},t.$links[e]?(a.type=e,a.url=t.$links[e].$url,a.id=n.control.id,a.target=n.control.controller.isVignette?"vignette":"application"):a.css+=" disabled",u.links.push(a)}),e.prepend($(l("pagin",u)))}},buildSortFilter:function(e){this._$$sortFilter=$(l("filterSort",{ctrlId:this.control.id,panelId:a})),e.append(this._$$sortFilter)},sortInfoUpdate:function(e){if(!this._$$stdHeader)return;var t=this._$$stdHeader.find(".s-m-sorted");t.toggle(e!=null);if(e==null)return;t.removeClass().addClass("s-m-sorted "+o.sortIcon(e))},buildRecordMainElmt:function(e,t,n){if(t==null)throw new Error("Null options");var r=this,o=t.attrs||{};e&&(o["data-params"]=encodeURIComponent(e.getValue("$uuid")||"")),t.css=t.css||[],t.css.unshift(i.RECORDCLASS);var u=r.control.prototype.isLookup();if(!u){var a=r.$itemProto.data("$links");if(a){var f=r.control.getAuthoring("$detailsLink");u=f&&a[f]!=null||a.$details!=null}}return u&&(t.tag==="a"&&(o.href="#"),o["data-action"]=i.ACTROWSEL),u||t.createIfNoLink?s.createDomElement(t.tag,t.css,t.title,o,t.parent):null},isExcluded:function(e){return e==null||e.$isExcluded===!0||c.indexOf(e.$type)>=0},getId:function(){var e=this;return arguments.length>0?e.control.id+" - "+Array.prototype.join.call(arguments,"-"):e.control.id},_getRowById:function(e){return this.control.$$elmt.find("tbody ."+i.RECORDCLASS+'[data-params="'+e+'"]')},removeRowById:function(e){return this._getRowById(e).remove()},selectLastSelectedRow:function(e,t){return this._getRowById(e)[t?"addClass":"removeClass"]("s-m-last-selected")},getSelectedRowId:function(){return this.control.$$elmt.find("."+i.RECORDCLASS+".s-m-last-selected").attr("data-params")},callGenerateHtml:function(e,t,n,r,s,o){var u=s&&s.htmlRootCtrl?s.htmlRootCtrl:this.control,a=e.generateHtml(t,n,r,u),f=e.getMetaData();if(this.control.prototype.isSingleArray()&&o!=null){var l;e.$type==="application/x-reference"?l=n.getValue(i.SINGLEARRAYPROP):n.parent&&n.parent.data.$properties&&(l=n.parent.data.$properties,l&&l[n.$bind]&&(l=l[n.$bind].$items[o])),l&&(f||(f={}),["$isHidden","$isReadOnly","$isDisabled"].forEach(function(e){l[e]!=null&&(f[e]=l[e])})),(f.$isHidden===!0||f.$isReadOnly)&&a.closest(".s-m-record").addClass(f.$isHidden?"hidden":"readonly")}f&&e.applyMetaData(f),e.$$elmt=null,r===!0&&e.destroy()},addEmptyCells:function(e,t,n,r,i){var s=this;if(n<1)return;var o=s.$articleArray.$emptycell;if(o==="withtitle"||o==="filled"){var u=$('<td class="s-m-empty s-m-'+o+' nohover">');i&&(a=i.appendTo(u));var a;for(var f=0;f<n;f++)a=u.clone().appendTo(t),i&&(a=a.children().first()),this.callGenerateHtml(e,a,null,!1,r)}return t.children("td.s-m-empty")},savedCtxCreate:function(){return{$display:this.$display,gestureMgr:this._gestureMgr?this._gestureMgr.savedCtxCreate():null}},savedCtxRestore:function(e){this._gestureMgr&&e.gestureMgr&&this.$display===e.$display&&this._gestureMgr.savedCtxRestore(e.gestureMgr,!0),e.selectedRowId&&(this._restoreSelectedRowId=e.selectedRowId)},newScroller:function(e,t,n){return this._gestureMgr&&this._gestureMgr.destroy(),this._gestureMgr=new u(t,{direction:e,valMax:n==null?0:n,name:this.control.$bind,isPageScroller:!1},i.getMainPageGestureMgr()),this._gestureMgr},isEmptySingleArray:function(){return!this.control||!this.control.getArrayData()?!1:this.control.getArrayData().length>0?!1:this.control.prototype.isSingleArray()&&this.control.$$value.find(".s-m-record.hidden").length===this.control.getArrayData().$resources.length}});t.Klass=p}),define("syracuse-tablet/html/js/controls/array/builderTable",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/controls/array/builderBase","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/helpers/prototype","syracuse-tablet/html/js/application/daoSdata","syracuse-tablet/html/js/ui/fontUtils","syracuse-tablet/html/js/controls/ctrlFactory"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/globals"),s=e("syracuse-tablet/html/js/controls/array/builderBase"),o=s.Klass,u=e("syracuse-tablet/html/js/ui/uiUtils"),a=e("syracuse-tablet/html/js/helpers/prototype"),f=e("syracuse-tablet/html/js/application/daoSdata"),l=e("syracuse-tablet/html/js/ui/fontUtils"),c=e("syracuse-tablet/html/js/controls/ctrlFactory"),h={},p=function(e){var t=i.getSiteLayout().getDeviceType(),n=h[t];if(n)return n;var r=$("<tbody></body>").appendTo(e),s=$('<tr class="s-m-record"><td><div class="s-m-control s-m-field"><div class="s-m-value "><span id="text">MMMMMMMMMM</span></div></div></td><td class="s-m-icon"><div class="s-m-control s-m-icon"><a href="#" class="a"><span class="fa fa-hand-o-right"></span></a></div></td></tr>');s.appendTo(r);var o=s.find("td").outerWidth(),u=s.find(".s-m-value").outerWidth(),a=s.find("#toto").width();return n={cellPadding:o-u,charWidth:Math.ceil(s.find("#text").width()/10),iconWidth:s.find("td.s-m-icon").outerWidth()},r.remove(),h[t]=n,n},d=function(e,t,n,r){var i={$bind:n.$bind};return c.createCellFieldCtrl(t,e.controller,n.article||n,r)},v=["application/json","application/x-array","application/x-document","application/x-binary"],m="$ADDROW",g={$activity:"create",$type:"tablet/x-button",$icon:"addrow",$bind:m,$text:"Add row",$action:"rowCreate"},y=[{$type:"tablet/x-icon",css:["s-m-icon"],$activity:"edit",$icon:"editrow",$bind:"$EDITROW",$action:i.ACTROWDETAIL},{$type:"tablet/x-icon",css:["s-m-icon"],$activity:"edit",$icon:"delrow",$bind:"$DELETEROW",$action:i.ACTROWDEL},{$type:"tablet/x-icon",css:["s-m-icon"],$activity:"read",$icon:"detailrow",$bind:"$DETAILROW",$action:i.ACTROWDETAIL}],b={sortedHeader:'<div><span>{{title}}</span><i class="{{css}}"></i></div>'},w=function(e,t){var n=e+"compiled",r=b[n];return r||(r=b[n]=Handlebars.compile(b[e])),r(t)},E=r.defineClass(function(e,t,n){o.call(this,e,t,n),this._columnInfo=null},o,{destroy:function(){o.prototype.destroy.call(this),this._columnInfo&&(this._columnInfo.forEach(function(e){e.control&&e.control.destroy()}),this._columnInfo=null)},buildHtml:function(e,t){t=t||{},o.prototype.buildHtml.call(this,e,t);if(!this.$article)return;this._createColumnInfo(t).length>0?t&&t.refresh===!0&&this._build(t):this.control.$$value.addClass("empty")},onResize:function(e){this._columnInfo&&this._columnInfo.length>0?this._build(null,e):o.prototype.onResize.call(this,e)},_build:function(e,t){e=e||{};var n=this;setTimeout(function(){var r=e.refresh===!0||t;n.control.$$value.empty();var i=n.control.getArrayData();if(!i)return;var s=$('<table class="table table-condensed"/>').appendTo(n.control.$$value);n._calulateWidths(s,i);var a=n._buildTableHead(s,e);if(i.$resources.length>0||n.control.controller.isEditMode){var f=!n.control.isArrayField();if(f){s=$('<table class="table table-condensed"/>').appendTo(n.control.$$value);var l={fontSize:"0px",height:"0px",maxHeight:"0px",lineHeight:"0px",minHeight:"0px"};a.css({fontSize:"0px",visibility:"hidden"}).appendTo(s)}var c=$(u.createDomElement("tbody",null,null,null,s)),h=p(c);for(var d=0;d<i.$resources.length;d++)n._buildTableRow(c,i.$resources[d],d,e);n._buildTableFoot(s,i,e);if(f)var v=n.newScroller("v",s.wrap('<div class="s-m-scroll-wrapper"/>'),-1*a.height())}o.prototype.onResize.call(n,t)})},_calulateWidths:function(e,t){var n=this,r=p(e),i=n.control.$$value.width()-n._nbAdditionalCols*r.iconWidth,s=0,o;n._columnInfo.forEach(function(e){var t=e.article;e.fixedWidth=0,t&&t.$widthType==="fixed"&&t.$widthVal>0&&(o=r.charWidth*t.$widthVal+r.cellPadding,o>0&&s+o<i&&(e.fixedWidth=o,s+=o))});var u=i-s,a=0;n._columnInfo.forEach(function(e){var t=e.article;t&&t.$widthType==="percent"&&t.$widthVal>0&&(o=t.$widthVal*u/100+r.cellPadding,o>0&&a+o<u&&(e.fixedWidth=o,a+=o)),t&&!1&&console.log(e.$bind,"$widthType",t.$widthType,"$widthVal",t.$widthVal,"fixedWidth",e.fixedWidth)})},_createColumnInfo:function(e){var t=this;if(t._columnInfo)return t._columnInfo;t._nbAdditionalCols=0,t._columnInfo=[],t.displayRowIdx&&t._columnInfo.push({$bind:i.ROWIDXPROP,proto:a.getRowIdxProto(),css:"s-m-rowidx"});var n,r=0,s=[],o,u=t.$articleArray.$table;u||(u=t.control.prototype.arrayTableGetColInfo()),u.forEach(function(e,i){e.$widthType=e.$widthType?e.$widthType:"auto",e.$widthVal=parseInt(e.$widthType==="auto"?0:e.$widthVal,10),isNaN(e.$widthVal)&&(e.$widthVal=0),n=t.$itemProto.property(e.$bind),n?(r++,t.isExcluded(e,n)||(o={$bind:e.$bind,proto:t.$itemProto.create(n),article:e},o.css=[t.$itemProto.getFieldNameForValue(e.$bind)],o.article.$isTitleHidden===!0?o.title="":o.article.$title!=null&&o.article.$title!=e.$bind?o.title=t.$itemProto.resolveExpression(o.article.$title)||"":o.title=o.proto.data("$title")||"",t._columnInfo.push(o))):s.push(e)});var f=t.control.controller.isEditMode(),l=t._columnInfo.length!=r,c;y.forEach(function(e){if(f&&e.$activity==="edit"||!f&&l&&e.$activity==="read")c=$.extend(!0,{},e),c.$widthType="auto",t._columnInfo.push(c),t._nbAdditionalCols++});if(s.length>0&&i.getDvlpOpt("showUnfoundFields")){var h=["Field(s) not found<ul>"];s.forEach(function(e){h.push("<li><b>"+e.$bind+"</b></li>")}),h.push("</ul>"),t.insertError(h.join(""))}return t._columnInfo},isExcluded:function(e,t){var n=this;return o.prototype.isExcluded.call(n,t)?!0:v.indexOf(t.$type)>=0||e.$isAdvanced===!0},_buildTableHead:function(e,t){var n=this,r=$(u.createDomElement("thead",null,null,null)),i=u.createDomElement("tr",null,null,null,r),s,o;n._columnInfo.forEach(function(e){s=u.createDomElement("th",e.css,e.title,null,i),e.fixedWidth!=null&&e.fixedWidth>0&&$(s).width(e.fixedWidth)});var a;return this.control.getAuthoring("$tableHeaderShow")!==!1?(a=r.clone(),this.$$tabHead=r.appendTo(e)):a=r,a},_buildTableFoot:function(e,t,n){var r=this;if(r.control.controller.isEditMode()){var i=$('<tfoot><tr><td colspan="'+r._columnInfo.length+'"></td></tr></tfoot>').appendTo(e).find("td"),s=r._getOtherColProto(g,""),o=d(r.control,i,g,s);r.callGenerateHtml(o,i,f.emptyDao(s),!0,n)}},_buildTableRow:function(e,t,n,r){var i=this,s;i.displayRowIdx&&t.setRowIndex(n);var o=[],a=t.data.$uuid;a===i.control.controller.lastSelectedRowId&&o.push("s-m-selected");var f=t.data.$arrayUpdateError;f===!0&&o.push("error");var l=i.buildRecordMainElmt(t,{tag:"tr",parent:e,createIfNoLink:!0,css:o},n),c,h;return i._columnInfo.forEach(function(e,n){c=$(u.createDomElement("td",e.css||"",null,null,l)),h=e.$activity!=null?i._getOtherColProto(e,a,t,r):e.proto,e.control||(e.control=d(i.control,c,e,h)),i.callGenerateHtml(e.control,c,t,!1,r,n)}),l},_getOtherColProto:function(e,t,n,i){var s=this,o=i&&i.htmlRootCtrl?i.htmlRootCtrl:s.control,u=e.$action,f={pathBind:[],pathId:[],activity:e.$activity},l=e.$activity==="create";if(l)t=r.UUID(),f.pathId.unshift(t),f.pathBind.unshift(s.control.$bind);else{if(!n)throw new Error("unexpected null row data");var c=n;f.pathId.unshift(t),f.pathBind.unshift(c.$bind);while(c.$bind!==o.$bind)f.pathId.unshift(c.parent.getValue("$uuid")),f.pathBind.unshift(c.parent.$bind),c=c.parent}o.rowDetailAdd(t,f);var h={$action:{"data-action":u}};return l&&(h.$action["data-params"]=t),["$type","$icon","$text"].forEach(function(t){t!=null&&t!="$activity"&&(h[t]=e[t])}),a.create(h)},sortInfoUpdate:function(e,t){o.prototype.sortInfoUpdate.call(this,e);if(e&&t&&this.$$tabHead){var n=this.$$tabHead.find(".s-m-sorted");if(n.length>1){var r=n.find("div > span")[0].text();n.removeClass()}n=this.$$tabHead.find("."+t);if(n.length>0){var i=n.text();n.html(w("sortedHeader",{title:i,css:l.sortIcon(e)})),n.addClass("s-m-sorted "+e)}}}});t.Klass=E}),define("syracuse-tablet/html/js/controls/array/builderCard",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/ui/rect","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/controls/array/builderBase","syracuse-tablet/html/js/helpers/articleParser","syracuse-tablet/html/js/ui/rect","syracuse-tablet/html/js/authoring/authoringArticleGen","syracuse-tablet/html/js/helpers/hammerScroller"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/ui/rect"),s=e("syracuse-tablet/html/js/helpers/globals"),o=e("syracuse-tablet/html/js/controls/array/builderBase").Klass,u=e("syracuse-tablet/html/js/helpers/articleParser"),i=e("syracuse-tablet/html/js/ui/rect"),a=e("syracuse-tablet/html/js/authoring/authoringArticleGen"),f=e("syracuse-tablet/html/js/helpers/hammerScroller").Klass,l=r.defineClass(function(e,t,n){o.call(this,e,t,n),this._layoutRoot=null},o,{destroy:function(){o.prototype.destroy.call(this),this._layoutRoot&&(this._layoutRoot.destroy(),this._layoutRoot=null),this._oneCardGestureMgr&&(this._oneCardGestureMgr.destroy(),this._oneCardGestureMgr=null),this._$$body=null,this._$$cellTmpl=null,this._tds=null},buildHtml:function(e,t){var n=this;o.prototype.buildHtml.call(n,e,t);if(n._layoutRoot==null){if(!n.$article)return;var r=n.$articleArray.$card;r||(r=a.genNewArticle({page:{prototype:n.control.prototype}},!0));var i={displayCtx:"card"};n._layoutRoot=u.article2Controls(n.control.controller,r,n.control.prototype.getPrototype("$item"),i)}n._$$body=$("<tbody>").appendTo($("<table/>").appendTo(n.control.$$value));var s;n._$$cellTmpl=$('<section class="s-m-card s-m-std"/>');var f,n=n;n._tds=[],e.$resources.forEach(function(e,r){s=$(n.buildRecordMainElmt(e,{tag:"td",parent:null,createIfNoLink:!0},r)),f=n._$$cellTmpl.clone().appendTo(s),$('<span class="badge index">'+(r+1)+"</span>").appendTo(f),n.callGenerateHtml(n._layoutRoot,f,e,!1,t,r),n._tds.push({$$td:s,$$card:f})}),t&&t.refresh===!0&&n._build(t)},onResize:function(e){this._layoutRoot&&this._tds.length>0?this._build(null,e):o.prototype.onResize.call(this,e)},_build:function(e,t){e=e||{};var n=s.getScrollingDirection()||"v",r=e.refresh===!0||t;n=this.control.isArrayField()?"h":n==="h"?"v":"h";if(this._dirArray==null||this._dirArray!=n)this.newScroller(n,this._$$body.parent()),this._dirArray=n,r=!0;e.cardAuthoring={$emptycell:this.$articleArray.$emptycell||"nodisplay",$minWidth:this.authMinSize2Pixels(parseInt(this.$articleArray.$minWidth,10)||0),$cardsPerRow:parseInt(this.$articleArray.$cardsPerRow,10)||2};var i=this;setTimeout(function(){if(!i._$$body)return;i.control.$$value.height("100%");var s=i.control.$$value.height(),u=i.control.$$value.width(),a=i._$$body.parent().css("border-spacing");a&&(a=a.split("px"),a=a&&a.length>0?parseInt(a[0],10):0);var f,l=[];i._tds.forEach(function(e,t){e.$$td.detach(),e.$$td.css("display")!="none"?l.push(e):(f||(f=$("<tr>").hide()),e.$$td.appendTo(f))}),i._$$body.empty(),f&&f.appendTo(i._$$body);if(l.length===0)return;i["buildCard"+n.toUpperCase()](l,a,s,u,e);var c=Math.max(0,(s-i._$$body.parent().outerHeight())/2);i._$$body.parent().css({top:c+"px"}),r&&o.prototype.onResize.call(i,t)})},buildCardV:function(e,t,n,r,i){this._$$body.parent().width("100%");var s,o,u,a=i.cardAuthoring.$minWidth,f=0,l=this;e.some(function(e,n){if(n===0||u==1||u>1&&n%u===0)s=$("<tr>").appendTo(l._$$body),f=u;f--,e.$$td.appendTo(s);if(n===0){var c=e.$$card.outerWidth()-e.$$card.width();u=i.cardAuthoring.$cardsPerRow;while(u>1){o=Math.round((r-(u+1)*t)/u)-c;if(o>=a)break;u--}u>1&&(o=Math.min(Math.max(a,o)))}u>1?e.$$card.width(o):e.$$card.css({width:"100%"})}),f&&i.cardAuthoring.$emptyCell!=="nodisplay"&&this.addEmptyCells(this._layoutRoot,s,f,i,this._$$cellTmpl)},buildCardH:function(e,t,n,r,s){this.control.$$value.height("100%");var o,u,a,l,c,h=s.cardAuthoring.$cardsPerRow,p=s.cardAuthoring.$minWidth;n-=t;var d=0,v=this;e.some(function(i,s){if(s==0||l==1||l>1&&s%l===0)o=$("<tr>").appendTo(v._$$body),d=l;i.$$td.appendTo(o);if(s===0){u=i.$$td.height()+t,r-=(h+1)*t;var f=i.$$card.outerWidth()-i.$$card.width();a=Math.round(r/h)-f,v.control.isArrayField()||e.length*a<r?(c=1,l=e.length):(c=Math.max(1,Math.floor(n/u)),l=Math.ceil(e.length/c),e.length<=c*h&&(l=h)),d=l}i.$$card.width(Math.min(r,Math.max(p,a))),d--}),d&&s.cardAuthoring.$emptyCell!=="nodisplay"&&this.addEmptyCells(this._layoutRoot,o,d,s,this._$$cellTmpl),v.control.isArrayField()&&(this._oneCardGestureMgr&&this._oneCardGestureMgr.destroy(),this._oneCardGestureMgr=new f($(v._$$body.parent()),{direction:"h",valMax:0,name:this.control.$bind,isPageScroller:!1}),this._oneCardGestureMgr.init(i.elmtRect(this.control.$$value)))},authMinSize2Pixels:function(e){var t=700,n=100;return e==null?100:e>20?t:e<1?n:n+e*(t-n)/20}});t.Klass=l}),define("syracuse-tablet/html/js/controls/array/ctrlArray",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/jsutils","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/controls/ctrlBase","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/helpers/notifications","syracuse-tablet/html/js/ui/modals/modal","syracuse-tablet/html/js/application/eventListener","syracuse-tablet/html/js/sdata/sdataUtils","syracuse-tablet/html/js/application/daoSdata","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/controls/ctrlFactory","syracuse-tablet/html/js/controls/array/builderTable","syracuse-tablet/html/js/controls/array/builderCard"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/jsutils"),s=e("syracuse-tablet/html/js/helpers/globals"),o=e("syracuse-tablet/html/js/controls/ctrlBase").Klass,u=e("syracuse-tablet/html/js/ui/uiUtils"),a=e("syracuse-tablet/html/js/helpers/notifications"),f=e("syracuse-tablet/html/js/ui/modals/modal"),l=e("syracuse-tablet/html/js/application/eventListener"),c=e("syracuse-tablet/html/js/sdata/sdataUtils"),h=e("syracuse-tablet/html/js/application/daoSdata"),p=e("syracuse-tablet/html/js/helpers/locale"),d=e("syracuse-tablet/html/js/controls/ctrlFactory"),v=["application/x-array","image","application/x-document","application/x-binary","application/x-object","text/rtf","text/html","text/plain"],m=function(e){throw new Error("The following feature in not implemented -> "+e)},g={table:e("syracuse-tablet/html/js/controls/array/builderTable").Klass,card:e("syracuse-tablet/html/js/controls/array/builderCard").Klass},y=function(e){return!e||!e.$resources?null:(e.$resources.forEach(function(e){e&&e.destroy()}),null)},b=r.defineClass(function(e,t,n,r){o.call(this,e,t,n,r),t.$article=t.$article||{},this._newBuilder(r),this._arrayData=null,this._rowDetailCache={},this._rowDetailInfo=null},o,{_newBuilder:function(e){var t=this.article.$display||"table",n;this.builder&&(e=this.builder.options,this.builder.destroy()),this.$$value&&this.$$value.empty(),t.indexOf("card")===0?n=g.card:n=g.table,this.builder=new n(this,t,e)},getMode:function(){return this.builder&&this.builder.$display},initReuseProperties:function(){o.prototype.initReuseProperties.call(this),this._arrayData&&(this._arrayData=y(this._arrayData)),this.builder&&this.builder.initReuseProperties()},destroy:function(){this._multiSelExit(),this._rowDetailInfo=null,this._rowDetailCache=null,o.prototype.destroy.call(this),this.prototype=null,this.builder&&(this.builder.destroy(),this.builder=null),this._arrayData&&(this._arrayData=y(this._arrayData),this._arrayData=null),this._waiting&&(u.waitWheelDestroy(this._waiting),this._waiting=null),this._waiting&&(this._filterSortPanel.destroy(),this._filterSortPanel=null)},isArrayField:function(){return!this.prototype.isLookup()&&!this.prototype.isQuery()},buildHtml:function(e,t,n){if(this.builder==null)throw new Error("Null builder");this.article.$display&&this.article.$display.smStartsWith("card")&&(this.article.$display="card");var r=this.article.$display||"table";this.builder.$display!==r&&this._newBuilder();var i="s-m-"+r;o.prototype.buildHtml.call(this,e,t,n,["s-m-array",i]),this._setArrayData(t,!1);if(this._displayArray()){var u=!this.isArrayField();u&&(this._filterSortPanel=this.controller.panelCreate(s.PANELFILTERSORT,{parentArray:this,filter:!0,sort:!0})),this.builder.buildHtml(this._arrayData,n),this.prototype.isSingleArray()&&this.builder.isEmptySingleArray()?this.isEmpty=!0:u&&this._filterSortUpdateHeader()}else this.isEmpty&&$("<span>"+p.text("array.empty")+"</span>").appendTo(this.$$value);!this._displayArray()&&(this.$$ttl==null||this.$$ttl.empty())&&this.$$elmt.hide()},refresh:function(e,t){this._rowDetailInfo=null;if(this.builder==null)throw new Error("Null builder");var n=this.builder.getSelectedRowId();this.builder.refresh(this._setArrayData(e,!0),t),n&&this.builder.selectLastSelectedRow(n,!0),this._filterSortPanel&&this._filterSortUpdateHeader()},onResize:function(e){this.builder.onResize&&this.builder.onResize(e)},_notifSelectedRow:function(e,t){a.notifyController("sm.select.row",this.controller,this.id,e,t,!1)},_actRowSelect:function(e,t){if(this._multiSelSelect(t))return;var n=this.getRowById(e);if(!n)return;n=n.row;if(this.controller.isLookup()){var i=n.prototype.getLookupInfo(),s={};for(var o in i)s[o]=n.getValue(i[o]);this._notifSelectedRow(e,s)}else{var u=this.builder.$itemProto.data("$links"),a=this.getAuthoring("$detailsLink"),f;a==null&&(a=this.controller.isVignette?"$queryfullpage":"$details");if(a==="$queryfullpage"){if(!this.controller.isVignette)throw new Error("Vignette context expected");f={page:this.controller.state.name}}else{var h=u[a]?u[a]:u.$details;f=h?c.getLinkInfo(h.$url,n):null,this._notifSelectedRow(e,n)}if(f){var p={};p["data-nav"]=f.page,p["data-nav-target"]=this.controller.openLinkInVignette()?"vignette":"application",f.sDataUrl&&(p["data-sdata-url"]=f.sDataUrl);if(f.parameters){var d=r.parseExpression(f.parameters,n);p["data-sdata-parameters"]=d}l.triggerNavigation(this.$$elmt,p)}}},_openDetailRow:function(e){var t=this;try{var n=t._rowDetailCache[e];if(!n)throw new Error("rowDetailGetDao - Unexpected null row info");var r=n.activity==="create",i=n.pathBind;r&&i.length>1&&m("Creating row in an array embedded inside a card");var o=n.pathId,u=t.prototype.parent,f=["$properties"],c=t.getDao();for(var p=0;p<i.length;p++){f.push(i[p]),u=u.getPrototype(f.join("."));var d;if(t.$bind===i[p])d=t._arrayData;else{if(!c)throw new Error("Unexpected null dao");d=c.getArrayData(i[p],u)}var v=t.getRowById(o[p],d);if(!v){if(!r)throw new Error("Unexpected empty row");v={row:h.getArrayEmptyRow(this,u,i[p],c)}}c=v.row,f=["$item.$properties"]}if(!c||c===t.getDao())return;u=h.getProtoRowDetail(this,u),i=n.pathBind.join("."),t._rowDetailInfo={pathBind:i,dao:c.clone(),proto:u,activity:n.activity};var g={"data-control-id":t.id,"data-parent-id":t.controller.id,"data-nav":"rowdetail","data-params":c.getValue("$uuid")};t.controller.isVignette&&(g["data-nav-target"]="vignette"),r||a.notifyController("sm.select.row",t.controller,t.id,c.getValue("$uuid"),null,!0),l.triggerNavigation(t.$$elmt,g)}catch(y){s.getModal().error("Error loading row detail page",y)}},_actRowDetail:function(e){this._openDetailRow(e)},_actRowCreate:function(e){this._openDetailRow(e)},_actRowDelete:function(e){var t=this,n=t._rowDetailCache[e];if(!n)return;f.simpleConfirm(p.text("actions.del.confirm"),function(r){if(r){var i=n.pathBind,s=n.pathId;while(i.length!=0&&i[0]!=t.$bind)i.shift(),s.shift();if(i.length==0)throw new Error("Unexpected null pathBind");var o=i.pop();(i.length>1||o!==t.$bind)&&m("Deleting row in an array embedded inside a card"),t.removeRow(e)}})},removeRow:function(e){var t=this._arrayData;if(!t||!t.$resources||t.$resources.length==0)return;var n=-1;t.$resources.some(function(t,r){if(t.getValue("$uuid")===e)return n=r,!0});if(n<0||n>=t.$resources.length)return;t.$resources.splice(n,1),this.builder.removeRowById(e),this.getDao().deleteRow(this.$bind,this.prototype.isSingleArray()?n:e)},rowDetailAdd:function(e,t){this._rowDetailCache[e+""]=t},rowDetailGetInfo:function(e){return this._rowDetailInfo},childPageGetPageInfo:function(e,t){var n={home:!1,type:e,cached:!1,refreshed:!1,changeHash:!1};if(e==="rowdetail"){if(!this._rowDetailInfo)throw new Error("childPageGetPageInfo - Null details row data");n.prototype=this._rowDetailInfo.proto,n.subtype=t.isEditMode()?"edit":"details",n.article=null,n.name=t.state.name+"."+this._rowDetailInfo.pathBind}else e==="carddesign"&&(n.prototype=h.getProtoCardDesign(this),n.subtype="details",n.article=this.article.$card?this.article.$card:null,n.name=t.state.name+"."+this.$bind+"."+e);return n},selectLastSelectedRow:function(e,t){this.builder.selectLastSelectedRow(e,t)},readArrayData:function(e){var t=this;return t.prototype.isQuery()?e.getQueryData(t.prototype):t.prototype.isLookup()?e.getLookupData(t.prototype):e.getArrayData(t.$bind,t.prototype)},_setArrayData:function(e,t){this._multiSelExit(),this.isEmpty=!0,t?this.$$value.empty():this.$$elmt.empty(),y(this._arrayData),this._arrayData=e?this.readArrayData(e):{$resources:[]};if(this._arrayData==null)throw new Error("Null arrayData");this.isEmpty=this._arrayData.$resources.length===0,this.$$elmt.toggleClass("empty",this.isEmpty);if(!t){var n=this.getTitle();this._displayTitle(n)?(this.$$ttl||(this.$$ttl=$(u.createDomElement("div",["s-m-title"])).appendTo(this.$$elmt)),this.$$ttl.text(n)):this.$$ttl&&this.$$ttl.empty(),this.$$value=$(u.createDomElement("div",["s-m-value"],null,null,this.$$elmt)),this.$$value.before(this.$$header=$("<header/>"))}return this._arrayData},_displayTitle:function(e){return e==null||e.trim().length===0?!1:this.getAuthoring("$isTitleHidden")===!0?!1:this._displayArray()},_displayArray:function(){return this.controller.isEditMode()===!0||this.isEmpty!==!0||this.getAuthoring("$displayIfEmpty")===!0},getArrayData:function(){return this._arrayData},getNbRecords:function(){return this._arrayData?this._arrayData.$resources.length:0},waitStart:function(){this._waiting||(this._waiting=u.waitWheelCreate(this.$$elmt.parent()),this._waiting.$$bckg.css({position:"absolute"}),this._waiting.$$wheel.css({position:"absolute"})),u.waitWheelStart(this._waiting)},waitStop:function(){this._waiting&&u.waitWheelStop(this._waiting)},getRowById:function(e,t){var n=this;t=t||n._arrayData;if(!t||!t.$resources||t.$resources.length==0)return null;var r=0,i=null;return t.$resources.some(function(t){if(t.getValue("$uuid")===e)return i=t,!0;r++}),i?{row:i,idx:r}:null},_getRowByIdx:function(e,t){return t=t||this._arrayData,e=parseInt(e,10),!t||!t.$resources||t.$resources.length<=e?null:{row:t.$resources[e],idx:e}},savedCtxCreate:function(){return this.builder.savedCtxCreate()},savedCtxRestore:function(e){this.builder.savedCtxRestore(e)},getScrollViewRect:function(){if(this.controller.isVignette){var e=this.controller.getParentVignette();return e?e.getScrollViewRect():null}return this.controller.getMainContentRect()},rowId2Idx:function(e){if(!this._arrayData||!this._arrayData.$resources)return-1;var t=-1;return this._arrayData.$resources.some(function(n,r){if(n.getValue("$uuid")===e)return t=r,!0}),t},_actActionArray:function(e,t){if(e===s.PANELFILTERSORT){this.controller.panelAttach("right",this._filterSortPanel,"toggle");return}e==="filterSelected"&&(this.controller.$filtersSelect(t,this),this.controller.return)},_filterSortUpdateHeader:function(e){if(e==="sort"||e==null){var t=this.sortInfoGet(),n=null,r;t.some(function(e){if(e.sort!="none")return n=e.sort,r=e.id,!0}),this.builder.sortInfoUpdate(n,r)}if(e==="filter"||e==null){var t=this.filterInfoGet();if(t){var i=this.$$header.find(".s-m-filtered");i.toggle(t&&t.length>0)}}},sortInfoGet:function(){var e=this.controller.filterSortRead("sort",this);if(e==null){var t=this.prototype.create(this.prototype.getDataByPath("$item")),n=t.data("$properties");n&&(e=[],$.each(n,function(n,r){!r.$isExcluded&&v.indexOf(r.$type)===-1&&e.push({name:t.resolveExpression(r.$title),id:t.getFieldNameForValue(n),sort:"none"})})),this.sortInfoSet(e,!1)}return e},sortInfoSet:function(e,t){this.controller.filterSortWrite("sort",e,this,t)},filterInfoGet:function(){var e=this.controller.filterSortRead("filter",this);return e},filterInfoSet:function(e,t){this.controller.filterSortWrite("filter",e,this,t)},filterMapGet:function(){var e=this,t=[],n=e.prototype.create(e.prototype.getDataByPath("$item")),r=n.data("$properties");return r&&$.each(r,function(e,r){if(!r.$isExcluded&&v.indexOf(r.$type)===-1&&r.$capabilities&&r.$capabilities.indexOf("filter")>=0){var i=r.$type.indexOf("x-reference")>=0,s=!0;i&&r.$item.$properties&&Object.keys(r.$item.$properties).length>1&&(s=!1),s&&t.push({fieldName:n.resolveExpression(r.$title),operators:d.getOperators(r.$type),id:n.getFieldNameForValue(e),prop:r,isReference:r.$type.indexOf("x-reference")>=0})}}),t},getHeaderOptions:function(){var e=!this.isArrayField(),t={};return t.filterEnabled=t.sortEnabled=t.paginEnabled=e,t.$filters=e&&this.controller.$filtersGet?this.controller.$filtersGet():null,t},$filtersGetAuthoring:function(){var e=this.getAuthoring("$filters",this.controller.isVignette?"none":"list");return e!=="none"&&s.getSiteLayout().getDeviceType()==="smartphone"&&(e="tabs"),e},multiSelSetMgr:function(e){this._multiselHandler&&(this._multiselHandler=null),e&&(this._multiselHandler=i.bindFn(e.callbackArray,e))},_multiSelExit:function(){this._multiselHandler&&this._multiselHandler(this,"$exitmultisel",null)},_multiSelSelect:function(e){return this._multiselHandler?(this._multiselHandler(this,"$selectmultisel",e),!0):!1},_actMultiSelectionAction:function(e,t){if(!this._multiselHandler)return;this._multiselHandler(this,e,t)},authOnSlideMinSize:function(e,t){if(this.builder.$display!="card"||!this._arrayData||this._arrayData.length>0)return;var n=this.builder.authMinSize2Pixels(e),r=(this.$$value.width()-n)/2+"px";n+="px";if(t=="start"){var i=this.$$value.find(this.$$value.find('[data-params="'+this._arrayData.$resources[0].getValue("$uuid")+'"]')).height();this.$$value.css({opacity:"0.3"}),this._$$cardSize=$('<div class="s-m-auth-minsize"><span>Min size'+n+"</span></div>").appendTo(this.$$elmt),this._$$cardSize.css({height:i+"px",width:n,top:(this.$$value.height()-i)/2+"px",left:r});return}if(t=="stop"){this.$$value.css({opacity:"inherit"}),this._$$cardSize.remove(),this._$$cardSize=null;return}if(t=="slide")return this._$$cardSize&&(this._$$cardSize.css({width:n,left:r}),this._minCardText||(this._minCardText=p.text("array.minCardWidth")+" ",this._minCardSpan=this._$$cardSize.children("span")),this._minCardSpan.text(this._minCardText+n)),n},setCardAuthoring:function(e){this.article.$card=e,a.publish("sm.auth.change.item.prop.ui")}});t.Klass=b}),define("syracuse-tablet/html/js/controls/field/ctrlReference",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/sdata/sdataUtils","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/controls/field/ctrlFieldBase","syracuse-tablet/html/js/ui/fontUtils"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/sdata/sdataUtils"),s=e("syracuse-tablet/html/js/ui/uiUtils"),o=e("syracuse-tablet/html/js/controls/field/ctrlFieldBase").Klass,u=e("syracuse-tablet/html/js/ui/fontUtils"),a=r.defineClass(function(t,n,r,i){var s=this;o.call(s,t,n,r,i),s.isUnit=s.options.isUnit===!0,s.isUnit?(s.$isEditMode=!1,s.cssType="s-m-unit"):s.cssType="s-m-ref"},o,{initReuseProperties:function(){o.prototype.initReuseProperties.call(this),this.picker=null},getValue:function(e){var t=o.prototype.getValue.call(this);return t?t[e||"$value"]||"":""},buildFieldTitle:function(e,t){var n=this;return n.isUnit?null:o.prototype.buildFieldTitle.call(n,e,t)},buildFieldValue:function(e,t){var n=this,r=o.prototype.buildFieldValue.call(n,e),i=n.getValue();if(n.$isEditMode)n.buildEditValue(r,n.getValue());else{var s=(n.getValue("$description")||"").trim(),u=(n.getValue("$title")||"").trim();n.isUnit?n.buildUnitValue(r,i,s,u):n.buildDetailValue(r,i,s,u)}},buildEditValue:function(e,t){var n=this,r=s.createDomElement("div",["input-group"],null,null,e);n.createMainInput(r,n.getFormattedValue(t));var o=n.prototype.getDataByPath("$item.$links.$lookup");if(!o)throw new Error("ctrlReference - Expected $lookup link");var a=s.createDomElement("span",["input-group-btn"],null,null,r),f=n._getLinkAttrs(i.getLinkInfo(o.$url,n.getDao()),{"data-param":n.id,"data-parent-id":n.controller.id,"data-control-id":n.id,title:n.prototype.resolveExpression(o.$title)||"Lookup"});n.picker=s.createDomElement("a",["btn","btn-default","s-m-meta"],null,f,a),s.createDomElement("span",u.refFieldIcon(),null,null,n.picker)},buildDetailValue:function(e,t,n,r){var i=this,s=i.addLink(e);if(t.length>0){var o,u=i.getAuthoring("$refDescFormat");switch(u){case"title":o=r;break;case"desctitle":o=i._combineTexts(n,r);break;case"titledesc":o=i._combineTexts(r,n);break;default:o=n}var a=i.getAuthoring("$refDescPosition"),f=$("<div>").addClass("s-m-ref-val").text(t),l=$("<div>").addClass("s-m-descr").text(o),c;switch(a){case"bottom":$(s).append(f).append(l);break;case"left":$(s).append(l).append(f),c=[f,l],$.each(c,function(e,t){t.css("display","inline-block")}),l.css("padding-right","5px");break;case"top":$(s).append(l).append(f);break;case"none":$(s).append(f);break;case"right":default:c=[f,l],$(s).append(f).append(l),$.each(c,function(e,t){t.css("display","inline-block")}),l.css("padding-left","5px")}}},buildUnitValue:function(e,t,n,r){var i=this,o=n.length>0?n:r.length>0?r:t;o=t||"",o&&o.toLowerCase&&(o=o.toLowerCase().smCapitalize()),s.createDomElement("span",["s-m-descr"],o,null,i.addLink(e))},addLink:function(e){var t=this;if(t.options.displayCtx==="card")return e;var n=t.prototype.getDataByPath("$item.$links.$details");return n?s.createDomElement("a",null,null,t._getLinkAttrs(i.getLinkInfo(n.$url,t.getDao()),{title:t.prototype.resolveExpression(n.$title)||"Detail"}),e):e},getFormattedValue:function(e){return e},setDisplayValue:function(e){var t;$.isPlainObject(e)?t=e.$value||"":t=e||"",o.prototype.setDisplayValue.call(this,t)},_getLinkAttrs:function(e,t){var n=this,r={href:"#","data-nav":e.page,"data-sdata-url":e.sDataUrl};n.controller.isVignette&&(r["data-nav-target"]=n.controller.openLinkInVignette()?"vignette":"application");if(t)for(var i in t)r[i]=t[i];return r},_combineTexts:function(e,t){var n;return n=e&&t?e===t?e:e+"-"+t:e||t||"",n}});t.Klass=a}),define("syracuse-tablet/html/js/controls/layout/layoutBase",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/structElmt","syracuse-tablet/html/js/ui/uiUtils"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/structElmt").Klass,s=e("syracuse-tablet/html/js/ui/uiUtils"),o=r.defineClass(function(t,n,r,s){var o=this;i.call(o,t,n,r,s),o.title=r.$title},i,{initReuseProperties:function(){i.prototype.initReuseProperties.call(this),this.$$header=null},destroy:function(){var e=this;i.prototype.destroy.call(e)},createId:function(e){var t=this;return r.readableuid(e)},buildHtml:function(e,t,n){var r=this;i.prototype.buildHtml.call(r,e,t,n),r.createRootElement(["s-m-layout"],e),r.article.$title&&(n==null||n.noTitle)&&r.buildTitle()},onResize:function(e){if(!this.children)return;this.children.forEach(function(t){t.onResize&&t.onResize(e)})},buildTitle:function(e,t,n,r){this.$$header=$(s.createDomElement("header",null,this.article.$title,null,this.$$elmt))},getGestureMgr:function(){return null},isLayout:function(){return!0},isHubLayout:function(){return!1}});t.Klass=o}),define("syracuse-tablet/html/js/controls/layout/layoutRow",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/layout/layoutBase"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/layout/layoutBase").Klass,s=r.defineClass(function(t,n,r,s){var o=this;i.call(o,t,n,r,s)},i,{buildHtml:function(e,t,n){var r=this;i.prototype.buildHtml.call(r,e,t,n),r.$$elmt.addClass("s-m-row"),r.$$elmt.addClass("row"),r.children&&$.each(r.children,function(e,i){i.buildHtml(r.$$elmt,t,n)})}});t.Klass=s}),define("syracuse-tablet/html/js/controls/layout/layoutStack",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/layout/layoutBase"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/layout/layoutBase").Klass,s=r.defineClass(function(t,n,r,s){var o=this;i.call(o,t,n,r,s)},i,{buildHtml:function(e,t,n){var r=this;i.prototype.buildHtml.call(r,e,t,n),r.$$elmt.addClass("s-m-stack"),n&&n.makeFullHeight===!0&&r.$$elmt.height("100%");var s=r.article&&r.article.$collapsible||"notcollapsible",o=r.article&&r.article.$title||"";(s!=="notcollapsible"||o.length>0)&&r._addHeader(s,o),r.$$content=$("<content>"),r.$$elmt.append(r.$$content),r.children&&r.children.length>0&&$.each(r.children,function(e,i){i.buildHtml(r.$$content,t,n)}),r._updateCollapseState()},_addHeader:function(e,t){var n=this;n.$$header=$("<header>"),n.$$header.text(t),e!=="notcollapsible"&&(n._expandClick=n._onClickExpand.bind(n),n.$$btnCollapse=$('<btn class="'+e+'">'),n.$$btnCollapse.on("click",n._expandClick),n.$$header.append(n.$$btnCollapse)),n.$$elmt.append(n.$$header)},_onClickExpand:function(){var e=this;e.$$btnCollapse.hasClass("collapsed")?(e.$$btnCollapse.removeClass("collapsed"),e.$$btnCollapse.addClass("expanded")):(e.$$btnCollapse.removeClass("expanded"),e.$$btnCollapse.addClass("collapsed")),e._updateCollapseState()},_updateCollapseState:function(){var e=this;if(!e.$$btnCollapse||!e.$$content)return;e.$$btnCollapse.hasClass("collapsed")?e.$$content.css({display:"none"}):e.$$content.css({display:"block"})},destroy:function(){var e=this;e._expandClick&&e.$$btnCollapse&&(e.$$btnCollapse.off("click",e._expandClick),e._expandClick=null),i.prototype.destroy.call(e)}});t.Klass=s}),define("syracuse-tablet/html/js/controls/layout/layoutTab",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/layout/layoutBase","syracuse-tablet/html/js/ui/uiUtils"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/layout/layoutBase").Klass,s=e("syracuse-tablet/html/js/ui/uiUtils"),o=r.defineClass(function(t,n,r,s){var o=this;i.call(o,t,n,r,s)},i,{buildHtml:function(e,t,n){var r=this;i.prototype.buildHtml.call(r,e,t,n),r.$$elmt.addClass("s-m-tabs");var o=s.createDomElement("div",[r.article.$layoutType]);$.each(r.children,function(e,r){r.isTabSection=!0;var i=s.createDomElement("div",["s-m-layout-cell"],null,{style:"display:"+(e!=0?"none":"")},o);r.buildHtml($(i),t,n)})},buildTitle:function(){}});t.Klass=o}),define("syracuse-tablet/html/js/controls/layout/layoutHub",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/layout/layoutBase","syracuse-tablet/html/js/ui/rect","syracuse-tablet/html/js/helpers/hammerScroller","syracuse-tablet/html/js/helpers/uiSettings"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/layout/layoutBase").Klass,s=e("syracuse-tablet/html/js/ui/rect"),o=e("syracuse-tablet/html/js/helpers/hammerScroller").Klass,u=e("syracuse-tablet/html/js/helpers/uiSettings"),a=r.defineClass(function(t,n,r,s){var o=this;i.call(o,t,n,r,s),this._gestureMgr=null,this._tilesGroupSpacing=u.getProp("hubLayout.groupSpacing"),this._minLandscapeHeigth=u.getProp("hubLayout.landscapeMinHeigth")},i,{destroy:function(){i.prototype.destroy.call(this),this._gestureMgr&&(this._gestureMgr.destroy(),this._gestureMgr=null)},buildHtml:function(e,t,n){var r=this;n=n||{},n.noTitle=!0,i.prototype.buildHtml.call(r,e,t,n),r.$$elmt.addClass("s-m-hub"),r.$$scrollElmt=$('<div class="s-m-scroll-wrapper">').appendTo(r.$$elmt),r.children&&r.children.forEach(function(e){e.buildHtml(r.$$scrollElmt,t,n)}),r._gestureMgr?r._gestureMgr.reset():r._gestureMgr=new o(r.$$scrollElmt,{isPageScroller:!0})},onResize:function(e){if(e&&e.footerSwipe===!0)return;var t=this,n=t.controller.getMainContentRect(),r=t.$$elmt.position(),i=n.width,o=n.height-r.top,u=i/o,a=0,f=0,l;t.scrollDirection=u>1.2&&o>=this._minLandscapeHeigth?"h":"v",t.scrollDirection==="h"?t.$$elmt.css({width:"100%",height:o+"px"}):t.$$elmt.css({width:i+"px",height:"100%"});if(t.children){var c=t.children.length-1;t.children.forEach(function(n,r){l={posX:a,posY:f,maxHeight:o,maxWidth:i,scrollDirection:t.scrollDirection},n.onResize(e,l),t.scrollDirection==="h"?a+=n.getWidth()+(r<c?t._tilesGroupSpacing:0):f+=n.getHeight()+(r<c?t._tilesGroupSpacing:0)})}var h,p;t.scrollDirection==="h"?(h=a,p=o):(h=i,p=f),t._gestureMgr.resetScrolling(function(){t.$$scrollElmt.width(h),t.$$scrollElmt.height(p);var e=s.elmtRect(t.$$scrollElmt,"outer"),r=n.intersectRect(e);r!=null&&!r.contains(e)?r:null,r?t._gestureMgr.init(r,t.scrollDirection,0):t._gestureMgr.reset()})},getGestureMgr:function(){return this._gestureMgr},savedCtxCreate:function(){return this._gestureMgr?{hubScroll:this._gestureMgr.savedCtxCreate()}:null},savedCtxRestore:function(e){e!=null&&this._gestureMgr&&this._gestureMgr.savedCtxRestore(e.hubScroll)}});t.Klass=a}),define("syracuse-tablet/html/js/controls/layout/layoutHubGroup",["require","exports","module","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/layout/layoutBase","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/helpers/uiSettings"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/globals"),i=e("syracuse-tablet/html/js/helpers/utils"),s=e("syracuse-tablet/html/js/controls/layout/layoutBase").Klass,o=e("syracuse-tablet/html/js/ui/uiUtils"),u=e("syracuse-tablet/html/js/helpers/uiSettings"),a=["small","medium","wide","large","full","all"],f=i.defineClass(function(t,n,r,i){var o=this;s.call(o,t,n,r,i),o._settings=u.getProp("hubGroup")},s,{buildHtml:function(e,t,n){var r=this;s.prototype.buildHtml.call(r,e,t,n),r.$$elmt.addClass("s-m-hub-group"),r._buildCellStructure(t,n)},_buildCellStructure:function(e,t){var n=this;n.cells=[];var r=null;n.children&&n.children.forEach(function(i){var s=i.article&&i.article.$size||"medium";a.indexOf(s)<0&&(s=a[1],i.article=i.article||{},i.article.$size=s),r||(r=n._createCell(s),r.domItem=o.createDomElement("div",null,null,null,n.$$elmt),n.cells.push(r)),s==="small"?(i.buildHtml($(r.domItem),e,t),r.children.push(i),r.children.length===4&&(r=null)):(r.children.length>0&&(r=n._createCell(s),r.domItem=o.createDomElement("div",null,null,null,n.$$elmt),n.cells.push(r)),i.buildHtml($(r.domItem),e,t),r.children.push(i),r=null)})},_createCell:function(e){var t=this;e=e==="small"?"medium":e;var n={size:e,children:[]};return n},onResize:function(e,t){this.calculateLayout(t),s.prototype.onResize.call(this,e)},calculateLayout:function(e){var t=this,n;t._headerSpace=t.$$header?t.$$header.height():0,t._width=0,t._height=0,t.hubGroupOptions=e,t.hubGroupOptions.scrollDirection==="h"?t._calculateLayoutHorizontal():t._calculateLayoutVertical(),t.cells.forEach(function(e){n=e.size,e.domItem.style.left=e.x+"px",e.domItem.style.top=e.y+t._headerSpace+"px",e.domItem.style.width=t._sizes[n].width+"px",e.domItem.style.height=t._sizes[n].height+"px",e.domItem.style.position="absolute",e.x+t._sizes[n].width>t._width&&(t._width=e.x+t._sizes[n].width),e.y+t._sizes[n].height>t._height&&(t._height=e.y+t._sizes[n].height);var r=0,i=0;e.children.forEach(function(e){n=e.getAuthoringSize(),e.calculateLayout(r,i,n,t._sizes[n]),r!==0?(r=0,i+=t._sizes[n].height+t.hubGroupOptions.padY):r+=t._sizes[n].width+t.hubGroupOptions.padX})});var i=t.$$elmt.get(0).style;t.hubGroupOptions.scrollDirection==="h"?(t.cells.length<1&&r.isAuthoringActive()&&(t._width=t.hubGroupOptions.maxGroupWidth),i.top="0px",i.left=t.hubGroupOptions.posX+"px",i.width=6+t._width+"px",i.height=t.hubGroupOptions.maxHeight-6+"px"):(t.cells.length<1&&r.isAuthoringActive()&&(t._height=t.hubGroupOptions.baseSize),i.top=t.hubGroupOptions.posY+"px",i.left="0px",t._width=t._width,i.width=t._width+"px",t._height+=t._headerSpace+t._settings.portraitPadY,i.height=t._height+"px",t.cells.length<1&&r.isAuthoringActive())},_calculateLayoutHorizontal:function(){var e=this;e.hubGroupOptions.baseSize=e._settings.landscapeBaseSize,e.hubGroupOptions.padX=e._settings.landscapePadX,e.hubGroupOptions.padY=e._settings.landscapePadY,e.hubGroupOptions.maxGroupHeight=e.hubGroupOptions.maxHeight-e._headerSpace;var t=e.hubGroupOptions.maxGroupHeight/(e.hubGroupOptions.baseSize+e.hubGroupOptions.padY),n=e.hubGroupOptions.maxGroupHeight-Math.floor(t)*(e.hubGroupOptions.baseSize+e.hubGroupOptions.padY),r=Math.floor(n/t),i=Math.floor(n/t/2);e.hubGroupOptions.baseSize+=r,e.hubGroupOptions.paddingPerTile=i,e.hubGroupOptions.maxGroupWidth=4*e.hubGroupOptions.baseSize+3*e.hubGroupOptions.padX,e.hubGroupOptions.maxFullTileHeight=Math.floor((e.hubGroupOptions.maxGroupHeight+e.hubGroupOptions.padY)/(e.hubGroupOptions.baseSize+e.hubGroupOptions.padY)/2)*(e.hubGroupOptions.baseSize+e.hubGroupOptions.padY)*2-e.hubGroupOptions.padY,e.hubGroupOptions.maxAllTileHeight=e.hubGroupOptions.maxFullTileHeight,e.hubGroupOptions.maxAllTileWidth=Math.floor((e.hubGroupOptions.maxWidth+e.hubGroupOptions.padX)/(e.hubGroupOptions.baseSize+e.hubGroupOptions.padX)/2)*(e.hubGroupOptions.baseSize+e.hubGroupOptions.padX)*2-e.hubGroupOptions.padX,e._sizes={small:{width:e.hubGroupOptions.baseSize,height:e.hubGroupOptions.baseSize,paddingX:e.hubGroupOptions.paddingPerTile,paddingY:e.hubGroupOptions.paddingPerTile},medium:{width:e.hubGroupOptions.baseSize*2+e.hubGroupOptions.padX,height:e.hubGroupOptions.baseSize*2+e.hubGroupOptions.padY,paddingX:e.hubGroupOptions.paddingPerTile,paddingY:e.hubGroupOptions.paddingPerTile},wide:{width:e.hubGroupOptions.baseSize*4+e.hubGroupOptions.padX*3,height:e.hubGroupOptions.baseSize*2+e.hubGroupOptions.padY,paddingX:e.hubGroupOptions.paddingPerTile,paddingY:e.hubGroupOptions.paddingPerTile},large:{width:e.hubGroupOptions.baseSize*4+e.hubGroupOptions.padX*3,height:e.hubGroupOptions.baseSize*4+e.hubGroupOptions.padY*3,paddingX:e.hubGroupOptions.paddingPerTile,paddingY:e.hubGroupOptions.paddingPerTile},full:{width:e.hubGroupOptions.baseSize*4+e.hubGroupOptions.padX*3,height:e.hubGroupOptions.maxFullTileHeight,paddingX:e.hubGroupOptions.paddingPerTile,paddingY:e.hubGroupOptions.paddingPerTile},all:{height:e.hubGroupOptions.maxAllTileHeight,width:e.hubGroupOptions.maxAllTileWidth,paddingX:e.hubGroupOptions.paddingPerTile,paddingY:e.hubGroupOptions.paddingPerTile}};var s=0,o=0,u=0,a=0;e.cells.forEach(function(t){t.w=e._sizes[t.size].width,t.h=e._sizes[t.size].height;if(a+t.h>e.hubGroupOptions.maxGroupHeight||a!==0&&(t.size==="full"||t.size==="all"))a=0,s+=e.hubGroupOptions.maxGroupWidth+e.hubGroupOptions.padX,u=s;t.size==="medium"?(u-s+t.w>e.hubGroupOptions.maxGroupWidth&&(u=s,a+=t.h+e.hubGroupOptions.padY),a+t.h>e.hubGroupOptions.maxGroupHeight&&(a=0,s+=e.hubGroupOptions.maxGroupWidth+e.hubGroupOptions.padX,u=s),t.x=u,t.y=a,u+=t.w+e.hubGroupOptions.padX):(u!==s&&(u=s,a+=e._sizes.medium.height+e.hubGroupOptions.padY),a+t.h>e.hubGroupOptions.maxGroupHeight&&(a=0,s+=e.hubGroupOptions.maxGroupWidth+e.hubGroupOptions.padX,u=s),t.x=u,t.y=a,a+=t.h+e.hubGroupOptions.padY,t.size==="all"&&(a=0,s+=t.w+e.hubGroupOptions.padX,u=s))})},_calculateLayoutVertical:function(){var e=this,t;e.hubGroupOptions.paddingPerTile=0,e.hubGroupOptions.maxGroupHeight=e.hubGroupOptions.maxHeight-e._headerSpace,e.hubGroupOptions.padX=e._settings.portraitPadX,e.hubGroupOptions.padY=e._settings.portraitPadY,e.hubGroupOptions.maxFullTileHeight=e.hubGroupOptions.maxGroupHeight-e.hubGroupOptions.padY,e.hubGroupOptions.maxWidth>=e._settings.portraitWideMinWidth?(e.hubGroupOptions.baseSize=Math.floor((e.hubGroupOptions.maxWidth-7*e.hubGroupOptions.padX)/8),e.hubGroupOptions.maxGroupWidth=8*e.hubGroupOptions.baseSize+7*e.hubGroupOptions.padX):(e.hubGroupOptions.baseSize=Math.floor((e.hubGroupOptions.maxWidth-3*e.hubGroupOptions.padX)/4),e.hubGroupOptions.maxGroupWidth=4*e.hubGroupOptions.baseSize+3*e.hubGroupOptions.padX),e.hubGroupOptions.maxAllTileHeight=e.hubGroupOptions.maxFullTileHeight,e.hubGroupOptions.maxAllTileWidth=Math.floor((e.hubGroupOptions.maxWidth+e.hubGroupOptions.padX)/(e.hubGroupOptions.baseSize+e.hubGroupOptions.padX)/2)*(e.hubGroupOptions.baseSize+e.hubGroupOptions.padX)*2-e.hubGroupOptions.padX,t=(e.hubGroupOptions.maxWidth-e.hubGroupOptions.maxGroupWidth)/2,e.hubGroupOptions.maxGroupWidth+=t,e._sizes={small:{width:e.hubGroupOptions.baseSize,height:e.hubGroupOptions.baseSize,paddingX:e.hubGroupOptions.paddingPerTile,paddingY:e.hubGroupOptions.paddingPerTile},medium:{width:e.hubGroupOptions.baseSize*2+e.hubGroupOptions.padX,height:e.hubGroupOptions.baseSize*2+e.hubGroupOptions.padY,paddingX:e.hubGroupOptions.paddingPerTile,paddingY:e.hubGroupOptions.paddingPerTile},wide:{width:e.hubGroupOptions.baseSize*4+e.hubGroupOptions.padX*3,height:e.hubGroupOptions.baseSize*2+e.hubGroupOptions.padY,paddingX:e.hubGroupOptions.paddingPerTile,paddingY:e.hubGroupOptions.paddingPerTile},large:{width:e.hubGroupOptions.baseSize*4+e.hubGroupOptions.padX*3,height:e.hubGroupOptions.baseSize*4+e.hubGroupOptions.padY*3,paddingX:e.hubGroupOptions.paddingPerTile,paddingY:e.hubGroupOptions.paddingPerTile},full:{width:e.hubGroupOptions.baseSize*4+e.hubGroupOptions.padX*3,height:e.hubGroupOptions.maxFullTileHeight,paddingX:e.hubGroupOptions.paddingPerTile,paddingY:e.hubGroupOptions.paddingPerTile},all:{width:e.hubGroupOptions.maxAllTileWidth,height:e.hubGroupOptions.maxAllTileHeight,paddingX:e.hubGroupOptions.paddingPerTile,paddingY:e.hubGroupOptions.paddingPerTile}};var n=t,r=0,i=0;e.cells.forEach(function(s){s.w=e._sizes[s.size].width,s.h=e._sizes[s.size].height,s.x=n,s.y=r,n+s.w>e.hubGroupOptions.maxGroupWidth?(n=t,r+=i+e.hubGroupOptions.padY,s.x=n,s.y=r,i=s.h,n+=s.w+e.hubGroupOptions.padX):(n+=s.w+e.hubGroupOptions.padX,i=s.h>i?s.h:i)})},getWidth:function(){return this._width},getHeight:function(){return this._height}});t.Klass=f}),define("syracuse-tablet/html/js/controls/layout/layoutTile",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/layout/layoutBase"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/layout/layoutBase").Klass,s=r.defineClass(function(t,n,r,s){var o=this;i.call(o,t,n,r,s)},i,{buildHtml:function(e,t,n){var r=this;i.prototype.buildHtml.call(r,e,t,n),r.$$elmt.addClass("s-m-tile"),r.$$body=r.$$elmt,r.$$header&&r.$$header.css({position:"absolute",top:"3px",left:"5px"}),r._setCellColorClass(),r.children&&$.each(r.children,function(e,i){i.buildHtml(r.$$body,t,n)})},_setCellColorClass:function(){var e=this,t=e.article.$bgColor;t||(t="lime"),e.$$elmt.addClass("s-m-bg-"+t)},calculateLayout:function(e,t,n,r){this.$$elmt.css({left:e+"px",top:t+"px",width:r.width+"px",height:r.height+"px",position:"absolute","padding-left":r.paddingX+"px","padding-right":r.paddingX+"px","padding-bottom":r.paddingY+"px","padding-top":(this.$$header?this.$$header.height():0)+r.paddingY+"px"}),this.$$elmt.addClass(n)},getAuthoringSize:function(){return this.article&&this.article.$size||"medium"}});t.Klass=s}),define("syracuse-tablet/html/js/controls/layout/layoutCell",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/layout/layoutBase","syracuse-tablet/html/js/ui/uiUtils"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/layout/layoutBase").Klass,s=e("syracuse-tablet/html/js/ui/uiUtils"),o=[{$prop:"$widthXs",$prefix:"col-xs-"},{$prop:"$widthSm",$prefix:"col-sm-"},{$prop:"$widthMd",$prefix:"col-md-"},{$prop:"$widthLg",$prefix:"col-lg-"}],u=r.defineClass(function(t,n,r,s){var o=this;i.call(o,t,n,r,s)},i,{initReuseProperties:function(){i.prototype.initReuseProperties.call(this),this.$$cell=null},buildHtml:function(e,t,n){var r=this;i.prototype.buildHtml.call(r,e,t,n),r.$$elmt.addClass("s-m-cell"),r.$$cell=$(s.createDomElement("div",["cell"],null,null,r.$$elmt)),r._setCellColorClass(),r._setCellSizeClasses(),r.children&&$.each(r.children,function(e,i){i.buildHtml(r.$$cell,t,n)})},_setCellColorClass:function(){var e=this,t=e.article.$bgColor;t||(t="lime"),e.$$cell.addClass("s-m-bg-"+t)},_setCellSizeClasses:function(){var e=this,t=12,n=!0;o.forEach(function(t){n=n||e.article[t.$prop]}),n||(e.article={$widthXs:12,$widthSm:6,$widthMd:4,$widthLg:3}),o.forEach(function(n){var r=e.article[n.$prop];r!=null&&r>0&&r<=12?t=r:r=t;var i=n.$prefix+r;e.$$elmt.addClass(i)})}});t.Klass=u}),define("syracuse-tablet/html/js/controls/vignetteBase",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/ui/rect","syracuse-tablet/html/js/controls/ctrlBase","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/ui/fontUtils","syracuse-tablet/html/js/application/pageLoader","syracuse-tablet/html/js/application/pageRegistry","syracuse-tablet/html/js/ui/modals/modal","syracuse-tablet/html/js/helpers/notifications","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/globals"),s=e("syracuse-tablet/html/js/ui/rect"),o=e("syracuse-tablet/html/js/controls/ctrlBase").Klass,u=e("syracuse-tablet/html/js/ui/uiUtils"),a=e("syracuse-tablet/html/js/ui/fontUtils"),f=e("syracuse-tablet/html/js/application/pageLoader").Klass,l=e("syracuse-tablet/html/js/application/pageRegistry"),c=e("syracuse-tablet/html/js/ui/modals/modal"),h=e("syracuse-tablet/html/js/helpers/notifications"),p=e("syracuse-tablet/html/js/helpers/logger").getLogger("app"),d=e("syracuse-tablet/html/js/helpers/locale"),v={className:"waiting-blocks",elements:5,auto:!0,speed:200},m={main:'		<section/>		<footer style="display:none"/> 		<div class="s-m-waiting bckg" style="display:none"/> 		<div class="s-m-waiting wheel" style="display:none"/> 	',iframe:'		<br><iframe src="{{url}}" style="position: absolute; top: 0px; left: 0px; height: 100vh; width: 100vh;"/>	',navbtns:'		<a draggable="false" href="#" data-action="vignetteBack" class="'+a.vignetteIcons("back")+'" style="display:none"></a>		<a draggable="false" href="#" data-action="vignetteHome" class="'+a.vignetteIcons("home")+'" style="display:none"></a>	',vignetteError:'		<a draggable="false" href="#" data-action="vignetteError">{{text}}</a>	',linkPage:'		<a draggable="false" href="{{href}}"			data-nav-target="application"			data-nav="{{data-nav}}"			data-gadget-id="{{data-gadget-id}}"			data-application-name="{{data-application-name}}"			data-sdata-parameters="{{data-sdata-parameters}}"			class="s-m-link-page">				{{#if icon}}					<section class="s-m-icon">						<div>							<div class="{{icon}}"></div>						</div>					</section>				{{/if}}				<section class="s-m-title">					<div>{{title}}</div>				</section>		</a>'},g=function(e,t){var n=e+"compiled",r=m[n];return r||(r=m[n]=Handlebars.compile(m[e])),r(t)},y=r.defineClass(function(t,n,r,s){var u=this;n.$article=n.$article||{},o.call(u,t,n,r,s),u._currentPage=null,u._pageLoader=null,u._$$wait=null,u._stateStack=[],u._error=null,u.displayStyle=r.data("$displayStyle"),u.openLinkInVignette=i.$config("openLinkInVignette")},o,{destroy:function(){var e=this;e._error=null,e.clearContent(),u.waitPluginDestroy(e._$$wait);if(e._pageLoader=null)e._pageLoader.destroy(),e._pageLoader=null;o.prototype.destroy.call(e)},getPageControl:function(e){return this._currentPage&&this._currentPage.getControl&&this._currentPage.getControl(e)},getPageLayout:function(e){return this._currentPage&&this._currentPage.getLayout&&this._currentPage.getLayout(e)},getPageStructElmt:function(e){return this.getPageControl(e)||this.getPageLayout(e)},getPage:function(){return this._currentPage},onMainPageResize:function(e,t,n){if(this._currentPage==null||this._currentPage.state.options.$displayStyle!=="$full")return;this._currentPage.onMainPageResize(e,t,n)},changePage:function(e,t){t=t||{},t.openLinkInVignette=this._openLinkInsideVignette(),t.$displayStyle="$full",this._loadPage(e,t)},refreshPage:function(e){var t=this;if(!t._currentPage)throw new Error("No current page");t._error&&this._removeError(),t._currentPage.refresh(e,{waitStart:function(e){t.waitStart()},waitStop:function(e){t.waitStop()}}).then(function(){}).fail(function(e){c.error("Refresh page on vignette",e)})},hasBtnsBar:function(){return this._openLinkInsideVignette()},clearContent:function(){var e=this;e._$$content&&(i.getApplication().removeAllChildPages(e._$$content),e._$$content.empty()),e._currentPage&&(e._currentPage=null),e._stateStack=[]},_openLinkInsideVignette:function(e){if(this.openLinkInVignette===!0)return!0;var t;return e==null?t=this._currentPage?this._currentPage.state.name:null:$.isPlainObject(e)?t=e.name:t=e,typeof t=="string"&&(t==="rowdetail"||t==="carddesign"||t.smEndsWith("$lookup"))&&(this.openLinkInVignette=!0),this._currentPage&&this._currentPage.isChild&&(this.openLinkInVignette=!0),this.openLinkInVignette},_loadPage:function(e,t,n){var r=this;return r._error=null,!r._openLinkInsideVignette(e)&&r._stateStack.length>0&&r.clearContent(),r._pageLoader||r._initPageLoader(),$.smResolve().then(function(){var i,s;if(typeof e=="string")return t=t||{},t.vignette=!0,s=t.vignetteArticle,l.getPageInfo(e,t,r._currentPage).then(function(e){return s&&e.options&&(e.options.vignetteArticle=s),e});if(n==="back"||n==="home")return e;throw new Error("Unexpected object state")}).then(function(e){if(e.options&&e.options.$displayStyle==="$full")return r._pageLoader.load(e,n==="back");if(t.gadget){var i=r._getCssIcon(t.gadget,"s-m-sage-gadget-icon");return r._addPicker({"data-nav":e.name,"data-gadget-id":t.gadget.data("$uuid"),"data-application-name":t.gadget.data("applicationName"),title:t.gadget.data("$title"),icon:i}),$.smResolve()}throw new Error("Unexpected vignette page")}).fail(function(e){r._displayError("Loading page error",e)})},_initPageLoader:function(){var e=this;e._pageLoader=new f({waitStop:function(){e.waitStop()},waitStart:function(){e.waitStart()},getRootElmt:function(){return e._$$content},getCurrentPage:function(){return e._currentPage},setCurrentPage:function(t){e._currentPage=t,e._currentPage.setParentVignette(e)},historyPush:function(t){e._stateStack.push(t)},succeeded:function(t,n,r){if(!e.controller)return;e.hasBtnsBar()&&e.refreshBtnsBar(),n&&n.notifId&&(t.id===n.parentId?h.notifyController(n.notifId,e._currentPage,n.notifData,n.controlId):c.error("Child page notification warning","Parent page is not the current page")),p&&p("vignette loaded"+e.id),t.state.options.$displayStyle==="$full"&&setTimeout(function(){t.onMainPageResize()})},loadingError:function(t,n,r){e._displayError(d.text("error.page.loading"),r),t.resolve()},savedCtxVignette:function(){if(!e.controller)return;return e.controller.savedCtxVignette(e)}})},_loadRepresentation:function(e,t,n){var r=this,t=t||e.getPageName();return n=$.extend({},n),n.openLinkInVignette=r._openLinkInsideVignette(t),n.$displayStyle=r.displayStyle,n.gadget=e,n.vignetteArticle=r.article.$article,r._loadPage(t,n)},_displayError:function(e,t){var n=this;n._error={message:e,detail:t},n.$$elmt?(n._$$content.hide(),n.$$elmt.addClass("s-m-error"),n.$$elmt.prepend(g("vignetteError",{text:"Loading failed"})),n.refreshBtnsBar()):alert(e+"\n\n"+t)},_removeError:function(){this.$$elmt.children('a[data-action="vignetteError"]').remove(),this.$$elmt.removeClass("s-m-error"),this._$$content.show(),this._error=null},buildHtml:function(e,t,n){var r=this;r._stateStack.length>0||(o.prototype.buildHtml.call(r,e,t,n,["s-m-vignette"]),r.$$elmt.html(g("main",{})),r._$$content=r.$$elmt.children("section"),r.$$footer=r.$$elmt.children("footer"),r._$$wait=u.waitPluginCreate(r.$$elmt.children(".s-m-waiting.wheel"),v),r._$$waitBckg=r.$$elmt.children(".s-m-waiting.bckg"))},load:function(e,t){var n=this;t=t||{};var r=$.Deferred(),i=function(){r.resolve()},s=function(e){n._displayError(e),i()};try{var o=n.prototype.getVignetteGadget();if(o&&o.isValid()){t.resize===!0&&this.clearContent();switch(o.data("$type")){case"$representation":case"$stats":case"$request":n._loadRepresentation(o,e,t).then(function(){i()}).fail(function(e){s(e)});break;case"$dashboard":n._loadDashboard(o);break;case"$application":n._loadApplication(o);break;case"$external":n._loadExternal(o);break;case"$gadgetMissing":n._displayError("Referenced gadget does not exist: "+o.data("$uuid"));break;default:n._displayError("Unsupported gadget type: "+o.data("$type"))}}else n._displayError("Invalid gadget"+(o?" ["+o.getInvalidReason()+"]":""),o?o.getJSON():"Null gadget");i()}catch(u){s(u)}finally{return r.promise()}},_getCssIcon:function(e,t){var n=e.data("icon")||this.article&&this.article.$icon;return n&&(n.smStartsWith("sage")?n=t+" "+n:n="fa fa-"+n),n||""},_loadDashboard:function(e){this._addPicker({"data-nav":i.getMetaData().getDashboardPageName(e.data("dashboardName")),"data-application-name":e.data("applicationName"),"data-gadget-id":e.data("$uuid"),"data-sdata-parameters":e.data("sdataParameters"),title:e.data("$title"),icon:this._getCssIcon(e,"dash")})},_loadApplication:function(e){this._addPicker({"data-application-name":e.data("applicationName"),title:e.data("$title"),icon:this._getCssIcon(e,"s-m-sage-app-icon")})},_loadExternal:function(e){var t=this,n=e.data("externalUrl");t._addPicker({href:n,title:e.data("$title")});if(t.displayStyle!=="$link"){var r=g("iframe",{url:n});$(r).appendTo(t._$$content)}},_addPicker:function(e){e.href||(e.href="#"),$(g("linkPage",e)).appendTo(this._$$content)},waitStart:function(){u.waitPluginEnable(this._$$wait),this._$$waitBckg.show()},waitStop:function(){u.waitPluginDisable(this._$$wait),this._$$waitBckg.hide()},refreshBtnsBar:function(){var e=this;if(e._openLinkInsideVignette()){var t=!1;e.$$icnBack||(e.$$footer.prepend(g("navbtns")),e.$$icnBack=e.$$footer.children("[data-action=vignetteBack]"),e.$$icnHome=e.$$footer.children("[data-action=vignetteHome]"));var n=e._stateStack.length;e.$$icnBack.toggle(n>1),e.$$icnHome.toggle(n>2),t=e._stateStack.length>1,e.$$footer.toggle(t),e.$$elmt.toggleClass("footer",t)}},_actVignetteHome:function(){var e=this;if(e._stateStack.length==0)return;var t=e._stateStack[0];e._stateStack=[],e._loadPage(t,null,"home")},_actVignetteBack:function(){var e=this;if(e._stateStack.length<=1)return;e._stateStack.pop(),e._loadPage(e._stateStack[e._stateStack.length-1],null,"back")},_actVignetteError:function(){var e=this;e._error.detail?c.error(e._error.message,e._error.detail):c.error("Vignette load error",e._error)},_actVignetteRefresh:function(){this.refreshPage({})},isOverflow:function(){if(!this._currentPage)return;return this._currentPage.$$elmt.height()-this.$$elmt.height()>0},getScrollViewRect:function(){return s.elmtRect(this._$$content,"inner")},isVignette:function(){return!0}});t.Klass=y}),define("syracuse-tablet/html/js/application/actionManager",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/sdata/sdataDispatcher","syracuse-tablet/html/js/sdata/sdataUtils","syracuse-tablet/html/js/ui/fontUtils","syracuse-tablet/html/js/helpers/notifications","syracuse-tablet/html/js/helpers/jsutils"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/locale"),s=e("syracuse-tablet/html/js/helpers/logger").getLogger("actionMgr"),o=e("syracuse-tablet/html/js/helpers/globals"),u=e("syracuse-tablet/html/js/sdata/sdataDispatcher"),a=e("syracuse-tablet/html/js/sdata/sdataUtils"),f=e("syracuse-tablet/html/js/ui/fontUtils"),l=e("syracuse-tablet/html/js/helpers/notifications"),c=e("syracuse-tablet/html/js/helpers/jsutils"),h=function(e,t){e.icon=f.getIconByName(t);switch(t){case"$edit":case"$query":case"$save":case"$details":case"$delete":case"$create":e.title=i.text("action."+t);break;default:s&&s("Facet "+t+" not implemented yet"),e.title=t||"???"}},p=function(e){return e.smStartsWith("$word")||e.smStartsWith("$excel")},d=function(e){return e==="$first"||e==="$previous"||e==="$next"||e==="$last"||e==="$more"},v={header:{smartphone:{details:{$edit:!0,$delete:!0},edit:{$canceledit:!0,$save:!0},query:{$create:!0},create:{$save:!0,$canceledit:!0}},tablet:{}},footer:{smartphone:{},tablet:{details:{$edit:!0,$delete:!0,$query:!0},edit:{$save:!0,$canceledit:!0},query:{$create:!0},create:{$save:!0,$canceledit:!0}}},actionpanelparent:{tablet:{details:{},edit:{},query:{},create:{}},smartphone:{details:{$query:!0},edit:{},query:{},create:{}}},actionpanel:{}},m=function(e,t,n){var r=v[e];if(!r)throw new Error("Unexpected toolbar parameter ["+e+"]. Expected 'header', 'footer' or 'actionpanel'");if(e==="actionpanel")return r;r=r[t||"tablet"];if(!r)throw new Error("Unexpected deviceType parameter ["+t+"]. Expected 'tablet', 'smartphone'");n==="lookup"&&(n="query"),n==="summary"&&(n="details"),r=r[n];if(!r)throw new Error("Unexpected facet parameter ["+n+"]");return r},g=function(e,t,n,r){var i=e.prototype,u=e.dao,f=r||[];if(!u)return[];n=n||{};var l=m(t,n.deviceType||o.getSiteLayout().getDeviceType(),u.prototype.getFacet()),c=$.extend(!0,{},i.data("$links",null,!0),u.getValue("$links"));return c&&!$.isEmptyObject(c)&&$.each(c,function(e,n){try{if(t!=="actionpanel"&&!l[e])return;if(t==="actionpanel"&&(e==="$edit"||e==="$create"||e==="$delete"||e==="$details"||e==="$query"||e==="$save"||e==="$canceledit"))return;if(n==null||n.$isExcluded===!0)return;if(n.$type!=null&&n.$type.length!==0&&n.$type!=="application/json;vnd.sage=syracuse")return;var r=e.smStartsWith("$");if(r&&p(e))return;if(d(e))return;var o;if(n.$url&&n.$url.length>0){var c=a.getLinkInfo(n.$url,u);o=$.extend(c,n),o.$services&&(o.$isAction=!0)}else o=$.extend({},n),o.$isAction=!0;o.name=e,t==="actionpanel"?(o.title=i.resolveExpression(n.$title),o.icon=""):h(o,e),f.push(o)}catch(v){n=n||{},s&&s("getLinks - invalid link - name:"+e+" - Title: "+i.resolveExpression(n.$title||"no title")+"\n	"+(n.$url||"no url"))}}),f},y=function(e,t,n){if(!e||!t||!n)return;e.getScrollValue()!==0&&(n["auto-scroll"]=e.getScrollValue()*1.2)},b=function(e,t,n){t===null&&(t="");if(c.isError(t))t=t.message;else if(typeof t!="string"){var r=a.scanDiagnoses(t);if(r.length>0){var i=[];r.forEach(function(e){i.push(e.$message)}),t=i.join("\n")}else t=JSON.stringify(t,null,2)}o.getModal().info(e,t,n)},w=r.defineClass(function(e,t){this.options=t||{},this.controller=e,this.options.deviceType||(this.options.deviceType=o.getSiteLayout().getDeviceType())},null,{destroy:function(){this.options=null,this.controller=null},updateLinks:function(e){var t=this,n=o.getSiteLayout().getDeviceType();if(t.links&&n===t.options.deviceType)return;t.links=[],t.options.deviceType=n,t.options.addMultiSelection&&!this.controller.isEditMode()&&t._addMultiSelection(t.options.addMultiSelection),g(this.controller,e,t.options,t.links),t.options.addCancelEditAction&&this.controller.isEditMode()&&t._addCancelEditAction(t.options.addCancelEditAction),t.links.forEach(function(e,t){e.css||(e.css=[]),e.$isHidden===!0&&e.css.push("hidden"),e.$isDisabled===!0&&e.css.push("disabled"),e.css=e.css.join(" "),e.icon||(e.icon=f.getIconByIdx(20+t)),e.$uuid||(e.$uuid=r.UUID())})},_addCancelEditAction:function(e){this.links.push({name:"$canceledit",icon:f.getIconByName("$cancelEdit"),isClientAction:!0,action:e||"cancelEdit",title:i.text("action.cancelEdit")})},_addMultiSelection:function(e){this.links.push({name:"$multiSelection",icon:f.getIconByName("$multiSelection"),isClientAction:!0,action:e||"multiSelection",css:["s-m-ismultisel"],title:i.text("action.multiselect")})},getLinks:function(){return this.links},hasLinks:function(){return this.links&&this.links.length>0},triggerLink:function(e,t){var n=$.Deferred();try{var r=this,i=null;r.getLinks().some(function(t){if(t.$uuid===e)return i=t,!0});if(!i)return;if(i.isClientAction){if(!t)throw new Error("triggerLink - Page is expected");r._notifyAndResolve(t,n,!0,i);return}if(i.$confirm){o.getModal().simpleConfirm(i.$confirm,function(e){e&&r._doLinkAction(n,t,i)});return}if(i.$isAction){r._doLinkAction(n,t,i);return}if(i.page){var s={"sdata-url":i.sDataUrl,"sdata-method":i.$method};t&&t.state.name.replace(".$details",".$edit")===i.page&&y(t,i,s),r.options.noRedirection===!0?r._notifyAndResolve(t,n,!0,i,{gotoPage:{name:i.page,options:s}},r.options):(setTimeout(function(){o.getApplication().changePage(i.page,s)}),n.resolve());return}b("Unexpected link type",i,function(){r._notifyAndResolve(t,n,!1,i,null,r.options)})}catch(u){n.reject(u)}finally{return n.promise()}},_doLinkAction:function(e,t,n){var r=this,i=function(i,s){r._notifyAndResolve(t,e,i,n,s)};try{if(t&&t.validateBeforeActionLink&&t.validateBeforeActionLink(n)===!1){e.resolve(!1);return}if(n.sDataUrl){t&&t.waitWheelStart();var s=t?t.dao.getActionPayload(n):null;u.dispatch({$url:n.sDataUrl,$method:n.$method||"GET"},s).then(function(e){t&&t.waitWheelStop(),i(!0,e)}).fail(function(r){t&&t.waitWheelStop(),!c.isError(r)&&$.isPlainObject(r)?i(!1,r):b("Action '"+n.title+"' failed",r,function(){e.reject(r)})})}else i(!0)}catch(o){b("Action '"+n.title+"' javascript exception",o,function(){e.reject(o)})}},_notifyAndResolve:function(e,t,n,r,i){e&&l.notifyController("sm.action.link",e,n,r,i,this.options),t&&t.resolve(n,r,i,this.options)}});t.Klass=w,t.getLinks=g,t.create=function(e,t,n,r){var i=new w(e,n||{});return i.updateLinks(t),i}}),define("syracuse-tablet/html/js/sdata/sdataSyncUtils",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/prototype"],function(e,t,n){"use strict";function u(e,t,n){t.uuid=r.UUID();if(e.level>=e.maxLevels)return $.smResolve(t);var i;if(e.prototype.getFacet()==="query"){var s=e.prototype.property("$resources");s&&s.$item&&s.$item.$links&&s.$item.$links.$details&&(i={$details:s.$item.$links.$details})}else{if(e.prototype.getFacet()!=="details")return $.smResolve(t);i=e.prototype.data("$links")}return t.$children=[],$.smForEachPromise(Object.keys(i),function(s){var o=i[s];if(a(o,s,n)){var u=f(o);if(u){n.push(o.$url);var c={$name:s,$title:r.parseExpression(o.$title,null,e.prototype,!0),$link:o,$representation:u};return t.$children.push(c),l(c,e,n)}}return $.smResolve()}),$.smResolve(t)}function a(e,t,n){if(n.indexOf(e.$url)>-1)return!1;if(t.indexOf("$")===0&&t!=="$details")return!1;if(e.$method!=="GET")return!1;if(e.$url.indexOf("/$services/")>-1)return!1;if(e.$url.indexOf("representation=")<0)return!1;var r=f(e);return!r||r.indexOf(".$details")<0&&r.indexOf(".$query")<0?!1:!0}function f(e){var t=/[\?\&]representation=(\S+?)(&|$)/.exec(e.$url);return t&&t[1]}function l(e,t,n){var r=i.getMetaData(),o=c(e,t);return r.getPrototype(o).then(function(r){if(r)return r=s.create(r),e.$prototype=r,e.$name==="$details"&&(e.$title=r.data("$title"),e.$isDetails=!0),u({prototype:r,level:t.level+1,maxLevels:t.maxLevels},e,n)})}function c(e,t){var n=t.prototype.data("$baseUrl");return n=n.split("/"),n=n.slice(n.length-3,n.length).join("."),n+"."+e.$representation}var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/globals"),s=e("syracuse-tablet/html/js/helpers/prototype"),o=6;t.getSyncStructure=function(e){var t={$title:e.data("$title")},n=[];return u({prototype:e,level:1,maxLevels:o},t,n)}}),define("syracuse-tablet/html/js/ui/modals/modalSyncOffline",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/ui/modals/modalDialog","syracuse-tablet/html/js/sdata/sdataDispatcher","syracuse-tablet/html/js/sdata/sdataSyncUtils"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/locale"),s=e("syracuse-tablet/html/js/ui/modals/modalDialog"),o=e("syracuse-tablet/html/js/sdata/sdataDispatcher"),u=e("syracuse-tablet/html/js/sdata/sdataSyncUtils"),a={header:'			<buttons class="pull-right"> 				<button type="button" class="btn btn-default s-m-modal-btn-cancel" data-action="$cancel"></button> 			</buttons> 			<div class="modal-title">{{title}}</div> 			',content:' 			<div class="s-m-scroll-wrapper s-m-scroll-wrapper-v">			<div class="s-m-scroll-element"> 				<div class="form-group"> 					<center> 						<button type="button" class="btn btn-default s-m-modal-btn-sync" data-action="modal-sync">{{label_sync}}</button> 						<button type="button" class="btn btn-default s-m-modal-btn-sync-stop hidden" data-action="modal-sync-stop">{{label_sync_stop}}<div class="s-m-sync-total"><span class="label label-success ok"></span><span class="label label-danger error"></span></div></button> 					</center> 				</div> 				<div class="form-group"> 					<label>{{label_tree}}</label> 					<div id="s-m-sync-tree-id"></div> 				</div> 			</div> 			</div>',footer:""},f=r.defineClass(function(t){var n=this;s.ModalBase.call(n),n.syncRootData=t},s.ModalBase,{_getTemplates:function(){var e=this;return{std:a}},getDisplayFlags:function(){var e=this,t=e.displayFlags||{};return e.deviceType==="tablet"?t.modalClass="sync-offline half_right":t.modalClass="sync-offline full",t},_getDataContext:function(){var e=this,t={title:i.text("modal.sync.title"),label_tree:i.text("modal.sync.header.tree"),label_sync:i.text("modal.sync.label_sync"),label_sync_stop:i.text("modal.sync.label_sync_stop")};return t},_onShow:function(){var e=this;s.ModalBase.prototype._onShow.call(e),u.getSyncStructure(e.syncRootData.pageProto).then(function(t){e.syncTreeRoot=t,e._buildStructHtml(t)})},_buildStructHtml:function(e){var t=this,n=$("#s-m-sync-tree-id"),r=$("<ul>");t._addNode(r,e,0),n.append(r)},_addNode:function(e,t,n){var r=this,i=n>0?"collapsed":"expanded";i+=n<1?" selected":"";var s=$('				<li class="s-m-sync-tree-item '+i+'" data-params="'+t.uuid+'"> 					<div class="s-m-tree-icon-expand" data-action="tree-click-expand" data-params="'+t.uuid+'"></div> 					<div class="s-m-tree-label" data-action="tree-click-select" data-params="'+t.uuid+'"></div> 					<div class="s-m-sync-count hidden"><div>"				</li>');$("div.s-m-tree-label",s).text(t.$title),e.append(s);if(t.$children.length>0){var o=$("<ul>");if(t.$isDetails!==!0){var u=t.$children[0];u&&u.$children.length>0&&(s.append(o),u.$children.forEach(function(e){r._addNode(o,e)}))}else t.$children.length>0&&(s.append(o),t.$children.forEach(function(e){r._addNode(o,e)}))}if($("ul",s).length<1){var a=$(">.s-m-tree-icon-expand",s);a.removeClass("s-m-tree-icon-expand"),a.addClass("s-m-tree-icon-leaf"),a.attr("data-action",null)}},_onAction:function(e,t){var n=this;return e==="tree-click-expand"?n._onTreeClickExpand(t):e==="tree-click-select"?n._onTreeClickSelect(t):e==="modal-sync"?n._syncData():e==="modal-sync-stop"&&(n.stopSync=!0),!1},_onValidate:function(){},_onCancel:function(){},_getResult:function(){return"done"},_onTreeClickExpand:function(e){var t=this,n=$('li[data-params="'+e+'"]');n.hasClass("expanded")?(n.removeClass("expanded"),n.addClass("collapsed")):(n.addClass("expanded"),n.removeClass("collapsed"))},_onTreeClickSelect:function(e){var t=this,n=$('li[data-params="'+e+'"]');n.hasClass("selected")?(n=n.add("li",n),n.removeClass("selected")):(n=n.add("li",n),n.addClass("selected"))},_syncData:function(){var e=this;e.stopSync=!1;var t=$('li[data-params="'+e.syncTreeRoot.uuid+'"]');$('button[data-action="modal-sync"]',e.$$elmt).addClass("hidden"),$('button[data-action="modal-sync-stop"]',e.$$elmt).removeClass("hidden"),e.syncCount=0,e.errorCount=0,e._updateErrorCount(),$.smForEachPromise(e.syncRootData.rowsData,function(n,r,i){return e.stopSync?$.smResolve():(e._updateSyncCount(t,r,i),e._syncNodeData(e.syncTreeRoot,n.rowData.data))}).always(function(t){$('button[data-action="modal-sync"]',e.$$elmt).removeClass("hidden"),$('button[data-action="modal-sync-stop"]',e.$$elmt).addClass("hidden")})},_updateSyncCount:function(e,t,n){var r=this,i=$(">div.s-m-sync-count",e);i.removeClass("hidden"),i.text(t+1+" / "+n);var s=$("li>div.s-m-sync-count",e);s.addClass("hidden")},_updateErrorCount:function(){var e=this,t=$('button[data-action="modal-sync-stop"]>.s-m-sync-total',e.$$elmt),n=$(">.ok",t),r=$(">.error",t);n.text(e.syncCount),r.text(e.errorCount)},_syncNodeData:function(e,t){var n=this,r;if(n.stopSync)return $.smResolve();if(e.$isDetails!==!0){r=$('li[data-params="'+e.uuid+'"]');if(r.length<1)return;if(!r.hasClass("selected"))return;e.$$listItem=r}e.$$listItem.addClass("sync-progress");var i;return e.$link?i=n._readNodeData(e,t):i=$.smResolve(t),i.then(function(t){var i=t&&t.$resources;return!i&&t&&(i=[t]),i?$.smForEachPromise(i,function(i,s,o){return n.stopSync?$.smResolve():(t.$resources&&n._updateSyncCount(r,s,o),$.smForEachPromise(e.$children,function(e){return n.stopSync?$.smResolve():(e.$$listItem=r,n._syncNodeData(e,i))}).then(function(){e.$$listItem.addClass("sync-progress")}))}):$.smResolve(null)}).then(function(){e.$$listItem.removeClass("sync-progress")})},_readNodeData:function(e,t){var n=this,i=$.Deferred(),s=r.parseExpression(e.$link.$url,t,e.$prototype);return s+="&nocache=true",o.dispatch({$url:s,$method:"GET"}).then(function(e){return n.syncCount++,n._updateErrorCount(),i.resolve(e),e}).fail(function(){n.errorCount++,n._updateErrorCount(),i.resolve(null)}),i.promise()}});t.Modal=f}),define("syracuse-tablet/html/js/application/multiSelectionMgr",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/jsutils","syracuse-tablet/html/js/sdata/sdataUtils","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/notifications","syracuse-tablet/html/js/ui/fontUtils","syracuse-tablet/html/js/sdata/sdataDispatcher","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/ui/modals/modalSyncOffline"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/jsutils"),s=e("syracuse-tablet/html/js/sdata/sdataUtils"),o=e("syracuse-tablet/html/js/helpers/globals"),u=e("syracuse-tablet/html/js/helpers/notifications"),a=e("syracuse-tablet/html/js/ui/fontUtils"),f=e("syracuse-tablet/html/js/sdata/sdataDispatcher"),l=e("syracuse-tablet/html/js/helpers/locale"),c=e("syracuse-tablet/html/js/ui/modals/modalSyncOffline"),h="multiSelMenuLink",p="multiSelMenuActions",d="multiSelection",v="s-m-multi-selected",m={menuActions:'		<div id="{{id}}" class="btn-group s-m-ismultisel">			<div class="{{dropDirection}}">				<button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-expanded="false">					<span class="badge"></span>Selected<span class="caret"></span>				</button>				<ul class="dropdown-menu dropdown-menu-right" role="menu">					{{#each links}}						<li><a  {{#if style}}style="{{style}}"{{/if}} draggable="false"  data-action="multiSelectionAction" data-params="{{params}}" data-control-id="{{../ctrlId}}" href="#">{{title}}</a></li>					{{/each}}				</ul>			</div>		</div>',menuLinks:'		<div  id="{{id}}" class="btn-group s-m-ismultisel">			<div class="{{dropDirection}}">				<button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-expanded="false">					Actions<span class="caret"></span>				</button>				<ul class="dropdown-menu dropdown-menu-right" role="menu">					{{#each links}}						<li>							<a draggable="false"  href="#" class="{{css}}" data-action="multiSelectionAction" data-params="{{$uuid}}" data-control-id="{{../ctrlId}}">								{{title}}							</a>						</li>					{{/each}}				</ul>			</div>		</div>',processMenu:'		<a draggable="false"  href="#" class="s-m-ismultisel" data-action="multiSelectionAction" data-params="$exitrun" data-control-id="{{ctrlId}}">			<i class="{{icon}}"/>		</a>'},g,y=function(e,t){var n=e+"compiled",r=m[n];return r||(r=m[e],r=m[n]=Handlebars.compile(r)),r||alert(l.text("multiselect.gethtml.alert",e)),r(t)},b=function(e){var t=[],n=e.prototype,i=e.dao,o=$.extend(!0,{},n.data("$links",null,!0),i.getValue("$links"));return o&&!$.isEmptyObject(o)&&$.each(o,function(e,o){if(o==null||o.$isExcluded===!0||e.smStartsWith("$"))return;if(o.$url==null||o.$url.length==0)return;var u,a=s.getLinkInfo(o.$url,i,!0);if(a==null)return;u=$.extend(a,o),u.$services&&(u.$isAction=!0),u.$uuid=o.$uuid||r.UUID(),u.name=e,u.title=n.resolveExpression(o.$title),u.icon="",u.css="s-m-ismultisel",t.push(u)}),t},w=r.defineClass(function(e,t){this.controller=e,this.cssToToggle=t,this.links=null,u.subscribe(this,["sm.main.layout.changed"]),g=[{title:l.text("multiselect.action.download"),params:"$download",style:"display:none"},{title:l.text("multiselect.action.unselectall"),params:"$unselectall",style:"display:none"},{title:l.text("multiselect.action.selectall"),params:"$selectall",style:"display:none"},{title:l.text("multiselect.action.invert"),params:"$invert",style:"display:none"},{title:l.text("multiselect.action.hideunselected"),params:"$hideunselected",style:"display:none"},{title:l.text("multiselect.action.showunselected"),params:"$showunselected",style:"display:none"}]},null,{destroy:function(){this.controller=null,this._$$ownerParent=null,this.links=null},getLinks:function(){return this.links},isEnabled:function(){return this._$$ownerParent!=null},updateLinks:function(e){if(e){this.links=e;return}this.links=b(this.controller)},_getArray:function(){var e=this.controller.getControlByBind("$resources");if(!e)throw new Error(l.text("multiselect.getArray.error"));return e},toggle:function(e,t,n){var r=this._getArray();return this._$$ownerParent?this._stopMultiSel(r):this._startMultiSel(t,r,n),this._$$ownerParent!=null},callbackArray:function(e,t,n){if(t=="$selectmultisel"){n=n.closest(".s-m-record"),n.toggleClass(v),n.hasClass(v)?this._updateUI(e,this.nbSelected+1):this._updateUI(e,this.nbSelected-1);return}if(t=="$showdiagnoses"){this._showDiagnoses(n);return}if(t=="$exitrun"){this._processExit(e);return}if(t=="$exitmultisel"){this._stopMultiSel(e);return}var r=this._$$All(e).show();if(t=="$download"){this._startDownloadAction(e);return}if(t=="$unselectall"){this._$$Selected(e).removeClass(v),this._updateUI(e,0);return}if(t=="$selectall"){r.addClass(v),this._updateUI(e,r.length);return}if(t=="$invert"){var i=this._$$Unselected(e),s=this._$$Selected(e);s.removeClass(v),i.addClass(v),this._updateUI(e,s.length);return}if(t==="$hideunselected"||t==="$showunselected"){this._$$Unselected(e).toggle(t==="$showunselected"),this._$$action("$hideunselected").toggle(t==="$showunselected"),this._$$action("$showunselected").toggle(t==="$hideunselected"),this._updateUI(e,null);return}if(this.nbSelected>0){var o=this;setTimeout(function(){o._processAll(e,t)})}},_toggleOwnerActions:function(e){var t="a:not(.s-m-ismultisel)";this.cssToToggle&&(t+=", "+this.cssToToggle),this._$$ownerParent.closest(".s-m-control").find(t).toggle(e)},_startMultiSel:function(e,t,n){this._$$ownerParent=e,this._$$ownerAction().addClass("enabled"),t.multiSelSetMgr(this),e.prepend(this._$$linksMenuHtml(t,n)),e.prepend(this._$$actionMenuHtml(t,n)),this._toggleOwnerActions(!1);var r=this;setTimeout(function(){r._updateUI(t,0)})},_stopMultiSel:function(e){if(!this._$$ownerParent)return;this._processExit(e),e.multiSelSetMgr(null),this._$$Selected(e).removeClass(v),this._$$menu(h).remove(),this._$$menu(p).remove(),this._$$ownerAction().removeClass("enabled"),this._toggleOwnerActions(!0),this._$$ownerParent=null,this._resizeArray(e)},_$$linksMenuHtml:function(e,t){return y("menuLinks",{id:h,links:this.links,ctrlId:e.id,dropDirection:t||"dropdown"})},_$$actionMenuHtml:function(e,t){return y("menuActions",{id:p,links:g,ctrlId:e.id,dropDirection:t||"dropdown"})},_resizeArray:function(e){e.onResize()},_getSelectedData:function(e){var t=this._$$Selected(e),n=[];return t.each(function(t,r){var i=$(r);i.attr("data-disabled","true");var s=i.attr("data-params"),o=e.getRowById(s);o&&n.push({rowData:o.row,rowId:s,$$record:i,idx:t,status:"init"})}),n},_processStart:function(e,t){var n=$.Deferred();try{e.waitStart();var r=this._$$Unselected(e);r.hide(),this._resizeArray(e),this._$$ownerParent.find(".s-m-ismultisel").hide(),this._$$ownerParent.prepend(y("processMenu",{title:"Exit",ctrlId:e.id,icon:a.getIconByName("$cancelMultiSel")}));var i=this._getSelectedData(e),s=null,o=this;this.getLinks().some(function(e){if(e.$uuid===t)return s=e,!0}),n.resolve(s,i)}catch(u){n.reject(u)}finally{return n.promise()}},_processAll:function(e,t){var n=this,r;n._processStart(e,t).then(function(t,i){r=i;var s=$.Deferred(),o=function(r){r>=i.length?s.resolve(t,i):n._processOne(e,t,i[r],r).then(function(e){o(r+1)})};return o(0),s.promise()}).then(function(t,r){n._processEnd(r,e)}).fail(function(t){o.getModal().error(l.text("multiselect.processAll.fail"),t,function(){n._processEnd(r,e)})})},_processEnd:function(e,t){var n={ok:0,ko:0,init:0};e.forEach(function(e){n[e.status]++}),this._$$ownerParent.prepend('<span class="s-m-multiselmsg">'+n.ok+" successes - "+n.ko+" failures</span>"),this._resizeArray(t),t.waitStop()},_processExit:function(e){this._$$All(e).show().removeClass("error success "+v).removeAttr("data-disabled"),this._$$ownerParent.find('[data-params="$exitrun"], .s-m-multiselmsg').remove(),this._$$ownerParent.find(".s-m-ismultisel").show(),this._updateUI(e,0),e.$$value.find(".s-m-multisel-diag").smRemoveData("diagnoses").remove(),this._resizeArray(e)},_processOne:function(e,t,n,r){var o=this,u=$.Deferred(),a=function(t,r){try{var a=[],f=[];if($.isPlainObject(r)){var l=s.scanDiagnoses(r);l&&l.forEach(function(e){e.$severity==="error"?f.push(e):a.push(e)})}t=t&&f.length==0,t?n.$diagnoses=a:i.isError(r)?n.$diagnoses=[{$message:r.message,$stackTrace:r.stack}]:n.$diagnoses=f}catch(c){t=!1,n.$diagnoses=[{$message:c.message,$stackTrace:c.stack}]}finally{n.status=t?"ok":"ko",n.$$record.addClass(t?"success":"error"),o._addDiagnoses(e,n),u.resolve(t)}};try{if(t.$url){var l=n&&n.rowData?n.rowData.parseExpression(t.$url):t.sDataUrl,c=n&&n.rowData?n.rowData.getActionPayload(t):null;f.dispatch({$url:l,$method:t.$method||"GET"},c).then(function(e){a(!0,e)}).fail(function(e){a(!1,e)})}else a(!0)}catch(h){a(!1,h)}finally{return u.promise()}},_addDiagnoses:function(e,t){var n=null,r,i,s=e.getMode()==="table";s?r=t.$$record.children("td").length:(n=$('<section data-action="multiSelectionAction" data-params="$showdiagnoses"/>').addClass("s-m-multisel-diag").prependTo(t.$$record),n.width(t.$$record.width()),n.smData("diagnoses",t.$diagnoses)),t.$diagnoses.forEach(function(e,o){i=$('<div data-idx="'+o+'" class="alert alert-'+(e.$severity==="error"?"danger":"success")+'" role="alert">'+e.$message+"</div>"),s&&(n=$('<tr  data-action="multiSelectionAction"  data-params="$showdiagnoses"><td colspan="'+r+'"/></tr>').addClass("s-m-multisel-diag"),n.smData("diagnoses",t.$diagnoses),t.$$record.after(n),n=n.children()[0]),i.appendTo(n)})},_showDiagnoses:function(e){e=e.closest(".s-m-multisel-diag");var t=e.smData("diagnoses");if(t==null||t.length==0)return;o.getModal().error("",{$diagnoses:t})},_$$ownerAction:function(){return this._$$ownerParent.find('[data-action="'+d+'"]')},_$$Unselected:function(e){return e.$$value.find(".s-m-record:not(."+v+")")},_$$Selected:function(e){return e.$$value.find(".s-m-record."+v)},_$$All:function(e){return e.$$value.find(".s-m-record")},_$$action:function(e){return this._$$ownerParent.find('[data-params="'+e+'"]')},_$$menu:function(e){return this._$$ownerParent.find("#"+e)},_updateUI:function(e,t){if(!this._$$ownerParent)return;t!=null&&(this.nbSelected=Math.max(0,t),this._$$menu(p).find(".badge").text(this.nbSelected));var n=this.nbSelected==0,r=this.nbSelected===e.getNbRecords();this._$$menu(h).children("button").toggleClass("disabled",n),n||r?(this._$$action("$hideunselected").hide(),this._$$action("$showunselected").hide()):this.nbSelected>0&&!this._$$action("$showunselected").is(":visible")&&this._$$action("$hideunselected").show(),this._$$action("$unselectall").toggle(this.nbSelected>0),this._$$action("$selectall").toggle(!0),this._$$action("$invert").toggle(this.nbSelected>0),this._$$action("$download").toggle(this.nbSelected>0)},notifMainLayoutChanged:function(){this._$$ownerParent&&this._stopMultiSel(this._getArray())},_startDownloadAction:function(e){var t=this,n=t._getSelectedData(e),r=e.prototype;while(r.parent)r=r.parent;var i={pageProto:r,rowsData:[]};n.forEach(function(e){i.rowsData.push(e)});var s=new c.Modal(i);s.show().then(function(n){n==="done"&&t._stopMultiSel(e)})}});t.actionId=d,t.create=function(e,t){if(!e.prototype.isQuery())return null;var n=b(e);if(n.length===0)return null;var r=new w(e,t);return r.updateLinks(n),r}}),define("syracuse-tablet/html/js/controls/page/ctrlPageHeader",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/uiSettings","syracuse-tablet/html/js/controls/ctrlBase","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/ui/fontUtils","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/application/eventListener","syracuse-tablet/html/js/helpers/prototype","syracuse-tablet/html/js/application/actionManager","syracuse-tablet/html/js/helpers/jsutils","syracuse-tablet/html/js/application/multiSelectionMgr"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/uiSettings"),s=e("syracuse-tablet/html/js/controls/ctrlBase").Klass,o=e("syracuse-tablet/html/js/helpers/globals"),u=e("syracuse-tablet/html/js/ui/fontUtils"),a=e("syracuse-tablet/html/js/helpers/locale"),f=e("syracuse-tablet/html/js/application/eventListener"),l=e("syracuse-tablet/html/js/helpers/prototype"),c=e("syracuse-tablet/html/js/application/actionManager"),h=e("syracuse-tablet/html/js/helpers/jsutils"),p=e("syracuse-tablet/html/js/application/multiSelectionMgr"),d=o.PANELUSERSMARTPHONE,v=o.PANELACTIONSREGULAR,m={main:'		<div class="s-m-header container-fluid {{deviceType}}">			{{{contentHtml}}}		</div>	',tablet:{main:'			<div class="s-m-header-nav">				{{#if showBack}} 					<a href="#" draggable="false" data-action="historyBack">						<i class="'+u.pageIcon("back")+'" />						</a>				{{/if}} 			</div>			<div class="s-m-header-labels">				{{#if showBrand}}					<div class="s-m-header-brand"><span class="s-m-brand">{{labelBrand}}</span> <span class="s-m-product">{{labelProduct}}</span></div>				{{/if}}				<div class="s-m-header-label">{{headerLabel}}</div>			</div>			<div class="s-m-header-links">				{{{userContent}}}			</div>',userInfo:'			<div>				<span class="s-m-nav-text username">{{username}}</span>				<span class="s-m-nav-text userrole">{{userrole}}</span>			</div>			{{#if userPhotoUrl}}				<img src="{{userPhotoUrl}}"/>			{{else}}				<span style="font-size:32px" class="'+u.pageIcon("switchContext")+'" />			{{/if}}',infoOnly:"			<div>{{{userInfo}}}</div>}}}",dropDown:'			<div class="dropdown">				<a href="#" draggable="false" data-toggle="dropdown" role="button" id="{{dropdownId}}" aria-haspopup="true" aria-expanded="false">					{{{userInfo}}}				</a>				{{{dropDownMenu}}}			</div>',dropDownMenu:'			<ul class="dropdown-menu" role="menu" aria-labelledby="{{dropdownId}}">				{{#each links}}					{{#if divider}} 						<li role="presentation" class="divider"></li>					{{/if}} 					<li>						<a href="#" data-action="linkClicked" draggable="false" data-params="{{data-params}}" data-control-id="{{ctrlId}}" class="list-group-item {{css}}">							<span class="{{icon}}" />							<span>{{label}}</span>						</a>					</li>				{{/each}}			</ul>',search:'			<div class="s-m-header-search" style="display:none">				<form style="display:none" class="navbar-form navbar-right" role="search">					<div class="form-group input-group-sm"">						<input type="text" class="form-control" placeholder="Search">					</div>					<button type="submit" class="btn btn-success">						<span class="'+u.pageIcon("search")+'"></span>					</button>				</form>			</div>'},smartphone:{main:'			<div class="s-m-header-nav">				<a href="#" draggable="false" data-action="headerAction" data-params="{{panelId}}" data-control-id="{{ctrlId}}">					<span class="'+u.pageIcon("bars")+'" />				</a>				{{{backDom}}}			</div>			<div class="s-m-header-labels">				{{{labelContent}}}			</div>			<div class="s-m-header-links">				{{{linksContent}}}			</div>',backDom:'			<a href="#" draggable="false" data-action="historyBack" style="padding-left:0;">				<span class="'+u.pageIcon("backIphone")+'" />			</a>',brandDom:'			<div class="s-m-header-brand">				<span class="s-m-brand">{{labelBrand}}</span>				<span class="s-m-product">{{labelProduct}}</span>			</div>',labelDom:'			<div class="s-m-header-label">{{label}}</div>',actionLink:'			<a href="#" draggable="false" class="{{css}}" data-action="{{#if action}}{{action}}{{else}}headerLink{{/if}}" data-params="{{$uuid}}" data-control-id="{{ctrlId}}">				<i class="{{icon}}"></i>			</a>',actionPanelToggle:'			<a href="#" data-action="headerAction" draggable="false" data-params="{{panelId}}" data-control-id="{{ctrlId}}">				<i class="'+u.pageIcon("sidePanelR")+'" />				<span>{{{title}}}</span>			</a>'}},g={showAuthoring:{items:[{"data-params":"designPage",icon:"designPage",label:"header.links.designPage"}]},showLinks:{items:[{"data-params":"clearCache",icon:"clearCache",label:"header.links.clearCache"},{"data-params":"switchContext",icon:"switchContext",label:"header.links.switchContext"},{"data-params":"about",icon:"about",label:"header.sm.links.about"}]},showDevelopment:{divider:!0,items:[{"data-params":"developmentPage",icon:"developmentPage",label:"header.links.development"}]}},y=function(e,t,n){e=e||"";var r=e+t+"compiled",i=m[r];return i||(i=e.length==0?m[t]:m[e][t],i=m[r]=Handlebars.compile(i)),i(n)},b=r.defineClass(function(e,t,n){s.call(this,t,{$bind:"header"},l.create({$type:e}),n)},s,{destroy:function(){this.resetPanels(),this.actionManager&&(this.actionManager.destroy(),this.actionManager=null),this.multiSelManager&&(this.multiSelManager.destroy(),this.multiSelManager=null),s.prototype.destroy.call(this)},resetPanels:function(){this._smphUserpanel&&this._smphUserpanel.destroy(),this._smphPageactionpanel&&this._smphPageactionpanel.destroy()},buildHtml:function(e,t,n){this.buildOptions=n.toolBars||{},this.buildOptions.showDevelopment=o.isDvlpMode(),this.buildOptions.showAuthoring=r.isDesktop()===!0?this.buildOptions.showAuthoring:!1,s.prototype.buildHtml.call(this,e,t,n,[this.typeName]),this._build()},applyMetaData:function(e){return},_actLinkClicked:function(e){f.triggerAction(this.$$elmt,e)},_actMultiSelection:function(e,t){var n=this.multiSelManager.toggle(this,this.$$elmt.find(".s-m-header-links"),"dropdown");this.$$elmt.find(".s-m-header-nav, .s-m-header-labels, a:not(.s-m-ismultisel)").toggle(!n)},onMainPageResize:function(e,t,n){this.$$elmt.parent().css({width:e.contentWidth+"px"}),this._build(n),this._updateHeaderStyle(this._deviceType)},getHeight:function(){return this.$$elmt&&this.$$elmt.is(":visible")?this.$$elmt.height():0},_build:function(e){var t=o.getSiteLayout().getDeviceType(e);if(this._deviceType!=null&&this._deviceType===t)return;this._deviceType=t,this.$$header&&this.$$header.remove();var n=i.getProp("header.height");this.$$elmt.css({height:n+"px"});var r=this.$$elmt.parent();r.css({left:"0px",height:n+"px"});var s=this.buildOptions,u;t==="smartphone"?u=this._smartPhoneHtml(s):u=this._tabletHtml(s),this.$$header=$(y(null,"main",{contentHtml:u,deviceType:t})),this.$$header.appendTo(this.$$elmt)},_updateHeaderStyle:function(e){var t=this,n=t.$$elmt.find(".s-m-header"),r=t.$$elmt.find(".s-m-header-links"),i=t.$$elmt.find(".s-m-header-nav"),s=t.$$elmt.find(".s-m-header-label"),o=10;if(e==="tablet")if(!t.controller.state.isWelcomePage){var u=n.width()-(i[0].scrollWidth+r[0].scrollWidth+o);s.css("max-width",u)}else{s.css("max-width","inherit");var a=t.$$elmt.find(".s-m-header-brand"),f=a.width()+s.width()+i.width()+r.width()+o>n.width();s.toggle(f?!1:!0);var l=a.width()+i.width()+r.width(),c=3;if(f==1&&l>n.width())while(l>n.width())a.css("font-size",a.css("font-size").match(/\d+/)[0]-c+"px"),c+=3,l=a.width()+i.width()+r.width();else a.css("font-size","2.5em")}else if(!t.controller.state.isWelcomePage){var u=n.width()-(i[0].scrollWidth+r[0].scrollWidth+o);s.css("max-width",u)}},_tabletHtml:function(){var e=this,t={dropdownId:r.UUID(),links:[]},n=e.buildOptions,i=0;for(var s in g)if(n[s]===!0){var f=g[s];f.items.forEach(function(n,r){n=$.extend({},n),n.label=a.text(n.label),n.ctrlId=e.id,n.icon=u.pageIcon(n.icon),r===0&&t.links.length>1&&(n.divider=f.divider),t.links.push(n)})}var l={showBack:n.showHome,showHome:n.showHome,showBrand:e.controller.state.isWelcomePage,labelBrand:n.labelBrand||"Sage",labelProduct:n.labelProduct||"ERP X3",headerLabel:e.controller.state.isWelcomePage?o.getApplication().getTitle():e.controller.prototype.data("$title")},c=y("tablet","userInfo",{username:o.getUserName(),userrole:o.getUserRole(),userPhotoUrl:o.getUserPhotoUrl});return t.links.length===0?l.userContent=y("tablet","infoOnly",{userInfo:c}):(l.userContent=y("tablet","dropDown",{userInfo:c,dropDownMenu:y("tablet","dropDownMenu",t)}),e.$$elmt.css({overflow:"visible"})),y("tablet","main",l)},_smartPhoneHtml:function(e){var t=this;this.resetPanels(),t._smphUserpanel=t.controller.panelCreate(d),t._smphPageactionpanel=t.controller.panelCreate(v);var n="",r="",i="";e.showHome&&o.getLookAndFeel()==="ios"&&(n=y("smartphone","backDom",{})),r=t._getLabelContent(e),i=t._getLinksContent(t._smphPageactionpanel&&t._smphPageactionpanel.hasLinks());var s={backDom:n,labelContent:r,linksContent:i,panelId:d,ctrlId:t.id};return y("smartphone","main",s)},_getLabelContent:function(e){function r(e,t,n){return e?y("smartphone","labelDom",{label:t}):y("smartphone","brandDom",{labelBrand:n.labelBrand||"Sage",labelProduct:n.labelProduct||"ERP X3"})}var t=this,n;return this.controller.state.isWelcomePage?n=r(!1,null,e):t.controller.state.isWelcomePage?n=r(!0,o.getApplication().getTitle()):t.controller.prototype.data("$title")?n=r(!0,t.controller.prototype.data("$title")):n=r(!1,null,e),n},_getLinksContent:function(e){var t="";this.multiSelManager=p.create(this.controller,".s-m-header-nav, .s-m-header-labels, a:not(.s-m-ismultisel)"),this.actionManager=c.create(this.controller,"header",{addCancelEditAction:"headerLink",addMultiSelection:this.multiSelManager!=null?p.actionId:null,deviceType:this.deviceType||"smartphone"});var n=this.actionManager.getLinks(),r=[];e&&r.push(y("smartphone","actionPanelToggle",{panelId:v,ctrlId:this.id,title:"&nbsp;"}));if(n&&n.length>0){var i=this;n.forEach(function(e,t){r.push(y("smartphone","actionLink",$.extend(e,{ctrlId:i.id})))})}return t=r.join(""),t},_actHeaderLink:function(e){this.actionManager.triggerLink(e,this.controller).then(function(e,t,n,r){}).fail(function(e){h.isError(e)&&o.getModal().error("Header action error (smartphone)",e)})},_actHeaderAction:function(e){var t=e===v?this._smphPageactionpanel:this._smphUserpanel,n=e===v?"right":"left";this.controller.panelAttach(n,t,"toggle")}});t.Klass=b}),define("syracuse-tablet/html/js/controls/page/ctrlPageFooter",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/uiSettings","syracuse-tablet/html/js/controls/ctrlBase","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/application/actionManager","syracuse-tablet/html/js/application/multiSelectionMgr","syracuse-tablet/html/js/ui/fontUtils","syracuse-tablet/html/js/helpers/jsutils","syracuse-tablet/html/js/helpers/prototype","syracuse-tablet/html/js/helpers/notifications","syracuse-tablet/html/deps/hammerjs-2.0.4/hammer","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/uiSettings"),s=e("syracuse-tablet/html/js/controls/ctrlBase").Klass,o=e("syracuse-tablet/html/js/helpers/globals"),u=e("syracuse-tablet/html/js/application/actionManager"),a=e("syracuse-tablet/html/js/application/multiSelectionMgr"),f=e("syracuse-tablet/html/js/ui/fontUtils"),l=e("syracuse-tablet/html/js/helpers/jsutils"),c=e("syracuse-tablet/html/js/helpers/prototype"),h=e("syracuse-tablet/html/js/helpers/notifications"),p=e("syracuse-tablet/html/deps/hammerjs-2.0.4/hammer"),d=e("syracuse-tablet/html/js/ui/uiUtils"),v=e("syracuse-tablet/html/js/helpers/locale"),m=o.PANELACTIONSREGULAR,g={main:'		<div class="s-m-closed"></div>		<div class="s-m-footer s-m-opened container-fluid {{deviceType}}">			{{{contentHtml}}}		</div>',tablet:{main:'			<div class="s-m-footer-left">				{{{homeLink}}}				{{{configLink}}}				{{{pinPage}}}			</div>			<div class="s-m-footer-right">				{{{rightLinks}}}			</div>		',rightLinks:'			{{#each links}}				<a draggable="false"  href="#" class="{{css}}" data-action="{{#if action}}{{action}}{{else}}footerLink{{/if}}" data-params="{{$uuid}}" data-control-id="{{../ctrlId}}">					<i class="{{icon}}"/>					<span>{{{title}}}</>				</a>			{{/each}}		',action:'			<a href="#" data-action="{{action}}">				<i class="{{icon}}"/>				<span>{{{title}}}</>			</a>'},smartphone:{main:""}},y=function(e,t,n){e=e||"";var r=e+t+"compiled",i=g[r];return i||(i=e.length==0?g[t]:g[e][t],i=g[r]=Handlebars.compile(i)),i||alert("footer template "+t+" not found"),i(n)},b=r.defineClass(function(e,t,n){s.call(this,t,{$bind:"footer"},c.create({$type:e}),n),this.actionManager=null,this.multiSelManager=null,this._actionPanel=null,h.subscribe(this,["sm.page.pin.state.change"])},s,{destroy:function(){this._hammer&&(this._hammer.destroy(),this._hammer=null),this.actionManager&&(this.actionManager.destroy(),this.actionManager=null),this.multiSelManager&&(this.multiSelManager.destroy(),this.multiSelManager=null),this.resetActionPanel(),s.prototype.destroy.call(this),h.unsubscribe(this)},resetActionPanel:function(){this._actionPanel&&(this._actionPanel.destroy(),this._actionPanel=null)},buildHtml:function(e,t,n){this.buildOptions=$.extend(n.footer,n.toolBars)||{},s.prototype.buildHtml.call(this,e,t,n,[this.typeName]),this._$$parent=this.$$elmt.closest("footer"),this._build(),this.$$footer&&this.options.showHide===!0&&(this._hammer&&this._hammer.destroy(),this._hammer=new p(this._$$parent.get(0)),this._hammer.get("swipe").set({direction:p.DIRECTION_VERTICAL,velocity:.1}),this._hammer.on("swipeup swipedown",p.bindFn(this._onSwipe,this)))},applyMetaData:function(e){return},_actFooterLink:function(e){this.actionManager.triggerLink(e,this.controller).then(function(e,t,n,r){}).fail(function(e){l.isError(e)&&o.getModal().error("Footer action error",e)})},_actMultiSelection:function(e,t){this.multiSelManager.toggle(this,this.$$elmt.find(".s-m-footer-right"),"dropup")},_actFooterAction:function(e){e===m&&this.controller.panelAttach("right",this._actionPanel,"toggle")},onMainPageResize:function(e,t,n){var r=o.getSiteLayout().getDeviceType(n);this._build(r);if(this.$$footer){this._$$parent.css({top:e.contentHeight-this._height+"px",width:e.contentWidth+"px"});var i=this;setTimeout(function(){i._$$parent.show()})}else this.resetActionPanel()},getHeight:function(){return this.$$elmt&&this.$$elmt.is(":visible")?this.$$elmt.height():0},_build:function(e){e=e||o.getSiteLayout().getDeviceType();if(this._deviceType!=null&&this._deviceType===e)return;this._deviceType=e,this.$$footer&&(this.$$footer.remove(),this.$$footer=null);if(e==="smartphone")return;var t=this.options.showHide?"closed":"opened";this._height=i.getProp("footer.height."+t),this._$$parent.css({left:"0px",height:this._height+"px"}),this.$$footer=$(y(null,"main",{contentHtml:this._tabletHtml(this.buildOptions),deviceType:e})),this.$$footer.appendTo(this.$$elmt),t==="closed"&&this.$$elmt.addClass("s-m-"+t)},_onSwipe:function(e){if(!e||!this.$$elmt)return;var t=this.$$elmt.is(".s-m-closed")?"closed":"opened",n=e.type==="swipeup"?"open":"close";if(t==="closed"&&n==="open"||t==="opened"&&n==="close")this.$$elmt.toggleClass("s-m-closed"),t=t==="closed"?"opened":"closed",this._height=i.getProp("footer.height."+t),this._$$parent.height(this._height),d.triggerResizeInternal({footerSwipe:!0})},_tabletHtml:function(e){var t=this,n={},r=t.actionManager==null;r&&(t.multiSelManager=a.create(t.controller),t.actionManager=u.create(t.controller,"footer",{addCancelEditAction:"footerLink",addMultiSelection:t.multiSelManager!=null?a.actionId:null})),t.$$elmt.find(".s-m-footer-right").remove();var i;t.actionManager.hasLinks()&&(i=t.actionManager.getLinks()),!t._actionPanel&&t.controller.state.type==="regular"&&(t._actionPanel=t.controller.panelCreate(m)),r&&t._actionPanel&&t._actionPanel.hasLinks()&&(i||(i=[]),i.push({action:"footerAction",ctrlId:t.id,icon:f.pageIcon("sidePanelR"),$uuid:m,title:"&nbsp;"}));if(i)var i=y("tablet","rightLinks",{ctrlId:t.id,links:i});var s="";e.showHome&&(s=y("tablet","action",{action:"home",icon:f.pageIcon("home"),title:v.text("action.home")}));var o="";e.showPageConfig&&(o=y("tablet","action",{action:"pageConfig",icon:f.pageIcon("pageConfig"),title:v.text("action.pageConfig")}));var l="";return e.statusPinPage>0&&(l=y("tablet","action",{action:"pinPage",icon:f.pageIcon("pinPage_"+e.statusPinPage),title:v.text("action.pin")})),y("tablet","main",{homeLink:s,configLink:o,pinPage:l,rightLinks:i})},notifPagePinStateChange:function(e){var t=this.$$elmt.find("[data-action=pinPage] i");t.length>0&&t.attr("class",f.pageIcon("pinPage_"+e))}});t.Klass=b}),define("syracuse-tablet/html/js/controls/page/panels/sidePanel",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/ctrlBase","syracuse-tablet/html/js/helpers/prototype","syracuse-tablet/html/js/application/eventListener"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/ctrlBase").Klass,s=e("syracuse-tablet/html/js/helpers/prototype"),o=e("syracuse-tablet/html/js/application/eventListener"),u=r.defineClass(function(e,t,n,r){this.panelId=n,this.actionManager=null,this.closeBox=r.closeBox===!0,this.overlap=r.overlap!==!1,i.call(this,e,{$bind:this.panelId+"panel"},s.create({$type:t}),r)},i,{destroy:function(){this.actionManager&&(this.actionManager.destroy(),this.actionManager=null),i.prototype.destroy.call(this)},buildHtml:function(e){this.side=e,i.prototype.buildHtml.call(this,null,this.controller.dao,{},[this.typeName]),this.$$elmt.hide()},attach:function(e,t){this.$$elmt&&this.side!=null&&t!=this.side&&(this.$$elmt.remove(),this.$$elmt=null),this.$$elmt||this.buildHtml(t),this.isAttached()&&(console.log("sidePanel.attach - Unexpected attached $$elmt"),this.detach());if(!e)return;e.append(this.$$elmt)},isAttached:function(e){return this.$$elmt!=null&&this.$$elmt.closest(".s-m-panel").length>0&&this.side==e},detach:function(){if(!this.$$elmt)return;this.$$elmt.detach()},isEnabled:function(){return!0},notifyToggled:function(e,t,n){},applyMetaData:function(e){return},onClick:function(e){this.close()},close:function(){o.triggerAction(this.$$elmt,"toggleSidePanel","close,"+this.side)},setActionManager:function(e){this.actionManager&&this.actionManager.destroy(),this.actionManager=e},_actActionLink:function(e){return this.actionManager?this.actionManager.triggerLink(e,this.controller).then(function(e,t,n,r){}).fail(function(){}):$.smResolve()},hasLinks:function(){return this.actionManager&&this.actionManager.hasLinks()}});t.Klass=u}),define("syracuse-tablet/html/js/controls/page/panels/actionPanel",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/page/panels/sidePanel","syracuse-tablet/html/js/helpers/hammerScroller","syracuse-tablet/html/js/ui/rect","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/application/actionManager"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/page/panels/sidePanel").Klass,s=e("syracuse-tablet/html/js/helpers/hammerScroller").Klass,o=e("syracuse-tablet/html/js/ui/rect"),u=e("syracuse-tablet/html/js/helpers/globals"),a=e("syracuse-tablet/html/js/helpers/locale"),f=e("syracuse-tablet/html/js/application/actionManager"),l={main:'			<nav class="navbar s-m-side-panel {{side}} navbar-inverse ctrl-evt-click" role="navigation">				<div class="s-m-scroll-elmt">				{{#if facetlink}}					<div class="container-fluid">						<div class="navbar-header">							<span class="navbar-brand" href="#"><span>{{linksHeaderTitle}}</span></a>						</div>					</div>					<ul class="nav navbar-nav">						{{{facetLinksHtml}}}					</ul>				{{/if}}				<div class="container-fluid">					<div class="navbar-header">						<span class="navbar-brand" href="#"><span>{{title}}</span></a>					</div>				</div>					<ul class="nav navbar-nav">						{{{actionsHtml}}}					</ul>				</div>			</nav>',facetLinks:'		{{#each links}}			<li>		 		{{#if $isAction}} 					<a draggable="false" href="#" class="{{css}}" data-action="actionLink" data-params="{{$uuid}}" data-control-id="{{../../ctrlId}}">						<i style="font-size: large" class="{{icon}}"/>						<span>{{title}}</span>					</a>				{{else}} 					<a draggable="false" href="#" class="{{css}}" data-nav="{{page}}" data-params="{{$uuid}}" data-sdata-parameters="{{parameters}}" data-control-id="{{../ctrlId}}">						<i style="font-size: large" class="{{icon}}"/>						<span>{{title}}</span>					</a>				{{/if}} 			</li>		{{/each}}'},c=r.defineClass(function(e,t,n,r){this.enableGesture=r.enableGesture!==!1,i.call(this,e,t,n,r)},i,{destroy:function(){i.prototype.destroy.call(this),this._gestureMgr&&(this._gestureMgr.destroy(),this._gestureMgr=null)},buildHtml:function(e){i.prototype.buildHtml.call(this,e),this.$$elmt.addClass(this.typeName);var t={ctrlId:this.id,side:e};this._gestureMgr&&(this._gestureMgr.destroy(),this._gestureMgr=null),this.$$panel&&this.$$panel.remove(),this.$$panel=this.buildPanel(t,e),this.$$panel&&this.$$panel.length&&this.$$elmt.append(this.$$panel)},buildPanel:function(e,t){var n=this._getFactLink();return n&&(e.facetlink=!0,e.linksHeaderTitle=a.text("actionpanel.label.links"),e.facetLinksHtml=Handlebars.compile(l.facetLinks)({links:n})),$(Handlebars.compile(l.main)(e))},_getFactLink:function(){var e=f.getLinks(this.controller,"actionpanelparent",{deviceType:u.getSiteLayout().getDeviceType()});return e&&Object.keys(e).length>0?e:null},isEnabled:function(){return!0},notifyToggled:function(e,t,n){this.enableGesture&&n&&this.updateGesture()},updateGesture:function(){if(this.$$elmt.is(":visible")&&this.$$panel){this._gestureMgr||(this.$$scrollElmt=this.$$panel.find(".s-m-scroll-elmt"),this.$$scrollElmt.css({height:"auto",position:"relative"}),this.$$scrollWrapper=this.$$panel,this._gestureMgr=new s(this.$$scrollElmt,{direction:"v",valMax:0,name:this.$bind,isPageScroller:!1}));var e=o.elmtRect(this.$$scrollElmt,"outer"),t=o.elmtRect(this.$$scrollWrapper,"outer"),n=t.intersectRect(e);n&&!n.contains(e)?this._gestureMgr.init(n):this._gestureMgr.reset()}else this._gestureMgr&&this._gestureMgr.reset()},hasLinks:function(){return this._getFactLink()!=null}});t.Klass=c}),define("syracuse-tablet/html/js/controls/page/panels/pageActionPanelRegular",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/page/panels/actionPanel","syracuse-tablet/html/js/application/actionManager"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/page/panels/actionPanel").Klass,s=e("syracuse-tablet/html/js/application/actionManager"),o={actionLink:'		{{#each links}}			<li>		 		{{#if $isAction}} 					<a draggable="false" href="#" class="{{css}}" data-action="actionLink" data-params="{{$uuid}}" data-control-id="{{../../ctrlId}}">						<i style="font-size: large" class="{{icon}}"/>						<span>{{title}}</span>					</a>				{{else}} 					<a draggable="false" href="#" class="{{css}}" data-nav="{{page}}"  data-sdata-url="{{sDataUrl}}" data-sdata-method="{{$method}}" data-params="{{$uuid}}" data-sdata-parameters="{{parameters}}" data-control-id="{{../ctrlId}}">						<i style="font-size: large" class="{{icon}}"/>						<span>{{title}}</span>					</a>				{{/if}} 			</li>		{{/each}}'},u=function(e,t){var n=e+"compiled",r=o[n];return r||(r=o[n]=Handlebars.compile(o[e])),r(t)},a=r.defineClass(function(e,t,n,r){i.call(this,e,t,n,r)},i,{buildPanel:function(e,t){return this.actionManager||this._createActionManager(),this.actionManager.hasLinks()&&(e.title="Actions",e.actionsHtml=u("actionLink",{ctrlId:this.id,links:this.actionManager.getLinks()})),i.prototype.buildPanel.call(this,e)},_actActionLink:function(e){return this.close("close"),i.prototype._actActionLink.call(this,e)},_createActionManager:function(){return this.actionManager?this.actionManager:(this.setActionManager(s.create(this.controller,"actionpanel")),this.actionManager)},hasLinks:function(){return i.prototype.hasLinks.call(this)?!0:this._createActionManager()&&this.actionManager.hasLinks()}});t.Klass=a}),define("syracuse-tablet/html/js/controls/page/panels/sortfilter/tabBase",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/jsutils"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/jsutils"),s=r.defineClass(function(e,t,n){this.id=t,this.options=n||{},this.panel=e,this.$$tab=this.panel.$$panel.find('[href="#'+t+'"]'),this.$$tab.on("shown.bs.tab",i.bindFn(this.onTabShown,this)),this.$$content=this.panel.$$panel.find("#"+this.id),this.$$content.on("click","[data-params]",i.bindFn(this.onTabContentClick,this))},null,{destroy:function(){this.panel=null,r.unbindObj(this.$$tab),this.$$tab=null,r.unbindObj(this.$$content),this.$$content=null},hide:function(){this.$$tab.parent().hide(),this.$$content.hide()},setWidth:function(e){this.$$tab.parent().width(e)},triggerActivate:function(){var e=this;e.$$tab.parent().hasClass("active")?e.onTabShown():window.setTimeout(function(){e.$$tab.tab("show")})},onTabShown:function(e){this.panel.notifyActiveTab(this)},buildHtml:function(){},onTabContentClick:function(e){e.preventDefault(),e.stopPropagation(),this.doContentAction(e,$(e.target),$(e.target).attr("data-params"))},doContentAction:function(e,t,n){},doActionApply:function(e,t){},onResize:function(e){},notifyOpenPanel:function(){},notifyClosePanel:function(){}});t.Klass=s}),define("syracuse-tablet/html/js/controls/page/panels/sortfilter/tabSort",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/page/panels/sortfilter/tabBase","syracuse-tablet/html/js/ui/fontUtils","syracuse-tablet/html/js/ui/rect","syracuse-tablet/html/js/helpers/hammerScroller"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/page/panels/sortfilter/tabBase").Klass,s=e("syracuse-tablet/html/js/ui/fontUtils"),o=e("syracuse-tablet/html/js/ui/rect"),u=e("syracuse-tablet/html/js/helpers/hammerScroller").Klass,a={main:'		<div id="sorttabroot" class="s-m-scroll-wrapper">			<ul class="list-group"/>		</div>',items:'		{{#each items}}			<li class="list-group-item" data-params="{{id}}">				<span>{{name}}</span>				<span class="s-m-order '+s.sortIcon("desc")+'  {{#smCompare sort "desc"}}enabled{{/smCompare}}" data-params="desc"></span>				<span class="s-m-order '+s.sortIcon("asc")+'  {{#smCompare sort "asc"}}enabled{{/smCompare}}" data-params="asc"></span>			</li>		{{/each}}'},f=function(e,t){var n=e+"compiled",r=a[n];return r||(r=a[n]=Handlebars.compile(a[e])),r(t)},l=r.defineClass(function(e,t,n){i.call(this,e,t,n),n.hidden=n.hidden===!0||this.panel.getParentArray().sortInfoGet(!1).length===0,this._gestureMgr&&this._gestureMgr.destroy(),this.$$content.append($(f("main",{}))),this.$$scrollWrapper=this.$$content.find(".s-m-scroll-wrapper"),this.$$list=this.$$scrollWrapper.find("ul.list-group"),this.$$list.css({height:"auto",position:"relative"}),this._gestureMgr=new u(this.$$list,{direction:"v",valMax:0,name:"SORTTAB",isPageScroller:!1})},i,{destroy:function(){i.prototype.destroy.call(this),this._gestureMgr&&(this._gestureMgr.destroy(),this._gestureMgr=null)},doActionApply:function(e,t,n){var r={};return this.$$content.find(".s-m-order.enabled").each(function(e,t){t=$(t),r[t.parent().attr("data-params")]=t.attr("data-params")}),this.sortInfo.forEach(function(e){e.sort=r[e.id]||"none"}),this.panel.getParentArray().sortInfoSet($.extend(!0,[],this.sortInfo),!0),!0},doContentAction:function(e,t,n){if(n!=="none"&&t.hasClass("enabled")){t.removeClass("enabled");return}(this.options.singleCriteria===!0?this.$$content:t.parent()).find(".s-m-order.enabled").removeClass("enabled"),n!=="none"&&t.addClass("enabled")},onResize:function(e){i.prototype.onResize.call(this,e),this.$$content.is(":visible")&&this.updateGesture(e)},updateGesture:function(e){if(!this._gestureMgr)return;var t=o.elmtRect(this.$$scrollWrapper,"outer"),n=o.elmtRect(this.panel.$$elmt,"outer"),r=t.intersectRect(n);r&&!r.contains(t)?this._gestureMgr.init(r):this._gestureMgr.reset()},notifyClosePanel:function(){i.prototype.notifyClosePanel.call(this),this.$$items&&(this.$$items.remove(),this.$$items=null),this.sortInfo=null},onTabShown:function(){i.prototype.onTabShown.call(this),this.$$items||(this.sortInfo=$.extend(!0,[],this.panel.getParentArray().sortInfoGet()),this.$$items=$(f("items",{items:this.sortInfo})),this.$$list.append(this.$$items),this.updateGesture())}});t.Klass=l}),define("syracuse-tablet/html/js/helpers/formController",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/prototype","syracuse-tablet/html/js/helpers/controller"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/prototype"),s=e("syracuse-tablet/html/js/helpers/controller").Klass,o=function(e,t,n){return!t&&n&&(e.$baseUrl=n),i.create(e,t)},u=function(e){var t={$layoutType:"stack",$items:[]},n=e.data("$properties");return Object.keys(n).forEach(function(e){n[e].$isExcluded||t.$items.push({$bind:e})}),t},a=r.defineClass(function(e,t,n,r,i){n==null&&(n=u(t)),s.call(this,e,t,n,i),this.setActivity(this.options.$activity),this.setDao(r)},s,{destroy:function(){s.prototype.destroy.call(this)},render:function(e,t){this.rootLayout==null&&this.buildControlsTree();var t=$.extend(t,{afterRender:!0});s.prototype.render.call(this,e,t)},makeVisible:function(e){}});t.createProto=o,t.Klass=a}),define("syracuse-tablet/html/js/controls/page/panels/sortfilter/tabFilterEdit",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/formController","syracuse-tablet/html/js/ui/rect","syracuse-tablet/html/js/helpers/hammerScroller","syracuse-tablet/html/js/helpers/prototype","syracuse-tablet/html/js/application/daoSdata","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/controls/ctrlFactory"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/globals"),s=e("syracuse-tablet/html/js/helpers/formController"),o=e("syracuse-tablet/html/js/ui/rect"),u=e("syracuse-tablet/html/js/helpers/hammerScroller").Klass,a=e("syracuse-tablet/html/js/helpers/prototype"),f=e("syracuse-tablet/html/js/application/daoSdata"),l=e("syracuse-tablet/html/js/helpers/locale"),c=e("syracuse-tablet/html/js/controls/ctrlFactory"),h={main:'		<section id="formtabroot">			<div class="s-m-scroll-wrapper">				<div id="formtabform"/>			</div>			<div class="btn-group btn-group-justified" role="group">				<a type="button" class="btn btn-default" data-params="cancelFilterEdit">					<i class="fa fa-times" data-params="cancelFilterEdit"></i>				</a>				<a type="button" class="btn btn-default" data-params="submitFilterEdit">					<i class="fa fa-check" data-params="submitFilterEdit"></i>				</a>			</div>		</section>'},p=function(e,t){var n=e+"compiled",r=h[n];return r||(r=h[n]=Handlebars.compile(h[e])),r(t)},d=function(e){var t=[];return $.each(e,function(e,n){t.push({$value:n,$title:l.text("panels.array.op."+n)})}),t},v=r.defineClass(function(e,t,n,i){s.Klass.call(this,r.readableuid("FILTERFORM"),e,null,t,{$activity:"edit"}),this.filtersMap=i,this.gestureMgr=n,this.addEventListener("change",this.onEvtChange),this.addEventListener("blur",this.onEvtBlur)},s.Klass,{destroy:function(){s.Klass.prototype.destroy.call(this),this.gestureMgr=null},makeVisible:function(e){if(!e||!this.gestureMgr)return;e.$$elmt&&(e=e.$$elmt),this.gestureMgr.makeVisible(e)},onEvtChange:function(e,t,n,r){var i=this;if(e==="before"){var s=!1;switch(t.$bind){case"FIELDS":if(n.val()==0)return;var o=i.filtersMap[n.val()-1],u=o.operators,a=d(u),f={$properties:{OPERATORS:{$value:{$enum:a},$isReadOnly:!1}},OPERATORS:a[0].$value};i.keyToHide&&(f.$properties[i.keyToHide]={$isHidden:!0});var l="";o.isReference?l=o.prop.$item.$refValue:l="VALUE-"+o.id,f.$properties[l]={$isHidden:!1},i.keyToHide=l,window.setTimeout(function(){i.applyChange($.extend(!0,{},f))});break;case"OPERATORS":}return s}},onEvtBlur:function(e,t,n,r){},validateForm:function(){var e=this,t=!0;return this.forEachControl(function(n,r){t=n==="OPERATORS"||n!=="FIELDS"||n!==e.keyToHide?t:r.checkData()?t:!1}),t}}),m=r.defineClass(function(e){this.controller=null,this._gestureMgr&&this._gestureMgr.destroy(),this.$$content=$(p("main",{})),this.$$scrollWrapper=this.$$content.find(".s-m-scroll-wrapper"),this.$$ScrollElmt=this.$$scrollWrapper.children("#formtabform"),this.$$ScrollElmt.css({height:"auto",position:"relative"}),this._gestureMgr=new u(this.$$ScrollElmt,{direction:"v",valMax:0,name:"FORMTAB",isPageScroller:!1}),this.parentTab=e,this.panel=e.panel},null,{updateGesture:function(){if(!this._gestureMgr)return;var e=o.elmtRect(this.$$scrollWrapper,"outer"),t=o.elmtRect(this.panel.$$elmt,"outer"),n=e.intersectRect(t);n&&!n.contains(e)?this._gestureMgr.init(n):this._gestureMgr.reset()},create:function(e){var t=this;t.$$content.parent().length==0&&e.append(t.$$content),t.$$ScrollElmt.empty();var n=t.panel.getParentArray(),r,i,o=t._buildProtoJson();r=o.protoJson,i=o.dataJson;var u=s.createProto(r,null,n.prototype.data("$baseUrl")),a=new f.Dao($.extend(!0,{},i),u);t.controller=new v(u,a,t._gestureMgr,t.filtersMap),t.controller.render(t.$$ScrollElmt,{}),t.updateGesture(),t.initData&&window.setTimeout(function(){t.controller.applyChange($.extend(!0,{},t.initData),!0),t.controller.keyToHide=t.initKeyToHide})},_getFiltersMap:function(){var e=this;return e.filtersMap=e.filtersMap||e.panel.getParentArray().filterMapGet(),e.filtersMap},_buildProtoJson:function(){var e=this,t={};e.filtersMap=e._getFiltersMap();var n={$properties:{FIELDS:{$title:l.text("panels.array.filterForm.field"),$type:"application/x-choice",$capabilities:"sort,filter",$value:{$type:"application/x-integer",$enum:[]},$isMandatory:!0},OPERATORS:{$title:l.text("panels.array.filterForm.operator"),$type:"application/x-choice",$capabilities:"sort,filter",$value:{$type:"application/x-string",$enum:[]},$isReadOnly:!0}},$localization:e.panel.getParentArray().prototype.data("$localization")};for(var r=0,i=e.filtersMap.length;r<i;r++){var s=e.filtersMap[r],o="VALUE-"+s.id;n.$properties[o]={$title:l.text("panels.array.filterForm.value"),$type:s.prop.$type,$isHidden:!0,$item:s.prop.$item,$value:s.prop.$value};if(s.isReference){var u=s.prop.$item.$refValue,a=s.prop.$item.$key.replace("{","").replace("}","");n.$properties[u]={$type:s.prop.$item.$properties[a].$type,$isHidden:!0,$isExcluded:!0}}s.prop.$type.indexOf("choice")>=0&&(t[o]=s.prop.$value.$enum[0].$value)}var f=[];f.push({$value:0,$title:l.text("panels.array.filterForm.fieldDefault")}),$.each(e.filtersMap,function(e,t){f.push({$value:e+1,$title:t.fieldName})}),n.$properties.FIELDS.$value.$enum=f;var h=[],p=c.getOperators();n.$properties.OPERATORS.$value.$enum=d(p);var v={protoJson:n,dataJson:t};return v},doActionApply:function(e,t,n){if(!this.controller)return;this.controller.checkControlsData()?i.getModal().info("Data are valid"):i.getModal().error("Data are invalid")},doContentAction:function(e,t,n){var r=this;switch(n){case"submitFilterEdit":r.onFilterEditSubmit();break;case"cancelFilterEdit":r.onCancelEdit()}},onFilterEditSubmit:function(){var e=this;if(e.controller.validateForm()){e.filtersMap=e._getFiltersMap();var t=e.controller.dao.data,n=parseInt(t.FIELDS,10)-1,r=t.OPERATORS,i=t["VALUE-"+e.filtersMap[n].id],s=e.filtersMap[n].prop,o={filterMapIdx:n,fieldName:e.filtersMap[n].fieldName,operatorLabel:l.text("panels.array.op."+r),value:e._getValue(s,i),operator:r,id:e.filtersMap[n].id,prop:s,originalValue:i,isReference:e.filtersMap[n].isReference};e.filterTab=e.filterTab||e.panel.getTabs().filter,e.filterTab.onFilterUpdate(o,!isNaN(parseInt(e.initIdx,10))&&e.initIdx>=0?e.initIdx:null),e._onTabClose()}},_getValue:function(e,t){var n=this,r;return typeof t=="object"?r=t.$value||t.$description||t.$title:e.$type.indexOf("choice")>=0?r=e.$value.$type.indexOf("integer")>=0?n.controller.prototype.resolveExpression(e.$value.$enum[parseInt(t-1,10)].$title):t:r=t,r},onCancelEdit:function(){var e=this;e._onTabClose(),e.parentTab.toggleList(!0)},setInitData:function(e,t){var n=this;n.filtersMap=n._getFiltersMap();var r=e.filterMapIdx,i=n.filtersMap[r];n.initData={$properties:{OPERATORS:{$value:{$enum:d(i.operators)},$isReadOnly:!1}},FIELDS:r+1,OPERATORS:e.operator},n.initData["VALUE-"+i.id]=e.originalValue;var s=i.isReference?i.prop.$item.$refValue:"VALUE-"+i.id;n.initData.$properties[s]={$isHidden:!1},n.initIdx=t,n.initKeyToHide=s},_onTabClose:function(){var e=this;e.controller.destroy(),e.controller=null,e.initData=null,e.initIdx=null},destroy:function(){this.controller&&(this.controller.destroy(),this.controller=null),this._gestureMgr&&this._gestureMgr.destroy(),this.$$content=null,this.$$scrollWrapper=null,this.parentTab=null,this.panel=null}});t.Klass=m}),define("syracuse-tablet/html/js/controls/page/panels/sortfilter/tabFilter",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/page/panels/sortfilter/tabBase","syracuse-tablet/html/js/controls/page/panels/sortfilter/tabFilterEdit","syracuse-tablet/html/js/ui/fontUtils","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/page/panels/sortfilter/tabBase").Klass,s=e("syracuse-tablet/html/js/controls/page/panels/sortfilter/tabFilterEdit").Klass,o=e("syracuse-tablet/html/js/ui/fontUtils"),u=e("syracuse-tablet/html/js/helpers/locale"),a={main:'		<div class="s-m-scroll-wrapper">			<section id="filterlist">				<div id="filterListEmpty" style="display:none">{{emptyList}}</div>				<ul class="list-group"/>				<div class="btn-group btn-group-justified" role="group">					<a type="button" class="btn btn-default" data-params="addFilter">						<i class="fa fa-plus" data-params="addFilter"></i>						<span data-params="addFilter">{{addFilter}}</span>					</a>				</div>			</section>			<section id="filteredit">			</section>		</div>',items:'		{{#each items}}			<li class="list-group-item" data-params="{{id}}">				<span class="s-m-filter-info"> 					<span class="s-m-filter-field">{{fieldName}}</span>					<span class="s-m-filter-operator">{{operatorLabel}}</span>					<span class="s-m-filter-value">{{value}}</span>				</span>				<span class="s-m-filter '+o.filterIcon("edit")+'" data-params="edit"></span>				<span class="s-m-filter '+o.filterIcon("delete")+'" data-params="delete"></span>			</li>		{{/each}}'},f=function(e,t){var n=e+"compiled",r=a[n];return r||(r=a[n]=Handlebars.compile(a[e])),r(t)},l=r.defineClass(function(e,t,n){i.call(this,e,t,n),this.$$content.append($(f("main",{addFilter:u.text("panels.array.addFilter"),emptyList:u.text("panels.array.emptyList")}))),this.$$listSection=this.$$content.find("#filterlist"),this.$$list=this.$$listSection.find(".list-group"),this.$$editSection=this.$$content.find("#filteredit"),this.$$emptyList=this.$$content.find("#filterListEmpty")},i,{onTabShown:function(){var e=this;i.prototype.onTabShown.call(this),e.initOpened||(this.updateFilterList(),e.initOpened=!0)},updateFilterList:function(){var e=this;e.$$emptyList.toggle(!1),e.$$list.empty(),e.filterInfo=e.filterInfo||$.extend(!0,[],e.panel.getParentArray().filterInfoGet());if(e.filterInfo&&e.filterInfo.length>0){e.$$list.empty();var t=$(f("items",{items:e.filterInfo}));e.$$list.append(t)}else e.$$emptyList.toggle(!0)},doActionApply:function(e,t,n){return this.panel.getParentArray().filterInfoSet($.extend(!0,[],this.filterInfo),!0),!0},doContentAction:function(e,t,n){var r=this;switch(n){case"addFilter":r._openFilterEdit();break;case"cancelFilterEdit":r.filterEdit.onCancelEdit();break;case"submitFilterEdit":r.filterEdit.onFilterEditSubmit();break;case"delete":var i=t.closest("li").index();r._onFilterDelete(i);break;case"edit":var i=t.closest("li").index();r._openFilterEdit(i);break;default:alert(n)}},_onFilterDelete:function(e){var t=this;t._isIndexValid(e)&&(t._removeFilter(e),t.updateFilterList())},_addFilter:function(e){var t=this;t.filterInfo.push(e)},_removeFilter:function(e){var t=this;t._isIndexValid(e)&&t.filterInfo.splice(e,1)},_updateFilter:function(e,t){var n=this;n._isIndexValid(e)&&n.filterInfo.splice(e,1,t)},_onCancelEdit:function(){var e=this;e.$$editSection.empty(),e.$$listSection.toggle(!0)},_openFilterEdit:function(e){var t=this;t.filterEdit=t.filterEdit||new s(t),t._isIndexValid(e)&&t.filterEdit.setInitData(t.filterInfo[e],e),t.filterEdit.create(t.$$editSection),t.toggleList(!1)},_isIndexValid:function(e){return!isNaN(parseInt(e,10))&&e>=0},onFilterUpdate:function(e,t){var n=this;n._isIndexValid(t)?n._updateFilter(t,e):n._addFilter(e),n.updateFilterList(),n.toggleList(!0)},toggleList:function(e){var t=this;t.$$listSection.toggle(e),t.filterEdit&&t.filterEdit.$$content.toggle(!e)},destroy:function(){var e=this;e.filterEdit&&(e.filterEdit.destroy(),e.filterEdit=null),e.filterInfo=null,i.prototype.destroy.call(e)}});t.Klass=l}),define("syracuse-tablet/html/js/controls/page/panels/sortfilter/filterSortPanel",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/jsutils","syracuse-tablet/html/js/controls/page/panels/sidePanel","syracuse-tablet/html/js/controls/page/panels/sortfilter/tabSort","syracuse-tablet/html/js/controls/page/panels/sortfilter/tabFilter","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/jsutils"),s=e("syracuse-tablet/html/js/controls/page/panels/sidePanel").Klass,o=e("syracuse-tablet/html/js/controls/page/panels/sortfilter/tabSort").Klass,u=e("syracuse-tablet/html/js/controls/page/panels/sortfilter/tabFilter").Klass,a=e("syracuse-tablet/html/js/helpers/locale"),f={main:'		<section class="s-m-side-panel {{side}}">			<ul class="nav nav-pills" role="tablist"> 				{{#each tabs}}					<li><a href="#{{id}}" role="tab" data-toggle="tab">{{title}}</a></li> 				{{/each}}			</ul> 			<div class="tab-content">				<header>{{title}}</header>				<div class="btn-group btn-group-justified" role="group">				  <a type="button" class="btn btn-default" data-params="apply">{{apply}}</a>				  <a type="button" class="btn btn-default" data-params="close">{{close}}</a>				</div>				{{#each tabs}}					<div id="{{id}}" role="tabpanel" class="tab-pane {{type}}"/> 				{{/each}}			</div> 		</section>'},l=function(e,t){var n=e+"compiled",r=f[n];return r||(r=f[n]=Handlebars.compile(f[e])),r(t)},c=[{klass:o,options:{name:"sort",isActive:!0,singleCriteria:!0}},{klass:u,options:{name:"filter",isActive:!1}}],h=r.defineClass(function(e,t,n,r){this._tabs={},s.call(this,e,t,n,r)},s,{destroy:function(){s.prototype.destroy.call(this),this._activeTab=null,this.options.parentArray=null,this._tabs&&($.each(this._tabs,function(e,t){t.destroy()}),this._tabs=null),this.$$btnBar&&(r.unbindObj(this.$$btnBar),this.$$btnBar=null)},getParentArray:function(){return this.options.parentArray},buildHtml:function(e){var t=this;s.prototype.buildHtml.call(this,e),t.$$elmt.addClass(t.typeName),t.$$panel&&t.$$panel.remove();var n={ctrlId:t.id,side:e,apply:a.text("panels.array.apply"),close:a.text("panels.array.close"),title:this.getParentArray().getTitle(),tabs:[]},o=[];c.forEach(function(e){e=$.extend({},e),e.options.hidden=t.options[e.options.name]===!1,o.push(e)});var u={};o.forEach(function(e){u[e.options.name]=r.readableuid("array"+e.options.name),n.tabs.push({id:u[e.options.name],title:e.title||a.text("panels.array."+e.options.name),type:e.options.name})}),t.$$panel=$(l("main",n));if(t.$$panel&&t.$$panel.length){t.$$elmt.append(t.$$panel);var f=[],h=-1;o.forEach(function(e,n){var r=new e.klass(t,u[e.options.name],e.options);e.options.hidden?r.hide():(f.push(r),e.options.isActive&&(h=n)),t._tabs[e.options.name]=r});if(f.length>0){this._activeTab=f[h===-1?0:h];var p=f.length===1?"100%":Math.round(1e5/f.length)/1e3+"%";f.forEach(function(e){e.setWidth(p)}),t.$$btnBar=t.$$panel.find(".tab-content > .btn-group"),t.$$btnBar.on("click","[data-params]",i.bindFn(t.onBtnBarClick,this))}else this.close()}},notifyToggled:function(e,t,n){s.prototype.notifyToggled.call(this,e,t,n),$.each(this._tabs,function(e,t){t[n?"notifyOpenPanel":"notifyClosePanel"]()}),n&&this._activeTab&&this._activeTab.triggerActivate()},onResize:function(e){$.each(this._tabs,function(t,n){n.onResize(e)})},onBtnBarClick:function(e){e.preventDefault(),e.stopPropagation();var t=$(e.target),n=t.attr("data-params");switch(n){case"apply":this._activeTab&&this._activeTab.doActionApply(e,t)===!0&&this.close();break;case"close":this.close()}},notifyActiveTab:function(e){this._activeTab=e},getTabs:function(){return this._tabs}});t.Klass=h}),define("syracuse-tablet/html/js/controls/page/panels/userpanelsmartphone",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/page/panels/actionPanel","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/ui/fontUtils","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/application/eventListener","syracuse-tablet/html/js/helpers/notifications"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/page/panels/actionPanel").Klass,s=e("syracuse-tablet/html/js/helpers/globals"),o=e("syracuse-tablet/html/js/ui/fontUtils"),u=e("syracuse-tablet/html/js/helpers/locale"),a=e("syracuse-tablet/html/js/application/eventListener"),f=e("syracuse-tablet/html/js/helpers/notifications"),l={navigLink:'<li class="">		<a draggable="false"  href="#" data-action="{{action}}" data-params="{{params}}" data-control-id="{{ctrlId}}">			<i class="{{icon}}"></i>			&nbsp;			<span>{{title}}</span>		</a>	</li>'},c={home:{label:"header.sm.links.home",icon:"home",action:"gotoWelcomeApplication",target:"application"},switchContext:{label:"header.sm.links.switchContext",icon:"switchContext",params:"switchContext",action:"linkClicked",target:"panel"},clearCache:{label:"header.sm.links.clearCache",icon:"clearCache",action:"linkClicked",params:"clearCache",target:"panel"},about:{label:"header.sm.links.about",icon:"about",action:"linkClicked",params:"about",target:"panel"},logout:{label:"header.sm.links.logout",icon:"logout",action:"logout",target:"application"},development:{label:"header.links.development",icon:"developmentPage",action:"developmentPage",target:"application"},pinPage:{label:"",icon:"",action:"pinPage",target:"application"},pageConfig:{label:"page.configure.btn",icon:"pageConfig",action:"pageConfig",target:"application"}},h=function(e,t){var n=e+"compiled",r=l[n];return r||(r=l[n]=Handlebars.compile(l[e])),r(t)},p=r.defineClass(function(e,t,n,r){r.overlap=!1,i.call(this,e,t,n,r),f.subscribe(this,["sm.page.pin.state.change"])},i,{buildPanel:function(e,t){var n=this,r=[];n._initPanelItems();var a=Object.keys(c);return a.forEach(function(e,t){var i=c[e];i.hidden!==!0&&r.push(h("navigLink",{title:u.text(i.label),action:i.action||"",params:i.params||"",icon:o.pageIcon(i.icon),ctrlId:i.target==="panel"?n.id:null}))}),e.title=s.getUserName(),e.actionsHtml=r.join(""),i.prototype.buildPanel.call(n,e,t)},_initPanelItems:function(){var e=s.getCurrentPage(),t=e.buildOpts&&e.buildOpts.toolBars||{};t.showDevelopment?c.development.hidden=!1:c.development.hidden=!0,t.showHome?c.home.hidden=!1:c.home.hidden=!0,t.showPageConfig?c.pageConfig.hidden=!1:c.pageConfig.hidden=!0;switch(t.statusPinPage){case 1:c.pinPage.label="pin.page.panel.label.pin",c.pinPage.hidden=!1,c.pinPage.icon="pinPage_1";break;case 2:c.pinPage.label="pin.page.panel.label.unpin",c.pinPage.hidden=!1,c.pinPage.icon="pinPage_2";break;default:c.pinPage.hidden=!0}},_actLinkClicked:function(e){a.triggerAction(this.$$elmt,e)},destroy:function(){i.prototype.destroy.call(this),f.unsubscribe(this)},notifPagePinStateChange:function(e){var t=this.$$elmt.find("[data-action=pinPage] i");t.length>0&&t.attr("class",o.pageIcon("pinPage_"+e));var n=this.$$elmt.find("[data-action=pinPage] span");if(n.length>0){var r;e!=2?r=u.text("pin.page.panel.label.pin"):r=u.text("pin.page.panel.label.unpin"),n.text(r)}}});t.Klass=p}),define("syracuse-tablet/html/js/controls/ctrlTypeUnknown",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/ctrlBase"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/ctrlBase").Klass,s=r.defineClass(function(t,n,r){i.call(this,t,n,r)},i,{buildHtml:function(e,t,n){i.prototype.buildHtml.call(this,e,t,n,["s-m-unknown"]),this.$$elmt.html('<div class="s-m-value">Field '+this.$bind+" - Unknown type: "+this.$type+"</div>")}});t.Klass=s}),define("syracuse-tablet/html/js/controls/ctrlUnfound",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/ctrlBase"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/ctrlBase").Klass,s=r.defineClass(function(t,n,r){i.call(this,t,n,r)},i,{buildHtml:function(e,t,n){var r=this;i.prototype.buildHtml.call(r,e,t,n,["s-m-unfound"]),r.$$elmt.html('<div class="s-m-value">Field <b>'+r.$bind+"</b> unfound</div>")}});t.Klass=s}),define("syracuse-tablet/html/js/controls/chart/ctrlCubeChartTheme",["require","exports","module"],function(e,t,n){"use strict";var r={colors:["#BF7070","#BFB730","#7ABF30","#7373FF","#BF7730","#BF3080","#30BF9F","#FF7373","#FFF773","#85FF00","#3030BF","#FF9F40","#FF40BC","#1699A6","#FF0000","#FFF100","#00FF00","#0000FF","#FF7F00","#FF00A6","#00FFC6","#A60000","#A69C00","#56A600","#90B2FF","#A65200","#A6006C","#00A681","#FF4040","#FFF440","#A3FF40","#3673FF","#FFB873","#FF76CE","#73FFED"],chart:{borderRadius:"0",spacingTop:10,backgroundColor:"#fff",borderColor:"#ccc",borderWidth:1,className:"dark-container",resetZoomButton:{theme:{fill:"white",stroke:"#dddddd",r:0,states:{hover:{fill:"#00a1de",style:{color:"white"}}}},position:{x:-50,y:5},relativeTo:"chart"}},title:{style:{color:"#464646",font:'bold 16px "Trebuchet MS", Verdana, sans-serif'}},subtitle:{style:{color:"#464646",font:'bold 12px "Trebuchet MS", Verdana, sans-serif'}},xAxis:{gridLineColor:"rgba(0, 0, 0, 0.05)",gridLineDashStyle:"longdash",gridLineWidth:1,labels:{style:{color:"#A0A0A0"}},lineColor:"rgba(0, 0, 0, 0.2)",tickColor:"rgba(0, 0, 0, 0.2)",title:{style:{color:"#464646",fontWeight:"normal",fontSize:"20px",fontFamily:"arial"}}},yAxis:{minorGridLineColor:"rgba(0, 0, 0, 0.05)",minorTickInterval:"auto",gridLineWidth:2,gridLineColor:"rgba(0, 0, 0, 0.07)",labels:{align:"left",x:0,y:12,style:{color:"#A0A0A0"}},lineColor:"rgba(0, 0, 0, 0.07)",title:{style:{color:"#CCC",fontSize:"16px",fontFamily:"Georgia, Verdana, sans-serif",fontStyle:"italic"}}},tooltip:{backgroundColor:"#464646",borderRadius:"0",style:{color:"#fff",fontSize:"12px",padding:"5px",whiteSpace:"nowrap"}},toolbar:{itemStyle:{color:"silver"}},plotOptions:{series:{marker:{lineWidth:2,lineColor:null,radius:4,states:{hover:{radius:8,lineColor:null}}}},area:{fillOpacity:.15},areaspline:{fillOpacity:.15},line:{dataLabels:{color:"#CCC"},marker:{lineColor:"#FFFFFF"}},spline:{marker:{lineColor:"#FFFFFF"}},scatter:{marker:{lineColor:"#FFFFFF"}},candlestick:{lineColor:"#FFFFFF",animation:{duration:2e3,easing:"easeOutBounce"}},pie:{allowPointSelect:!0,cursor:"pointer",borderColor:"rgba(250,250,250,0.3)",borderWidth:.5,dataLabels:{enabled:!0,connectorWidth:2,color:"#464646",style:{fontWeight:"bold"}}}},legend:{borderRadius:0,borderWidth:1,backgroundColor:"white",itemMarginTop:8,itemStyle:{color:"#464646",fontFamily:'"arial"',fontWeight:"bold",fontSize:"8pt "},itemHoverStyle:{color:"#00a1de"},itemHiddenStyle:{color:"#555"},title:{style:{color:"#464646",fontWeight:"bold",fontSize:"8pt",fontFamily:"arial"}}},credits:{enabled:!1,style:{color:"#666"}},labels:{style:{color:"#CCC"}},exporting:{buttons:{drillUp:{symbolStroke:"#fff",symbolFill:"rgba(250,250,250,0.5)",hoverSymbolStroke:"#fff",hoverSymbolFill:"rgba(250,250,250,0.5)"},exportButton:{symbolStroke:"#fff",symbolFill:"rgba(250,250,250,0.5)",hoverSymbolStroke:"#fff",hoverSymbolFill:"rgba(250,250,250,0.5)"},printButton:{symbolStroke:"#fff",symbolFill:"rgba(250,250,250,0.5)",hoverSymbolStroke:"#fff",hoverSymbolFill:"rgba(250,250,250,0.5)"}}},rangeSelector:{buttonTheme:{fill:{linearGradient:[0,0,0,20],stops:[[.4,"#888"],[.6,"#555"]]},stroke:"#000000",style:{color:"#CCC",fontWeight:"bold"},states:{hover:{fill:{linearGradient:[0,0,0,20],stops:[[.4,"#BBB"],[.6,"#888"]]},stroke:"#000000",style:{color:"white"}},select:{fill:{linearGradient:[0,0,0,20],stops:[[.1,"#000"],[.3,"#333"]]},stroke:"#000000",style:{color:"yellow"}}}},inputStyle:{backgroundColor:"#333",color:"silver"},labelStyle:{color:"silver"}},navigator:{handles:{backgroundColor:"#666",borderColor:"#AAA"},outlineColor:"#CCC",maskFill:"rgba(16, 16, 16, 0.5)",series:{color:"#7798BF",lineColor:"#A6C7ED"}},scrollbar:{barBackgroundColor:{linearGradient:[0,0,0,20],stops:[[.4,"#888"],[.6,"#555"]]},barBorderColor:"#CCC",buttonArrowColor:"#CCC",buttonBackgroundColor:{linearGradient:[0,0,0,20],stops:[[.4,"#888"],[.6,"#555"]]},buttonBorderColor:"#CCC",rifleColor:"#FFF",trackBackgroundColor:{linearGradient:[0,0,0,10],stops:[[0,"#000"],[1,"#333"]]},trackBorderColor:"#666"},legendBackgroundColor:"rgba(0, 0, 0, 0.5)",legendBackgroundColorSolid:"rgb(35, 35, 70)",dataLabelsColor:"#444",textColor:"#C0C0C0",maskColor:"rgba(255,255,255,0.3)"},i=r.colors;r.orgChart={node:{textColor:"black ",borderColor:i[1],borderWidth:2,backgroundColor:"white ",fontWeight:"normal ",hover:{backgroundColor:i[3],textColor:"white "}},junction:{lineColor:i[3],lineWidth:2},dropMarker:{borderColor:i[1],borderWidth:0,backgroundColor:i[4],backgroundOpacity:1},tooltip:{backgroundColor:i[1],backgroundOpacity:1,borderWidth:2,borderRadius:0,borderColor:i[2],style:{color:"#fff",fontSize:"12px",padding:"5px",whiteSpace:"nowrap"}}},r.version=Highcharts.version.split(".").map(function(e){return parseInt(e,10)}),r.version[0]!==2&&r.version[0]===3&&(r.navigation={buttonOptions:{symbolStroke:"#DDDDDD",hoverSymbolStroke:"#FFFFFF",theme:{fill:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[.4,"#606060"],[.6,"#333333"]]},stroke:"#000000"}}},delete r.exporting),t.theme=r}),define("syracuse-tablet/html/js/controls/chart/ctrlCubeChartBase",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/ctrlBase","syracuse-tablet/html/js/helpers/formatApi","syracuse-tablet/html/js/controls/chart/ctrlCubeChartTheme","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){"use strict";function h(e,t){return!!(e&&e.$hierarchies&&t.$axes&&t.$axes.length>0&&t.$axes[0].$hierarchies&&t.$axes[0].$hierarchies.length>0)}var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/ctrlBase").Klass,s=e("syracuse-tablet/html/js/helpers/formatApi"),o=e("syracuse-tablet/html/js/controls/chart/ctrlCubeChartTheme").theme,u=e("syracuse-tablet/html/js/helpers/locale"),a=Highcharts.merge,f=function(e){return $.extend({},e)};Highcharts.theme=o,Highcharts.setOptions(Highcharts.theme);var l=Highcharts.theme.colors,c=function(e){var t={xy:"line",point:"scatter",stick:"column",radar:"spiderweb"};return e&&(t[e]||e)},p=r.defineClass(function(e,t,n,r){var s=this;i.call(s,e,t,n,r),s.itemProto=n.getPrototype("$item")},i,{_mergeMetaData:function(e){var t={};return e&&e.$cube&&(t.$cube=e.$cube),e&&e.$axes&&(t.$axes=e.$axes),e&&e.$style&&(t.$style=e.$style),e&&e.$color&&(t.$color=e.$color),e&&e.$isLegendHidden&&(t.$isLegendHidden=e.$isLegendHidden),e&&e.$isXLabelHidden&&(t.$isXLabelHidden=e.$isXLabelHidden),e&&e.$isYLabelHidden&&(t.$isYLabelHidden=e.$isYLabelHidden),e&&e.$isXLabelsHidden&&(t.$isXLabelsHidden=e.$isXLabelsHidden),e&&e.$isYLabelsHidden&&(t.$isYLabelsHidden=e.$isYLabelsHidden),this.currentMetaData=a(this.currentMetaData||{},t),e&&e.$item&&e.$item.$properties&&this.currentMetaData&&this.currentMetaData.$cube&&this.currentMetaData.$cube.$measures&&$.smForEachKey(this.currentMetaData.$cube.$measures,function(t,n){e.$item.$properties[t]&&e.$item.$properties[t].$title?n.$title=e.$item.$properties[t].$title:n.$title=t}),this.currentMetaData},_settingsFromValue:function(){var e=this,t=this.currentMetaData.$cube,n=0,r;return t.$style==="spiderweb"?(r={},r.categories=Object.keys(e._meta.series).map(function(t){return e._meta.series[t].options.name}),r.series={},e.dataset&&e.dataset.reduce(function(t,r){var i={name:e._getMeasureLabel(r,e._meta.xAxis[0].code),color:l[n++],data:[],pointPlacement:"on"};return i.name&&(i.id="#s-"+i.name,$.smForEachKey(e._meta.series,function(t,n){n.isHidden||e._pushData(i,t,t,r)}),t.series[i.name]=i),t},r)):(r={categories:[],series:{}},e.dataset&&e.dataset.reduce(function(t,n){var r=e._getMeasureLabel(n,e._meta.xAxis[0].code);return r!=null&&(t.categories.push(r),$.smForEachKey(e._meta.series,function(i,s){var o=t.series[i];o||(o=f(s.options),o.data=[],t.series[i]=o),e._pushData(o,r,i,n)})),t},r)),r},_pushData:function(e,t,n,r){var i=parseFloat(r.$rawV&&r.$rawV[n]&&r.$rawV[n].v||r[n])||0;this.useLogarithmicAxis&&(this.maxValue=Math.max(this.maxValue||-Infinity,i),this.minValue=Math.min(this.maxValue||Infinity,i)),e.data.push([t,i])},_createChart:function(e){var t=this,n=a(t._getPref(),t._getOptions(t.$prototype));e?(n.xAxis[0].categories=e.categories,$.smForEachKey(e.series,function(e,r){var i=f(r),s=t._meta.series[e];n.chart.polar&&i&&i.type&&delete i.type,(!s||!s.isHidden)&&n.series.push(i)})):$.smForEachKey(t._meta.series,function(e,t){var r=f(t.options);n.chart.polar&&r&&r.type&&delete r.type,r.data=[0],t.isHidden||n.series.push(r)}),(!t.$prototype.$cube||t.$prototype.$cube.$style!="spiderweb")&&n.series.reverse(),this.useLogarithmicAxis&&(this.maxValue||0)/(this.minValue||1)>10&&(n.yAxis.type="logarithmic"),t._chart=new Highcharts.Chart(n);var r=this._chart.legend;t.displayLegend=r&&r.display;var i=t._chart.series,s,o;for(var u=i.length-1;u>=0;u--)s=i[u],o=s&&s.options.id&&t._meta.series[s.options.id.slice(3)],o&&o.measure&&(o.measure.$color=o.options.color=s.color)},_getOptions:function(e){var t=this,n=this.currentMetaData.$cube,r=Highcharts.getOptions(),i=r.exporting.buttons,s=this._getFieldEvalTitle(),o=e.$axes&&e.$axes[0]||{},u=o.$hierarchies&&s[o.$hierarchies[0][0]]||o.$title,a,f={chart:{renderTo:this.$$chartSlot.get(0),zoomType:"x",ignoreHiddenSeries:!1,width:50,height:50},lang:{showHideLegend:t._localize.highCharts_showHideLegend},legend:{layout:"vertical",align:"right",verticalAlign:"top",y:60,x:-10,title:{text:":::: "+t._localize.highCharts_seriesTitle},floating:!0,draggable:!0,zIndex:20,enabled:this.currentMetaData.$isLegendHidden!==!0},title:{text:n&&t._localizedText(n.$title)||"",margin:5},xAxis:[{categories:[],title:{text:t._localizedText(u),enabled:this.currentMetaData.$isXLabelHidden!==!0},labels:{rotation:-45,align:"right",enabled:this.currentMetaData.$isXLabelsHidden!==!0}}],yAxis:[{title:{text:"",enabled:this.currentMetaData.$isYLabelHidden!==!0},labels:{align:"right",enabled:this.currentMetaData.$isYLabelsHidden!==!0}}],plotOptions:{series:{cursor:"pointer",events:{},point:{events:{click:function(e){}}},stacking:t._meta.stacking,animation:!1}},tooltip:{formatter:function(){var e=t._meta.series,n=this.key&&e[this.key]||e[this.series.options.id.slice(3)],r=n&&n.measure,i=this.series.processedYData,s=this.y;r&&t._ensureFormatter(r);var o=this.series.name||r&&r.$title,u=r&&r.formatter;o=(o?o+"<br>":"")+(this.x||this.key)+": <b> "+(u?u.format(s):s)+"</b>";if(r&&r.$isNormalized&&i.length>0){var a=i.reduce(function(e,t){return e+t});o+=" ("+(u?u.formatValue(s/a*100):s/a*100)+"%)"}return o}},series:[]};if(Highcharts.theme.version[0]===3){f.exporting={type:"image/png",url:"http://export.highcharts.com/",buttons:{contextButton:{symbol:"menu",enabled:!1,_titleKey:"contextButtonTitle",menuItems:[{textKey:"showHideLegend",onclick:function(){setTimeout(function(){t._toggleLegendDisplay()},100)}}]},legendButton:{enabled:!1,textKey:"showHideLegend",symbol:"menu",onclick:function(){setTimeout(function(){t._toggleLegendDisplay()},100)}}}};var l=f.exporting.buttons.contextButton.menuItems||[];this._printSupported()&&l.push({text:"Print chart",onclick:function(){this.print(t)}}),this._exportSupported()&&(l.push({separator:!0}),l.push({textKey:"downloadPNG",onclick:function(){this.exportChart()}}),l.push({textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}}),l.push({textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}}),l.push({textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}))}return f.xAxis[0].title.text!==f.title.text&&(f.xAxis[0].title.text=f.xAxis[0].title.text?f.xAxis[0].title.text:f.title.text),f.chart.type=t._meta.defaultStyle,f},_initializeMeta:function(){this._mergeMetaData(this.$prototype),this._mergeMetaData(this.article);var e=this.$prototype,t=this.currentMetaData;this._meta={xAxis:[{}],series:{},displaysOneMeasure:t&&t.$displaysOneMeasure,hasMeasureSelector:t&&t.$hasMeasureSelector,hasStyleSelector:t&&t.$hasStyleSelector,defaultStyle:c(t.$style)||"column",drill:{minLevel:1,maxLevel:0,currLevel:1,currAxisHier:0,levelsProperties:[],members:[],stack:[{$axes:e.$axes,$item:e.$item,$slicer:e.$slicer}]}},this.__processMeta(e,!0)},_exportSupported:function(){return!0},_printSupported:function(){return!0},__processMeta:function(e,t){this._processMeasures(e,t),this._processAxes(e,t)},_processMeasures:function(e,t){this._mergeMetaData(e);var n=this,r=this.$prototype.$properties,i=this._getRestraintMeasures(),s=0;i&&$.smForEachKey(i,function(i,o){var u=o.$property||i,f=a(r[u],o);e&&e.$item&&e.$item.$properties&&(f=a(f,e.$item.$properties[u]));if(!f.$title||f.$title==="")f.$title=i;var h=n._meta.series[u];t&&(n._ensureFormatter(f),h=n._meta.series[u]={options:{id:"#s-"+u,name:n._localizedText(f.$title)||String.fromCharCode(160)},measure:f}),h&&(h.isHidden=f.$title==="",h.options.type=c(f.$style),h.options.color=f.$color||l[s++],h.options.name=n._localizedText(f.$title)||String.fromCharCode(160),h.options.visible=f.$title!==""&&(!n._meta.displaysOneMeasure||!!f.$isDefault));if(f.$isStacked||f.$stackingGroup)h.options.stack=f.$stackingGroup||0,n._meta.stacking=f.$isNormalized?"percent":n._meta.stacking||"normal"})},_getRestraintMeasures:function(){var e=this.currentMetaData,t=e.$cube,n=t&&t.$measures,r=n;return n&&e.$axes&&e.$axes.length>1&&e.$axes[1].$members&&e.$axes[1].$members[0][0].length>0&&(r={},$.smForEach(e.$axes[1].$members[0][0],function(e){r[e]=n[e]})),r},_processAxes:function(e,t){var n=this.$prototype.$cube;if(!h(n,e))return!1;var r=this,i=0,s=e.$axes&&e.$axes[0],o=null;if(s){$.smForEachKey(s.$hierarchies,function(e,t){!o&&t.length>1&&t[1]==1&&(o=n.$hierarchies[t[0]].$properties,o&&(r._meta.xAxis[0].code=o[t.length>2?t[2]:0],i=e))}),!o&&s.$hierarchies[0].length>0&&(o=n.$hierarchies[s.$hierarchies[0][0]].$properties,o&&o.length>0&&(r._meta.xAxis[0].code=o[0]));var u;$.smForEach(s.$hierarchies,function(e){u=n.$hierarchies[e[0]].$properties,$.smForEach(u,function(e){this.levelsProperties[this.maxLevel++]=e},r._meta.drill)}),s.$members&&$.smForEach(s.$members,function(e){$.smForEach(e,function(e){e.length>0&&(this.members[this.currLevel++ -1]=e[0])},this)},r._meta.drill)}r._meta.drill.code=e.$codeStat||"UNKNOWN",r._meta.drill.axis0FieldCode=r._meta.xAxis[0].code||"",r._meta.drill.maxLevel=Math.max(r._meta.drill.maxLevel,r._meta.drill.minLevel)},_getPref:function(){return Highcharts.getOptions()},_getMeasureLabel:function(e,t){var n=this._localizedText(e.$title);if(n)return n;var r=this,i=r.$prototype.$properties[t];if(!i)return null;switch(i.$type){case"application/x-choice":n=e[t],i.$value.$enum.some(function(e,t,r){return e.$value===n?(n=this._localizedText(e.$title),!0):!1});break;case"application/x-date":i.formatter=s.getFormatter(i.$type,u.getDateFormat(i.$type)),n=i.formatter.formatValue(e[t]);break;case"application/x-integer":case"application/x-decimal":i.formatter=s.getFormatter(i.$type,u.getNumberFormat(i.$type)),n=i.formatter.formatValue(e[t]);break;default:n=""+e[t]}return n},_toggleLegendDisplay:function(){var e=this._chart.legend;e&&this._displayLegend(!e.display)},_displayLegend:function(e){var t=this._chart.legend;if(!t)return;e?(t.group.show(),t.box.show()):(t.group.hide(),t.box.hide()),this.displayLegend=t.display=e},destroy:function(){var e=this;i.prototype.destroy.call(e),this._chart&&this._chart.destroy(),this._chart=this._localize=this._meta=this.currentMetaData=null}});t.Klass=p}),define("syracuse-tablet/html/js/controls/chart/ctrlCubeChart",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/chart/ctrlCubeChartBase","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/helpers/formatApi","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/chart/ctrlCubeChartBase").Klass,s=e("syracuse-tablet/html/js/ui/uiUtils"),o=e("syracuse-tablet/html/js/helpers/formatApi"),u=e("syracuse-tablet/html/js/helpers/locale"),a=r.defineClass(function(t,n,r,s){var o=this;i.call(o,t,n,r,s),o.itemProto=r.getPrototype("$item")},i,{initReuseProperties:function(){i.prototype.initReuseProperties.call(this),this.$$chartSlot=null,this.dataset=null},buildHtml:function(e,t,n){var r=this;i.prototype.buildHtml.call(r,e,t,n,["s-m-chart"]),r.$$chartSlot=$(s.createDomElement("div",null,null,null,r.$$elmt)),r.$$chartSlot.hide(),r._buildChart()},_buildChart:function(){var e=this;e.$prototype=e.prototype.json,e.$prototype.$properties=e.$prototype.$item.$properties,e._localize={highCharts_showHideLegend:u.text("highCharts_showHideLegend"),highCharts_seriesTitle:u.text("highCharts_seriesTitle")},e._initializeMeta(),e.dataset=e.getDao().getQueryResources();var t=e._settingsFromValue();e._createChart(t)},_ensureFormatter:function(e){e.formatApi={format:function(e,t){return e}}},_localizedText:function(e){return e},_getFieldEvalTitle:function(){return[]},destroy:function(){var e=this;i.prototype.destroy.call(e),e.dataset=null},onResize:function(e){this.$$chartSlot.show();var t=this.$$chartSlot.highcharts();t&&t.setSize(this.$$chartSlot.width(),this.$$chartSlot.height(),!1)}});t.Klass=a}),define("syracuse-tablet/html/js/controls/field/ctrlBinary",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/ui/fontUtils","syracuse-tablet/html/js/controls/field/ctrlFieldBase","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/ui/fontUtils"),s=e("syracuse-tablet/html/js/controls/field/ctrlFieldBase").Klass,o=e("syracuse-tablet/html/js/ui/uiUtils"),u=e("syracuse-tablet/html/js/helpers/locale"),a=100,f={header:"_onClearClick",section:"_onDocumentClick",footer:"_onUploadClick",a:"_onDocumentClick"},l=r.defineClass(function(t,n,r,i){var o=this;s.call(o,t,n,r,i),o.isImage=o.$type.indexOf("image")==0,o.cssType=o.isImage?"s-m-img":"s-m-binary"},s,{initReuseProperties:function(){s.prototype.initReuseProperties.call(this),this.$$layout=null},applyMetaData:function(e){s.prototype.applyMetaData.call(this,e);if(this.$isEditMode&&this.$$layout){var t=e?e.$isReadOnly||e.$isDisabled:!1;this.$$layout.children("header").toggle(t!==!0),this.$$layout.children("footer").toggle(t!==!0)}},buildFieldValue:function(e,t){var n=this,r=n.getFormattedValue(n.getValue()),u=s.prototype.buildFieldValue.call(n,e,t),a=n._getLocalUrlValue();a||(a=n.prototype.data("$url",n.getDao())||"",a+="?salt="+(new Date).getTime());var f=r==null||r===""||a.length===0;f&&$(u).addClass("s-m-empty");if(n.$isEditMode&&typeof FileReader!="undefined"&&n.typeName.indexOf("document")<0)n._buildEditBinaryField(u,a,f);else if(f)t&&t.displayCtx==="card"?n._defaultImg(u,null):$(u).addClass(i.binaryIcon(n.cssType,"default"));else{var l=o.createDomElement("a",["img-responsive ctrl-evt-click"],null,{href:"#"},u);n.isImage?l=n._newImg(l,a):l=o.createDomElement("span",i.binaryIcon(n.cssType,"default"),null,null,l)}},_buildEditBinaryField:function(e,t,n){var r=this;r.$$layout=$('<div class="s-m-img-layout">');var s,a,f;s=o.createDomElement("a",["ctrl-evt-click"],null,{href:"#"},$("<header>").appendTo(r.$$layout)),s=o.createDomElement("span",i.getIconByName("close"),null,null,s),$(s).toggle(!n),f=o.createDomElement("a",["img-responsive","s-m-field-"+(r.isImage?"img":"bin"),"ctrl-evt-click"],null,{href:"#"},$("<section>").appendTo(r.$$layout)),r.isImage?(a=o.createDomElement("a",["ctrl-evt-click"],u.text("image.label."+(n?"addimage":"changeimage")),{href:"#"},$("<footer>").appendTo(r.$$layout)),n?f=o.createDomElement("span",[i.binaryIcon(r.cssType,"default")+" s-m-empty","img-responsive"],null,null,f):f=r._newImg(f,t)):f=o.createDomElement("span",[i.binaryIcon(r.cssType,"default"),n?"s-m-empty":"","s-m-doc"],null,null,f),e.appendChild(r.$$layout[0]);if(r.isImage)var l=o.createDomElement("input",["ctrl-evt-change"],null,{type:"file",accept:"image/*"},e)},onClick:function(e){var t=this,n=e.target.nodeName.toLowerCase()==="span"?e.target.parentNode:e.target,r;!t.$isEditMode&&n.nodeName.toLowerCase()==="a"?r=n:r=n.parentNode;if(!r)return;var i=f[r.nodeName.toLowerCase()];if(!i)return;t[i](e,n)},_onClearClick:function(e,t){var n=this,r=t,s=n.$$elmt.find(".s-m-img-layout > section > a")[0];o.empty(s),s=o.createDomElement("span",[i.binaryIcon(n.cssType,"default"),"s-m-empty"],null,null,s),n.setValue(null),$(r).toggle(),n.isImage&&n.$$elmt.find(".s-m-img-layout > footer > a").text(u.text("image.label.addimage")),n._setLocalUrlValue(null)},_onDocumentClick:function(e,t){var n=this,r=n.getFormattedValue(n.getValue()),i=n.prototype.data("$url",n.getDao())||"",s=r==null||r===""||i.length===0;n.isImage?s&&n._onUploadClick(e,t):s||window.open(i,"_blank")},_onUploadClick:function(e,t){var n=this,r=n.$$elmt.find(".s-m-value > input");r.trigger("click")},onChange:function(e){var t=this;if(e.target.nodeName.toLowerCase()==="input"){var n=e.target.files,r={};if(n&&n.length){var i=n[0];if(!i.type.match("image.*"))return;r.$contentType=i.type,r.$fileName=i.name,r.$type="image";var s=new FileReader;s.onload=function(e,n){return function(e){var r=e.target.result.indexOf("base64,");r>0?n.$value=e.target.result.substring(r+7):n.$value=e.target.result,delete n.$url,t.setValue(n.$value),t._setImage(e.target.result)}}(i,r),s.readAsDataURL(i)}}},_setLocalUrlValue:function(e){this.getDao().setValue(this.$bind+"-LOCALURL",e)},_getLocalUrlValue:function(){return this.getDao().getValue(this.$bind+"-LOCALURL")},_setImage:function(e){var t=this;t._setLocalUrlValue(e);var n=t.$$elmt.find(".s-m-img-layout > section > a")[0];o.empty(n),n=t._newImg(n,e),t.$$elmt.find(".s-m-img-layout > footer > a").text(u.text("image.label.changeimage")),t.$$elmt.find(".s-m-img-layout > header > a").toggle(!0)},_newImg:function(e,t){return this._setImgHeight(o.createDomElement("img",["img-responsive"],null,{src:t},e))},_defaultImg:function(e,t){return this._setImgHeight(o.createDomElement("span",i.binaryIcon(this.cssType,"default")+(" "+(t||"")),null,null,e))},_setImgHeight:function(e){var t=Math.max(0,parseInt(this.getAuthoring("$height")||a,10));return $(e).height(t).get(0)}});t.Klass=l}),define("syracuse-tablet/html/js/helpers/html-escape/lib/escape",["require","exports","module"],function(e,t,n){"use strict";function r(e){return e=e||{},e.allowedTags=(e.allowedTags||[]).concat(["h1","h2","h3","h4","h5","h6","blockquote","p","a","ul","ol","nl","li","b","i","strong","em","strike","code","hr","br","div","pre","table","thead","caption","tbody","tr","th","td","pre"]),e.allowedAttributes=(e.allowedAttributes||[]).concat(["class","href","src","name","target"]),e.allowedSchemes=(e.allowedSchemes||[]).concat(["http","https","mailto"]),e}function i(e){return e.reduce(function(e,t){return e[t]=!0,e},{})}function s(e){return e.replace(/>/g,"&gt;")}function o(e){return e.replace(/-->/g,"__>")}function u(e){return e.replace(/\/\*.*?\*\//g,"").replace(/(\\|\b)(j\\?a\\?v\\?a\\?s\\?c\\?r\\?i\\?p\\?t|e\\?x\\?p\\?r\\?e\\?s\\?s\\?i\\?o\\?n|u\\?r\\?l)\b/ig,"disabled-$1$2")}function a(e){return e.replace(/javascript/i,"disabled-javascript")}t.escaper=function(e){function p(e,t,n){return h&&t!==e&&h(n+": "+e+" -> "+t),t}function d(e,t){return e==="style"?p(t,u(t),"sanitized style"):e==="type"?p(t,a(t),"sanitized type attribute"):t}function v(){function i(t,n,i){var u=t.indexOf(n);return u>=0?(c&&(e+=o(t.substring(0,u))+i+"-->"),e+=s(t.substring(u+n.length)),r="text"):c&&(e+=o(t)),e}function u(t,n,i){var u=new RegExp("^/"+n+">","i"),a=u.exec(t);return a?(i?e+="</"+n+">":c&&(e+="</"+n+">-->"),e+=s(t.substring(a[0].length)),r="text"):i?e+=d(n,"<"+t):c&&(e+=o("<"+t)),e}function a(t,n){return n&&n("malformed element: "+t),c&&(e+="<!--<"+o(t)+"-->"),e}function p(e,t){if(l.test(e)){var n=t.indexOf(":");if(n<0||!f[t.substring(0,n)])return!1}return!0}function v(t,r,i,s){if(r){e+="</"+t+">",i=i.trim(),c&&i&&(e+="<!--@"+o(i)+"-->");return}e+="<"+t;var u=0,a=/^\s*(\w+)(?:\s*=\s*(?:(["'])(.*?)\2|()([\w_-]+)))?/,f;while(f=a.exec(i)){i=i.substring(f[0].length);var l=f[1].toLowerCase(),v=f[2]||'"',m=f[3]||f[5];if(!n[l]||!p(l,m)){h&&h("forbidden attribute: "+l);if(!c)continue;l="disabled-"+l}e+=" "+l+(m===undefined?"":"="+v+d(l,m)+v)}s?e+="/>":e+=">",i=i.trim(),h&&i&&h("malformed attribute: "+i),c&&i&&(e+="<!--@"+o(i)+"-->")}var e="",r="text";return function(n){e="";if(r==="comment")return i("<"+n,"-->","");if(r==="cdata")return i("<"+n,"]]>","]]");if(r==="script")return u(n,"script");if(r==="style")return u(n,"style",t.style);if(/^!--/.test(n))return r="comment",c&&(e+="<!-- "),i(n.substring(3),"-->","");if(/^!\[CDATA\[/.test(n))return r="cdata",h&&h("forbidden CDATA"),c&&(e+="<!--"),i(n.substring(1),"]]>","]]");if(/^script\b/i.test(n))return r="script",h&&h("forbidden *** SCRIPT *** element"),c&&(e+="<!--"),u(n,"script");if(/^style\b/i.test(n))return r="style",!t.style&&h&&h("forbidden STYLE element"),c&&!t.style&&(e+="<!--"),u(n,"style",t.style);var o=n.indexOf(">");if(o<0)return a(n,h);var f=/^(\/?)(\w+)/.exec(n);if(!f)return a(n,h);var l=f[2].toLowerCase();if(!t[l])h&&!f[1]&&h("forbidden "+l.toUpperCase()+" element"),c&&a(n.substring(0,o+1)),s(n.substring(0,o+1));else{var p=n[o-1]==="/";v(l,f[1],n.substring(f[1].length+l.length,p?o-1:o),p)}return e+=s(n.substring(o+1)),e}}e=r(e);var t=i(e.allowedTags),n=i(e.allowedAttributes),f=i(e.allowedSchemes),l=/^(href|src|dynsrc|lowsrc|background)$/i,c=e.preserve,h=e.warn;return e.streaming?function(){var e;return function(t){if(t.indexOf("<")>=0)throw new Error("internal error: bad HTML fragment");return e?e(t):(e=v(),s(t))}}():function(e){var t=v(),n=e.split("<"),r=s(n[0]);return n.slice(1).reduce(function(e,n){return e+t(n)},r)}}}),define("syracuse-tablet/html/js/helpers/html-escape/lib/unescape",["require","exports","module"],function(e,t,n){"use strict";t.unescaper=function(e){function t(e){return e.replace(/__>/g,"-->")}function n(e){return e.replace(/disabled-(\w+=?)/g,"$1").replace(/(.?)<!--(.*?)-->/g,function(e,n,r){if(r[0]===" ")return n+"<!--"+r.substring(1)+"-->";if(r[0]==="[")return n+"<!"+t(r)+">";if(r[0]==="<")return n+t(r);if(r[0]==="@")return t(r.substring(1))+n;throw new Error("cannot unescape: "+r)})}e=e||{};if(e.streaming){var r="";return function(e){if(e===undefined)return n(r);var t=Math.max(0,r.length-2);r+=e;var i=r.indexOf("-->",t);if(i<0)return"";var s=n(r.substring(0,i+3));return r=r.substring(i+3),s}}return n}}),define("syracuse-tablet/html/js/helpers/html-escape/index",["require","exports","module","./lib/escape","./lib/unescape"],function(e,t,n){"use strict";t.escaper=e("./lib/escape").escaper,t.unescaper=e("./lib/unescape").unescaper}),define("syracuse-tablet/html/js/helpers/syracuse-rtf/lib/rtfparse",["require","exports","module"],function(e,t,n){"use strict";function p(e){var t=[],n=[t];return{open:function(){var e=[];t.push(e),n.push(e),t=e},close:function(){n.length<=1&&e("too many }"),t=n.pop(),t=n[n.length-1]},text:function(e){t.push(e)},control:function(e,n){var r={word:e};n!=null&&(r.arg=n),t.push(r)},getResult:function(){return n.length!==1&&e("missing }"),n[0][0]}}}var r={},i={},s="\n".charCodeAt(0),o=" ".charCodeAt(0),u="\\".charCodeAt(0),a="{".charCodeAt(0),f="}".charCodeAt(0),l="-".charCodeAt(0),c="'".charCodeAt(0),h="*".charCodeAt(0);(function(){function e(e,t,n){t.split("").forEach(function(t){e[t.charCodeAt(0)+(n||0)]=!0})}for(var t=0;t<=9;t++)e(i,"0",t);for(var t=0;t<26;t++)e(r,"a",t)})(),t.parse=function(e){function g(n){var r=e.indexOf(/[\n>]/,t);return r<0&&(r=e.length),new Error("Invalid RTF: "+n+" at line "+v+" near "+e.substring(t,r))}function y(){t>n&&m.text(e.substring(n,t))}e=e.replace(/\r\n/g,"\n");var t=0,n=0,d=e.length,v=1,m=p(g);while(t<d){var b=e.charCodeAt(t);switch(b){case u:y();var w=++t;while(r[b=e.charCodeAt(t)])t++;if(t>w){var E=e.substring(w,t),S=undefined;if(b===l||i[b]){w=t,t++;while(i[b=e.charCodeAt(t)])t++;S=parseInt(e.substring(w,t),10)}(b===o||b===s||E==="u"&&b!==u&&b!==a&&b!==f)&&t++,m.control(E,S)}else if(b===c){var x=String.fromCharCode(parseInt(e.substring(t+1,t+3),16));m.text(x),t+=3}else b===h&&(m.control("*"),t++);n=t;break;case a:y(),m.open(),n=++t;break;case f:y(),m.close(),n=++t;break;case s:y(),v++,n=++t;break;default:t++}}return y(),m.getResult()}}),define("syracuse-tablet/html/js/helpers/syracuse-rtf/lib/rtfinterpret",["require","exports","module"],function(e,t,n){"use strict";t.interpret=function(e){function s(e,t,r){var i=e[0].word+e[0].arg,s=n.fonts[i]={};for(var u=1;u<e.length;u++)o(e[u],s)}function o(e,t){var n;typeof e=="string"&&(n=e.indexOf(";"))>0&&(t.name=e.substring(0,n))}function u(e,t,r){var i,s;if(e[0].word){i=e[0].word+e[0].arg,s=n.styles[i]={};for(var o=1;o<e.length;o++)a(e[o],s)}}function a(e,t){var n;typeof e=="string"&&(n=e.indexOf(";"))>0&&(t.name=e.substring(0,n))}function f(e,t,r){switch(e.word){case"rtf":case"ansi":case"ansicpg":break;case"stylesheet":t.slice(1).filter(function(e){return Array.isArray(e)}).forEach(u);break;case"deff":n.deffont="f"+e.arg;break;case"fonttbl":t.slice(1).filter(function(e){return Array.isArray(e)}).forEach(s);break;case"colortbl":var o=1;t[o]===";"&&(n.colors.push([0,0,0]),o++);while(o<t.length)n.colors.push([t[o].arg,t[o+1].arg,t[o+2].arg]),o+=4;break;case"*":i.indexOf(t[r+1].word)==-1&&t.splice(r,t.length-r)}}function l(e,t,n){Array.isArray(e)?e.forEach(l):typeof e=="object"&&f(e,n,t)}var t,n={deffont:"",fonts:{},colors:[],styles:{}},r={fnil:"Sans-serif",froman:"Sans-serif",fswiss:"Serif",fmodern:"Monospace",fscript:"Cursive",fdecor:"Cursive"},i=["rtf","ansi","ansicpg","deff","fonttbl","colortbl","stylesheet","fs","f","cf","highlight","i","b","ul","strike","plain","qc","ql","qr","qj","par","pard","pn"];return l(e),n}}),define("syracuse-tablet/html/js/helpers/syracuse-rtf/lib/buildhtml",["require","exports","module"],function(e,t,n){"use strict";function i(e){return e?s(e[0])+s(e[1])+s(e[2]):"000000"}function s(e){return("00"+e.toString(16)).slice(-2)}function o(e){return e/20}function u(e){return e/600}function a(e){return e/420}function f(e){return e/15}function l(e){function m(){return h=d=$("<div>").addClass("s-rtf-worker").addClass("s-rtf-clean"),d.appendTo(p)}function g(){return p=$("<div>").addClass("s-rtf-section").addClass("s-rtf-clean"),m(),p.appendTo(c)}function y(e){switch(e.word){case"f":var n=t[e.word+e.arg].name;return $("<font face='"+n+"'>");case"fs":return $("<span style='font-size: "+e.arg/2+"pt;'>");case"tab":return $("<blockquote>");case"cf":case"highlight":return $("<span style='"+r[e.word]+": #"+i(s[e.arg])+";'>");case"b":return $("<b>");case"i":return $("<i>");case"ul":return $("<u>");case"strike":return $("<s>");default:}}function b(e,t){e.addClass("s-rtf-format"),w();switch(t.word){case"ql":return e.attr("align","left");case"qc":return e.attr("align","center");case"qr":return e.attr("align","right");case"qj":return e.attr("align","justify");case"li":return t.arg>0?e.css("margin-left",o(t.arg)+"pt"):e;case"ri":return t.arg>0?e.css("margin-right",o(t.arg)+"pt"):e;default:return e}}function w(){d&&d.removeClass("s-rtf-clean"),p&&p.removeClass("s-rtf-clean")}function E(e){w(),h.append(e)}function S(e){w(),h=e.appendTo(h)}var t=e.fonts,n=e.deffont,s=e.colors,f=e.styles,l="",c=$("<div>").addClass("s-rtf-root"),h=null,p=null,d=null,v;return g(),v=function(){function n(){var t,n={};return e.forEach(function(e){t=e.format,Object.keys(t).forEach(function(e){typeof n[e]=="undefined"&&(n[e]=t[e])})}),n}var e=[{format:{}}],t=e[0];return{open:function(){e.push(t={format:{}})},close:function(n,r){e.pop(),t=e[e.length-1],n<r.length-1&&(this.pending=!0)},update:function(e,n){n===null?delete t.format[e]:t.format[e]=n},startOver:function(){if(!this.pending)return;var e=n();Object.keys(e).forEach(function(t){h=e[t].clone().appendTo(h)}),this.pending=!1}}}(),{text:function(e){w(),v&&v.startOver();var t=h.html();h.html(t+e)},open:function(){v.open()},close:function(e,t){h=d,h.length===0&&(h=c),v.close(e,t)},control:function(e){switch(e.word){case"par":w(),d.removeClass("s-rtf-worker").addClass("s-rtf-paragraph"),h=d=m(),v&&(v.pending=!0);break;case"pard":p.hasClass("s-rtf-clean")||(p=g(),v&&(v.pending=!0));break;case"pn":p.addClass("s-rtf-list");break;case"u":this.unicodechar(e.arg);break;case"qc":case"ql":case"qr":case"qj":case"ri":b(p,e);break;case"li":p.hasClass("s-rtf-list")?p.attr("indent",a(e.arg)):(!p.hasClass("s-rtf-clean")&&!p.hasClass("s-rtf-format")&&(p=g(),v&&(v.pending=!0)),p.addClass("s-rtf-left-indent"),p.attr("indent",u(e.arg)));break;case"lquote":case"rquote":this.text("'");break;case"line":E("<br>");break;case"bullet":break;case"i":case"b":case"strike":case"ulnone":case"ul":if(e.arg===0||e.word==="ulnone"){var t;e.word==="strike"?t="s":e.word==="ulnone"?t="u":t=e.word;if(h.is(t))h=h.parent();else if(h.html()!==""){var n=h.closest(t);h=n.parent()}v.update(e.word,null);break};default:var r=y(e);r&&(v.update(e.word,r.clone()),!v.pending&&S(r))}},unicodechar:function(e){w();var t=h.html();h.html(t+String.fromCharCode(e))},getHtml:function(){c.find(".s-rtf-clean").remove();var e=c.find(".s-rtf-section.s-rtf-list");e.map(function(e,t){var n=$(t),e=parseInt(n.attr("indent"),10),r=[];while(r.length<e)r.push("<ul>");n.wrap(r.join("")).contents()});var t=e.find(".s-rtf-paragraph");t.wrap("<li>").contents().unwrap();var n=c.find(".s-rtf-section.s-rtf-left-indent").removeClass("s-rtf-left-indent");n.map(function(e,t){var n=$(t),e=parseInt(n.attr("indent"),10),r=[];while(r.length<e)r.push("<blockquote>");n.wrap(r.join("")).contents(),n.removeAttr("indent")}),e=c.find(".s-rtf-section"),e.find(".s-rtf-paragraph").removeAttr("class").wrap("<p>").contents().unwrap(),e.find("div:empty").remove(),e.find(".s-rtf-worker:empty").remove(),e.filter(":not(.s-rtf-format)").contents().unwrap();while(c.find("span:empty").length)c.find("span:empty").remove();return c.find(".s-rtf-worker").removeAttr("class").contents().unwrap(),c.find(".s-rtf-format").removeAttr("class"),c.html()}}}var r={cf:"color",highlight:"background-color"};t.buildHtml=function(e,t){function r(e,t,i){if(typeof e=="string"){n.text(e);return}if(Array.isArray(e)&&e.length>0){if(e[0])switch(e[0].word){case"fonttbl":case"colortbl":case"stylesheet":case"pntxtb":case"pntext":case"pict":return}n.open(),e.forEach(r),n.close(t,i);return}typeof e=="object"&&n.control(e)}var n=l(t);return r(e,0,[]),e?n.getHtml():"<div></div>"}}),define("syracuse-tablet/html/js/helpers/syracuse-rtf/lib/buildrtf",["require","exports","module"],function(e,t,n){"use strict";function i(e){return r[e.toLowerCase()]}function s(){return{open:function(e){this[e]||(this[e]={},this[e].current=0),this[e].current++,this[e].pending=!0,this[e].value&&this[e].value[this[e].current-1]&&this[e].value.pop()},close:function(e){this[e].current--,this[e].current?this[e].pending=!0:this[e].pending=!1},current:function(e){return this[e]?this[e].current:0},pending:function(e,t){return t!==undefined&&(this[e]||(this[e]={}),this[e].pending=t),this[e]?this[e].pending:!1},value:function(e,t){return this[e]?(t!==undefined&&(t=parseInt(t,10),this[e].value===undefined&&(this[e].value=[]),this[e].value.push(this[e].current-1?this[e].value[this[e].current-2]+t:t)),this[e]&&this[e].value?this[e].value[this[e].current-1]:0):0},nl:!1,par:!1,ulindent:0}}function o(e){function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function a(e){if(e==null)return!0;for(var t in e)if(u(e,t))return!1;return!0}function f(e){e=e.toLowerCase();switch(e){case"p":return"\\par";case"b":return"\\b";case"i":return"\\i";case"u":return"\\ul";case"s":return"\\strike";case"br":return"\\par";case"blockquote":return"";default:return""}}var t=e.fonts,n=e.colors,r="",i=!1,o=s();return a(t)||(r+="{\\fonttbl",Object.keys(t).forEach(function(e){r+="{\\"+e+" "+t[e].name+";}"}),r+="}"),n.length>1&&(r+="{\\colortbl",n.forEach(function(e){e[0]===0&&e[1]===0&&e[2]===0?r+=";":r+="\\red"+e[0]+"\\green"+e[1]+"\\blue"+e[2]+";"}),r+="}"),r+="\\uc0\\pard",{open:function(){r+="{",i=!1},text:function(e){var t=0,n=t,s;while(t<e.length){while(e.charCodeAt(t)<=128&&e.charCodeAt(t)!=10)t++;t>n?r+=(i?" ":"")+e.substring(n,t):e.charCodeAt(t)==10&&(r+=i?" ":""),i=!1,t<e.length&&(s=e.charCodeAt(t),s===160||s===10?r+=" ":this.controlarg("u",e.charCodeAt(t)),t++),n=t}},fragment:function(e){r+=e,i=!1},font:function(e){e!==""&&(r+="\\"+e,i=!0)},controlarg:function(e,t){r+="\\"+e+t,i=!0},control:function(e){o.par=e=="par",r+="\\"+e,i=!0},htmltag:function(e){var t=f(e);t&&(o.par=t=="\\par"),r+=t,i=!0},star:function(){r+="\\*",i=!1},close:function(){o.par||(r+="\\par"),r="{\\rtf1\\ansi"+r+"}",i=!1},getRtf:function(){return r},context:o}}var r={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c","indigo ":"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",window:"#ffffff",windowframe:"#000000",windowtext:"#000000"},u={"margin-left":"li","margin-right":"ri","margin-top":"sb","margin-bottom":"sa"},a=function(e,t){var n={pt:20,px:15,mm:56.7,cm:567,"in":1440.18};return function(e,t){return t*(n[e]||n.px)}}();t.buildRtf=function(e){function h(e,t){if(!t)return-1;for(var n=0;n<e.length;n++)if(e[n][0]==t[0]&&e[n][1]==t[1]&&e[n][2]==t[2])return n;return-1}function p(e){return $(e).is("div[style]")?$(e).attr("style").search("margin-left")>-1:!1}function d(e){c.indexOf(e)<0&&c.push(e)}function v(e){var n=t.fonts,r=Object.keys(n);for(var i=0;i<r.length;i++)if(n[r[i]].name===e)return r[i];return""}function m(e){return $(e).is("ul")||$(e).is("li")||e.childElementCount>0&&e.firstChild.nodeName==="UL"}function g(e,n){var i,s,o;f.context.pending("blockquote")&&!f.context.current("list")&&!$(e).is("blockquote")&&!$(e).is("div")&&!f.context.current("list")&&!m(e)&&(f.control("li"+f.context.current("blockquote")*600),f.context.pending("blockquote",!1));if(e.nodeType===3)f.text(e.nodeValue),f.context.par=!1,e.nextSibling&&$(e.nextSibling).is("blockquote")&&f.control("par");else if($(e).is("*[style]")&&!$(e).is("blockquote")){var l=$(e).attr("style").split(";"),c=!($(e).attr("style").search("text-align")>-1&&$(e).attr("style").search("margin-left")>-1),p=null;e.nodeName=="B"&&f.htmltag(e.nodeName),l.forEach(function(n){var l=n.split(":");l[0]!=null&&(l[0]=l[0].replace(/^\s*/,"").replace(/\s*$/,"")),l[1]!=null&&(l[1]=l[1].replace(/^\s*/,"").replace(/\s*$/,""));switch(l[0]){case"color":l[1].substring(0,3)==="rgb"?(i=N(l[1]),s=h(t.colors,i)):s=b(l[1]),o="cf",f.controlarg(o,s);break;case"background-color":l[1].substring(0,3)==="rgb"?(i=N(l[1]),s=h(t.colors,i)):s=b(l[1]),o="highlight",f.controlarg(o,s);break;case"text-decoration":l[1]==="underline"?f.control("ul"):l[1]==="line-through"&&f.control("strike");break;case"font-style":l[1]==="italic"&&f.control("i");break;case"font-weight":l[1]==="bold"&&f.control("b");break;case"font-size":var d=$(e).attr("style"),v=/([0-9\.\-]+)([A-Za-z]*)/g.exec(l[1]),m=v[2]&&v[2].toLowerCase();if(m!="em"){var g=parseFloat(l[1]),y=Math.round(g*2);f.controlarg("fs",y),f.context.fs=!0}break;case"margin-left":var v=/([0-9\.\-]+)([A-Za-z]*)/g.exec(l[1]),m=v[2]&&v[2].toLowerCase()||"px",w=parseInt(v[1],10);if($(e).is("ul"))f.context.ulindent=w/40,f.context.open("list");else if($(e).is("div")||$(e).is("p"))f.context.open("lindent"),f.context.value("lindent",w),f.controlarg(u[l[0]],a(m,f.context.value("lindent"))),p&&f.control(r[p]);c&&($(e).contents().each(C),e.nodeName==="P"?(f.context.close("lindent"),f.control("par")):e.nodeName==="DIV"&&f.context.close("lindent"),f.context.current("lindent")?f.controlarg(u[l[0]],a(m,f.context.value("lindent"))):f.control("pard")),c=!0;break;case"margin-right":case"margin-top":case"margin-bottom":var v=/([0-9\.\-]+)([A-Za-z]*)/g.exec(l[1]),m=v[2]&&v[2].toLowerCase()||"px",w=parseInt(v[1],10);f.controlarg(u[l[0]],a(m,w)),$(e).contents().each(C),e.nodeName==="P"&&f.control("par"),f.control("pard");break;case"margin":$(e).contents().each(C),e.nodeName==="P"&&f.control("par");break;case"text-align":if(c){f.control("pard");var E=l[1];f.control(r[E]),$(e).contents().each(C),f.control("par"),f.control("pard")}else p=l[1];c=!0}})}else if($(e).is("font")){if($(e).is("font[face]")){var d=$(e).attr("face");f.font(v(d))}$(e).is("font[color]")&&(s=b($(e).attr("color")),o="cf",f.controlarg(o,s)),$(e).is("font[bgcolor]")&&(s=b($(e).attr("bgcolor")),o="highlight",f.controlarg(o,s)),$(e).is("font[size]")&&(s=w($(e).attr("size")),f.controlarg("fs",s))}else if($(e).is("div[align]")){var g=$(e).attr("align");f.control("pard"),f.control(r[g]),$(e).contents().each(C),e.childElementCount>0&&e.firstChild.nodeName==="P"||f.control("par"),f.control("pard")}else if(e.nodeName==="UL")f.control("pard"),f.context.open("list");else if(e.nodeName==="LI"){f.fragment("{\\pntext"),f.font(v("Symbol")),f.fragment("\\'B7\\tab}");if(f.context.pending("list")){var y=f.context.current("list")+f.context.current("blockquote")+f.context.ulindent;y+=f.context.current("lindent"),f.fragment("{\\*\\pn\\pnlvlblt\\pnf1\\pnindent0{\\pntxtb\\'B7}}\\f0\\li"+y*420),f.context.ulindent=0,f.context.pending("list",!1)}}else e.nodeName==="P"?f.control("par"):f.htmltag(e.nodeName)}function y(e){var t=/#(..)(..)(..)/.exec(e)||/#(..)(..)(..)/.exec(i(e));return t&&t.slice(1).map(function(e){return parseInt(e,16)})}function b(e){var n=y(e),r=h(t.colors,n);return r==-1?-1:r}function w(e){return e=parseInt(e,10),e<0||e>7?0:[0,18,20,24,28,36,48,72][e]}function E(e){if(!e)return;e.each(C)}function S(e,n){e.each(function(e,r){var i=$(r).attr(n),s=y(i);s&&h(t.colors,s)==-1&&t.colors.push(s)})}function x(e){var n,r;e.each(function(e,i){var s=$(i).attr("style"),o=s&&s.replace(/[\n\r]*\s*/g,"").split(";"),u=o&&o.filter(function(e){var t=e.split(":");return t[0]=t[0].replace(/^\s*/,"").replace(/\s*$/,""),["color","background-color","background"].indexOf(t[0])!=-1}),a=u&&u[0]&&u[0].split(":");a&&a[1]&&(a[1]=a[1].replace(/^\s*/,"").replace(/\s*$/,""),a[1].substring(0,3)==="rgb"?(n=N(a[1]),r=h(t.colors,n)):(r=b(a[1]),n=y(a[1])),r==-1&&n&&t.colors.push(n))})}function T(){var e=l.find("font[face]"),t=l.find("font[color]"),n=l.find("font[bgcolor]"),r=l.find('*[style*="background-color"]'),i=l.find('*[style*="color"]');d("MS Sans Serif"),e.each(function(e,t){d($(t).attr("face"))}),l.find("ul").length>0&&d("Symbol"),S(t,"color"),S(n,"bgcolor"),x(r),x(i)}function N(e){var t=/\s*rgb\(\s*(\d+),\s*(\d+),\s*(\d+)\s*\);*/.exec(e);return t?t.slice(1).map(function(e){return parseInt(e,10)}):[]}function C(e,t){var n=$(t),i;if(n.is("blockquote"))f.context.open("blockquote");else if(n.is("div[align]")||n.is("*[style*=text-align]")||n.is("*[style*=margin]")){g(t,e),t.nodeName==="UL"&&f.control("pard");return}var s,o,u=t.nextSibling,l=t.nodeName==="P"&&t.childElementCount===1&&t.firstChild.nodeName==="BR";i=n.contents(),!n.is("blockquote")&&u&&u.nodeName==="DIV"&&!p(t)&&!p(u)?(!(u.childElementCount>0)||u.firstChild.nodeName!=="BR"&&u.firstChild.nodeName!=="P")&&!l&&(o=!0):i.length>0&&u&&!n.is("ul")&&!n.is("li")&&!n.is("blockquote")&&!n.is("p")&&(s=!0,f.fragment("{"));if(n.is("p[align]")){var c=n.attr("align");f.control("pard"),f.control(r[c])}n.is("p")||g(t,e),i.each(C),t.nodeName==="P"&&!o&&!l&&g(t,e),(t.nodeName==="B"||n.is("*[style*=font-weight]"))&&f.control("b0"),(t.nodeName==="U"||n.is("*[style*=text-decoration]"))&&f.control("ul0"),n.is("*[style*=font-size]")&&f.context.fs&&(f.context.fs=!1,s||f.control("fs16")),(t.nodeName==="I"||n.is("*[style*=font-style]"))&&f.control("i0"),n.is("*[style*=color]")&&!n.is("*[style*=background-color]")&&!s&&f.control("cf0"),t.nodeName==="UL"?(f.context.close("list"),f.control("pard"),f.context.par=!0,f.context.current("blockquote")&&f.context.pending("blockquote",!0),f.context.current("lindent")&&t.nextSibling&&t.nextSibling.nodeType===3&&f.control("li"+a("px",f.context.value("lindent")))):n.is("li")&&f.control("par"),s&&f.fragment("}"),n.is("blockquote")&&f.context.current("blockquote")&&(f.context.pending("blockquote")?(f.context.close("blockquote"),!f.context.current("blockquote")&&u&&!$(u).html()&&(f.context.nl=!0)):(f.context.par||f.control("par"),f.control("pard"),f.context.close("blockquote")));if(o||f.context.nl)f.context.nl=!1,f.control("par")}function k(){var e;for(var n=0;n<c.length;n++)e="f"+n,t.fonts[e]={name:c[n]}}var t={};t.deffont="",t.fonts={},t.colors=[],t.styles={};var n={fnil:"Sans-serif",froman:"Sans-serif",fswiss:"Serif",fmodern:"Monospace",fscript:"Cursive",fdecor:"Cursive"},r={left:"ql",center:"qc",right:"qr",justify:"qj"},s=[{pt:6,px:7},{pt:7,px:9},{pt:40,px:50}],f,l=$("<div>").append(e),c=[];t.colors.push([0,0,0]),T(),k(),f=o(t),E(l),f.close();var L=f.getRtf();return L}}),define("syracuse-tablet/html/js/helpers/syracuse-rtf/lib/index",["require","exports","module","./rtfparse","./rtfinterpret","./buildhtml","./buildrtf"],function(e,t,n){"use strict";var r=e("./rtfparse"),i=e("./rtfinterpret"),s=e("./buildhtml"),o=e("./buildrtf");n.exports={toHtml:function(e,t){e=e||"";var n=r.parse(e),o=i.interpret(n);return s.buildHtml(n,o)},fromHtml:function(e,t){return o.buildRtf(e)}}}),define("syracuse-tablet/html/js/helpers/syracuse-rtf/index",["require","exports","module","./lib/index"],function(e,t,n){"use strict";n.exports=e("./lib/index")}),define("syracuse-tablet/html/js/controls/field/ctrlText",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/field/ctrlFieldBase","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/helpers/html-escape/index","syracuse-tablet/html/js/ajax/ajax","syracuse-tablet/html/js/helpers/syracuse-rtf/index"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/field/ctrlFieldBase").Klass,s=e("syracuse-tablet/html/js/ui/uiUtils"),o=e("syracuse-tablet/html/js/helpers/locale"),u=e("syracuse-tablet/html/js/helpers/html-escape/index").escaper({warn:console.warn.bind(console),allowedAttributes:["style"],allowedTags:["span"]}),a=e("syracuse-tablet/html/js/ajax/ajax").getAjax().ajax,f=e("syracuse-tablet/html/js/helpers/syracuse-rtf/index"),l=34,c={expander:'		<button type="button" class="btn" data-action="toggleText" data-control-id="{{ctrlId}}>{{label}}</button>'},h=r.defineClass(function(t,n,r,s){var o=this;n&&!n.$labelPosition&&(n.$labelPosition="top"),i.call(o,t,n,r,s),o.cssType="s-m-clob"},i,{_getHeightPixelValue:function(e){switch(e){case"medium":return 2*l;case"large":return 4*l;case"xlarge":return 8*l;default:return l}},buildFieldValue:function(e,t){var n=this,r=n.getFormattedValue(n.getValue()),o=i.prototype.buildFieldValue.call(n,e,t),u=$('<section><div class="s-m-enriched-text"></div></section>').appendTo(o).children(":first-child"),f=$(s.createDomElement("div",["s-m-enriched-text-content"],null,null,u));n.authH=n.getAuthoring("$textHeight","medium"),n.authH=n._getHeightPixelValue(n.authH);var l=n.prototype.data("$url",n.getDao())||"";a("GET",l,null,null,{noJsonParsing:!0}).then(function(e){var t=e.responseText||"";if(!t||t===""){u.remove();return}var r=[];switch(n.$type){case"text/plain":n.buildFieldFromPlain(t,f);break;case"text/html":n.buildFieldFromHtml(t,f);break;case"text/rtf":n.buildFieldFromRtf(t,f)}var i=parseInt(f.css("line-height").replace("px",""),10),s=Math.floor(n.authH/i);n.computedHeight=i*s,f.css({height:n.computedHeight+"px"}),n.appendExpander(f)}).fail(function(e){n.insertError(e.message)})},appendExpander:function(e){var t=this;if(e.get(0).scrollHeight>t.computedHeight&&e.get(0).scrollHeight-t.computedHeight>5){var n='<button type="button" class="btn" data-action="toggleText"				data-control-id="'+t.id+'"				data-params="more">'+o.text("field.text.seemore")+"</button>",r=t.$$expander=$(n);r.insertAfter(e),r.css("float","right"),r.wrap("<div class='s-m-enriched-text-expander'></div>"),r.parent().height(r.outerHeight())}},_actToggleText:function(e){var t=this;e==="more"?(t.$$elmt.find(".s-m-enriched-text-content").css({height:"auto"}),t.$$expander.text(o.text("field.text.seeless")),t.$$expander.attr("data-params","less")):(t.$$elmt.find(".s-m-enriched-text-content").css({height:t.computedHeight+"px"}),t.$$expander.text(o.text("field.text.seemore")),t.$$expander.attr("data-params","more")),s.triggerResizeInternal({preserveScroll:!0})},insertError:function(e){var t=['<div class="s-m-error">'];t.push(e),t.push("</div>"),$(t.join("")).appendTo(this.$$elmt)},buildFieldFromPlain:function(e,t){t.append($.parseHTML(u(e.replace(/\n/g,"<BR/>"))))},buildFieldFromRtf:function(e,t){this.buildFieldFromHtml(f.toHtml(e),t)},buildFieldFromHtml:function(e,t){t.append($.parseHTML(u(e)))}});t.Klass=h}),define("syracuse-tablet/html/js/controls/ctrlIcon",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/ui/fontUtils","syracuse-tablet/html/js/controls/ctrlBase"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/ui/fontUtils"),s=e("syracuse-tablet/html/js/controls/ctrlBase"),o=s.Klass,u=r.defineClass(function(t,n,r){o.call(this,t,n,r)},o,{buildHtml:function(e,t,n){var r=this;o.prototype.buildHtml.call(r,e,t,n,["s-m-icon"]),r.$$elmt.html(s.genHtmlCtrlLink(r.prototype,t,{tag:"a",css:""},function(e){e.push('<span class="'),e.push(i.ctrlIcon(r.prototype.data("$icon"))),e.push('"></span>')}))}});t.Klass=u}),define("syracuse-tablet/html/js/controls/ctrlButton",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/ui/fontUtils","syracuse-tablet/html/js/controls/ctrlBase"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/ui/fontUtils"),s=e("syracuse-tablet/html/js/controls/ctrlBase"),o=s.Klass,u=r.defineClass(function(t,n,r){o.call(this,t,n,r)},o,{buildHtml:function(e,t,n){var r=this;o.prototype.buildHtml.call(r,e,t,n,["s-m-btn"]),r.$$elmt.html(s.genHtmlCtrlLink(r.prototype,t,{tag:"button",css:"btn btn-info btn-large"},function(e){var t=r.prototype.data("$icon")||"";t.length>0&&e.push('<i class="'+i.ctrlIcon(r.prototype.data("$icon"))+'"></i>'),t=r.prototype.data("$text")||"",t.length>0&&e.push(t)}))}});t.Klass=u}),define("syracuse-tablet/html/js/controls/chart/chartstheme",["require","exports","module"],function(e,t,n){"use strict";t.ChartsTheme={colors:["#2f7ed8","#0d233a","#8bbc21","#910000","#1aadce","#492970","#f28f43","#77a1e5","#c42525","#a6c96a"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/3.0.2/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/3.0.2/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacingTop:10,spacingRight:10,spacingBottom:15,spacingLeft:10,style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",y:15,style:{color:"#666",fontSize:"16px"}},subtitle:{text:"",align:"center",y:30,style:{color:"#4d759e"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{enabled:!1,align:"center",x:0,y:0,style:{color:"#666",cursor:"default",fontSize:"11px",lineHeight:"14px"},verticalAlign:"bottom"},cropThreshold:300,pointRange:0,showInLegend:!0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0},area:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{enabled:!1,align:"center",x:0,y:0,style:{color:"#666",cursor:"default",fontSize:"11px",lineHeight:"14px"},verticalAlign:"bottom"},cropThreshold:300,pointRange:0,showInLegend:!0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0,threshold:0},spline:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{enabled:!1,align:"center",x:0,y:0,style:{color:"#666",cursor:"default",fontSize:"11px",lineHeight:"14px"},verticalAlign:"bottom"},cropThreshold:300,pointRange:0,showInLegend:!0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0},areaspline:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{enabled:!1,align:"center",x:0,y:0,style:{color:"#666",cursor:"default",fontSize:"11px",lineHeight:"14px"},verticalAlign:"bottom"},cropThreshold:300,pointRange:0,showInLegend:!0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0,threshold:0},column:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:null,point:{events:{}},dataLabels:{enabled:!1,align:null,x:0,y:null,style:{color:"#666",cursor:"default",fontSize:"11px",lineHeight:"14px"},verticalAlign:null},cropThreshold:50,pointRange:null,showInLegend:!0,states:{hover:{marker:{},brightness:.1,shadow:!1},select:{marker:{},color:"#C0C0C0",borderColor:"#000000",shadow:!1}},stickyTracking:!1,borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:.2,pointPadding:.1,minPointLength:0,threshold:0},bar:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:null,point:{events:{}},dataLabels:{enabled:!1,align:null,x:0,y:null,style:{color:"#666",cursor:"default",fontSize:"11px",lineHeight:"14px"},verticalAlign:null},cropThreshold:50,pointRange:null,showInLegend:!0,states:{hover:{marker:{},brightness:.1,shadow:!1},select:{marker:{},color:"#C0C0C0",borderColor:"#000000",shadow:!1}},stickyTracking:!1,borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:.2,pointPadding:.1,minPointLength:0,threshold:0},scatter:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:0,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{enabled:!1,align:"center",x:0,y:0,style:{color:"#666",cursor:"default",fontSize:"11px",lineHeight:"14px"},verticalAlign:"bottom"},cropThreshold:300,pointRange:0,showInLegend:!0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!1,tooltip:{headerFormat:'<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>",followPointer:!0}},pie:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:null,point:{events:{}},dataLabels:{enabled:!0,align:"center",x:0,y:0,style:{color:"#666",cursor:"default",fontSize:"11px",lineHeight:"14px"},verticalAlign:"bottom",distance:30},cropThreshold:300,pointRange:0,showInLegend:!1,states:{hover:{marker:{},brightness:.1,shadow:!1},select:{marker:{}}},stickyTracking:!1,borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,ignoreHiddenPoint:!0,legendType:"point",size:null,slicedOffset:10,tooltip:{followPointer:!0}},arearange:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:1,marker:null,point:{events:{}},dataLabels:{enabled:!1,align:"center",x:0,y:0,style:{color:"#666",cursor:"default",fontSize:"11px",lineHeight:"14px"},verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0},cropThreshold:300,pointRange:0,showInLegend:!0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0},areasplinerange:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:1,marker:null,point:{events:{}},dataLabels:{enabled:!1,align:"center",x:0,y:0,style:{color:"#666",cursor:"default",fontSize:"11px",lineHeight:"14px"},verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0},cropThreshold:300,pointRange:0,showInLegend:!0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0},columnrange:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:1,marker:null,point:{events:{}},dataLabels:{enabled:!1,align:"center",x:0,y:0,style:{color:"#666",cursor:"default",fontSize:"11px",lineHeight:"14px"},verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0},cropThreshold:300,pointRange:null,showInLegend:!0,states:{hover:{marker:{},brightness:.1,shadow:!1},select:{marker:{},color:"#C0C0C0",borderColor:"#000000",shadow:!1}},stickyTracking:!0,borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:.2,pointPadding:.1,minPointLength:0,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0},gauge:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{enabled:!0,align:"center",x:0,y:5,style:{color:"#666",cursor:"default",fontSize:"16px",lineHeight:"24px",fontWeight:"normal"},verticalAlign:"top",borderWidth:0,borderColor:null,borderRadius:3,zIndex:2},cropThreshold:300,pointRange:0,showInLegend:!1,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0,dial:{},pivot:{},tooltip:{style:{color:"#666"},headerFormat:""}},boxplot:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:1,marker:null,point:{events:{}},dataLabels:{enabled:!1,align:null,x:0,y:null,style:{color:"#666",cursor:"default",fontSize:"11px",lineHeight:"14px"},verticalAlign:null},cropThreshold:50,pointRange:null,showInLegend:!0,states:{hover:{marker:{},brightness:-0.3,shadow:!1},select:{marker:{},color:"#C0C0C0",borderColor:"#000000",shadow:!1}},stickyTracking:!1,borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:.2,pointPadding:.1,minPointLength:0,threshold:null,fillColor:"#FFFFFF",medianWidth:2,tooltip:{pointFormat:'<span style="color:{series.color};font-weight:bold">{series.name}</span><br/>Minimum: {point.low}<br/>Lower quartile: {point.q1}<br/>Median: {point.median}<br/>Higher quartile: {point.q3}<br/>Maximum: {point.high}<br/>'},whiskerLength:"50%",whiskerWidth:2},errorbar:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:1,marker:null,point:{events:{}},dataLabels:{enabled:!1,align:null,x:0,y:null,style:{color:"#666",cursor:"default",fontSize:"11px",lineHeight:"14px"},verticalAlign:null},cropThreshold:50,pointRange:null,showInLegend:!0,states:{hover:{marker:{},brightness:-0.3,shadow:!1},select:{marker:{},color:"#C0C0C0",borderColor:"#000000",shadow:!1}},stickyTracking:!1,borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:.2,pointPadding:.1,minPointLength:0,threshold:null,fillColor:"#FFFFFF",medianWidth:2,tooltip:{pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerLength:"50%",whiskerWidth:null,color:"#000000",grouping:!1,linkedTo:":previous"},waterfall:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:1,marker:null,point:{events:{}},dataLabels:{enabled:!1,align:null,x:0,y:null,style:{color:"#666",cursor:"default",fontSize:"11px",lineHeight:"14px"},verticalAlign:null},cropThreshold:50,pointRange:null,showInLegend:!0,states:{hover:{marker:{},brightness:.1,shadow:!1},select:{marker:{},color:"#C0C0C0",borderColor:"#000000",shadow:!1}},stickyTracking:!1,borderColor:"#333",borderWidth:1,borderRadius:0,groupPadding:.2,pointPadding:.1,minPointLength:0,threshold:0,lineColor:"#333",dashStyle:"dot"},bubble:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:0,marker:{enabled:!0,lineWidth:1,radius:4,lineColor:null,states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{enabled:!1,align:"center",x:0,y:0,style:{color:"white",cursor:"default",fontSize:"11px",lineHeight:"14px",textShadow:"0px 0px 3px black"},verticalAlign:"middle",inside:!0},cropThreshold:300,pointRange:0,showInLegend:!0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!1,tooltip:{headerFormat:'<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',pointFormat:"({point.x}, {point.y}), Size: {point.z}",followPointer:!0},minSize:8,maxSize:"20%",zThreshold:0}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",borderWidth:1,borderColor:"#909090",borderRadius:5,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{cursor:"pointer",color:"#274b6d",fontSize:"12px"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"1em"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:!0,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',shadow:!0,snap:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!1,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}}}),define("syracuse-tablet/html/js/controls/field/ctrlGaugeChart",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/controls/field/ctrlFieldBase","syracuse-tablet/html/js/controls/chart/chartstheme"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/locale"),s=e("syracuse-tablet/html/js/controls/field/ctrlFieldBase").Klass,o=e("syracuse-tablet/html/js/controls/chart/chartstheme").ChartsTheme,u=r.defineClass(function(t,n,r,i){var o=this;s.call(o,t,n,r,i),o.formatter=o.initFormatter(),o.cssType=null},s,{_defaultGaugeSegments:[{propStart:0,propEnd:.25,valStart:null,valEnd:null,color:"#41A940"},{propStart:.25,propEnd:.75,valStart:null,valEnd:null,color:"#FF5800"},{propStart:.75,propEnd:1,valStart:null,valEnd:null,color:"#CB3500"}],buildFieldValue:function(e,t){var n=this,r=i.getNumberDecimalSeparator(),s=i.getNumberGroupSeparator();n.chartsTheme||(n.chartsTheme=o);if(!n.chartsTheme.themeWasSet||n.chartsTheme.decimalPoint!==r||n.chartsTheme.thousandsSep!==s)n.chartsTheme.decimalPoint=r,n.chartsTheme.thousandsSep=s,Highcharts.setOptions(n.chartsTheme),n.chartsTheme.themeWasSet=!0;n._renderGauge()},buildFieldTitle:function(e,t){},_resolveExpr:function(e,t,n){return typeof e!="string"?e:e.replace(/\{(\w+)\}/g,function(e,r){return t[r]!=null?t[r]:n[r]!=null?n[r]:e})},_mergeAuthoringAndDefaults:function(){var e=this,t=e.article.$gauge;if(!t.segments)return e._defaultGaugeSegments;if(t.segments.length===0)return e._defaultGaugeSegments;var n,r,i,s=[];for(n=0;n<t.segments.length;n++)r=e._defaultGaugeSegments[Math.min(n,e._defaultGaugeSegments.length-1)],i=t.segments[n],i?((i.propStart==null||i.propEnd==null)&&(i.valStart==null||i.valEnd==null)&&(i.propStart=r.propStart,i.propEnd=r.propEnd,i.valStart=r.valStart,i.valEnd=r.valEnd),i.color==null&&(i.color=r.color),s.push(i)):s.push(r);return s},_createBands:function(e,t,n){var r=this,i=[];i.push({from:t,to:n,color:"#ccc",innerRadius:"79%",outerRadius:"101%"});var s=r.getValue(),o=r._mergeAuthoringAndDefaults(),u,a,f,l=n-t;for(a=0;a<o.length;a++)u=o[a],f={innerRadius:"79%",outerRadius:"101%",color:u.color},u.valStart!=null&&u.valEnd!=null?(f.from=r._resolveExpr(u.valStart,s,e),f.to=r._resolveExpr(u.valEnd,s,e)):u.propStart!=null&&u.propEnd!=null&&(f.from=t+l*r._resolveExpr(u.propStart,s,e),f.to=t+l*r._resolveExpr(u.propEnd,s,e)),i.push(f);return i},_getScale:function(){function t(e){var t=e.match(/\.(.*)/g);return t.length>=1?t.length:0}var e=this;return e.article.$scale?e.article.$scale:e.article.$format?t(e.article.$format):0},_renderGauge:function(){var e=this;e.$$chartSlot&&(e.$$chartSlot.remove(),e.$$chartSlot=null),e.$$chartSlot=$("<div>").addClass("s-m-gauge-container"),e.$$elmt.append(e.$$chartSlot);var t=e.article.$gauge,n=e.$isEditMode?"#666":"#34B233",r=e.getValue(),i=0,s=100;t.$bindMin!=null&&t.$bindMax!=null&&(typeof t.$bindMin=="string"?i=e.getDao().getValue(t.$bindMin):i=t.$bindMin,typeof t.$bindMax=="string"?s=e.getDao().getValue(t.$bindMax):s=t.$bindMax);try{typeof r=="string"&&(r=parseFloat(r))}catch(o){}try{typeof i=="string"&&(i=parseFloat(i))}catch(o){}try{typeof s=="string"&&(s=parseFloat(s))}catch(o){}var u=e.prototype.json,a="";u.$unit&&u.$properties&&u.$properties[u.$unit]&&r&&r[u.$unit]&&r[u.$unit].$symbol&&(a=r[u.$unit].$symbol);var f=e.getTitle(),l=e._getScale(),c=e._createBands(u,i,s);e._calcDesiredHeight();var h=35,p=e.desiredHeight,d="50%",v=(p-20)/p*100+"%",m=p-30;e.$$chartSlot.highcharts({chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1,backgroundColor:null,height:p,borderWidth:0,spacingBottom:h},title:{text:f,style:{color:n,fontWeight:"normal",textTransform:"uppercase"},verticalAlign:"bottom",y:27},pane:{startAngle:-90,endAngle:90,center:[d,v],size:m,background:[{backgroundColor:"#FFF",borderWidth:0}]},yAxis:{min:i,max:s,minorTickWidth:1,minorTickInterval:"auto",minorTickLength:20,minorTickPosition:"inside",minorTickColor:"#fff",tickPixelInterval:30,tickWidth:0,tickPosition:"inside",tickLength:15,tickColor:"#FFF",labels:{step:1,rotation:"auto",style:{color:"#666",cursor:"default",fontSize:"0.9em",fontFamily:"Arial",lineHeight:"14px"},distance:10,y:0,verticalAlign:"center",align:"center"},title:{text:a,style:{color:"#666"}},plotBands:c},plotOptions:{gauge:{dataLabels:{enabled:!0,format:"{point.y:,."+l+"f}",style:{fontFamily:"Arial"}}}},exporting:{buttons:null},series:[{name:f,data:[r],tooltip:{valueSuffix:" "+a}}]},function(){})},onResize:function(){var e=this;e._renderGauge()},_calcDesiredHeight:function(){var e=this,t=e.$$elmt.closest(".s-m-scroll-wrapper"),n=$(".s-m-control",t).length<2,r=t.closest(".s-m-tile").length>0;if(r&&n){var i=t.parent();e.desiredHeight=i.height()-20}else e.desiredHeight=200},destroy:function(){var e=this;s.prototype.destroy.call(e),e.$$chartSlot&&(e.$$chartSlot.remove(),e.$$chartSlot=null)}});t.Klass=u}),define("syracuse-tablet/html/js/controls/ctrlFactoryDeps",["require","exports","module","syracuse-tablet/html/js/controls/field/ctrlAlphanum","syracuse-tablet/html/js/controls/field/ctrlAlphanum","syracuse-tablet/html/js/controls/field/ctrlAlphanum","syracuse-tablet/html/js/controls/field/ctrlProgress","syracuse-tablet/html/js/controls/field/ctrlNumeric","syracuse-tablet/html/js/controls/field/ctrlQuantity","syracuse-tablet/html/js/controls/field/ctrlCheckBox","syracuse-tablet/html/js/controls/field/ctrlCombo","syracuse-tablet/html/js/controls/field/ctrlDate","syracuse-tablet/html/js/controls/array/ctrlArray","syracuse-tablet/html/js/controls/field/ctrlReference","syracuse-tablet/html/js/controls/layout/layoutRow","syracuse-tablet/html/js/controls/layout/layoutStack","syracuse-tablet/html/js/controls/layout/layoutTab","syracuse-tablet/html/js/controls/layout/layoutHub","syracuse-tablet/html/js/controls/layout/layoutHubGroup","syracuse-tablet/html/js/controls/layout/layoutTile","syracuse-tablet/html/js/controls/layout/layoutCell","syracuse-tablet/html/js/controls/vignetteBase","syracuse-tablet/html/js/controls/page/ctrlPageHeader","syracuse-tablet/html/js/controls/page/ctrlPageFooter","syracuse-tablet/html/js/controls/page/panels/pageActionPanelRegular","syracuse-tablet/html/js/controls/page/panels/sortfilter/filterSortPanel","syracuse-tablet/html/js/controls/page/panels/userpanelsmartphone","syracuse-tablet/html/js/controls/ctrlTypeUnknown","syracuse-tablet/html/js/controls/ctrlUnfound","syracuse-tablet/html/js/controls/chart/ctrlCubeChart","syracuse-tablet/html/js/controls/field/ctrlBinary","syracuse-tablet/html/js/controls/field/ctrlText","syracuse-tablet/html/js/controls/ctrlIcon","syracuse-tablet/html/js/controls/ctrlButton","syracuse-tablet/html/js/controls/field/ctrlGaugeChart","syracuse-tablet/html/js/controls/structElmt","syracuse-tablet/html/js/controls/ctrlFactory"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/controls/field/ctrlAlphanum").Klass,i=e("syracuse-tablet/html/js/controls/field/ctrlAlphanum").PhoneField,s=e("syracuse-tablet/html/js/controls/field/ctrlAlphanum").EmailField,o=e("syracuse-tablet/html/js/controls/field/ctrlProgress").Klass,u=e("syracuse-tablet/html/js/controls/field/ctrlNumeric").Klass,a=e("syracuse-tablet/html/js/controls/field/ctrlQuantity").Klass,f=e("syracuse-tablet/html/js/controls/field/ctrlCheckBox").Klass,l=e("syracuse-tablet/html/js/controls/field/ctrlCombo").Klass,c=e("syracuse-tablet/html/js/controls/field/ctrlDate").Klass,h=e("syracuse-tablet/html/js/controls/array/ctrlArray").Klass,p=e("syracuse-tablet/html/js/controls/field/ctrlReference").Klass,d=e("syracuse-tablet/html/js/controls/layout/layoutRow").Klass,v=e("syracuse-tablet/html/js/controls/layout/layoutStack").Klass,m=e("syracuse-tablet/html/js/controls/layout/layoutTab").Klass,g=e("syracuse-tablet/html/js/controls/layout/layoutHub").Klass,y=e("syracuse-tablet/html/js/controls/layout/layoutHubGroup").Klass,b=e("syracuse-tablet/html/js/controls/layout/layoutTile").Klass,w=e("syracuse-tablet/html/js/controls/layout/layoutCell").Klass,E=e("syracuse-tablet/html/js/controls/vignetteBase").Klass,S=e("syracuse-tablet/html/js/controls/page/ctrlPageHeader").Klass,x=e("syracuse-tablet/html/js/controls/page/ctrlPageFooter").Klass,T=e("syracuse-tablet/html/js/controls/page/panels/pageActionPanelRegular").Klass,N=e("syracuse-tablet/html/js/controls/page/panels/sortfilter/filterSortPanel").Klass,C=e("syracuse-tablet/html/js/controls/page/panels/userpanelsmartphone").Klass,k=e("syracuse-tablet/html/js/controls/ctrlTypeUnknown").Klass,L=e("syracuse-tablet/html/js/controls/ctrlUnfound").Klass,A=e("syracuse-tablet/html/js/controls/chart/ctrlCubeChart").Klass,O=e("syracuse-tablet/html/js/controls/field/ctrlBinary").Klass,M=e("syracuse-tablet/html/js/controls/field/ctrlText").Klass,_=e("syracuse-tablet/html/js/controls/ctrlIcon").Klass,D=e("syracuse-tablet/html/js/controls/ctrlButton").Klass,P=e("syracuse-tablet/html/js/controls/field/ctrlGaugeChart").Klass,H=e("syracuse-tablet/html/js/controls/structElmt").Klass,B=e("syracuse-tablet/html/js/controls/ctrlFactory");t.init=function(){B.setImpl("Alphanum",r),B.setImpl("PhoneField",i),B.setImpl("EmailField",s),B.setImpl("ProgressField",s),B.setImpl("Numeric",u),B.setImpl("Quantity",a),B.setImpl("CheckBox",f),B.setImpl("Combo",l),B.setImpl("Date",c),B.setImpl("Array",h),B.setImpl("Reference",p),B.setImpl("LayoutRow",d),B.setImpl("LayoutStack",v),B.setImpl("LayoutTab",m),B.setImpl("LayoutHub",g),B.setImpl("LayoutHubGroup",y),B.setImpl("LayoutTile",b),B.setImpl("LayoutCell",w),B.setImpl("Vignette",E),B.setImpl("PageHeader",S),B.setImpl("PageFooter",x),B.setImpl("PageActionPanelRegular",T),B.setImpl("UserPanelSmartphone",C),B.setImpl("FilterSortPanel",N),B.setImpl("TypeUnknown",k),B.setImpl("FieldUnfound",L),B.setImpl("CubeChart",A),B.setImpl("Binary",O),B.setImpl("Text",M),B.setImpl("Icon",_),B.setImpl("Gauge",P),B.setImpl("Button",D),B.setImpl("StructElmt",H)}}),define("syracuse-tablet/html/js/sdata/sdataSort",["require","exports","module"],function(e,t,n){"use strict";function r(e,t,n){var r=[],i=t.$properties.$resources&&t.$properties.$resources.$item&&t.$properties.$resources.$item.$properties||t.$properties;n.forEach(function(e){var t=e.property,n=e.sort==="DESC"||e.sort==="desc"?"DESC":"ASC",s=i[t]&&i[t].$type||"application/x-string";if(s==="application/x-decimal"){if(n==="ASC"){try{r.push(function(e,n){var r=e[t],i=n[t];return+r- +i})}catch(o){}return 0}try{r.push(function(e,n){var r=e[t],i=n[t];return+i- +r})}catch(o){}return 0}n==="ASC"?r.push(function(e,n){try{var r=e[t],i=n[t];if(r>i)return 1;if(r<i)return-1}catch(s){}return 0}):r.push(function(e,n){try{var r=e[t],i=n[t];if(r>i)return-1;if(r<i)return 1}catch(s){}return 0})}),e.sort(function(e,t){var n=0;for(var i=0;i<r.length;i++){n=r[i](e,t);if(n!==0)break}return n})}t.sdataSortArray=r}),define("syracuse-tablet/html/js/sdata/sdataCache",["require","exports","module","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/storage/storage","syracuse-tablet/html/js/sdata/sdatawhere/parser","syracuse-tablet/html/js/sdata/sdatawhere/whereUtils","syracuse-tablet/html/js/sdata/sdataSort","syracuse-tablet/html/js/storage/localStorage"],function(e,t,n){"use strict";function p(e){this.storage=e,this.context=null}var r=e("syracuse-tablet/html/js/helpers/logger").getLogger("SDataCache"),i=e("syracuse-tablet/html/js/helpers/globals"),s=e("syracuse-tablet/html/js/helpers/utils"),o=e("syracuse-tablet/html/js/storage/storage"),u=e("syracuse-tablet/html/js/sdata/sdatawhere/parser").Parser,a=e("syracuse-tablet/html/js/sdata/sdatawhere/whereUtils"),f=e("syracuse-tablet/html/js/sdata/sdataSort"),l=e("syracuse-tablet/html/js/storage/localStorage"),c="$cache_",h=/\{(.*?)\}/g,d=s.defineClass(p,null,{setContext:function(e){r&&r("Changing cache context: "+JSON.stringify(e)),this.context=e},cachePrefix:c,put:function(e){var t=$.Deferred(),n=this;try{if(!e.$data)throw new Error("PUT: No data specified");var r,i;if(e.$proto){var s=n._getProto(e.$proto);r=n._getRepresentation(s),i=n._getKeyValue(e.$data,s)}else{if(!e.$representation||!e.$key)throw new Error("PUT: Neither proto nor representation and key specified");r=e.$representation,i=e.$key}n.storage.put({$context:n.context,$collection:c+r,$endpoint:e.$endpoint,$key:i,$data:{$item:e.$data}}).then(function(e){t.resolve()}).fail(function(e){t.reject(e)})}catch(o){t.reject(o)}finally{return t.promise()}},query:function(e){var t=$.Deferred(),n=this;try{var i;r&&r("Query by: "+JSON.stringify(e));if(e.$proto){var s=n._getProto(e.$proto);i=n._getRepresentation(s)}else{if(!e.$representation)throw new Error("QUERY: Neither proto nor representation specified");if(e.$where)throw new Error("QUERY: Where clause parsing requires prototype");if(e.$orderBy)throw new Error("QUERY: Order by requires prototype");i=e.$representation}n.storage.query({$context:n.context,$endpoint:e.$endpoint,$collection:c+i}).then(function(n){var r=[];if(e.$where){var i=u.parse(e.$where);n.$data.forEach(function(e,t){if(a.execWhere(e.$item,i,s)){var o=e.$item,u=n.$metaData[t];o.$cache={$lastRead:u.$lastRead,$lastUpdated:u.$lastUpdated},r.push(o)}})}else n.$data.forEach(function(e,t){var i=e.$item,s=n.$metaData[t];i.$cache={$lastRead:s.$lastRead,$lastUpdated:s.$lastUpdated},r.push(i)});e.$orderBy&&f.sdataSortArray(r,s,e.$orderBy),t.resolve(r)}).fail(function(e){t.reject(e)})}catch(o){t.reject(o)}finally{return t.promise()}},read:function(e){var t=$.Deferred(),n=this;try{var r;if(!e.$key)throw new Error("READ: No key specified");if(e.$proto){var i=n._getProto(e.$proto);r=n._getRepresentation(i)}else{if(!e.$representation)throw new Error("READ: Neither proto nor representation specified");r=e.$representation}n.storage.read({$context:n.context,$collection:c+r,$endpoint:e.$endpoint,$key:e.$key}).then(function(e){if(e.$status===o.StatusCodes.OK){var n=e.$data.$item;n.$cache={$lastRead:e.$metaData.$lastRead,$lastUpdated:e.$metaData.$lastUpdated},t.resolve(n)}else t.resolve(null)}).fail(function(e){t.reject(e)})}catch(s){t.reject(s)}finally{return t.promise()}},remove:function(e){var t=$.Deferred(),n=this;try{var r;if(!e.$key)throw new Error("REMOVE: No key specified");if(e.$proto){var i=n._getProto(e.$proto);r=n._getRepresentation(i)}else{if(!e.$representation)throw new Error("READ: Neither proto nor representation specified");r=e.$representation}n.storage.remove({$context:n.context,$collection:c+r,$endpoint:e.$endpoint,$key:e.$key}).then(function(){t.resolve()}).fail(function(e){t.reject(e)})}catch(s){t.reject(s)}finally{return t.promise()}},clearCache:function(){var e=$.Deferred(),t=this,n=new RegExp(t.cachePrefix.replace(/([\$\_]+)/g,"\\$1"));try{t.storage.clearCollection({$context:t.context,$collection:n}).then(function(){e.resolve()}).fail(function(t){e.reject(t)})}catch(r){e.reject(r)}finally{return e.promise()}},_getProto:function(e){var t=e.$properties.$resources&&e.$properties.$resources.$item||e;return t.$type=e.$type,t},_getRepresentation:function(e){return e.$type.split(".").slice(1,3).join(".").replace("$queryItem","$query")},_getKeyValue:function(e,t){return t.$key.replace(h,function(t,n){return e[n]})},disableCache:function(e){i.isDvlpMode()&&l.setItem("s.m.cache.disabled",e),this._isDisabled=e},isDisabled:function(){return this._isDisabled==null&&(i.isDvlpMode()?(this._isDisabled=l.getItem("s.m.cache.disabled"),this._isDisabled=this._isDisabled===!0||this._isDisabled==="true"):this._isDisabled=!1),this._isDisabled}});t.SDataCache=d}),define("syracuse-tablet/html/js/helpers/siteLayout",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/notifications"],function(e,t,n){"use strict";function p(){var e=$(window).width(),t=$(window).height(),n=e/t,r;return n<1?r="portrait":r="landscape",r==f||f==null?(f=r,!1):(f=r,!0)}function v(e){e=e||{},e.layout&&(l=$.extend(!0,{},l,e.layout));var t=$(window).width(),n=$(window).height(),r=null,i=0,u=0,c=0,p=0,v=0,E=0,S=$("#s-m-auth-panel-right-id"),x=$("#s-m-auth-panel-left-id"),T=$("#s-m-app-id"),N=$("#s-m-app-container-id");h=$.extend(!0,{},l);var C=h.pageParameters;h.authPanelRight.visible&&(i=h.authPanelRight.width,v=h.authPanelRight.splitterWidth,m(t,n),C.forcePreview=!0),h.authPanelLeft.visible&&(u=h.authPanelLeft.width,E=h.authPanelLeft.splitterWidth,g(t,n),C.forcePreview=!0),h.authPanelHeader.visible&&(c=h.authPanelHeader.height,y(t,n)),h.authPanelFooter.visible&&(p=h.authPanelFooter.height,b(t,n));var k=t-i-v-u-E,L=n-c-p,A,O=C.forcePreview===!0;T.parent().is(".s-m-device-wrapper")&&T.unwrap();if(O){var M=C.device||"tablet",_=s[M]||s.tablet,D=15;A={left:0,top:0,width:C.orientation==="landscape"?_.width:_.height,height:C.orientation==="landscape"?_.height:_.width};var P=A.height+2*D,H=A.width+2*D;C.forceAutoScale&&(C.scale=Math.min(Math.min(k/H,L/P),1)),A.left=Math.max((k-H*C.scale)/2,0),A.top=Math.max((L-P*C.scale)/2,0),r=_.bootstrapTweakClass[C.orientation];var B=$('<section class="s-m-device-wrapper"></section>"'),j={top:A.top+"px",left:A.left+"px",width:H+"px",height:P+"px"};C.scale!==1&&(j.transform="scale("+C.scale+", "+C.scale+")",j["transform-origin"]="left top"),B.css(j),T.wrap(B),T.css({top:D+"px",left:D+"px",width:A.width+"px",height:A.height+"px",position:"absolute"})}else A={left:0,top:0,width:k,height:L},C.orientation=f,T.css({top:A.top,left:A.left,width:A.width,height:A.height});T.removeClass(o.join(" ")),r&&T.addClass(r),N.css({top:c,left:u+E,width:k,height:L}),N.toggleClass("s-m-preview",O);var F={application:A};$.isEmptyObject(e)||(d.forEach(function(t){F[t]=e[t]}),e.footerSwipe===!0&&(F.preserveScroll=!0)),a.publish("sm.main.layout.changed",F,C.orientation,w())}function m(e,t){var n=$("#s-m-auth-panel-right-id"),r=$("#s-m-auth-splitter-right-id"),i=0,s=0;h.authPanelHeader.visible&&(i=h.authPanelHeader.height),h.authPanelFooter.visible&&(s=h.authPanelFooter.height),n.css({left:e-h.authPanelRight.width,top:i,width:h.authPanelRight.width,height:t-i-s}),r.css({left:e-h.authPanelRight.width-h.authPanelRight.splitterWidth,top:i,width:h.authPanelRight.splitterWidth,height:t-i-s})}function g(e,t){var n=$("#s-m-auth-panel-left-id"),r=$("#s-m-auth-splitter-left-id"),i=0,s=0;h.authPanelHeader.visible&&(i=h.authPanelHeader.height),h.authPanelFooter.visible&&(s=h.authPanelFooter.height),n.css({left:0,top:i,width:h.authPanelLeft.width,height:t-i-s}),r.css({left:h.authPanelLeft.width,top:i,width:h.authPanelLeft.splitterWidth,height:t-i-s})}function y(e,t){var n=$("#s-m-auth-panel-header-id");n.css({left:0,top:0,width:e,height:h.authPanelHeader.height})}function b(e,t){var n=$("#s-m-auth-panel-footer-id");n.css({left:0,top:t-h.authPanelFooter.height,width:e,height:h.authPanelFooter.height})}var r=null,i=function(){if(r)return r;var e=navigator.userAgent.toLowerCase();e.indexOf("iphone")>=0?r="smartphone":e.indexOf("ipad")>=0?r="tablet":e.indexOf("mobile")>=0?r="smartphone":r="tablet"},s={nexus5:{width:640,height:360,bootstrapTweakClass:{portrait:"s-m-auth-col-simulate-xs",landscape:"s-m-auth-col-simulate-xs"},deviceClass:"smartphone",orientations:["portrait","landscape"]},nexus7:{width:960,height:600,bootstrapTweakClass:{portrait:"s-m-auth-col-simulate-xs",landscape:"s-m-auth-col-simulate-sm"},deviceClass:"minitablet",orientations:["portrait","landscape"]},nexus10:{width:1280,height:800,bootstrapTweakClass:{portrait:"s-m-auth-col-simulate-sm",landscape:"s-m-auth-col-simulate-lg"},deviceClass:"tablet",orientations:["portrait","landscape"]},ipad:{width:1024,height:768,bootstrapTweakClass:{portrait:"s-m-auth-col-simulate-sm",landscape:"s-m-auth-col-simulate-lg"},deviceClass:"tablet",orientations:["portrait","landscape"]},iphone4:{width:480,height:320,bootstrapTweakClass:{portrait:"s-m-auth-col-simulate-xs",landscape:"s-m-auth-col-simulate-xs"},deviceClass:"smartphone",orientations:["portrait","landscape"]},iphone5:{width:568,height:320,bootstrapTweakClass:{portrait:"s-m-auth-col-simulate-xs",landscape:"s-m-auth-col-simulate-xs"},deviceClass:"smartphone",orientations:["portrait","landscape"]},iphone6:{width:667,height:375,bootstrapTweakClass:{portrait:"s-m-auth-col-simulate-xs",landscape:"s-m-auth-col-simulate-xs"},deviceClass:"smartphone",orientations:["portrait","landscape"]},iphone6plus:{width:960,height:540,bootstrapTweakClass:{portrait:"s-m-auth-col-simulate-xs",landscape:"s-m-auth-col-simulate-xs"},deviceClass:"smartphone",orientations:["portrait","landscape"]}},o=["s-m-auth-col-simulate-xs","s-m-auth-col-simulate-sm","s-m-auth-col-simulate-md","s-m-auth-col-simulate-lg"],u=e("syracuse-tablet/html/js/helpers/utils"),a=e("syracuse-tablet/html/js/helpers/notifications"),f=null,l={authPanelRight:{width:230,splitterWidth:15,visible:!1},authPanelLeft:{width:300,splitterWidth:15,visible:!1},authPanelHeader:{height:34},authPanelFooter:{height:34},pageParameters:{forcePreview:!1,forceAutoScale:!0,device:"nexus10",orientation:"landscape",scale:1}},c={tablet:{header:50,footer:{opened:50,closed:20}},smartphone:{header:50,footer:{opened:0,closed:0}}},h;t.updateLayout=function(e,t){(p()||u.isDesktop())&&v(t)},t.updateLayoutInternal=function(e,t){v(t)};var d=["preserveScroll","footerSwipe"];t.getDeviceTemplates=function(){return s};var w=function(){if(h.pageParameters.forcePreview===!0){var e=h.pageParameters.device||"tablet",t=s[e]||s.tablet;return t.deviceClass}return i()},E=function(e){return e==null&&(e=w()),e!="tablet"&&e!="minitablet"?"smartphone":"tablet"};t.getDeviceType=E,t.getDeviceClass=w,t.getPageOrientation=function(){return h.pageParameters.orientation},t.getCurrentLayoutSettings=function(){var e=$.extend(!0,{},l);return e},t.getTransformScale=function(){var e=h&&h.pageParameters?h.pageParameters.scale:null;return e==null||e<=0?1:e}}),define("syracuse-tablet/html/js/application/metaDataCache",["require","exports","module","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/storage/storage","syracuse-tablet/html/js/sdata/sdataCommonResources","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/ajax/ajax"],function(e,t,n){"use strict";function f(){var e=r.getApplication();e&&e.waitWheelStart()}function l(){var e=r.getApplication();e&&e.waitWheelStop()}function c(e,t){var n=r.getStorage();return n.put({$context:t,$collection:"$cache_$meta",$endpoint:"$local",$key:"$applications",$data:e}).then(function(t){return e})}function h(e,t){var n=r.getStorage();return n.put({$context:t,$collection:"$cache_$meta",$endpoint:"$local",$key:"$application_"+e.$application.applicationName,$data:e})}function p(e){var t=$.Deferred();try{var n=r.baseLocation(),i=e.split("."),s=i.slice(0,3).join("/"),o=i.slice(3,5).join("."),f=n.host+"/mobile1/"+s+"/$prototypes('"+o+"')",l={"Accept-Language":u.getCurrentLocale()};a("GET",f,null,l).then(function(n){if(!n.isSuccess){var r="Http error status["+n.status+"] reading prototype id ["+e+"]";throw n.responseJSON&&(r+="\n"+JSON.stringify(n.responseJSON,null,2)),new Error(r)}t.resolve(n.responseJSON)}).fail(function(e){t.reject(e)})}catch(c){t.reject(c)}finally{return t.promise()}}function d(e,t,n){var i=r.getStorage();return i.put({$context:n,$collection:"$cache_$meta",$endpoint:"$local",$key:"$prototype_"+e,$data:t})}var r=e("syracuse-tablet/html/js/helpers/globals"),i=e("syracuse-tablet/html/js/helpers/logger").getLogger("metaData"),s=e("syracuse-tablet/html/js/storage/storage"),o=e("syracuse-tablet/html/js/sdata/sdataCommonResources"),u=e("syracuse-tablet/html/js/helpers/locale"),a=e("syracuse-tablet/html/js/ajax/ajax").getAjax().ajax;t.getKnownApplications=function(e){var t=r.getStorage(),n={$user:"none",$role:"none",$lang:e.lang},u,a=r.getCache();return a.isDisabled()?u=$.smResolve({$status:s.StatusCodes.NOT_FOUND}):u=t.read({$context:n,$collection:"$cache_$meta",$endpoint:"$local",$key:"$applications"}),u.then(function(e){if(e.$status===s.StatusCodes.OK){var t=e.$data;return i&&i("Application list from cache"),t}return i&&i("Fetching remote application list"),o.queryAllApplications().then(function(e){return c(e,n).then(function(){return e})})})},t.getApplication=function(e,t){var n=r.getStorage(),u={$user:t.user,$role:t.role,$lang:t.lang};return n.read({$context:u,$collection:"$cache_$meta",$endpoint:"$local",$key:"$application_"+e.applicationName}).then(function(t){return t.$status===s.StatusCodes.OK?(i&&i("Application details from cache"),t.$data):(i&&i("Fetching remote application details"),f(),o.queryApplicationDetail(e).then(function(e){return h(e,u).then(function(){return e})}).then(function(e){return l(),e}).fail(function(e){return l(),$.smReject(e)}))})},t.getPrototype=function(e,t){var n=r.getStorage(),o={$user:t.user,$role:t.role,$lang:t.lang},u;return u=n.read({$context:o,$collection:"$cache_$meta",$endpoint:"$local",$key:"$prototype_"+e}),u.then(function(t){if(t.$status===s.StatusCodes.OK){var n=t.$data;return i&&i("Prototype from cache"),n}return i&&i("Fetching remote prototype"),p(e).then(function(t){return d(e,t,o).then(function(){return t})})})}}),define("syracuse-tablet/html/js/application/metaData",["require","exports","module","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/sdata/entities/clientContract","syracuse-tablet/html/js/application/metaDataCache","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/helpers/prototype","syracuse-tablet/html/js/authoring/authoringArticleGen"],function(e,t,n){"use strict";function v(){var e=r.getUserCtx(),t=r.getEndpoint();if(f.user!=e.$user||f.role!=e.$role||f.lang!=e.$lang||f.endpoint!=t)f.user=e.$user,f.role=e.$role,f.lang=e.$lang,f.endpoint=t,o&&o("Application context changed to: "+JSON.stringify(f)),m()}function m(){c=null,h={}}function g(){o&&o("Reading applications");var e=s.getKnownApplications(f).then(function(e){var t=[];e.forEach(function(e){var n=!0;e.endpoints&&e.endpoints.length>0&&(n=n&&e.endpoints.some(function(e){return e.application+"."+e.contract+"."+e.dataset===f.endpoint}));var i=!0;r.isDvlpMode()?i=!0:e.roles&&e.roles.length>0&&n&&(i=i&&e.roles.some(function(e){return e.code===f.role})),i&&n&&t.push(e)}),Object.keys(p).forEach(function(e){t.push(p[e].$application)}),c=t,o&&o("Number of applications: "+c.length)});return e}function y(e){var t=null;return c.some(function(n){if(n.applicationName==e)return t=n,!0}),t}function b(){var e=r.getUserCtx(),t=r.getEndpoint();if(l.user!=e.$user||l.role!=e.$role||l.lang!=e.$lang||l.endpoint!=t)l.user=e.$user,l.role=e.$role,l.lang=e.$lang,l.endpoint=t,o&&o("Prototype context changed to: "+JSON.stringify(l)),w()}function w(){d={}}function E(e){var t=r.getApplication().dao.appMetaData,n=t.$dashboards,i;return Object.keys(n).some(function(t){i=n[t];if(i.$dashboardName===e)return!0})||(i=null),i}function S(e){if(!e.smEndsWith(".$mobileDashboard"))return $.smResolve(null);var t=e.substring(0,e.length-17),n=E(t);if(!n)return $.smResolve(null);var r=n.$pageInfo||{};return r.name=e,r.type="dashboard",r.subtype=r.isWelcomePage?"welcome":"std",r.dashboardName=n.$dashboardName,r.cached=!1,r.refreshed=!1,r.changeHash=!1,$.smResolve(r)}function x(e){var n=r.getApplication().dao.appMetaData,i=n&&n.$pages,s=i&&i[e];if(!s)return $.smResolve(null);var o={name:e,home:!1,type:"regular",subtype:"unknown",cached:!1,refreshed:!1,changeHash:!1};return $.smResolve(s.$page.$prototype).then(function(e){return e?e:t.getPrototype(o.name)}).then(function(t){if(t){var n=t.$type;n||(n=t.$url),o.subtype=n.substring(n.lastIndexOf(".$")+2);if(!o.subtype)throw new Error("Unexpected facet for page "+e+"\n$url="+t.$url)}}).then(function(){return o})}function T(e){var n,s=r.getApplication().dao.appMetaData,o=s&&s.$pages;return $.smResolve().then(function(){var t=o&&o[e.name];if(t)return{prototype:t.$page&&t.$page.$prototype,article:t.$page&&t.$page.$article}}).then(function(t){return t?t:i.getRegularPageInfo(e.name).then(function(e){if(e)return{prototype:e.$page&&e.$page.$prototype,article:e.$page&&e.$page.$article}})}).then(function(n){return n?n.prototype?n:t.getPrototype(e.name).then(function(e){if(e)return n.prototype=e,n}):t.getPrototype(e.name).then(function(e){if(e)return{prototype:e}})}).then(function(e){return e&&(e.prototype=u.create(e.prototype)),e}).then(function(t){return t?C(e,t).then(function(){return t}):null})}function N(e){return $.smResolve().then(function(){var t={prototype:e.prototype,article:e.article};return C(e,t).then(function(){return t})})}function C(e,t){var n,r,i=e.options.vignetteArticle;return i?i&&$.isEmptyObject(i)?n=null:i&&!$.isEmptyObject(i)&&(n=i):n=t.article,n&&!$.isEmptyObject(n)?r=$.smResolve(n):r=$.smResolve().then(function(){return a.genNewArticle({page:{prototype:t.prototype}}).then(function(e){n=e})}),r.then(function(){t.article=n})}var r=e("syracuse-tablet/html/js/helpers/globals"),i=e("syracuse-tablet/html/js/sdata/entities/clientContract"),s=e("syracuse-tablet/html/js/application/metaDataCache"),o=e("syracuse-tablet/html/js/helpers/logger").getLogger("metaData"),u=e("syracuse-tablet/html/js/helpers/prototype"),a=e("syracuse-tablet/html/js/authoring/authoringArticleGen"),f={},l={},c=null,h={},p=[],d={};t.registerStaticApp=function(e){o&&o("Register static application: "+e.$application.applicationName),p[e.$application.applicationName]=e},t.getApplication=function(e){var t=p[e]||h[e];if(t)return o&&o("Application from cache: "+e),$.smResolve(t);var n=y(e);return n?s.getApplication(n,f).then(function(t){return h[e]=t,t}):(o&&o("Unknown application: "+e),$.smResolve(t))},t.getApplications=function(){return v(),c!=null?$.smResolve(c):g().then(function(){return c})},t.getPrototype=function(e){o&&o("Getting prototype: "+e);var t=e.split(".");if(t.length<5)return n=i.getPrototype(t[0],t[1]),o&&o("Prototype (client side entitiy): "+e),$.smResolve(n);b();var n=d[e];if(n)return $.smResolve(n);var u=r.getApplication(),a=u&&u.dao&&u.dao.appMetaData,f=a&&a.$pages&&a.$pages[e];return n=f&&f.$page&&f.$page.$prototype,n?(d[e]=n,$.smResolve(n)):s.getPrototype(e,l).then(function(t){return o&&o("Got prototype: "+e),d[e]=t,t})},t.getDashboard=function(e){var t=r.getApplication().dao.appMetaData,n=t.$dashboards,i=E(e);return $.smResolve().then(function(){if(i)return i&&i.$update?i.$update(i):i}).then(function(e){if(e){e.$gadgets=e.$gadgets||{};if(t.$gadgets)for(var n in e.$vignettes){var r=e.$vignettes[n];t.$gadgets[r.$uuid]&&(e.$gadgets[r.$uuid]=t.$gadgets[r.$uuid])}}return e})},t.getDashboardPageName=function(e){return e+".$mobileDashboard"},t.getPageInfo=function(e){return S(e).then(function(t){return t?t:x(e)})},t.getPageDetails=function(e){var t;if(e.type==="regular")return T(e);if(e.type==="rowdetail"||e.type==="carddesign")return N(e);throw new Error("Unsupported page type: "+e.type)}}),define("syracuse-tablet/html/js/sdata/entities/test/example",["require","exports","module"],function(e,t,n){"use strict";var r=[];for(var i=0;i<100;i++)r.push({$uuid:""+i,name:"My name is: "+i,desc:"My desc is: "+i,desc2:"My desc2 is: "+i,amount:i*100});t.entity={$entityName:"example",$value:"{name}",$properties:{name:{$type:"application/x-string",$title:"My name"},desc:{$type:"application/x-string",$title:"My description"},desc2:{$type:"application/x-string",$title:"My description 2"},amount:{$type:"application/x-integer",$title:"My amount",$isExcluded:!1,$isHidden:!1,$isMandatory:!1,$isReadOnly:!1,$isDisabled:!1}},$relations:{values:{$type:"exampleChild"}},$articles:{$details:{$layoutType:"stack",$items:[{$layoutType:"row",$items:[{$layoutType:"cell",$widthXs:"6",$items:[{$bind:"name",$isTitleHidden:!1}]},{$bind:"desc",$isTitleHidden:!1}]},{$layoutType:"row",$items:[{$layoutType:"cell",$widthXs:"6",$items:[{$bind:"desc2",$isTitleHidden:!1}]},{$bind:"amount",$isTitleHidden:!1}]}]},$edit:{$layoutType:"stack",$items:[{$layoutType:"row",$items:[{$layoutType:"cell",$widthXs:"6",$items:[{$bind:"name",$isTitleHidden:!0}]},{$layoutType:"cell",$widthXs:"6",$items:[{$bind:"desc",$isTitleHidden:!0}]}]},{$layoutType:"row",$items:[{$layoutType:"cell",$widthXs:"6",$items:[{$bind:"desc2",$isTitleHidden:!1}]},{$layoutType:"cell",$widthXs:"6",$items:[{$bind:"amount",$isTitleHidden:!1}]}]}]}},$services:{$new:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()},$read:function(e,t){var n=$.Deferred();return n.resolve(r[e.$key]),n.promise()},$query:function(e,t){var n=$.Deferred();return n.resolve({$resources:r}),n.promise()},$save:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()},$delete:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()}}}}),define("syracuse-tablet/html/js/sdata/entities/test/exampleHubLayout",["require","exports","module"],function(e,t,n){"use strict";var r=[];for(var i=0;i<100;i++)r.push({$uuid:""+i,name:"My name is: "+i,desc:"My desc is: "+i,desc2:"My desc2 is: "+i,amount:i*100});t.entity={$entityName:"exampleHubLayout",$value:"{name}",$properties:{name:{$type:"application/x-string",$title:"My name"},desc:{$type:"application/x-string",$title:"My description"},desc2:{$type:"application/x-string",$title:"My description 2"},amount:{$type:"application/x-integer",$title:"My amount",$isExcluded:!1,$isHidden:!1,$isMandatory:!1,$isReadOnly:!1,$isDisabled:!1}},$relations:{values:{$type:"exampleChild"}},$articles:{$details:{$layoutType:"hub",$items:[{$layoutType:"hubGroup",$title:"Layout group 1",$items:[{$layoutType:"tile",$bgColor:"lime",$size:"full",$items:[{$layoutType:"stack",$items:[{$layoutType:"row",$items:[{$bind:"name",$isTitleHidden:!1},{$bind:"name",$isTitleHidden:!1},{$bind:"name",$isTitleHidden:!1},{$bind:"name",$isTitleHidden:!1},{$bind:"desc",$isTitleHidden:!1}]}]}]},{$layoutType:"tile",$bgColor:"purple",$size:"medium",$items:[{$layoutType:"stack",$items:[{$layoutType:"row",$items:[{$bind:"name",$isTitleHidden:!1},{$bind:"name",$isTitleHidden:!1},{$bind:"name",$isTitleHidden:!1},{$bind:"name",$isTitleHidden:!1},{$bind:"desc",$isTitleHidden:!1}]}]}]},{$layoutType:"tile",$bgColor:"magenta",$size:"medium",$items:[{$layoutType:"stack",$items:[{$layoutType:"row",$items:[{$bind:"name",$isTitleHidden:!1},{$bind:"name",$isTitleHidden:!1},{$bind:"name",$isTitleHidden:!1},{$bind:"name",$isTitleHidden:!1},{$bind:"desc",$isTitleHidden:!1}]}]}]},{$layoutType:"tile",$bgColor:"teal",$size:"wide",$items:[{$layoutType:"stack",$items:[{$layoutType:"row",$items:[{$bind:"name",$isTitleHidden:!1},{$bind:"name",$isTitleHidden:!1},{$bind:"name",$isTitleHidden:!1},{$bind:"name",$isTitleHidden:!1},{$bind:"desc",$isTitleHidden:!1}]}]}]}]},{$layoutType:"hubGroup",$title:"Layout group 2",$items:[{$layoutType:"tile",$bgColor:"orange",$size:"large",$items:[{$layoutType:"stack",$items:[{$layoutType:"row",$items:[{$bind:"name",$isTitleHidden:!1},{$bind:"name",$isTitleHidden:!1},{$bind:"name",$isTitleHidden:!1},{$bind:"name",$isTitleHidden:!1},{$bind:"desc",$isTitleHidden:!1}]}]}]},{$layoutType:"tile",$bgColor:"purple",$size:"medium",$items:[{$layoutType:"stack",$items:[{$layoutType:"row",$items:[{$bind:"name",$isTitleHidden:!1},{$bind:"name",$isTitleHidden:!1},{$bind:"name",$isTitleHidden:!1},{$bind:"name",$isTitleHidden:!1},{$bind:"desc",$isTitleHidden:!1}]}]}]},{$layoutType:"tile",$bgColor:"magenta",$size:"green",$items:[{$layoutType:"stack",$items:[{$layoutType:"row",$items:[{$bind:"name",$isTitleHidden:!1},{$bind:"name",$isTitleHidden:!1},{$bind:"name",$isTitleHidden:!1},{$bind:"name",$isTitleHidden:!1},{$bind:"desc",$isTitleHidden:!1}]}]}]},{$layoutType:"tile",$bgColor:"teal",$size:"wide",$items:[{$layoutType:"stack",$items:[{$layoutType:"row",$items:[{$bind:"name",$isTitleHidden:!1},{$bind:"name",$isTitleHidden:!1},{$bind:"name",$isTitleHidden:!1},{$bind:"name",$isTitleHidden:!1},{$bind:"desc",$isTitleHidden:!1}]}]}]}]}]},$edit:{$layoutType:"stack",$items:[{$layoutType:"row",$widthMd:"6,6",$items:[{$bind:"name",$isTitleHidden:!0},{$bind:"desc",$isTitleHidden:!0}]},{$layoutType:"row",$widthMd:"6,6",$items:[{$bind:"desc2",$isTitleHidden:!1},{$bind:"amount",$isTitleHidden:!1}]}]}},$services:{$new:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()},$read:function(e,t){var n=$.Deferred();return n.resolve(r[e.$key]),n.promise()},$query:function(e,t){var n=$.Deferred();return n.resolve({$resources:r}),n.promise()},$save:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()},$delete:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()}}}}),define("syracuse-tablet/html/js/sdata/entities/test/testDatatypes",["require","exports","module"],function(e,t,n){"use strict";var r=[],i=!1;for(var s=0;s<10;s++)r.push({$uuid:""+s,propString:"Simple String="+s,propDate:"2014-03-"+(s+20),propDateTime:"2014-06-"+(s+10)+"T12:45:"+(s+44)+".123Z",propTime:"15:45:"+(s+34),propTimeShort:"15:45:"+(s+34),propInt:s*1e3+s*10,propDecimal:Math.sqrt(s*1e3+s*10),propReal:Math.sqrt(s*1e3+s*30),propBoolean:i=!i,propChoice:"mr",propQuantity:s*123,propStringUnit:"EUR",propStringMandatory:"Mandatory",propDecimalMandatory:"",propStringMinMax:"",propStringMinMaxValue:"",propStringPattern:""});var o={$entityName:"testDataTypes",$properties:{propString:{$type:"application/x-string",$isMandatory:!1,$title:"My name (max len 25)",$maxLength:25},propStringMandatory:{$type:"application/x-string",$isMandatory:!0,$title:"String Madatory"},propStringMinMax:{$type:"application/x-string",$title:"String MinMaxLength(3-5)",$minLength:3,$maxLength:5},propStringMinMaxValue:{$type:"application/x-integer",$isMandatory:!1,$title:"Integer MinMaxValue(3-50)",$minimun:"3",$maximun:"50"},propStringPattern:{$type:"application/x-string",$title:"Pattern",$maxLength:40},propDate:{$type:"application/x-date",$isMandatory:!1,$title:"Date"},propDateTime:{$type:"application/x-datetime",$isMandatory:!1,$title:"Date+Time"},propTime:{$type:"application/x-time",$isMandatory:!1,$title:"Time long",$format:"TT"},propTimeShort:{$type:"application/x-time",$isMandatory:!1,$title:"Time"},propInt:{$type:"application/x-integer",$isMandatory:!1,$title:"Integer (1-7000 Max)",$minimun:"1",$maximun:"7000"},propDecimalMandatory:{$type:"application/x-decimal",$isMandatory:!0,$title:"Decimal mandatory(2.4)",$scale:2,$precision:4,$format:"0.00"},propDecimal:{$type:"application/x-decimal",$isMandatory:!1,$title:"Decimal(4.7)",$scale:4,$precision:7,$format:"0.0000"},propReal:{$type:"application/x-real",$isMandatory:!1,$title:"Real"},propBoolean:{$type:"application/x-boolean",$isMandatory:!1,$title:"Boolean"},propChoice:{$type:"application/x-choice",$isMandatory:!1,$title:"Choice",$value:{$enum:[{$title:"Mr.",$value:"mr"},{$title:"Mrs.",$value:"mrs"}],$type:"application/x-string"}},propQuantity:{$title:"Quantity",$type:"application/x-quantity",$value:{$title:"{$value} {$unit}",$type:"application/x-decimal",$scale:9,$precision:2,$format:"0.00"},$unit:"propStringUnit"},propStringUnit:{$type:"application/x-string",$isMandatory:!1,$isExcluded:!0,$title:"Unit for quantity"},propStringM:{$type:"application/x-string",$isMandatory:!0,$title:"My name"},propDateM:{$type:"application/x-date",$isMandatory:!0,$title:"Date (Mandatory)"},propDateTimeM:{$type:"application/x-datetime",$isMandatory:!0,$title:"Date+Time (Mandatory)"},propTimeM:{$type:"application/x-time",$isMandatory:!0,$title:"Time (Mandatory)"},propIntM:{$type:"application/x-integer",$isMandatory:!0,$title:"Integer (Mandatory)"},propDecimalM:{$type:"application/x-decimal",$isMandatory:!0,$title:"Decimal (Mandatory)"},propRealM:{$type:"application/x-real",$isMandatory:!0,$title:"Real (Mandatory)"},propBooleanM:{$type:"application/x-boolean",$isMandatory:!0,$title:"Boolean (Mandatory)"}},$relations:{},$articles:{$details:{$layoutType:"stack",$items:[{$layoutType:"stack",$title:"String types",$collapsible:"expanded",$items:[{$bind:"propString"},{$bind:"propStringMandatory"},{$bind:"propStringMinMax"},{$bind:"propStringPattern"},{$bind:"propStringM"}]},{$layoutType:"stack",$title:"Numerical",$collapsible:"collapsed",$items:[{$bind:"propTimeShort"},{$bind:"propDecimal"},{$bind:"propReal"},{$bind:"propIntM"},{$bind:"propDecimalMandatory"},{$bind:"propRealM"},{$bind:"propDecimalM"},{$bind:"propStringMinMaxValue"},{$bind:"propInt"}]},{$layoutType:"stack",$title:"Date and Time",$items:[{$bind:"propDateTime"},{$bind:"propDateTimeM"},{$bind:"propDateM"},{$bind:"propTime"},{$bind:"propDate"},{$bind:"propTimeM"}]},{$layoutType:"stack",$title:"Complex",$collapsible:"collapsed",$items:[{$bind:"propQuantity"},{$bind:"propBoolean"},{$bind:"propChoice"},{$bind:"propBooleanM"}]}]}},$services:{$new:function(e,t){var n=$.Deferred(),r=15,s={$uuid:""+r,propString:"Simple String="+r,propDate:"2014-03-"+r,propDateTime:"2014-06-"+r+"T12:45:"+(r+44)+".234Z",propTime:"15:45:"+(r+34),propInt:r*1e3+r*10,propDecimal:Math.sqrt(r*1e3+r*10),propReal:Math.sqrt(r*1e3+r*30),propBoolean:i=!i};return n.resolve(s),n.promise()},$read:function(e,t){var n=$.Deferred();return n.resolve(r[e.$key]),n.promise()},$query:function(e,t){var n=$.Deferred();return n.resolve({$resources:r}),n.promise()},$save:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()},$delete:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()}}};t.entity=o}),define("syracuse-tablet/html/js/sdata/entities/test/testFormats",["require","exports","module"],function(e,t,n){"use strict";var r=[],i=!1;for(var s=0;s<10;s++)r.push({$uuid:""+s,propDate1:"2014-03-"+(s+20),propDateTime1:"2014-06-"+(s+10)+" 12:45:"+(s+44),propTime1:"15:45:"+(s+34),propInt1:s*1e3+s*10,propDecimal1:Math.sqrt(s*1e3+s*10),propReal1:Math.sqrt(s*1e3+s*30),propDate2:"2014-03-"+(s+20),propDateTime2:"2014-06-"+(s+10)+" 12:45:"+(s+44),propTime2:"15:45:"+(s+34),propInt2:s*1e3+s*10,propDecimal2:Math.sqrt(s*1e3+s*10),propReal2:Math.sqrt(s*1e3+s*30)});t.entity={$entityName:"testFormats",$properties:{propDate1:{$type:"application/x-date",$title:"Date"},propDateTime1:{$type:"application/x-datetime",$title:"Date+Time"},propTime1:{$type:"application/x-time",$title:"Time"},propInt1:{$type:"application/x-integer",$title:"Integer"},propDecimal1:{$type:"application/x-decimal",$title:"Decimal"},propReal1:{$type:"application/x-real",$title:"Real"},propDate2:{$type:"application/x-date",$title:"Date"},propDateTime2:{$type:"application/x-datetime",$title:"Date+Time"},propTime2:{$type:"application/x-time",$title:"Time"},propInt2:{$type:"application/x-integer",$title:"Integer"},propDecimal2:{$type:"application/x-decimal",$title:"Decimal"},propReal2:{$type:"application/x-real",$title:"Real"}},$relations:{},$articles:{},$services:{$new:function(e,t){var n=$.Deferred();return n.resolve({}),n.promise()},$read:function(e,t){var n=$.Deferred();return n.resolve(r[e.$key]),n.promise()},$query:function(e,t){var n=$.Deferred();return n.resolve({$resources:r}),n.promise()},$save:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()},$delete:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()}}}}),define("syracuse-tablet/html/js/sdata/entities/test/testFormatsReference",["require","exports","module"],function(e,t,n){"use strict";var r=["Labe","Labuan","La Rochelle","Las Vegas","Las Palmas","Liege","Libreville","Lille","Liverpool","Leipzig","Lucknow","London"],i=["LEK","LBU","LRH","LAS","LPA","LGG","LBV","LIL","LPL","LEJ","LKO","LON"],s={SITE_REF:{$description:"Paris",FCY:"PAR"},SITE_REF_1:{$description:"Yaounde",FCY:"YDE"},SITE_REF_2:{$description:"London",FCY:"LON"},SITE_REF_3:{$description:"Lisbon",FCY:"LIS"}},o=[],u=-1,a=-1;for(var f=0;f<3;f++)o.push({$uuid:""+f,SITE_REF:{$description:r[++u],FCY:i[++a]},SITE_REF_1:{$description:r[++u],FCY:i[++a]},SITE_REF_2:{$description:r[++u],FCY:i[++a]},SITE_REF_3:{$description:r[++u],FCY:i[++a]}});t.entity={$entityName:"testFormatsReference",$baseUrl:"http://localhost:8124/mobile1/x3/erp/SUPERV",$properties:{SITE:{$type:"application/x-string",$maxLength:5,$isExcluded:!0},SITE_REF:{$type:"application/x-reference",$title:"Reference",$shortTitle:"Reference",$capabilities:"sort,filter",$item:{$url:"{$baseUrl}/testFormatsReference('{$key}')?representation=testFormatsReference.$lookup",$value:"{FCY}",FCY:"{SITE}",$key:"{FCY}",$properties:{FCY:{$type:"application/x-string"}},$links:{$details:{$title:"details",$target:"",$type:"application/json;vnd.sage=syracuse",$url:"{$baseUrl}/testFormatsReference('{SITE}')?representation=testFormatsReference.$details",$method:"GET"},$lookup:{$title:"lookup",$type:"application/json;vnd.sage=syracuse",$url:"{$baseUrl}/testFormatsReference?representation=testFormatsReference.$lookup",$method:"GET"},$query:{$title:"query",$target:"",$type:"application/json;vnd.sage=syracuse",$url:"{$baseUrl}/testFormatsReference?representation=testFormatsReference.$query",$method:"GET"},SIT1:{$title:"SIT1",$target:"main",$type:"application/json;vnd.sage=syracuse",$url:"https://maps.google.de/maps?q={SITE}&t=Default",$method:"GET"}}}},SITE_REF_1:{$type:"application/x-reference",$title:"Reference 1",$shortTitle:"Reference 1",$capabilities:"sort,filter",$item:{$url:"{$baseUrl}/testFormatsReference('{$key}')?representation=testFormatsReference.$lookup",$value:"{FCY}",FCY:"{SITE}",$key:"{FCY}",$properties:{FCY:{$type:"application/x-string"}},$links:{$details:{$title:"details",$target:"",$type:"application/json;vnd.sage=syracuse",$url:"{$baseUrl}/testFormatsReference('{SITE}')?representation=testFormatsReference.$details",$method:"GET"},$lookup:{$title:"lookup",$type:"application/json;vnd.sage=syracuse",$url:"{$baseUrl}/testFormatsReference?representation=testFormatsReference.$lookup",$method:"GET"},$query:{$title:"query",$target:"",$type:"application/json;vnd.sage=syracuse",$url:"{$baseUrl}/testFormatsReference?representation=testFormatsReference.$query",$method:"GET"},SIT1:{$title:"SIT1",$target:"main",$type:"application/json;vnd.sage=syracuse",$url:"https://maps.google.de/maps?q={SITE}&t=Default",$method:"GET"}}}},SITE_REF_2:{$type:"application/x-reference",$title:"Reference 2",$shortTitle:"Reference 2",$capabilities:"sort,filter",$item:{$url:"{$baseUrl}/testFormatsReference('{$key}')?representation=testFormatsReference.$lookup",$value:"{FCY}",FCY:"{SITE}",$key:"{FCY}",$properties:{FCY:{$type:"application/x-string"}},$links:{$details:{$title:"details",$target:"",$type:"application/json;vnd.sage=syracuse",$url:"{$baseUrl}/testFormatsReference('{SITE}')?representation=testFormatsReference.$details",$method:"GET"},$lookup:{$title:"lookup",$type:"application/json;vnd.sage=syracuse",$url:"{$baseUrl}/testFormatsReference?representation=testFormatsReference.$lookup",$method:"GET"},$query:{$title:"query",$target:"",$type:"application/json;vnd.sage=syracuse",$url:"{$baseUrl}/testFormatsReference?representation=testFormatsReference.$query",$method:"GET"},SIT1:{$title:"SIT1",$target:"main",$type:"application/json;vnd.sage=syracuse",$url:"https://maps.google.de/maps?q={SITE}&t=Default",$method:"GET"}}}},SITE_REF_3:{$type:"application/x-reference",$title:"Reference 3",$shortTitle:"Reference 3",$capabilities:"sort,filter",$item:{$url:"{$baseUrl}/testFormatsReference('{$key}')?representation=testFormatsReference.$lookup",$value:"{FCY}",FCY:"{SITE}",$key:"{FCY}",$properties:{FCY:{$type:"application/x-string"}},$links:{$details:{$title:"details",$target:"",$type:"application/json;vnd.sage=syracuse",$url:"{$baseUrl}/testFormatsReference('{SITE}')?representation=testFormatsReference.$details",$method:"GET"},$lookup:{$title:"lookup",$type:"application/json;vnd.sage=syracuse",$url:"{$baseUrl}/testFormatsReference?representation=testFormatsReference.$lookup",$method:"GET"},$query:{$title:"query",$target:"",$type:"application/json;vnd.sage=syracuse",$url:"{$baseUrl}/testFormatsReference?representation=testFormatsReference.$query",$method:"GET"},SIT1:{$title:"SIT1",$target:"main",$type:"application/json;vnd.sage=syracuse",$url:"https://maps.google.de/maps?q={SITE}&t=Default",$method:"GET"}}}}},$relations:{},$articles:{$details:{$layoutType:"stack",$items:[{$bind:"SITE_REF",$title:"Ref field 1"},{$bind:"SITE_REF_1",$title:"Ref field 2"},{$bind:"SITE_REF_2",$title:"Ref field 3"},{$bind:"SITE_REF_3",$title:"Ref field 4"}]},$edit:{$layoutType:"stack",$items:[{$bind:"SITE_REF",$title:"Ref field 1"},{$bind:"SITE_REF_1",$title:"Ref field 2"},{$bind:"SITE_REF_2",$title:"Ref field 3"},{$bind:"SITE_REF_3",$title:"Ref field 4"}]}},$services:{$new:function(e,t){var n=$.Deferred();return n.resolve({}),n.promise()},$read:function(e,t){var n=$.Deferred();return n.resolve(s),n.promise()},$query:function(e,t){var n=$.Deferred();return n.resolve({$resources:o}),n.promise()},$save:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()},$delete:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()}}}}),define("syracuse-tablet/html/js/sdata/entities/test/testCharts",["require","exports","module"],function(e,t,n){"use strict";var r=[{part:"Gear",value:50,revenue:40,margin:10},{part:"Motor",value:60,revenue:40,margin:20},{part:"Head drive",value:60,revenue:80,margin:-20},{part:"Handwheel",value:70,revenue:90,margin:10},{part:"Crank",value:70,revenue:70,margin:0},{part:"Saddle",value:80,revenue:30,margin:50},{part:"Base",value:20,revenue:40,margin:-20},{part:"Spindle",value:10,revenue:0,margin:10}];t.entity={$entityName:"testCharts",$properties:{part:{$type:"application/x-string",$title:"Item"},value:{$type:"application/x-decimal",$title:"Value",$format:"0.0000"},revenue:{$type:"application/x-decimal",$title:"Revenue",$format:"0.0000"},margin:{$type:"application/x-decimal",$title:"Margin",$format:"0.0000"}},$prototype:function(e){var t=e.$properties&&e.$properties.$resources;t&&(t.$axes=[{$title:"Item",$hierarchies:[["part"]]},{$hierarchies:[["$measures"]]}],t.$cube={$title:"Sales overview",$hierarchies:{part:{$properties:["part"]}},$measures:{value:{},revenue:{},margin:{}}})},$relations:{},$articles:{},$services:{$new:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()},$read:function(e,t){var n=$.Deferred();return n.resolve(r[e.$key]),n.promise()},$query:function(e,t){var n=$.Deferred();return n.resolve({$resources:r}),n.promise()},$save:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()},$delete:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()}}}}),define("syracuse-tablet/html/js/sdata/entities/test/testConstraints",["require","exports","module"],function(e,t,n){"use strict";var r=[],i=!1;for(var s=0;s<10;s++)r.push({$uuid:""+s,propString:"Test "+s,propString2:"Some text "+s,propString3:"Fill me "+s,propInt:s*1e3+s*10,propInt2:s*1e3+s*100,propDecimal:Math.sqrt(s*1e3+s*10),propDecimal2:Math.sqrt(s*1e3+s*100),propDecimal3:Math.sqrt(s*1e3+s*110),propDecimal4:Math.sqrt(s*1e3+s*120),propQuantity:s*123,propStringUnit:"EUR"});t.entity={$entityName:"testConstraints",$properties:{propString:{$title:"Test: $pattern=Test.*\\d$",$type:"application/x-string",$isMandatory:!0,$pattern:"Test.*\\d$"},propString2:{$title:"Test: $minLength=5, $maxLength=15",$type:"application/x-string",$isMandatory:!0,$minLength:5,$maxLength:15},propString3:{$title:"Test: $minLength=5, $maxLength=15, $pattern=Fill me.*\\d$",$type:"application/x-string",$isMandatory:!0,$pattern:"Fill me.*\\d$",$minLength:5,$maxLength:15},propInt:{$title:"Test: $minimum=100, $maximum=200",$type:"application/x-integer",$isMandatory:!0,$minimum:100,$maximum:200},propInt2:{$title:"Test: $exclusiveMinimum=100, $exclusiveMaximum=200",$type:"application/x-integer",$isMandatory:!0,$exclusiveMinimum:100,$exclusiveMaximum:200},propDecimal:{$title:"Test: $format=0.0000",$type:"application/x-decimal",$isMandatory:!0,$format:"0.0000"},propDecimal2:{$title:"Test: $format=0.00",$type:"application/x-decimal",$isMandatory:!0,$format:"0.00"},propDecimal3:{$title:"Test: $precision=10",$type:"application/x-decimal",$isMandatory:!0,$precision:10},propDecimal4:{$title:"Test: $scale=3",$type:"application/x-decimal",$isMandatory:!0,$scale:3,$format:"0.00000"},propQuantity:{$title:"Test: $format=0.00",$isMandatory:!0,$type:"application/x-quantity",$value:{$title:"{$value} {$unit}",$type:"application/x-decimal",$scale:9,$precision:2,$format:"0.00"},$unit:"propStringUnit"},propStringUnit:{$title:"Unit for quantity",$type:"application/x-string",$isMandatory:!1,$isExcluded:!0}},$relations:{},$articles:{},$services:{$new:function(e,t){var n=$.Deferred(),r=15,i={$uuid:""+r,propString:"Simple String="+r,propInt:r*1e3+r*10,propDecimal:Math.sqrt(r*1e3+r*10)};return n.resolve(i),n.promise()},$read:function(e,t){var n=$.Deferred();return n.resolve(r[e.$key]),n.promise()},$query:function(e,t){var n=$.Deferred();return n.resolve({$resources:r}),n.promise()},$save:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()},$delete:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()}}}}),define("syracuse-tablet/html/js/sdata/entities/test/testNavigateTo",["require","exports","module","syracuse-tablet/html/js/helpers/utils"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=[];for(var s=0;s<10;s++)i.push({$uuid:""+s,name:"Customer group "+s,group:""+s});t.entity={$entityName:"testNavigateTo",$properties:{name:{$title:"Customer group name",$type:"application/x-string"},group:{$title:"Customer group",$type:"application/x-string"}},$prototype:function(e){var t=r.getPropByPath(e,"$properties.$resources.$item.$links")||{};t.DASHBOARD={$title:"Detail dashboard",$url:"{$baseUrl}/$mobileDashboards?dashboard=testContextDashboardChild&parameters=group%3D%7Bgroup%7D"}},$relations:{},$articles:{$query:{$layoutType:"stack",$items:[{$bind:"$resources",$detailsLink:"DASHBOARD",$isTitleHidden:!0,$article:{$items:[{$bind:"name"},{$bind:"group"}]},$display:"table"}]}},$services:{$new:function(e,t){var n=$.Deferred(),r=15,i={$uuid:""+r,propString:"Simple String="+r,propInt:r*1e3+r*10,propDecimal:Math.sqrt(r*1e3+r*10)};return n.resolve(i),n.promise()},$read:function(e,t){var n=$.Deferred();return n.resolve(i[e.$key]),n.promise()},$query:function(e,t){var n=$.Deferred();return n.resolve({$resources:i}),n.promise()},$save:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()},$delete:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()}}}}),define("syracuse-tablet/html/js/sdata/entities/test/testNavigateToChild",["require","exports","module"],function(e,t,n){"use strict";var r=[];for(var i=0;i<10;i++)for(var s=0;s<10;s++)r.push({$uuid:""+(i*10+s),name:"Customer "+i*10+s,desc:"Belongs to group "+i,group:""+i});t.entity={$entityName:"testNavigateToChild",$properties:{name:{$title:"Customer name",$type:"application/x-string"},desc:{$title:"Description",$type:"application/x-string"},group:{$title:"Customer group",$type:"application/x-string"}},$relations:{},$articles:{},$services:{$new:function(e,t){var n=$.Deferred(),r=15,i={$uuid:""+r,propString:"Simple String="+r,propInt:r*1e3+r*10,propDecimal:Math.sqrt(r*1e3+r*10)};return n.resolve(i),n.promise()},$read:function(e,t){var n=$.Deferred();return n.resolve(r[e.$key]),n.promise()},$query:function(e,t){var n=$.Deferred();return n.resolve({$resources:r}),n.promise()},$save:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()},$delete:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()}}}}),define("syracuse-tablet/html/js/sdata/entities/test/testPropertyHideShow",["require","exports","module"],function(e,t,n){"use strict";var r=[],i=!1;for(var s=0;s<10;s++)r.push({$uuid:""+s,propStringShow:"Simple String="+s,propStringHide:"Simple String="+s,propStringReadOnly:"ReadOnly String="+s,propStringDisabled:"Disabled=true String="+s,propStringDisabledFalse:"Disabled=false String="+s,propDate:"2014-03-"+(s+20),propDateHide:"2014-03-"+(s+20),propDateDisabled:"2014-03-"+(s+20),propDateReadOnly:"2014-03-"+(s+20),propDateTime:"2014-06-"+(s+10)+"T12:45:"+(s+44)+".123Z",propDateTimeHide:"2014-06-"+(s+10)+"T12:45:"+(s+44)+".123Z",propDateTimeDisabled:"2014-06-"+(s+10)+"T12:45:"+(s+44)+".123Z",propTime:"15:45:"+(s+34),propTimeHide:"15:45:"+(s+34),propTimeDisabled:"15:45:"+(s+34),propInt:s*1e3+s*10,propIntHide:s*1e3+s*10,propIntDisabled:s*1e3+s*10,propIntReadOnly:s*1e3+s*10,propDecimal:Math.sqrt(s*1e3+s*10),propDecimalHide:Math.sqrt(s*1e3+s*10),propDecimalDisabled:Math.sqrt(s*1e3+s*10),propDecimalReadOnly:Math.sqrt(s*1e3+s*10),propReal:Math.sqrt(s*1e3+s*30),propBoolean:i=!i,propBooleanHidden:i=!i,propBooleanDisabled:i=!i,propChoice:"mr",propChoiceHidden:"mr",propChoiceDisabled:"mr",propQuantity:s*123,propStringUnit:"EUR",propQuantityExcluded:s*123,propStringUnitExcluded:"USD"});t.entity={$entityName:"testPropertyHideShow",$properties:{propStringShow:{$type:"application/x-string",$isMandatory:!0,$title:"String Mandatory $isHidden: false",$isHidden:!1},propStringHide:{$type:"application/x-string",$isMandatory:!1,$title:"String $isHidden: true",$isHidden:!0},propStringReadOnly:{$type:"application/x-string",$title:"String $isReadOnly: true",$isReadOnly:!0},propStringDisabledFalse:{$type:"application/x-string",$title:"String $isDisabled: false",$isDisabled:!1},propStringDisabled:{$type:"application/x-string",$title:"String $isDisabled: true",$isDisabled:!0},propDate:{$type:"application/x-date",$isMandatory:!1,$title:"Date $isHidden: false",$isHidden:!1},propDateHide:{$type:"application/x-date",$isMandatory:!1,$title:"Date $isHidden: true",$isHidden:!0},propDateDisabled:{$type:"application/x-date",$isMandatory:!1,$title:"Date $isDisabled: true",$isDisabled:!0},propDateReadOnly:{$type:"application/x-date",$isMandatory:!1,$title:"Date $isReadOnly: true",$isReadOnly:!0},propDateTime:{$type:"application/x-datetime",$isMandatory:!1,$title:"Date+Time $isHidden: false",$isHidden:!1},propDateTimeHide:{$type:"application/x-datetime",$isMandatory:!1,$title:"Date+Time $isHidden: true",$isHidden:!0},propDateTimeDisabled:{$type:"application/x-datetime",$isMandatory:!1,$title:"Date+Time $isDisabled: true",$isDisabled:!0},propTime:{$type:"application/x-time",$isMandatory:!1,$title:"Time long",$format:"TT"},propTimeHide:{$type:"application/x-time",$isMandatory:!1,$title:"Time $isHidden: true",$isHidden:!0},propTimeDisabled:{$type:"application/x-time",$isMandatory:!1,$title:"Time $isDisabled: true",$isDisabled:!0},propInt:{$type:"application/x-integer",$isMandatory:!1,$title:"Integer ($isHidden: false)",$isHidden:!1},propIntHide:{$type:"application/x-integer",$isMandatory:!1,$title:"Integer ($isHidden: true)",$isHidden:!0},propIntDisabled:{$type:"application/x-integer",$isMandatory:!1,$title:"Integer ($isDisabled: true)",$isDisabled:!0},propIntReadOnly:{$type:"application/x-integer",$isMandatory:!1,$title:"Integer ($isReadOnly: true)",$isReadOnly:!0},propDecimal:{$type:"application/x-decimal",$isMandatory:!1,$title:"Decimal $isHidden: false",$isHidden:!1},propDecimalHide:{$type:"application/x-decimal",$isMandatory:!1,$title:"Decimal $isHidden: true",$isHidden:!0},propDecimalDisabled:{$type:"application/x-decimal",$isMandatory:!1,$title:"Decimal $isDisabled: true",$isDisabled:!0},propDecimalReadOnly:{$type:"application/x-decimal",$isMandatory:!1,$title:"Decimal $isReadOnly: true",$isReadOnly:!0},propReal:{$type:"application/x-real",$isMandatory:!1,$title:"Real"},propBoolean:{$type:"application/x-boolean",$isMandatory:!1,$title:"Boolean"},propBooleanHidden:{$type:"application/x-boolean",$isMandatory:!1,$title:"Boolean ($isHidden: true)",$isHidden:!0},propBooleanDisabled:{$type:"application/x-boolean",$isMandatory:!1,$title:"Boolean ($isDisabled: true)",$isDisabled:!0},propChoice:{$type:"application/x-choice",$isMandatory:!1,$title:"Choice",$value:{$enum:[{$title:"Mr.",$value:"mr"},{$title:"Mrs.",$value:"mrs"}],$type:"application/x-string"}},propChoiceHidden:{$type:"application/x-choice",$isMandatory:!1,$title:"Choice($isHidden: true)",$isHidden:!0,$value:{$enum:[{$title:"Mr.",$value:"mr"},{$title:"Mrs.",$value:"mrs"}],$type:"application/x-string"}},propChoiceDisabled:{$type:"application/x-choice",$isMandatory:!1,$title:"Choice ($isDisabled: true)",$isDisabled:!0,$value:{$enum:[{$title:"Mr.",$value:"mr"},{$title:"Mrs.",$value:"mrs"}],$type:"application/x-string"}},propQuantity:{$title:"Quantity ($unit $isExcluded: false)",$type:"application/x-quantity",$value:{$title:"{$value} {$unit}",$type:"application/x-decimal",$scale:9,$precision:2,$format:"0.00"},$unit:"propStringUnit"},propStringUnit:{$type:"application/x-string",$isMandatory:!1,$isExcluded:!1,$title:"Unit for quantity ($isExcluded: false)"},propQuantityExcluded:{$title:"Quantity($unit $isExcluded: true)",$type:"application/x-quantity",$value:{$title:"{$value} {$unit}",$type:"application/x-decimal",$scale:9,$precision:2,$format:"0.00"},$unit:"propStringUnitExcluded"},propStringUnitExcluded:{$type:"application/x-string",$isMandatory:!1,$isExcluded:!0,$title:"Unit for quantity ($isExcluded: true)"}},$relations:{},$articles:{},$services:{$new:function(e,t){var n=$.Deferred(),r=15,s={$uuid:""+r,propString:"Simple String="+r,propDate:"2014-03-"+r,propDateTime:"2014-06-"+r+"T12:45:"+(r+44)+".234Z",propTime:"15:45:"+(r+34),propInt:r*1e3+r*10,propDecimal:Math.sqrt(r*1e3+r*10),propReal:Math.sqrt(r*1e3+r*30),propBoolean:i=!i};return n.resolve(s),n.promise()},$read:function(e,t){var n=$.Deferred();return n.resolve(r[e.$key]),n.promise()},$query:function(e,t){var n=$.Deferred();return n.resolve({$resources:r}),n.promise()},$save:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()},$delete:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()}}}}),define("syracuse-tablet/html/js/sdata/entities/test/testGaugeChart",["require","exports","module"],function(e,t,n){"use strict";var r={salesOp:"75.0000000000",salesValue:"133000.0000000000",salesValueMin:"100000.0000000000",salesValueMax:"150000.0000000000"},i={$entityName:"testGaugeChart",$properties:{salesOp:{$title:"sale opportunity",$type:"application/x-decimal",$capabilities:"sort,filter"},salesValue:{$title:"sales value",$type:"application/x-decimal",$capabilities:"sort,filter"},salesValueMin:{$title:"sales value min",$type:"application/x-decimal",$capabilities:"sort,filter"},salesValueMax:{$title:"sales value max",$type:"application/x-decimal",$capabilities:"sort,filter"}},$relations:{},$articles:{},$services:{$read:function(e,t){var n=$.Deferred();return n.resolve(r),n.promise()}}};t.entity=i}),define("syracuse-tablet/html/js/sdata/entities/test/testHomeDashboard",["require","exports","module"],function(e,t,n){"use strict";t.dashboards={testHomeDashboard:{$dashboardName:"testHomeDashboard",$title:"Main test dashboard",$description:"This dashboard links to different dashboards used for every kind of UI tests",$vignettes:{testLayoutsDashboard:{$uuid:"testLayoutsDashboard",$displayStyle:"$link"},testTypesDashboard:{$uuid:"testTypesDashboard",$displayStyle:"$link"},testTypesDashboard2:{$uuid:"testTypesDashboard2",$displayStyle:"$link"},testFormatsDashboard:{$uuid:"testFormatsDashboard",$displayStyle:"$link"},testGX3APPDashboard:{$uuid:"testGX3APPDashboard",$displayStyle:"$link"},testSUPERVDashboard:{$uuid:"testSUPERVDashboard",$displayStyle:"$link"},testChartsDashboard:{$uuid:"testChartsDashboard",$displayStyle:"$link"},testSUPERVDashboard2:{$uuid:"testSUPERVDashboard2",$displayStyle:"$link"},testGX3APPDashboard2:{$uuid:"testGX3APPDashboard2",$displayStyle:"$link"},testConstraintsDashboard:{$uuid:"testConstraintsDashboard",$displayStyle:"$link"},testContextDashboard:{$uuid:"testContextDashboard",$displayStyle:"$link"},testPropertyHideShowDashboard:{$uuid:"testPropertyHideShowDashboard",$displayStyle:"$link"},testAQTACTNPDashboard:{$uuid:"testAQTACTNPDashboard",$displayStyle:"$link"},testSyDevDashboard:{$uuid:"testSyDevDashboard",$displayStyle:"$link"},testGaugeChartDashboard:{$uuid:"testGaugeChartDashboard",$displayStyle:"$link"},testGridDashboard:{$uuid:"testGridDashboard",$displayStyle:"$link"},testDefaultAQTCRUDM:{$uuid:"testDefaultAQTCRUDM",$displayStyle:"$link"},testDefaultAQMCRUDM:{$uuid:"testDefaultAQMCRUDM",$displayStyle:"$link"},testDefaultAQMFIELDSM:{$uuid:"testDefaultAQMFIELDSM",$displayStyle:"$link"},testDefaultAQMSEARCHM:{$uuid:"testDefaultAQMSEARCHM",$displayStyle:"$link"}},$article:{$layoutType:"hub",$items:[{$layoutType:"hubGroup",$title:"Client only",$items:[{$layoutType:"tile",$bgColor:"magenta",$items:[{$bind:"testLayoutsDashboard"}],$size:"small"},{$layoutType:"tile",$bgColor:"brown",$items:[{$bind:"testFormatsDashboard"}],$size:"small"},{$layoutType:"tile",$bgColor:"brown",$items:[{$bind:"testTypesDashboard"}],$size:"small"},{$layoutType:"tile",$bgColor:"red",$items:[{$bind:"testConstraintsDashboard"}],$size:"small"},{$layoutType:"tile",$bgColor:"lime",$items:[{$bind:"testChartsDashboard"}],$size:"medium"},{$layoutType:"tile",$bgColor:"blue",$items:[{$bind:"testContextDashboard"}],$size:"medium"},{$layoutType:"tile",$bgColor:"purple",$items:[{$bind:"testPropertyHideShowDashboard"}],$size:"small"},{$layoutType:"tile",$bgColor:"lime",$items:[{$bind:"testGaugeChartDashboard"}],$size:"small"}]},{$layoutType:"hubGroup",$title:"SUPERV endpoint",$items:[{$layoutType:"tile",$bgColor:"green",$items:[{$bind:"testSUPERVDashboard"}]},{$layoutType:"tile",$bgColor:"teal",$items:[{$bind:"testGridDashboard"}]}]},{$layoutType:"hubGroup",$title:"GX3APP endpoint",$items:[{$layoutType:"tile",$bgColor:"blue",$items:[{$bind:"testGX3APPDashboard"}]},{$layoutType:"tile",$bgColor:"teal",$items:[{$bind:"testGX3APPDashboard2"}]}]},{$layoutType:"hubGroup",$title:"SYDEV endpoint",$items:[{$layoutType:"tile",$bgColor:"magenta",$items:[{$bind:"testSyDevDashboard"}]}]},{$layoutType:"hubGroup",$title:"Default endpoint",$items:[{$layoutType:"tile",$bgColor:"red",$items:[{$bind:"testAQTACTNPDashboard"}]},{$layoutType:"tile",$bgColor:"brown",$items:[{$bind:"testTypesDashboard2"}],$size:"medium"},{$layoutType:"tile",$bgColor:"teal",$items:[{$bind:"testDefaultAQTCRUDM"}]},{$layoutType:"tile",$bgColor:"teal",$items:[{$bind:"testDefaultAQMCRUDM"}]},{$layoutType:"tile",$bgColor:"teal",$items:[{$bind:"testDefaultAQMFIELDSM"}]},{$layoutType:"tile",$bgColor:"teal",$items:[{$bind:"testDefaultAQMSEARCHM"}]}]}]}}},t.gadgets={testLayoutsDashboard:{$type:"$dashboard",$title:"Layout tests",$description:"Layout tests",dashboardName:"testLayoutsDashboard"},testTypesDashboard:{$type:"$dashboard",$title:"Datatype tests",$description:"Datatype tests",dashboardName:"testTypesDashboard"},testTypesDashboard2:{$type:"$dashboard",$title:"Datatype AQTCRUD",$description:"Datatype AQTCRUD",dashboardName:"testTypesDashboard2"},testFormatsDashboard:{$type:"$dashboard",$title:"Formats tests",$description:"Formats tests",dashboardName:"testFormatsDashboard"},testGX3APPDashboard:{$type:"$dashboard",$title:"GX3APP tests",$description:"GX3APP tests",dashboardName:"testGX3APPDashboard"},testSUPERVDashboard:{$type:"$dashboard",$title:"SUPERV tests",$description:"SUPERV tests",dashboardName:"testSUPERVDashboard"},testChartsDashboard:{$type:"$dashboard",$title:"Charts tests",$description:"Charts tests",dashboardName:"testChartsDashboard"},testSUPERVDashboard2:{$type:"$dashboard",$title:"AQMCRUDM",$description:"AQMCRUDM default endpoint",dashboardName:"testSUPERVDashboard2"},testGX3APPDashboard2:{$type:"$dashboard",$title:"GX3APP Cost",$description:"GX3APP Cost",dashboardName:"testGX3APPDashboard2"},testConstraintsDashboard:{$type:"$dashboard",$title:"SData constraints",$description:"SData constraints",dashboardName:"testConstraintsDashboard"},testContextDashboard:{$type:"$dashboard",$title:"Dashboard with context",$description:"Dashboard with context",dashboardName:"testContextDashboard"},testPropertyHideShowDashboard:{$type:"$dashboard",$title:"Property Hide Show",$description:"Dashboard PropertyHideShow",dashboardName:"testPropertyHideShowDashboard"},testAQTACTNPDashboard:{$type:"$dashboard",$title:"AQTACTNP Create facet",$description:"AQTACTNP Create facet",dashboardName:"testAQTACTNPDashboard"},testSyDevDashboard:{$type:"$dashboard",$title:"Sydev entities",$description:"Sydev entities",dashboardName:"testSyDevDashboard"},testGaugeChartDashboard:{$type:"$dashboard",$title:"Test gauge chart",$description:"Test gauge chart",dashboardName:"testGaugeChartDashboard"},testGridDashboard:{$type:"$dashboard",$title:"Test grid authoring",$description:"Test grid authoring",dashboardName:"testGridDashboard"},testDefaultAQTCRUDM:{$type:"$dashboard",$title:"AQTCRUDM",$description:"Test AQTCRUDM",dashboardName:"testDefaultAQTCRUDM"},testDefaultAQMCRUDM:{$type:"$dashboard",$title:"AQMCRUDM",$description:"Test AQMCRUDM",dashboardName:"testDefaultAQMCRUDM"},testDefaultAQMFIELDSM:{$type:"$dashboard",$title:"AQMFIELDSM",$description:"Test AQMFIELDSM",dashboardName:"testDefaultAQMFIELDSM"},testDefaultAQMSEARCHM:{$type:"$dashboard",$title:"AQMSEARCHM",$description:"Test AQMSEARCHM",dashboardName:"testDefaultAQMSEARCHM"}}}),define("syracuse-tablet/html/js/sdata/entities/test/testLayoutsDashboard",["require","exports","module"],function(e,t,n){"use strict";t.dashboards={testLayoutsDashboard:{$dashboardName:"testLayoutsDashboard",$title:"Layout test dashboard",$description:"Test different kinds of layouts",$vignettes:{testLayoutHubDashboard:{$uuid:"testLayoutHubDashboard",$displayStyle:"$link"},testLayoutRowsDashboard:{$uuid:"testLayoutRowsDashboard",$displayStyle:"$link"},testLongQuery:{$uuid:"testLongQuery",$displayStyle:"$link"},testHubLayoutEntity:{$uuid:"testHubLayoutEntity",$displayStyle:"$link"}},$article:{$layoutType:"stack",$items:[{$layoutType:"row",$items:[{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testLayoutHubDashboard"}]},{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testLayoutRowsDashboard"}]},{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testLongQuery"}]},{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testHubLayoutEntity"}]}]}]}},testLayoutHubDashboard:{$dashboardName:"testLayoutHubDashboard",$title:"Hub dashboard (scroll horizontal)",$description:"Horizontal scrolling dashboard",$vignettes:{testDummyTile:{$uuid:"testDummyTile",$displayStyle:"$full"}},$article:{$layoutType:"hub",$items:[{$layoutType:"hubGroup",$title:"Layout group 1",$items:[{$layoutType:"tile",$bgColor:"lime",$items:[{$bind:"testDummyTile",$article:{$layoutType:"stack",$items:[{$bind:"name"},{$bind:"name",$labelPosition:"left"},{$bind:"desc",$labelPosition:"top"},{$bind:"desc2",$labelPosition:"right"},{$bind:"desc2",$labelAlign:"right"},{$bind:"amount",$labelPosition:"bottom"},{$bind:"amount",$isTitleHidden:!0}]}}],$size:"full"},{$layoutType:"tile",$bgColor:"purple",$items:[{$bind:"testDummyTile"}],$size:"medium"},{$layoutType:"tile",$bgColor:"teal",$items:[{$bind:"testDummyTile"}],$size:"small"},{$layoutType:"tile",$items:[{$bgColor:"lime",$bind:"testDummyTile"}],$size:"small"},{$layoutType:"tile",$bgColor:"brown",$items:[{$bind:"testDummyTile"}],$size:"small"},{$layoutType:"tile",$bgColor:"pink",$items:[{$bind:"testDummyTile"}],$size:"wide"},{$layoutType:"tile",$bgColor:"orange",$items:[{$bind:"testDummyTile"}],$size:"large"}]},{$layoutType:"hubGroup",$title:"Layout group 2",$items:[{$layoutType:"tile",$bgColor:"blue",$items:[{$bind:"testDummyTile"}],$size:"medium"},{$layoutType:"tile",$bgColor:"red",$items:[{$bind:"testDummyTile"}],$size:"medium"},{$layoutType:"tile",$bgColor:"green",$items:[{$bind:"testDummyTile"}],$size:"medium"}]},{$layoutType:"hubGroup",$title:"Layout group 3",$items:[{$layoutType:"tile",$items:[{$bind:"testDummyTile"}],$size:"wide"},{$layoutType:"tile",$items:[{$bind:"testDummyTile"}],$size:"medium"},{$layoutType:"tile",$items:[{$bind:"testDummyTile"}],$size:"medium"}]},{$layoutType:"hubGroup",$title:"Layout group 4",$items:[{$layoutType:"tile",$items:[{$bind:"testDummyTile"}],$size:"large"},{$layoutType:"tile",$items:[{$bind:"testDummyTile"}],$size:"medium"},{$layoutType:"tile",$items:[{$bind:"testDummyTile"}],$size:"medium"}]},{$layoutType:"hubGroup",$title:"Layout group 5",$items:[{$layoutType:"tile",$items:[{$bind:"testDummyTile"}],$size:"wide"},{$layoutType:"tile",$items:[{$bind:"testDummyTile"}],$size:"full"},{$layoutType:"tile",$items:[{$bind:"testDummyTile"}],$size:"small"},{$layoutType:"tile",$items:[{$bind:"testDummyTile"}],$size:"small"},{$layoutType:"tile",$items:[{$bind:"testDummyTile"}],$size:"small"},{$layoutType:"tile",$items:[{$bind:"testDummyTile"}],$size:"small"},{$layoutType:"tile",$items:[{$bind:"testDummyTile"}],$size:"small"}]}]}},testLayoutRowsDashboard:{$dashboardName:"testLayoutRowsDashboard",$title:"Row layout dashboard (scroll vertical)",$description:"Vertical scrolling dashboard",$vignettes:{testDummyTile:{$uuid:"testDummyTile",$displayStyle:"$full"},testDummyTileLink:{$uuid:"testDummyTile",$displayStyle:"$link"}},$article:{$layoutType:"stack",$items:[{$layoutType:"row",$items:[{$layoutType:"cell",$widthLg:"3",$widthSm:"6",$widthXs:"12",$widthMd:"4",$items:[{$bind:"testDummyTileLink",$article:{}}]},{$layoutType:"cell",$widthLg:"3",$widthSm:"6",$widthXs:"12",$widthMd:"4",$items:[{$bind:"testDummyTileLink",$article:{}}]},{$layoutType:"cell",$widthLg:"3",$widthSm:"6",$widthXs:"12",$widthMd:"4",$items:[{$bind:"testDummyTileLink",$article:{}}]},{$layoutType:"cell",$widthLg:"3",$widthSm:"6",$widthXs:"12",$widthMd:"12",$items:[{$bind:"testDummyTileLink",$article:{}}]}]},{$layoutType:"row",$items:[{$layoutType:"cell",$widthLg:"6",$widthSm:"6",$widthXs:"12",$items:[{$bind:"testDummyTile",$article:{$layoutType:"stack",$items:[{$bind:"name"},{$bind:"desc"},{$bind:"desc2"},{$bind:"amount"}]}}]},{$layoutType:"cell",$widthLg:"6",$widthSm:"6",$widthXs:"12",$items:[{$bind:"testDummyTile",$article:{$layoutType:"stack",$items:[{$bind:"name"},{$bind:"desc"},{$bind:"desc2"},{$bind:"amount"}]}}]},{$layoutType:"cell",$items:[{$widthLg:"3",$widthSm:"4",$widthXs:"12",$bind:"testDummyTile",$article:{$layoutType:"stack",$items:[{$bind:"name"},{$bind:"desc"},{$bind:"desc2"},{$bind:"amount"}]}}]},{$layoutType:"cell",$items:[{$widthLg:"3",$widthSm:"12",$widthXs:"12",$bind:"testDummyTile",$article:{$layoutType:"stack",$items:[{$bind:"name"},{$bind:"desc"},{$bind:"desc2"},{$bind:"amount"}]}}]}]}]}}},t.gadgets={testLayoutHubDashboard:{$type:"$dashboard",$title:"Hub Layout tests",$description:"Hub Layout tests",dashboardName:"testLayoutHubDashboard"},testLayoutRowsDashboard:{$type:"$dashboard",$title:"Rows Layout tests",$description:"Rows Layout tests",dashboardName:"testLayoutRowsDashboard"},testDummyTile:{$type:"$representation",$title:"Dummy",$description:"Dummy",entity:"example",action:"$details",representation:"example",facet:"$details",keyParameter:"5"},testLongQuery:{$type:"$representation",$title:"Long query",$description:"Query",entity:"example",action:"$query",representation:"example",facet:"$query"},testHubLayoutEntity:{$type:"$representation",$title:"Hub Layout on Representation",$description:"Hub Layout on Representation",entity:"exampleHubLayout",action:"$details",representation:"exampleHubLayout",facet:"$details",keyParameter:"5"}}}),define("syracuse-tablet/html/js/sdata/entities/test/testTypesDashboard",["require","exports","module"],function(e,t,n){"use strict";t.dashboards={testTypesDashboard:{$dashboardName:"testTypesDashboard",$title:"Datatypes test dashboard",$description:"Test different kinds of datatypes",$vignettes:{testLinkQueryRecord:{$uuid:"testDisplayQueryRecord",$displayStyle:"$link"},testLinkDetailsRecord:{$uuid:"testDisplayDetailsRecord",$displayStyle:"$link"},testLinkEditRecord:{$uuid:"testDisplayEditRecord",$displayStyle:"$link"},testLinkCreateRecord:{$uuid:"testDisplayCreateRecord",$displayStyle:"$link"},testDisplayQueryRecord:{$uuid:"testDisplayQueryRecord",$displayStyle:"$full"},testDisplayDetailsRecord:{$uuid:"testDisplayDetailsRecord",$displayStyle:"$full"},testDisplayEditRecord:{$uuid:"testDisplayEditRecord",$displayStyle:"$full"},testDisplayCreateRecord:{$uuid:"testDisplayCreateRecord",$displayStyle:"$full"}},$article:{$layoutType:"stack",$items:[{$layoutType:"row",$items:[{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testLinkQueryRecord"}]},{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testLinkDetailsRecord"}]},{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testLinkEditRecord"}]},{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testLinkCreateRecord"}]}]},{$layoutType:"row",$items:[{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testDisplayQueryRecord"}]},{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testDisplayDetailsRecord"}]},{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testDisplayEditRecord"}]},{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testDisplayCreateRecord"}]}]}]}}},t.gadgets={testDisplayDetailsRecord:{$type:"$representation",$title:"Details facet",entity:"testDataTypes",action:"$details",representation:"testDataTypes",facet:"$details",keyParameter:"5"},testDisplayEditRecord:{$type:"$representation",$title:"Edit facet",entity:"testDataTypes",action:"$edit",representation:"testDataTypes",facet:"$edit",keyParameter:"5"},testDisplayCreateRecord:{$type:"$representation",$title:"Create facet",entity:"testDataTypes",action:"$create",representation:"testDataTypes",facet:"$create",keyParameter:"5"},testDisplayQueryRecord:{$type:"$representation",$title:"Query facet",entity:"testDataTypes",action:"$query",representation:"testDataTypes",facet:"$query",keyParameter:"5"}}}),define("syracuse-tablet/html/js/sdata/entities/test/testTypesDashboard2",["require","exports","module"],function(e,t,n){"use strict";t.dashboards={testTypesDashboard2:{$dashboardName:"testTypesDashboard2",$title:"AQTCRUD default endpoint",$description:"AQTCRUD Representation",$vignettes:{testLinkQueryRecord2:{$uuid:"testDisplayQueryRecord2",$displayStyle:"$link"},testLinkDetailsRecord2:{$uuid:"testDisplayDetailsRecord2",$displayStyle:"$link"},testLinkEditRecord2:{$uuid:"testDisplayEditRecord2",$displayStyle:"$link"},testLinkCreateRecord2:{$uuid:"testDisplayCreateRecord2",$displayStyle:"$link"},testDisplayQueryRecord2:{$uuid:"testDisplayQueryRecord2",$displayStyle:"$full"},testDisplayDetailsRecord2:{$uuid:"testDisplayDetailsRecord2",$displayStyle:"$full"},testDisplayEditRecord2:{$uuid:"testDisplayEditRecord2",$displayStyle:"$full"},testDisplayCreateRecord2:{$uuid:"testDisplayCreateRecord2",$displayStyle:"$full"}},$article:{$layoutType:"stack",$items:[{$layoutType:"row",$items:[{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testLinkQueryRecord2"}]},{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testLinkDetailsRecord2"}]},{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testLinkEditRecord2"}]},{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testLinkCreateRecord2"}]}]},{$layoutType:"row",$items:[{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testDisplayQueryRecord2"}]},{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testDisplayDetailsRecord2"}]},{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testDisplayEditRecord2"}]},{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testDisplayCreateRecord2"}]}]}]}}},t.gadgets={testDisplayDetailsRecord2:{$type:"$representation",$title:"Details facet",entity:"AQTCRUD",action:"$details",representation:"AQTCRUD",facet:"$details",keyParameter:"10"},testDisplayEditRecord2:{$type:"$representation",$title:"Edit facet",entity:"AQTCRUD",action:"$edit",representation:"AQTCRUD",facet:"$edit",keyParameter:"10"},testDisplayCreateRecord2:{$type:"$representation",$title:"Create facet",entity:"AQTCRUD",action:"$create",representation:"AQTCRUD",facet:"$create"},testDisplayQueryRecord2:{$type:"$representation",$title:"Query facet",entity:"AQTCRUD",action:"$query",representation:"AQTCRUD",facet:"$query"}}}),define("syracuse-tablet/html/js/sdata/entities/test/testFormatsDashboard",["require","exports","module"],function(e,t,n){"use strict";t.dashboards={testFormatsDashboard:{$dashboardName:"testFormatsDashboard",$title:"Formatting test dashboard",$description:"Test different kinds of formats",$vignettes:{testFormatEditRecord:{$uuid:"testFormatEditRecord",$displayStyle:"$full"},testFormatReferenceDetail:{$uuid:"testFormatReferenceDetail",$displayStyle:"$full"},testFormatReferenceEdit:{$uuid:"testFormatReferenceEdit",$displayStyle:"$full"},testFormatReferenceQuery:{$uuid:"testFormatReferenceQuery",$displayStyle:"$full"}},$article:{$layoutType:"stack",$items:[{$layoutType:"row",$items:[{$layoutType:"cell",$widthXs:"4",$items:[{$bind:"testFormatEditRecord"}]},{$layoutType:"cell",$widthXs:"4",$items:[{$bind:"testFormatReferenceDetail"}]},{$layoutType:"cell",$widthXs:"4",$items:[{$bind:"testFormatReferenceEdit"}]}]},{$layoutType:"row",$items:[{$layoutType:"cell",$widthXs:"4",$items:[{$bind:"testFormatReferenceQuery"}]}]}]}}},t.gadgets={testFormatEditRecord:{$type:"$representation",$title:"Details facet",entity:"testFormats",action:"$edit",representation:"testFormats",facet:"$edit",keyParameter:"5"},testFormatReferenceDetail:{$type:"$representation",$title:"Details facet reference fields",entity:"testFormatsReference",action:"$details",representation:"testFormatsReference",facet:"$details",keyParameter:"5"},testFormatReferenceEdit:{$type:"$representation",$title:"Edit facet reference fields",entity:"testFormatsReference",action:"$edit",representation:"testFormatsReference",facet:"$edit",keyParameter:"5"},testFormatReferenceQuery:{$type:"$representation",$title:"Query facet reference fields",entity:"testFormatsReference",action:"$query",representation:"testFormatsReference",facet:"$query",keyParameter:"5"}}}),define("syracuse-tablet/html/js/sdata/entities/test/testGX3APPDashboard",["require","exports","module"],function(e,t,n){"use strict";t.dashboards={testGX3APPDashboard:{$dashboardName:"testGX3APPDashboard",$title:"Display data from GX3APP",$description:"Test different representations on GX3APP",$vignettes:{testACTIVQuery:{$uuid:"testACTIVQuery",$displayStyle:"$full"},testRequestVEN085:{$uuid:"testRequestVEN085",$displayStyle:"$full"}},$article:{$layoutType:"hub",$items:[{$layoutType:"hubGroup",$title:"Some data...",$items:[{$layoutType:"tile",$items:[{$bind:"testACTIVQuery"}],$size:"full"}]},{$layoutType:"hubGroup",$title:"Some fancy chart",$items:[{$layoutType:"tile",$items:[{$bind:"testRequestVEN085"}],$size:"large"}]}]}}},t.gadgets={testACTIVQuery:{$type:"$representation",$title:"Query ACTIV",entity:"ACTIV",action:"$query",representation:"ACTIV",endpoint:"x3.erp.GX3APP",facet:"$query"},testRequestVEN085:{$type:"$request",$title:"Request VEN085",requestName:"VEN085",requestLevel:"1",action:"$query",endpoint:"x3.erp.GX3APP",facet:"$query"}}}),define("syracuse-tablet/html/js/sdata/entities/test/testSUPERVDashboard",["require","exports","module"],function(e,t,n){"use strict";t.dashboards={testSUPERVDashboard:{$dashboardName:"testSUPERVDashboard",$title:"Display Query AQMCRUDM",$description:"",$vignettes:{testAQMDEVICEQuery:{$uuid:"testAQMDEVICEQuery",$displayStyle:"$full"},testAQMDEVICEQueryLink:{$uuid:"testAQMDEVICEQuery",$displayStyle:"$link"}},$article:{$layoutType:"stack",$items:[{$layoutType:"row",$items:[{$layoutType:"cell",$widthXs:"6",$items:[{$bind:"testAQMDEVICEQuery",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$title:"QUERY - $display=table",$display:"table",$article:{$items:[{$bind:"CODE"},{$bind:"TDATE"},{$bind:"TEXTDES0"},{$bind:"CUR_REF"}]}}]}}]},{$layoutType:"cell",$widthXs:"6",$items:[{$bind:"testAQMDEVICEQueryLink"}]}]}]}}},t.gadgets={testAQMDEVICEQuery:{$type:"$representation",$title:"Query AQMCRUDM",entity:"AQMDEVICE",action:"$query",representation:"AQMCRUDM",facet:"$query"}}}),define("syracuse-tablet/html/js/sdata/entities/test/testChartsDashboard",["require","exports","module"],function(e,t,n){"use strict";t.dashboards={testChartsDashboard:{$dashboardName:"testChartsDashboard",$title:"Display some charts",$description:"Test different kind of charts",$vignettes:{testRequestChart:{$uuid:"testRequestChart",$displayStyle:"$full"}},$article:{$layoutType:"hub",$items:[{$layoutType:"hubGroup",$title:"Big chart (!)",$items:[{$layoutType:"tile",$items:[{$bind:"testRequestChart",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$isTitleHidden:!0,$style:"bar"}]}}],$size:"full"},{$layoutType:"tile",$items:[{$bind:"testRequestChart",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$isTitleHidden:!0,$style:"bar"}]}}],$size:"large"}]},{$layoutType:"hubGroup",$title:"Bar charts",$items:[{$layoutType:"tile",$items:[{$bind:"testRequestChart",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$isTitleHidden:!0,$style:"stick"}]}}],$size:"large"},{$layoutType:"tile",$items:[{$bind:"testRequestChart",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$isTitleHidden:!0,$style:"bar"}]}}],$size:"large"}]},{$layoutType:"hubGroup",$title:"Line charts",$items:[{$layoutType:"tile",$items:[{$bind:"testRequestChart",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$isTitleHidden:!0,$style:"line"}]}}],$size:"large"},{$layoutType:"tile",$items:[{$bind:"testRequestChart",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$isTitleHidden:!0,$style:"area"}]}}],$size:"large"}]},{$layoutType:"hubGroup",$title:"Spline charts",$items:[{$layoutType:"tile",$items:[{$bind:"testRequestChart",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$isTitleHidden:!0,$style:"spline"}]}}],$size:"large"},{$layoutType:"tile",$items:[{$bind:"testRequestChart",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$isTitleHidden:!0,$style:"areaspline"}]}}],$size:"large"}]},{$layoutType:"hubGroup",$title:"Pie chart",$items:[{$layoutType:"tile",$items:[{$bind:"testRequestChart",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$isTitleHidden:!0,$style:"pie"}]}}],$size:"large"}]},{$layoutType:"hubGroup",$title:"Test different sizes/legends",$items:[{$layoutType:"tile",$items:[{$bind:"testRequestChart",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$isTitleHidden:!0,$isLegendHidden:!1,$style:"line"}]}}],$size:"large"},{$layoutType:"tile",$items:[{$bind:"testRequestChart",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$isTitleHidden:!0,$isLegendHidden:!0,$style:"line"}]}}],$size:"large"},{$layoutType:"tile",$items:[{$bind:"testRequestChart",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$isTitleHidden:!0,$isLegendHidden:!0,$isXLabelHidden:!0,$isYLabelHidden:!0,$isXLabelsHidden:!0,$isYLabelsHidden:!0,$style:"line"}]}}],$size:"wide"},{$layoutType:"tile",$items:[{$bind:"testRequestChart",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$isTitleHidden:!0,$isLegendHidden:!0,$isXLabelHidden:!0,$isYLabelHidden:!0,$isXLabelsHidden:!0,$isYLabelsHidden:!0,$style:"bar"}]}}],$size:"medium"}]}]}}},t.gadgets={testRequestChart:{$type:"$request",$title:"Request test",requestName:"testCharts",requestLevel:"1",action:"$query",facet:"$query"}}}),define("syracuse-tablet/html/js/sdata/entities/test/testSUPERVDashboard2",["require","exports","module"],function(e,t,n){"use strict";t.dashboards={testSUPERVDashboard2:{$dashboardName:"testSUPERVDashboard2",$title:"AQMCRUDM default endpoint",$description:"Test representation AQMCRUDM",$vignettes:{testAQTCRUDQuery:{$uuid:"testAQTCRUDQuery",$displayStyle:"$full"},testAQTCRUDQueryLink:{$uuid:"testAQTCRUDQuery",$displayStyle:"$link"}},$article:{$layoutType:"stack",$items:[{$layoutType:"row",$widthXs:"6,1",$items:[{$bind:"testAQTCRUDQuery"},{$bind:"testAQTCRUDQueryLink"}]}]}}},t.gadgets={testAQTCRUDQuery:{$type:"$representation",$title:"Query AQMCRUDM",entity:"AQMCRUDM",action:"$query",representation:"AQMCRUDM",facet:"$query"},testAQTCRUDQueryLink:{$type:"$representation",$title:"Query 10 AQMCRUDM",requestName:"10",requestLevel:"1",action:"$query",facet:"$query"}}}),define("syracuse-tablet/html/js/sdata/entities/test/testGX3APPDashboard2",["require","exports","module"],function(e,t,n){"use strict";t.dashboards={testGX3APPDashboard2:{$dashboardName:"testGX3APPDashboard2",$title:"Display data from GX3APP",$description:"Test PRPCOSTCTR representation on GX3APP",$vignettes:{testPRPCOSTCTRQuery:{$uuid:"testPRPCOSTCTRQuery",$displayStyle:"$full"}},$article:{$layoutType:"hub",$items:[{$layoutType:"hubGroup",$title:"Some data Spending cost...",$items:[{$layoutType:"tile",$items:[{$bind:"testPRPCOSTCTRQuery"}],$size:"full"}]}]}}},t.gadgets={testPRPCOSTCTRQuery:{$type:"$representation",$title:"Query PRPCOSTCTR",entity:"PRPCOSTCTR",action:"$query",representation:"PRPCOSTCTR",endpoint:"x3.erp.GX3APP",facet:"$query"}}}),define("syracuse-tablet/html/js/sdata/entities/test/testConstraintsDashboard",["require","exports","module"],function(e,t,n){"use strict";t.dashboards={testConstraintsDashboard:{$dashboardName:"testConstraintsDashboard",$title:"Constraints test dashboard",$description:"Test SData constraints: https://github.com/Sage-ERP-X3/platform/wiki/Resource-Prototypes#type-constraints",$vignettes:{testConstraintsEditRecord:{$uuid:"testConstraintsEditRecord",$displayStyle:"$full"}},$article:{$layoutType:"stack",$items:[{$layoutType:"row",$items:[{$layoutType:"cell",$widthXs:"12",$items:[{$bind:"testConstraintsEditRecord"}]}]}]}}},t.gadgets={testConstraintsEditRecord:{$type:"$representation",$title:"Edit facet",entity:"testConstraints",action:"$edit",representation:"testConstraints",facet:"$edit",keyParameter:"5"}}}),define("syracuse-tablet/html/js/sdata/entities/test/testNavigateToDashboard",["require","exports","module"],function(e,t,n){"use strict";t.dashboards={testContextDashboard:{$dashboardName:"testContextDashboard",$title:"Test dashboard parameters",$description:"Test navigation to a dashboard with parameters",$vignettes:{testRecordLinkToDashboard:{$uuid:"testRecordLinkToDashboard",$displayStyle:"$full"},testRecordLinkToDashboardLink:{$uuid:"testRecordLinkToDashboardLink",$displayStyle:"$full"},testRecordLinkToDashboardSUPERV:{$uuid:"testRecordLinkToDashboardSUPERV",$displayStyle:"$full"}},$article:{$layoutType:"stack",$items:[{$layoutType:"row",$items:[{$layoutType:"cell",$widthXs:"4",$items:[{$bind:"testRecordLinkToDashboard"}]},{$layoutType:"cell",$widthXs:"4",$items:[{$bind:"testRecordLinkToDashboardLink"}]},{$layoutType:"cell",$widthXs:"4",$items:[{$bind:"testRecordLinkToDashboardSUPERV"}]}]}]}},testContextDashboardChild:{$dashboardName:"testContextDashboardChild",$title:"Child dashboard",$description:"Child dashboard getting parameters that are applied to the first to vignettes but not to the last one using the same representation to gather data",$vignettes:{testRecordWithContext1:{$uuid:"testRecordWithContext",$displayStyle:"$full"},testRecordWithContext2:{$uuid:"testRecordWithContext",$displayStyle:"$full"},testRecordWithoutContext:{$uuid:"testRecordWithoutContext",$displayStyle:"$full"}},$article:{$layoutType:"stack",$items:[{$layoutType:"row",$items:[{$layoutType:"cell",$widthXs:"4",$items:[{$bind:"testRecordWithContext1"}]},{$layoutType:"cell",$widthXs:"4",$items:[{$bind:"testRecordWithContext2"}]},{$layoutType:"cell",$widthXs:"4",$items:[{$bind:"testRecordWithoutContext"}]}]}]}},testContextDashboardChildSUPERV:{$dashboardName:"testContextDashboardChildSUPERV",$title:"Child dashboard",$description:"Child dashboard getting parameters",$vignettes:{testRecordWithContextSUPERV:{$uuid:"testRecordWithContextSUPERV",$displayStyle:"$full"}},$article:{$layoutType:"stack",$items:[{$layoutType:"row",$items:[{$layoutType:"cell",$widthXs:"12",$items:[{$bind:"testRecordWithContextSUPERV"}]}]}]}}},t.gadgets={testRecordLinkToDashboard:{$type:"$representation",$title:"Click to navigate",entity:"testNavigateTo",action:"$query",representation:"testNavigateTo",facet:"$query"},testRecordWithContext:{$type:"$representation",$title:"Click to navigate",entity:"testNavigateToChild",action:"$query",representation:"testNavigateToChild",facet:"$query",parameters:{where:{value:"group eq '{group}'"}}},testRecordLinkToDashboardLink:{$type:"$dashboard",$title:"Open dashboard w/o params",dashboardName:"testContextDashboardChild"},testRecordWithoutContext:{$type:"$representation",$title:"Click to navigate",entity:"testNavigateToChild",action:"$query",representation:"testNavigateToChild",facet:"$query"},testRecordLinkToDashboardSUPERV:{$type:"$representation",$title:"Click to navigate",entity:"AQMDEVICEM",action:"$query",representation:"AQMDEVICEM",facet:"$query",endpoint:"x3.erp.SUPERV"},testRecordWithContextSUPERV:{$type:"$representation",$title:"Click to navigate",entity:"AQMDEVICEM",action:"$query",representation:"AQMDEVICEM",facet:"$query",endpoint:"x3.erp.SUPERV",parameters:{where:{value:"CODE eq {CODE}"}}}}}),define("syracuse-tablet/html/js/sdata/entities/test/testPropertyHideShowDashboard",["require","exports","module"],function(e,t,n){"use strict";t.dashboards={testPropertyHideShowDashboard:{$dashboardName:"testPropertyHideShowDashboard",$title:"PropertyHideShow test dashboard",$description:"Test different kinds of PropertyHideShow",$vignettes:{testLinkQueryRecordHS:{$uuid:"testDisplayQueryRecordHS",$displayStyle:"$link"},testLinkDetailsRecordHS:{$uuid:"testDisplayDetailsRecordHS",$displayStyle:"$link"},testLinkEditRecordHS:{$uuid:"testDisplayEditRecordHS",$displayStyle:"$link"},testLinkCreateRecordHS:{$uuid:"testDisplayCreateRecordHS",$displayStyle:"$link"},testDisplayQueryRecordHS:{$uuid:"testDisplayQueryRecordHS",$displayStyle:"$full"},testDisplayDetailsRecordHS:{$uuid:"testDisplayDetailsRecordHS",$displayStyle:"$full"},testDisplayEditRecordHS:{$uuid:"testDisplayEditRecordHS",$displayStyle:"$full"},testDisplayCreateRecordHS:{$uuid:"testDisplayCreateRecordHS",$displayStyle:"$full"}},$article:{$layoutType:"stack",$items:[{$layoutType:"row",$items:[{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testLinkQueryRecordHS"}]},{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testLinkDetailsRecordHS"}]},{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testLinkEditRecordHS"}]},{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testLinkCreateRecordHS"}]}]},{$layoutType:"row",$items:[{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testDisplayQueryRecordHS"}]},{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testDisplayDetailsRecordHS"}]},{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testDisplayEditRecordHS"}]},{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testDisplayCreateRecordHS"}]}]}]}}},t.gadgets={testDisplayDetailsRecordHS:{$type:"$representation",$title:"Details facet",entity:"testPropertyHideShow",action:"$details",representation:"testPropertyHideShow",facet:"$details",keyParameter:"5"},testDisplayEditRecordHS:{$type:"$representation",$title:"Edit facet",entity:"testPropertyHideShow",action:"$edit",representation:"testPropertyHideShow",facet:"$edit",keyParameter:"5"},testDisplayCreateRecordHS:{$type:"$representation",$title:"Create facet",entity:"testPropertyHideShow",action:"$create",representation:"testPropertyHideShow",facet:"$create",keyParameter:"5"},testDisplayQueryRecordHS:{$type:"$representation",$title:"Query facet",entity:"testPropertyHideShow",action:"$query",representation:"testPropertyHideShow",facet:"$query",keyParameter:"5"}}}),define("syracuse-tablet/html/js/sdata/entities/test/testAQTACTNPDashboard",["require","exports","module"],function(e,t,n){"use strict";t.dashboards={testAQTACTNPDashboard:{$dashboardName:"testAQTACTNPDashboard",$title:"AQTACTNP Facet Create",$description:"Test Facet Create AQTACTNP",$vignettes:{testAQTACTNPCreate:{$uuid:"testAQTACTNPCreate",$displayStyle:"$full"}},$article:{$layoutType:"stack",$items:[{$layoutType:"row",$items:[{$layoutType:"cell",$widthXs:"6",$items:[{$bind:"testAQTACTNPCreate"}]}]}]}}},t.gadgets={testAQTACTNPCreate:{$type:"$representation",$title:"Facet Create AQTACTNP",entity:"AQTACTNP",action:"$create",representation:"AQTACTNP",facet:"$create"}}}),define("syracuse-tablet/html/js/sdata/entities/test/testSyDevDashboard",["require","exports","module"],function(e,t,n){"use strict";t.dashboards={testSyDevDashboard:{$dashboardName:"testSyDevDashboard",$title:"Display Query AQMCRUDM from SyDev",$description:"Test different representations on SyDev",$vignettes:{testSyDev_QAQT02_Request:{$uuid:"testSyDev_QAQT02_Request",$displayStyle:"$full"}},$article:{$layoutType:"hub",$items:[{$layoutType:"hubGroup",$items:[{$layoutType:"tile",$items:[{$bind:"testSyDev_QAQT02_Request"}],$size:"full"}]}]}}},t.gadgets={testSyDev_QAQT02_Request:{$type:"$request",$title:"Request QAQT02",requestName:"QAQT02",requestLevel:"99",action:"$query",endpoint:"x3.erp.SYDEV",facet:"$query"}}}),define("syracuse-tablet/html/js/sdata/entities/test/testGridDashboard",["require","exports","module"],function(e,t,n){"use strict";t.dashboards={testGridDashboard:{$dashboardName:"testGridDashboard",$title:"Arrays - Test dashboard",$description:"Arrays - Test dashboard",$vignettes:{testAQMDEVICEQueryGrid:{$uuid:"testAQMDEVICEQueryGrid",$displayStyle:"$full"},testAQMDEVICEDetailGrid:{$uuid:"testAQMDEVICEDetailGrid",$displayStyle:"$full"}},$article:{$layoutType:"hub",$items:[{$layoutType:"hubGroup",$title:"AQMCRUDM.$Query - Table Mode",$items:[{$layoutType:"tile",$size:"full",$items:[{$bind:"testAQMDEVICEQueryGrid",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$title:"QUERY - $display=table",$display:"table",$article:{$items:[{$bind:"CODE"},{$bind:"CODECHR"},{$bind:"TEXTDES0"},{$bind:"CUR_REF"}]}}]}}]}]},{$layoutType:"hubGroup",$title:"AQMCRUDM.$Query - Vertical Cards - Multiple",$items:[{$layoutType:"tile",$size:"full",$items:[{$bind:"testAQMDEVICEQueryGrid",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$display:"card",$cardsPerRow:1,$emptycell:"filled",$article:{$items:[{$bind:"CODE"},{$bind:"CODECHR"},{$bind:"TEXTDES0"},{$bind:"CUR_REF"}]}}]}}]}]},{$layoutType:"hubGroup",$title:"AQMCRUDM.$Query - Vertical Cards - Single",$items:[{$layoutType:"tile",$size:"full",$items:[{$bind:"testAQMDEVICEQueryGrid",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$display:"card",$cardsPerRow:3,$emptycell:"filled",$article:{$items:[{$bind:"CODE"},{$bind:"CODECHR"},{$bind:"TEXTDES0"},{$bind:"CUR_REF"}]}}]}}]}]},{$layoutType:"hubGroup",$title:"$Details facet",$items:[{$layoutType:"tile",$size:"full",$items:[{$bind:"testAQMDEVICEDetailGrid"}]}]}]}}},t.gadgets={testAQMDEVICEQueryGrid:{$type:"$representation",$title:"Query AQMCRUDM",entity:"AQMDEVICE",action:"$query",representation:"AQMCRUDM",facet:"$query"},testAQMDEVICEDetailGrid:{$type:"$representation",$title:"Detail AQMCRUDM",entity:"AQMDEVICE",action:"$details",representation:"AQMCRUDM",facet:"$details",keyParameter:"1"}}}),define("syracuse-tablet/html/js/sdata/entities/test/testSUPERVAQTCRUDMDashboard",["require","exports","module"],function(e,t,n){"use strict";t.dashboards={testDefaultAQTCRUDM:{$dashboardName:"testDefaultAQTCRUDM",$title:"AQTCRUDM default endpoint",$description:"AQTCRUDM Representation",$vignettes:{testDefaultAQTCRUDM_AQTCRUDM_QUERY:{$uuid:"testDefaultAQTCRUDM_AQTCRUDM_QUERY",$displayStyle:"$full"},testDefaultAQTCRUDM_AQTCRUDM_DETAIL:{$uuid:"testDefaultAQTCRUDM_AQTCRUDM_DETAIL",$displayStyle:"$full"}},$article:{$layoutType:"stack",$items:[{$layoutType:"row",$items:[{$layoutType:"cell",$widthXs:"6",$items:[{$bind:"testDefaultAQTCRUDM_AQTCRUDM_QUERY"}]},{$layoutType:"cell",$widthXs:"6",$items:[{$bind:"testDefaultAQTCRUDM_AQTCRUDM_DETAIL"}]}]}]}}},t.gadgets={testDefaultAQTCRUDM_AQTCRUDM_QUERY:{$type:"$representation",$title:"Query facet",entity:"AQTCRUDM",action:"$query",representation:"AQTCRUDM",facet:"$query"},testDefaultAQTCRUDM_AQTCRUDM_DETAIL:{$type:"$representation",$title:"Details facet",entity:"AQTCRUDM",action:"$details",representation:"AQTCRUDM",facet:"$details",keyParameter:"10"}}}),define("syracuse-tablet/html/js/sdata/entities/test/testSUPERVAQMCRUDMDashboard",["require","exports","module"],function(e,t,n){"use strict";t.dashboards={testDefaultAQMCRUDM:{$dashboardName:"testDefaultAQMCRUDM",$title:"AQMCRUDM default endpoint",$description:"AQMCRUDM Representation",$vignettes:{testDefaultAQMCRUDM_AQMCRUDM_QUERY:{$uuid:"testDefaultAQMCRUDM_AQMCRUDM_QUERY",$displayStyle:"$full"},testDefaultAQMCRUDM_AQMCRUDM_DETAIL:{$uuid:"testDefaultAQMCRUDM_AQMCRUDM_DETAIL",$displayStyle:"$full"}},$article:{$layoutType:"stack",$items:[{$layoutType:"row",$items:[{$layoutType:"cell",$widthXs:"6",$items:[{$bind:"testDefaultAQMCRUDM_AQMCRUDM_QUERY",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$title:"QUERY - $display=table, bind some unexistant fields",$display:"table",$article:{$items:[{$bind:"CODE"},{$bind:"CPY_REF"},{$bind:"CUR_REF"},{$bind:"I_do_not_exist"}]}}]}}]},{$layoutType:"cell",$widthXs:"6",$items:[{$bind:"testDefaultAQMCRUDM_AQMCRUDM_DETAIL"}]}]}]}}},t.gadgets={testDefaultAQMCRUDM_AQMCRUDM_QUERY:{$type:"$representation",$title:"Query facet",entity:"AQMCRUDM",action:"$query",representation:"AQMCRUDM",facet:"$query"},testDefaultAQMCRUDM_AQMCRUDM_DETAIL:{$type:"$representation",$title:"Details facet",entity:"AQMCRUDM",action:"$details",representation:"AQMCRUDM",facet:"$details",keyParameter:"10"}}}),define("syracuse-tablet/html/js/sdata/entities/test/testSUPERVAQMTABLEMDashboard",["require","exports","module"],function(e,t,n){"use strict";t.dashboards={testDefaultAQMFIELDSM:{$dashboardName:"testDefaultAQMFIELDSM",$title:"AQMFIELDSM SUPERV endpoint",$description:"AQMFIELDSM Representation",$vignettes:{testDefaultAQMFIELDSM_AQMFIELDSM_QUERY:{$uuid:"testDefaultAQMFIELDSM_AQMFIELDSM_QUERY",$displayStyle:"$full"},testDefaultAQMFIELDSM_AQMFIELDSM_DETAIL:{$uuid:"testDefaultAQMFIELDSM_AQMFIELDSM_DETAIL",$displayStyle:"$full"}},$article:{$layoutType:"stack",$items:[{$layoutType:"row",$items:[{$layoutType:"cell",$widthXs:"6",$items:[{$bind:"testDefaultAQMFIELDSM_AQMFIELDSM_QUERY"}]},{$layoutType:"cell",$widthXs:"6",$items:[{$bind:"testDefaultAQMFIELDSM_AQMFIELDSM_DETAIL"}]}]}]}}},t.gadgets={testDefaultAQMFIELDSM_AQMFIELDSM_QUERY:{$type:"$representation",$title:"Query facet",entity:"AQMDEVICE",action:"$query",representation:"AQMFIELDSM",facet:"$query"},testDefaultAQMFIELDSM_AQMFIELDSM_DETAIL:{$type:"$representation",$title:"Details facet",entity:"AQMDEVICE",action:"$details",representation:"AQMFIELDSM",facet:"$details",keyParameter:"10"}}}),define("syracuse-tablet/html/js/sdata/entities/test/testSUPERVAQMSEARCHMDashboard",["require","exports","module"],function(e,t,n){"use strict";t.dashboards={testDefaultAQMSEARCHM:{$dashboardName:"testDefaultAQMSEARCHM",$title:"AQMSEARCHM SUPERV",$description:"AQMSEARCHM Representation",$vignettes:{testDefaultAQMSEARCHM_AQMSEARCHM_QUERY:{$uuid:"testDefaultAQMSEARCHM_AQMSEARCHM_QUERY",$displayStyle:"$full"}},$article:{$layoutType:"stack",$items:[{$layoutType:"row",$items:[{$layoutType:"cell",$widthXs:"12",$items:[{$bind:"testDefaultAQMSEARCHM_AQMSEARCHM_QUERY"}]}]}]}}},t.gadgets={testDefaultAQMSEARCHM_AQMSEARCHM_QUERY:{$type:"$representation",$title:"Query facet",entity:"AQMSEARCH",action:"$query",representation:"AQMSEARCHM",facet:"$query"}}}),define("syracuse-tablet/html/js/sdata/entities/test/testGaugeChartDashboard",["require","exports","module"],function(e,t,n){"use strict";t.dashboards={testGaugeChartDashboard:{$dashboardName:"testGaugeChartDashboard",$title:"Gauge chart test dashboard",$description:"Test different gauge charts authoring",$vignettes:{testGauge:{$uuid:"testGauge",$displayStyle:"$full"}},$article:{$layoutType:"stack",$items:[{$layoutType:"row",$items:[{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testGauge",$article:{$layoutType:"stack",$items:[{$bind:"salesOp",$gauge:{}}]}}]},{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testGauge",$article:{$layoutType:"stack",$items:[{$bind:"salesOp",$gauge:{segments:[{propStart:0,propEnd:.75},{propStart:.75,propEnd:.85},{propStart:.85,propEnd:1}]}}]}}]},{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testGauge",$article:{$layoutType:"stack",$items:[{$bind:"salesValue",$gauge:{$bindMin:"salesValueMin",$bindMax:"salesValueMax",segments:[{propStart:0,propEnd:.75},{propStart:.75,propEnd:.85},{propStart:.85,propEnd:1}]}}]}}]},{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testGauge",$article:{$layoutType:"stack",$items:[{$bind:"salesValue",$gauge:{$bindMin:"salesValueMin",$bindMax:"salesValueMax",segments:[{valStart:1e5,valEnd:13e4,color:"#DF5353"},{valStart:13e4,valEnd:14e4},{valStart:14e4,valEnd:15e4,color:"#55BF3B"}]}}]}}]}]}]}}},t.gadgets={testGauge:{$type:"$representation",$title:"Gauge 1",entity:"testGaugeChart",action:"$details",representation:"testGaugeChart",facet:"$details"}}}),define("syracuse-tablet/html/js/sdata/entities/test/testApplication",["require","exports","module","syracuse-tablet/html/js/sdata/entities/clientContract","syracuse-tablet/html/js/sdata/entities/test/example","syracuse-tablet/html/js/sdata/entities/test/exampleHubLayout","syracuse-tablet/html/js/sdata/entities/test/testDatatypes","syracuse-tablet/html/js/sdata/entities/test/testFormats","syracuse-tablet/html/js/sdata/entities/test/testFormatsReference","syracuse-tablet/html/js/sdata/entities/test/testCharts","syracuse-tablet/html/js/sdata/entities/test/testConstraints","syracuse-tablet/html/js/sdata/entities/test/testNavigateTo","syracuse-tablet/html/js/sdata/entities/test/testNavigateToChild","syracuse-tablet/html/js/sdata/entities/test/testPropertyHideShow","syracuse-tablet/html/js/sdata/entities/test/testGaugeChart","syracuse-tablet/html/js/sdata/entities/test/testHomeDashboard","syracuse-tablet/html/js/sdata/entities/test/testLayoutsDashboard","syracuse-tablet/html/js/sdata/entities/test/testTypesDashboard","syracuse-tablet/html/js/sdata/entities/test/testTypesDashboard2","syracuse-tablet/html/js/sdata/entities/test/testFormatsDashboard","syracuse-tablet/html/js/sdata/entities/test/testGX3APPDashboard","syracuse-tablet/html/js/sdata/entities/test/testSUPERVDashboard","syracuse-tablet/html/js/sdata/entities/test/testChartsDashboard","syracuse-tablet/html/js/sdata/entities/test/testSUPERVDashboard2","syracuse-tablet/html/js/sdata/entities/test/testGX3APPDashboard2","syracuse-tablet/html/js/sdata/entities/test/testConstraintsDashboard","syracuse-tablet/html/js/sdata/entities/test/testNavigateToDashboard","syracuse-tablet/html/js/sdata/entities/test/testPropertyHideShowDashboard","syracuse-tablet/html/js/sdata/entities/test/testAQTACTNPDashboard","syracuse-tablet/html/js/sdata/entities/test/testSyDevDashboard","syracuse-tablet/html/js/sdata/entities/test/testGridDashboard","syracuse-tablet/html/js/sdata/entities/test/testSUPERVAQTCRUDMDashboard","syracuse-tablet/html/js/sdata/entities/test/testSUPERVAQMCRUDMDashboard","syracuse-tablet/html/js/sdata/entities/test/testSUPERVAQMTABLEMDashboard","syracuse-tablet/html/js/sdata/entities/test/testSUPERVAQMSEARCHMDashboard","syracuse-tablet/html/js/sdata/entities/test/testGaugeChartDashboard"],function(e,t,n){"use strict";function j(e){e.gadgets&&Object.keys(e.gadgets).forEach(function(t){B.$gadgets[t]&&console.log("Duplicate gadget name: "+t),B.$gadgets[t]=e.gadgets[t]}),e.dashboards&&Object.keys(e.dashboards).forEach(function(t){B.$dashboards[t]&&console.log("Duplicate dashboard name: "+t),B.$dashboards[t]=e.dashboards[t]})}var r=e("syracuse-tablet/html/js/sdata/entities/clientContract"),i=e("syracuse-tablet/html/js/sdata/entities/test/example"),s=e("syracuse-tablet/html/js/sdata/entities/test/exampleHubLayout"),o=e("syracuse-tablet/html/js/sdata/entities/test/testDatatypes"),u=e("syracuse-tablet/html/js/sdata/entities/test/testFormats"),a=e("syracuse-tablet/html/js/sdata/entities/test/testFormatsReference"),f=e("syracuse-tablet/html/js/sdata/entities/test/testCharts"),l=e("syracuse-tablet/html/js/sdata/entities/test/testConstraints"),c=e("syracuse-tablet/html/js/sdata/entities/test/testNavigateTo"),h=e("syracuse-tablet/html/js/sdata/entities/test/testNavigateToChild"),p=e("syracuse-tablet/html/js/sdata/entities/test/testPropertyHideShow"),d=e("syracuse-tablet/html/js/sdata/entities/test/testGaugeChart"),v=e("syracuse-tablet/html/js/sdata/entities/test/testHomeDashboard"),m=e("syracuse-tablet/html/js/sdata/entities/test/testLayoutsDashboard"),g=e("syracuse-tablet/html/js/sdata/entities/test/testTypesDashboard"),y=e("syracuse-tablet/html/js/sdata/entities/test/testTypesDashboard2"),b=e("syracuse-tablet/html/js/sdata/entities/test/testFormatsDashboard"),w=e("syracuse-tablet/html/js/sdata/entities/test/testGX3APPDashboard"),E=e("syracuse-tablet/html/js/sdata/entities/test/testSUPERVDashboard"),S=e("syracuse-tablet/html/js/sdata/entities/test/testChartsDashboard"),x=e("syracuse-tablet/html/js/sdata/entities/test/testSUPERVDashboard2"),T=e("syracuse-tablet/html/js/sdata/entities/test/testGX3APPDashboard2"),N=e("syracuse-tablet/html/js/sdata/entities/test/testConstraintsDashboard"),C=e("syracuse-tablet/html/js/sdata/entities/test/testNavigateToDashboard"),k=e("syracuse-tablet/html/js/sdata/entities/test/testPropertyHideShowDashboard"),L=e("syracuse-tablet/html/js/sdata/entities/test/testAQTACTNPDashboard"),A=e("syracuse-tablet/html/js/sdata/entities/test/testSyDevDashboard"),O=e("syracuse-tablet/html/js/sdata/entities/test/testGridDashboard"),M=e("syracuse-tablet/html/js/sdata/entities/test/testSUPERVAQTCRUDMDashboard"),_=e("syracuse-tablet/html/js/sdata/entities/test/testSUPERVAQMCRUDMDashboard"),D=e("syracuse-tablet/html/js/sdata/entities/test/testSUPERVAQMTABLEMDashboard"),P=e("syracuse-tablet/html/js/sdata/entities/test/testSUPERVAQMSEARCHMDashboard"),H=e("syracuse-tablet/html/js/sdata/entities/test/testGaugeChartDashboard"),B={$application:{$uuid:"clientTestApplication",applicationName:"clientTestApplication",title:"Client test application",description:"Application for testing client features without server dependencies",iconName:"th",$homeDashboard:{$uuid:"testHomeDashboard",dashboardName:"testHomeDashboard"}},$dashboards:{},$gadgets:{},$pages:{"x3.erp.SUPERV.AQMCRUDM.$details":{$page:{$article:{$layoutType:"stack",$items:[{$bind:"CODE"},{$bind:"PBLOB"},{$bind:"CODECHR"},{$bind:"WCUR_REF"},{$bind:"FLGTEST"},{$bind:"WMENU"},{$bind:"SIMUL1"},{$bind:"PCLOB"},{$bind:"TEXTAXX"},{$bind:"TEXTE"},{$bind:"TPOSIF"},{$bind:"CUR_REF"},{$bind:"SITE_REF"},{$bind:"TDCB2"},{$bind:"TDCB3",$gauge:{}},{$bind:"TDCB"},{$bind:"TDATE"},{$bind:"UNIT_REF"},{$bind:"CRY_REF"},{$bind:"TEL"},{$bind:"EMAIL"},{$bind:"TEXTPLAIN"},{$bind:"TEXTHTML"},{$bind:"TEXTRTF"},{$bind:"CREUSR_REF"},{$bind:"UPDUSR_REF"},{$bind:"ADEVCOLREF1"},{$bind:"ADEVCOLREF2"},{$bind:"ADEVCTINT"},{$bind:"ADEVADEVICEL"}]}}}}};t.register=function(){r.registerEntity(i.entity),r.registerEntity(s.entity),r.registerEntity(o.entity),r.registerEntity(u.entity),r.registerEntity(a.entity),r.registerEntity(f.entity),r.registerEntity(l.entity),r.registerEntity(c.entity),r.registerEntity(h.entity),r.registerEntity(p.entity),r.registerEntity(d.entity),j(v),j(m),j(g),j(y),j(b),j(w),j(E),j(S),j(x),j(T),j(N),j(C),j(k),j(L),j(A),j(H),j(O),j(M),j(_),j(D),j(P),r.registerApp(B)}}),define("syracuse-tablet/html/js/demos/salesMyCustomers/dashCustomers",["require","exports","module"],function(e,t,n){"use strict";t.dashboards={$customersDashboard:{$dashboardName:"$customersDashboard",$title:"Customer Dashboard",$description:"",$vignettes:{$x3CustomersList:{$uuid:"$x3CustomersList",$displayStyle:"$full"},$localCustomerTotals:{$uuid:"$localCustomerTotals",$displayStyle:"$full"},$localOverviewSales_rev_perc:{$uuid:"$localOverviewSales_rev_perc",$displayStyle:"$full"},$localOverviewSalesLeads:{$uuid:"$localOverviewSalesLeads",$displayStyle:"$full"}},$article:{$layoutType:"hub",$items:[{$layoutType:"hubGroup",$title:"Dashboard",$items:[{$layoutType:"tile",$title:"Sales leads",$size:"full",$bgColor:"brown",$items:[{$bind:"$localOverviewSalesLeads",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$isTitleHidden:!1,$style:"line",$display:"table",$article:{$items:[{$bind:"date"},{$bind:"numLeads"},{$bind:"numDeals"}]}}]}}]},{$layoutType:"tile",$size:"medium",$bgColor:"pink",$title:"Quote values",$items:[{$bind:"$localCustomerTotals",$article:{$layoutType:"stack",$items:[{$bind:"quotesValue",$gauge:{$bindMin:"min",$bindMax:"quotesMax",segments:[{propStart:0,propEnd:.75,color:"#DF5353"},{propStart:.75,propEnd:.85},{propStart:.85,propEnd:1,color:"#55BF3B"}]}}]}}]},{$layoutType:"tile",$size:"large",$bgColor:"pink",$title:"Monthly revenues",$items:[{$bind:"$localOverviewSales_rev_perc",$article:{$layoutType:"stack",$items:[{$bind:"revMonthly",$gauge:{$bindMin:"revMonthlyMin",$bindMax:"revMonthlyMax",segments:[{propStart:0,propEnd:.75,color:"#DF5353"},{propStart:.75,propEnd:.85,color:"#FF5800"},{propStart:.85,propEnd:1,color:"#55BF3B"}]}}]}}]}]},{$layoutType:"hubGroup",$title:"Customer List",$items:[{$layoutType:"tile",$title:"Customers list",$size:"all",$items:[{$bind:"$x3CustomersList",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$display:"card",ss$card:{$layoutType:"stack",$items:[{$bind:"BPCNUM"},{$bind:"BPCNAM"},{$bind:"TEXTDES0"},{$bind:"RPOSCOD"},{$bind:"BPCSTA"},{$bind:"BPCTYP"}]}}]}}]}]}]}}},t.gadgets={$x3CustomersList:{$type:"$representation",$title:"Query facet",entity:"BPCUSTOMER",endpoint:"x3.erp.GX3APP",action:"$query",representation:"BPCUSTOMERM",facet:"$query"},$localCustomerTotals:{$type:"$representation",$title:"Totals",entity:"$localCustomer",action:"$details",representation:"$localCustomer",facet:"$details",keyParameter:"10"},$localOverviewSalesLeads:{$type:"$representation",$title:"Leads vs Deals",entity:"$localOverviewSalesLeads",action:"$query",representation:"$localOverviewSalesLeads",facet:"$query"},$localOverviewSales_rev_perc:{$type:"$representation",$title:"Overview",entity:"$localOverviewSales",action:"$details",representation:"$localOverviewSales",facet:"$details",keyParameter:"10"}}}),define("syracuse-tablet/html/js/demos/utils",["require","exports","module"],function(e,t,n){"use strict";t.addToApp=function(e,t){t.gadgets&&Object.keys(t.gadgets).forEach(function(n){e.$gadgets[n]&&console.log("Duplicate gadget name: "+n),e.$gadgets[n]=t.gadgets[n]}),t.dashboards&&Object.keys(t.dashboards).forEach(function(n){e.$dashboards[n]&&console.log("Duplicate dashboard name: "+n),e.$dashboards[n]=t.dashboards[n]})}}),define("syracuse-tablet/html/js/demos/_entities/entTodos",["require","exports","module"],function(e,t,n){"use strict";var r=[{$uuid:"1",date:"2015-02-01 09:00:00",who:"Mr. Miller",desc:"Call"},{$uuid:"2",date:"2015-02-09 10:00:00",who:"Mr. Miller",desc:"Meeting"},{$uuid:"3",date:"2015-03-04 09:00:00",who:"Mr. Heinz",desc:"Milestone definition"},{$uuid:"4",date:"2015-03-05 15:00:00",who:"Mr. Schmidt",desc:"Project review"},{$uuid:"5",date:"2015-03-08 14:00:00",who:"Mr. Miller",desc:"Call"},{$uuid:"6",date:"2015-03-09 15:40:00",who:"Mr. Miller",desc:"Call"},{$uuid:"7",date:"2015-03-10 15:50:00",who:"Mr. Miller",desc:"Call"},{$uuid:"8",date:"2015-03-11 14:00:00",who:"Mr. Miller",desc:"Call"},{$uuid:"9",date:"2015-03-11 14:00:00",who:"Mr. Miller",desc:"Call"},{$uuid:"10",date:"2015-03-11 14:00:00",who:"Mr. Miller",desc:"Call"},{$uuid:"11",date:"2015-03-11 14:00:00",who:"Mr. Miller",desc:"Call"},{$uuid:"12",date:"2015-03-11 14:00:00",who:"Mr. Miller",desc:"Call"},{$uuid:"13",date:"2015-03-11 14:00:00",who:"Mr. Miller",desc:"Call"}];t.entity={$entityName:"$localTodo",$value:"{desc}",$properties:{who:{$type:"application/x-string",$title:"Who"},desc:{$type:"application/x-string",$title:"Description"},date:{$type:"application/x-datetime",$title:"Date"}},$articles:{},$services:{$new:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()},$read:function(e,t){var n=$.Deferred();return n.resolve(r[e.$key]),n.promise()},$query:function(e,t){var n=$.Deferred();return n.resolve({$resources:r}),n.promise()},$save:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()},$delete:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()}}}}),define("syracuse-tablet/html/js/demos/_entities/entOverviewSales",["require","exports","module"],function(e,t,n){"use strict";var r={$uuid:"1",revMonthlyMin:1e5,revMonthly:18e4,revMonthlyMax:2e5,revMonthlyPerc:92};t.entity={$entityName:"$localOverviewSales",$value:"{revMonthly}",$properties:{revMonthlyMin:{$type:"application/x-decimal",$title:"Min"},revMonthlyMax:{$type:"application/x-decimal",$title:"Target"},revMonthly:{$type:"application/x-decimal",$title:"Revenue"},revMonthlyPerc:{$type:"application/x-decimal",$title:"Monthly Target"}},$articles:{},$services:{$new:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()},$read:function(e,t){var n=$.Deferred();return n.resolve(r),n.promise()},$query:function(e,t){var n=$.Deferred();return n.resolve({$resources:[r]}),n.promise()},$save:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()},$delete:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()}}}}),define("syracuse-tablet/html/js/demos/_entities/entOverviewSalesLeads",["require","exports","module"],function(e,t,n){"use strict";var r=[{$uuid:"1",date:"2014-12-05",numLeads:50,numDeals:40},{$uuid:"1",date:"2014-12-12",numLeads:53,numDeals:45},{$uuid:"1",date:"2014-12-15",numLeads:54,numDeals:47},{$uuid:"1",date:"2014-12-22",numLeads:53,numDeals:49},{$uuid:"1",date:"2014-12-29",numLeads:52,numDeals:52}];t.entity={$entityName:"$localOverviewSalesLeads",$value:"{date}",$properties:{date:{$type:"application/x-date",$title:"Date"},numLeads:{$type:"application/x-decimal",$title:"Leads"},numDeals:{$type:"application/x-decimal",$title:"Deals"}},$articles:{},$prototype:function(e){var t=e.$properties&&e.$properties.$resources;t&&(t.$axes=[{$title:"Date",$hierarchies:[["date"]]},{$hierarchies:[["$measures"]]}],t.$cube={$title:"Leads vs Deals",$hierarchies:{date:{$properties:["date"]}},$measures:{numLeads:{},numDeals:{}}})},$services:{$new:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()},$read:function(e,t){var n=$.Deferred();return n.resolve(r[0]),n.promise()},$query:function(e,t){var n=$.Deferred();return n.resolve({$resources:r}),n.promise()},$save:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()},$delete:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()}}}}),define("syracuse-tablet/html/js/demos/_entities/entCustomers",["require","exports","module","syracuse-tablet/html/js/helpers/utils"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/helpers/utils"),i=["Acme, inc.","Widget Corp","123 Warehousing","Demo Company","Smith and Co.","Foo Bars","ABC Telecom","Fake Brothers","QWERTY Logistics","Demo, inc.","Sample Company","Sample, inc","Acme Corp","Allied Biscuit","Ankh-Sto Associates","Extensive Enterprise","Galaxy Corp","Globo-Chem","Mr. Sparkle","Globex Corporation","LexCorp","LuthorCorp","North Central Positronics","Omni Consimer Products","Praxis Corporation","Sombra Corporation","Sto Plains Holdings","Tessier-Ashpool","Wayne Enterprises","Wentworth Industries","ZiffCorp","Bluth Company","Strickland Propane","Thatherton Fuels","Three Waters","Water and Power","Western Gas & Electric","Mammoth Pictures","Mooby Corp","Gringotts","Thrift Bank","Flowers By Irene","The Legitimate Businessmens Club","Osato Chemicals","Transworld Consortium","Universal Export","United Fried Chicken","Virtucon","Kumatsu Motors","Keedsler Motors","Powell Motors","Industrial Automation","Sirius Cybernetics Corporation","U.S. Robotics and Mechanical Men","Colonial Movers","Corellian Engineering Corporation","Incom Corporation","General Products","Leeding Engines Ltd.","Blammo","Input, Inc.","Mainway Toys","Videlectrix","Zevo Toys","Ajax","Axis Chemical Co.","Barrytron","Carrys Candles","Cogswell Cogs","Spacely Sprockets","General Forge and Foundry","Duff Brewing Company","Dunder Mifflin","General Services Corporation","Monarch Playing Card Co.","Krustyco","Initech","Roboto Industries","Primatech","Sonky Rubber Goods","St. Anky Beer","Stay Puft Corporation","Vandelay Industries","Wernham Hogg","Gadgetron","Burleigh and Stronginthearm","BLAND Corporation","Nordyne Defense Dynamics","Petrox Oil Company","Roxxon","McMahon and Tate","Sixty Second Avenue","Charles Townsend Agency","Spade and Archer","Megadodo Publications","Rouster and Sideways","C.H. Lavatory and Sons","Globo Gym American Corp","The New Firm"],s=[];for(var o=1e4;o<10100;o++)s.push({$uuid:""+(o-1e4),bpcnum:""+o,name:i[o-1e4],ordersValue:1e6+(o-1e4)*2e5%5e5,ordersMax:18e5,quotesValue:5e5+(o-1e4)*2e3%5e4,quotesMax:12e5,invoicesValue:1e4+(o-1e4)*2e3%5e4,invoicesMax:12e4,min:1e3,addr1:"Rue Fructidor",addr2:"75834 Paris Cedex 17"});t.entity={$entityName:"$localCustomer",$value:"{name}",$properties:{bpcnum:{$type:"application/x-string",$title:"Customer"},name:{$type:"application/x-string",$title:"Name"},addr1:{$type:"application/x-string",$title:"Street"},addr2:{$type:"application/x-string",$title:"Address"},ordersValue:{$type:"application/x-decimal",$title:"Orders value"},min:{$type:"application/x-decimal",$title:"General min value"},quotesValue:{$type:"application/x-decimal",$title:"Quotes value"},invoicesValue:{$type:"application/x-decimal",$title:"Invoices value"},ordersMax:{$type:"application/x-decimal",$title:"Max"},quotesMax:{$type:"application/x-decimal",$title:"Max"},invoicesMax:{$type:"application/x-decimal",$title:"Max"}},$prototype:function(e){var t=r.getPropByPath(e,"$properties.$resources.$item.$links")||{};t.DASHBOARD={$title:"Detail dashboard",$url:"{$baseUrl}/$mobileDashboards?dashboard=$localCustomerDashboard&parameters=bpcnum%3D%7Bbpcnum%7D"}},$articles:{$query:{$layoutType:"stack",$items:[{$bind:"$resources",$detailsLink:"DASHBOARD",$display:"card",$cardsPerLine:4,$article:{$items:[{$bind:"bpcnum"},{$bind:"name"},{$bind:"addr1"},{$bind:"addr2"}]}}]}},$services:{$new:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()},$read:function(e,t){var n=$.Deferred();return n.resolve(s[e.$key]),n.promise()},$query:function(e,t){var n=$.Deferred();return n.resolve({$resources:s}),n.promise()},$save:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()},$delete:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()}}}}),define("syracuse-tablet/html/js/demos/_entities/entCustomerRevenues",["require","exports","module"],function(e,t,n){"use strict";var r=["January","February","March","April","May","June","July","August","September","October","November","December"],i=[],s=0;for(var o=1e4;o<10100;o++)for(var u=0;u<12;u++)i.push({$uuid:""+s,bpcnum:""+o,month:r[u],revenue:2e4+u*(12+o%12)%40*2e4}),s++;t.entity={$entityName:"$localCustomerRevenue",$value:"{name}",$properties:{bpcnum:{$type:"application/x-string",$title:"ID"},month:{$type:"application/x-string",$title:"Month"},revenue:{$type:"application/x-decimal",$title:"Revenue"}},$prototype:function(e){var t=e.$properties&&e.$properties.$resources;t&&(t.$axes=[{$title:"Month",$hierarchies:[["month"]]},{$hierarchies:[["$measures"]]}],t.$cube={$title:"Revenue",$hierarchies:{month:{$properties:["month"]}},$measures:{revenue:{}}})},$articles:{},$services:{$new:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()},$read:function(e,t){var n=$.Deferred();return n.resolve(i[e.$key]),n.promise()},$query:function(e,t){var n=$.Deferred();return n.resolve({$resources:i}),n.promise()},$save:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()},$delete:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()}}}}),define("syracuse-tablet/html/js/demos/_entities/main",["require","exports","module","syracuse-tablet/html/js/sdata/entities/clientContract","syracuse-tablet/html/js/demos/_entities/entTodos","syracuse-tablet/html/js/demos/_entities/entOverviewSales","syracuse-tablet/html/js/demos/_entities/entOverviewSalesLeads","syracuse-tablet/html/js/demos/_entities/entCustomers","syracuse-tablet/html/js/demos/_entities/entCustomerRevenues"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/sdata/entities/clientContract"),i=e("syracuse-tablet/html/js/demos/_entities/entTodos"),s=e("syracuse-tablet/html/js/demos/_entities/entOverviewSales"),o=e("syracuse-tablet/html/js/demos/_entities/entOverviewSalesLeads"),u=e("syracuse-tablet/html/js/demos/_entities/entCustomers"),a=e("syracuse-tablet/html/js/demos/_entities/entCustomerRevenues");t.registerAll=function(){r.registerEntity(i.entity),r.registerEntity(s.entity),r.registerEntity(o.entity),r.registerEntity(u.entity),r.registerEntity(a.entity)}}),define("syracuse-tablet/html/js/demos/salesMyCustomers/main",["require","exports","module","syracuse-tablet/html/js/sdata/entities/clientContract","syracuse-tablet/html/js/demos/salesMyCustomers/dashCustomers","syracuse-tablet/html/js/demos/utils","syracuse-tablet/html/js/demos/_entities/main"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/sdata/entities/clientContract"),i=e("syracuse-tablet/html/js/demos/salesMyCustomers/dashCustomers"),s=e("syracuse-tablet/html/js/demos/utils"),o=e("syracuse-tablet/html/js/demos/_entities/main"),u={$application:{$uuid:"$demoCustomers",applicationName:"sagesalescustomers",title:"Sales - My Customers",description:"",isSageApplication:!0,iconName:"sagesalescustomers",$homeDashboard:{$uuid:"$customersDashboard",dashboardName:"$customersDashboard"}},$dashboards:{},$gadgets:{}};t.register=function(){o.registerAll(),s.addToApp(u,i),r.registerApp(u)}}),define("syracuse-tablet/html/js/demos/salesMyInquiries/dashSalesInquiries",["require","exports","module"],function(e,t,n){"use strict";t.dashboards={$salesMyInquiriesDashboard:{$dashboardName:"$salesMyInquiriesDashboard",$title:"Sales - My Inquiries Dashboard",$description:"",$vignettes:{$x3PriceInquiries:{$uuid:"$x3PriceInquiries",$displayStyle:"$link"}},$article:{$layoutType:"hub",$items:[{$layoutType:"hubGroup",$title:"Price Inquiry",$items:[{$layoutType:"tile",$title:"Sales Price Inquiry",$size:"medium",$items:[{$bind:"$x3PriceInquiries"}]}]}]}}},t.gadgets={$x3PriceInquiries:{$type:"$representation",$title:"Price Inquiry",entity:"SPRICESEARCH",endpoint:"x3.erp.GX3APP",action:"$create",representation:"SPRICESEAM",facet:"$create",icon:"sagesalespriceinquiry"}}}),define("syracuse-tablet/html/js/demos/salesMyInquiries/main",["require","exports","module","syracuse-tablet/html/js/sdata/entities/clientContract","syracuse-tablet/html/js/demos/salesMyInquiries/dashSalesInquiries","syracuse-tablet/html/js/demos/utils"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/sdata/entities/clientContract"),i=e("syracuse-tablet/html/js/demos/salesMyInquiries/dashSalesInquiries"),s=e("syracuse-tablet/html/js/demos/utils"),o={$application:{$uuid:"$demoSalesMyInquiries",applicationName:"sagesalesinquiries",title:"Sales - My Inquiries",description:"",isSageApplication:!0,iconName:"sagesalesinquiries",$homeDashboard:{$uuid:"$salesMyInquiriesDashboard",dashboardName:"$salesMyInquiriesDashboard"}},$dashboards:{},$gadgets:{}};t.register=function(){s.addToApp(o,i),r.registerApp(o)}}),define("syracuse-tablet/html/js/demos/salesMyActions/dashSalesMyActions",["require","exports","module"],function(e,t,n){"use strict";t.dashboards={$salesMyActionsDashboard:{$dashboardName:"$salesMyActionsDashboard",$title:"Sales - My Actions Dashboard",$description:"",$vignettes:{$x3Orders2Sign:{$uuid:"$x3Orders2Sign",$displayStyle:"$full"},$x3Quotes2Sign:{$uuid:"$x3Quotes2Sign",$displayStyle:"$full"},$x3OpenOrders2Sign:{$uuid:"$x3OpenOrders2Sign",$displayStyle:"$link"},$x3QuotesSigned:{$uuid:"$x3QuotesSigned",$displayStyle:"$link"},$x3OrdersSigned:{$uuid:"$x3OrdersSigned",$displayStyle:"$link"},$x3OpenOrdersSigned:{$uuid:"$x3OpenOrdersSigned",$displayStyle:"$link"}},$article:{$layoutType:"hub",$items:[{$layoutType:"hubGroup",$title:"Sales - my actions",$items:[{$layoutType:"tile",$title:"",$size:"medium",$items:[{$bind:"$x3OpenOrders2Sign"}]},{$layoutType:"tile",$title:"",$size:"medium",$items:[{$bind:"$x3QuotesSigned"}]},{$layoutType:"tile",$title:"",$size:"medium",$items:[{$bind:"$x3OrdersSigned"}]},{$layoutType:"tile",$title:"",$size:"medium",$items:[{$bind:"$x3OpenOrdersSigned"}]}]},{$layoutType:"hubGroup",$title:"Orders to sign",$items:[{$layoutType:"tile",$title:"Orders to sign",$size:"full",$items:[{$bind:"$x3Orders2Sign"}]},{$layoutType:"tile",$title:"Quotes to sign",$size:"full",$items:[{$bind:"$x3Quotes2Sign",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$display:"card",$article:{$items:[{$bind:"DEST_REF"},{$bind:"RCLEDEC"},{$bind:"RVALCTX7"},{$bind:"RVALCTX2_REF"}]}}]}}]}]}]}}},t.gadgets={$x3Orders2Sign:{$type:"$representation",$title:"Orders to sign",entity:"TCAWRKHISSUI",endpoint:"x3.erp.GX3APP",action:"$query",representation:"POHTOSIGM",facet:"$query",icon:"sagesalesorders2sign"},$x3Quotes2Sign:{$type:"$representation",$title:"Quotes to sign",entity:"TCAWRKHISSUI",endpoint:"x3.erp.GX3APP",action:"$query",representation:"SQHTOSIGM",facet:"$query",icon:"sagesalesquotes2sign"},$x3OpenOrders2Sign:{$type:"$representation",$title:"Open orders to sign",entity:"TCAWRKHISSUI",endpoint:"x3.erp.GX3APP",action:"$query",representation:"SOCTOSIGM",facet:"$query",icon:"sagesalesopenorders2sign"},$x3QuotesSigned:{$type:"$representation",$title:"Quotes signed",entity:"TCAWRKHISSUI",endpoint:"x3.erp.GX3APP",action:"$query",representation:"SQHSIGM",facet:"$query",icon:"sagesalesquotessigned"},$x3OrdersSigned:{$type:"$representation",$title:"Quotes signed",entity:"TCAWRKHISSUI",endpoint:"x3.erp.GX3APP",action:"$query",representation:"SOHSIGM",facet:"$query",icon:"sagesalesorderssigned"},$x3OpenOrdersSigned:{$type:"$representation",$title:"Quotes signed",entity:"TCAWRKHISSUI",endpoint:"x3.erp.GX3APP",action:"$query",representation:"SOCSIGM",facet:"$query",icon:"sagesalesopenorderssigned"}}}),define("syracuse-tablet/html/js/demos/salesMyActions/main",["require","exports","module","syracuse-tablet/html/js/sdata/entities/clientContract","syracuse-tablet/html/js/demos/salesMyActions/dashSalesMyActions","syracuse-tablet/html/js/demos/utils"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/sdata/entities/clientContract"),i=e("syracuse-tablet/html/js/demos/salesMyActions/dashSalesMyActions"),s=e("syracuse-tablet/html/js/demos/utils"),o={$application:{$uuid:"$demoSalesMyActions",applicationName:"sagsalesactions",title:"Sales - My Actions",description:"",isSageApplication:!0,iconName:"sagesalesactions",$homeDashboard:{$uuid:"$salesMyActionsDashboard",dashboardName:"$salesMyActionsDashboard"}},$dashboards:{},$gadgets:{}};t.register=function(){s.addToApp(o,i),r.registerApp(o)}}),define("syracuse-tablet/html/js/demos/purchaseMyActions/dashPurchaseMyActions",["require","exports","module"],function(e,t,n){"use strict";t.dashboards={$purchaseMyActionsDashboard:{$dashboardName:"$purchaseMyActionsDashboard",$title:"Purchase My Actions Dashboard",$description:"",$vignettes:{$x3Orders2Sign:{$uuid:"$x3Orders2Sign",$displayStyle:"$full"},$x3Purchases2Sign:{$uuid:"$x3Purchases2Sign",$displayStyle:"$full"},$x3OpenOrders2Sign:{$uuid:"$x3OpenOrders2Sign",$displayStyle:"$link"},$x3PurchasesSigned:{$uuid:"$x3PurchasesSigned",$displayStyle:"$link"},$x3OrdersSigned:{$uuid:"$x3OrdersSigned",$displayStyle:"$link"},$x3OpenOrdersSigned:{$uuid:"$x3OpenOrdersSigned",$displayStyle:"$link"}},$article:{$layoutType:"hub",$items:[{$layoutType:"hubGroup",$title:"Purchases - my actions",$items:[{$layoutType:"tile",$title:"",$size:"medium",$items:[{$bind:"$x3OpenOrders2Sign"}]},{$layoutType:"tile",$title:"",$size:"medium",$items:[{$bind:"$x3PurchasesSigned"}]},{$layoutType:"tile",$title:"",$size:"medium",$items:[{$bind:"$x3OrdersSigned"}]},{$layoutType:"tile",$title:"",$size:"medium",$items:[{$bind:"$x3OpenOrdersSigned"}]}]},{$layoutType:"hubGroup",$title:"Purchase action",$items:[{$layoutType:"tile",$title:"Orders to sign",$size:"full",$items:[{$bind:"$x3Orders2Sign"}]},{$layoutType:"tile",$title:"Requests to sign",$size:"full",$items:[{$bind:"$x3Purchases2Sign"}]}]}]}}},t.gadgets={$x3Orders2Sign:{$type:"$representation",$title:"Orders to sign",entity:"TCAWRKHISSUI",endpoint:"x3.erp.GX3APP",action:"$query",representation:"POHTOSIGM",facet:"$query",icon:"sagesalesorders2sign"},$x3Purchases2Sign:{$type:"$representation",$title:"Purchases Requests to sign",entity:"TCAWRKHISSUI",endpoint:"x3.erp.GX3APP",action:"$query",representation:"PSHTOSIGM",facet:"$query",icon:"sagesalesquotes2sign"},$x3OpenOrders2Sign:{$type:"$representation",$title:"Open Orders to sign",entity:"TCAWRKHISSUI",endpoint:"x3.erp.GX3APP",action:"$query",representation:"POCTOSIGM",facet:"$query",icon:"sagesalesopenorders2sign"},$x3PurchasesSigned:{$type:"$representation",$title:"Purchase Requests signed",entity:"TCAWRKHISSUI",endpoint:"x3.erp.GX3APP",action:"$query",representation:"PSHSIGM",facet:"$query",icon:"sagesalesquotessigned"},$x3OrdersSigned:{$type:"$representation",$title:"Orders signed",entity:"TCAWRKHISSUI",endpoint:"x3.erp.GX3APP",action:"$query",representation:"POHSIGM",facet:"$query",icon:"sagesalesorderssigned"},$x3OpenOrdersSigned:{$type:"$representation",$title:"Open Orders signed",entity:"TCAWRKHISSUI",endpoint:"x3.erp.GX3APP",action:"$query",representation:"POCSIGM",facet:"$query",icon:"sagesalesopenorderssigned"}}}),define("syracuse-tablet/html/js/demos/purchaseMyActions/main",["require","exports","module","syracuse-tablet/html/js/sdata/entities/clientContract","syracuse-tablet/html/js/demos/purchaseMyActions/dashPurchaseMyActions","syracuse-tablet/html/js/demos/utils"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/sdata/entities/clientContract"),i=e("syracuse-tablet/html/js/demos/purchaseMyActions/dashPurchaseMyActions"),s=e("syracuse-tablet/html/js/demos/utils"),o={$application:{$uuid:"$demoPurchaseMyActions",applicationName:"sagepurchaseactions",title:"Purchase My Actions",description:"",isSageApplication:!0,iconName:"sagepurchaseactions",$homeDashboard:{$uuid:"$purchaseMyActionsDashboard",dashboardName:"$purchaseMyActionsDashboard"}},$dashboards:{},$gadgets:{}};t.register=function(){s.addToApp(o,i),r.registerApp(o)}}),define("syracuse-tablet/html/js/demos/purchaseMyInquiries/dashPurchaseMyInquiries",["require","exports","module"],function(e,t,n){"use strict";t.dashboards={$purchaseMyInquiriesDashboard:{$dashboardName:"$purchaseMyInquiriesDashboard",$title:"Purchase My Inquiries Dashboard",$description:"",$vignettes:{$x3PriceInquiry:{$uuid:"$x3PriceInquiry",$displayStyle:"$link"}},$article:{$layoutType:"hub",$items:[{$layoutType:"hubGroup",$title:"Purchase My Inquiries",$items:[{$layoutType:"tile",$title:"Price Inquiriy",$size:"medium",$items:[{$bind:"$x3PriceInquiry"}]}]}]}}},t.gadgets={$x3PriceInquiry:{$type:"$representation",$title:"Price inquiry",entity:"PPRICESEARCH",endpoint:"x3.erp.GX3APP",action:"$create",representation:"PPRICSEARCHM",facet:"$create",icon:"sagepurchasepriceinquiry"}}}),define("syracuse-tablet/html/js/demos/purchaseMyInquiries/main",["require","exports","module","syracuse-tablet/html/js/sdata/entities/clientContract","syracuse-tablet/html/js/demos/purchaseMyInquiries/dashPurchaseMyInquiries","syracuse-tablet/html/js/demos/utils"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/sdata/entities/clientContract"),i=e("syracuse-tablet/html/js/demos/purchaseMyInquiries/dashPurchaseMyInquiries"),s=e("syracuse-tablet/html/js/demos/utils"),o={$application:{$uuid:"$demoPurchaseMyInquiries",applicationName:"sagepurchaseinquiries",title:"Purchase - My Inquiries",description:"",isSageApplication:!0,iconName:"sagepurchaseinquiries",$homeDashboard:{$uuid:"$purchaseMyInquiriesDashboard",dashboardName:"$purchaseMyInquiriesDashboard"}},$dashboards:{},$gadgets:{}};t.register=function(){s.addToApp(o,i),r.registerApp(o)}}),define("syracuse-tablet/html/js/demos/myExpenses/dashExpenses",["require","exports","module"],function(e,t,n){"use strict";t.dashboards={$expensesDashboard:{$dashboardName:"$expensesDashboard",$title:"Expenses Dashboard",$description:"",$vignettes:{$x3expensesList:{$uuid:"$x3expensesList",$displayStyle:"$full"},$x3expensesNotApproved:{$uuid:"$x3expensesNotApproved",$displayStyle:"$full"},$x3expensesCreate:{$uuid:"$x3expensesCreate",$displayStyle:"$link"}},$article:{$layoutType:"hub",$items:[{$layoutType:"hubGroup",$title:"Expenses",$items:[{$layoutType:"tile",$title:"",$size:"medium",$items:[{$bind:"$x3expensesCreate"}]}]},{$layoutType:"hubGroup",$title:"Expenses List",$items:[{$layoutType:"tile",$title:"Expenses list",$size:"full",$items:[{$bind:"$x3expensesList",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$display:"card",$article:{$items:[{$bind:"CLB_REF"},{$bind:"DATEXS"},{$bind:"CODEXP_REF"},{$bind:"AMTPAY"},{$bind:"CUR_REF"}]}}]}}]}]},{$layoutType:"hubGroup",$title:"Expenses Not Approved",$items:[{$layoutType:"tile",$title:"Expenses Not Approved",$size:"all",$items:[{$bind:"$x3expensesNotApproved",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$display:"table",$article:{$items:[{$bind:"CLB_REF"},{$bind:"DATEXS"},{$bind:"CODEXP_REF"},{$bind:"AMTPAY"},{$bind:"CUR_REF"}]}}]}}]}]}]}}},t.gadgets={$x3expensesList:{$type:"$representation",$title:"Query facet",entity:"EXPENSES",endpoint:"x3.erp.GX3APP",action:"$query",representation:"EXPENCNSM",facet:"$query",icon:"sageexpensesall"},$x3expensesNotApproved:{$type:"$representation",$title:"Query facet",entity:"EXPENSES",endpoint:"x3.erp.GX3APP",action:"$query",representation:"EXPENENTM",facet:"$query",icon:"sageexpensesnotapproved"},$x3expensesCreate:{$type:"$representation",$title:"Create expense",entity:"EXPENSES",endpoint:"x3.erp.GX3APP",action:"$create",representation:"EXPENENTM",facet:"$create",icon:"sageexpensescreate"}}}),define("syracuse-tablet/html/js/demos/myExpenses/main",["require","exports","module","syracuse-tablet/html/js/sdata/entities/clientContract","syracuse-tablet/html/js/demos/myExpenses/dashExpenses","syracuse-tablet/html/js/demos/utils"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/sdata/entities/clientContract"),i=e("syracuse-tablet/html/js/demos/myExpenses/dashExpenses"),s=e("syracuse-tablet/html/js/demos/utils"),o={$application:{$uuid:"$demoExpenses",applicationName:"sageexpenses",title:"My Expenses",isSageApplication:!0,description:"",iconName:"sageexpenses",$homeDashboard:{$uuid:"$expensesDashboard",dashboardName:"$expensesDashboard"}},$dashboards:{},$gadgets:{}};t.register=function(){s.addToApp(o,i),r.registerApp(o)}}),define("syracuse-tablet/html/js/demos/fixedAssets/dashFixedAssets",["require","exports","module"],function(e,t,n){"use strict";t.dashboards={$fixedassetsDashboard:{$dashboardName:"$fixedassetsDashboard",$title:"Fixed Assets Dashboard",$description:"",$vignettes:{$x3fixedassetsList:{$uuid:"$x3fixedassetsList",$displayStyle:"$full"},$x3LocationList:{$uuid:"$x3LocationList",$displayStyle:"$full"},$x3FixedAssetCreate:{$uuid:"$x3FixedAssetCreate",$displayStyle:"$link"},$x3LocationCreate:{$uuid:"$x3LocationCreate",$displayStyle:"$link"}},$article:{$layoutType:"hub",$items:[{$layoutType:"hubGroup",$title:"Create",$items:[{$layoutType:"tile",$title:"",$size:"medium",$items:[{$bind:"$x3FixedAssetCreate"}]},{$layoutType:"tile",$title:"",$size:"medium",$items:[{$bind:"$x3LocationCreate"}]}]},{$layoutType:"hubGroup",$title:"Queries",$items:[{$layoutType:"tile",$title:"Physical Assets - List",$size:"all",$items:[{$bind:"$x3fixedassetsList",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$display:"card",$cardsPerRow:3,$card:{$items:[{$bind:"LCTCOD_REF"},{$bind:"PHYDES1"},{$bind:"PHYREF"},{$bind:"BAC"},{$bind:"PHOTO"}]}}]}}]},{$layoutType:"tile",$title:"Locations - List",$size:"all",$items:[{$bind:"$x3LocationList",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$display:"card",$cardsPerRow:3,$card:{$layoutType:"stack",$items:[{$bind:"BUICOD_REF"},{$bind:"LCTDES"},{$bind:"LCTCOD"},{$bind:"FLOOR"},{$bind:"BAC"},{$bind:"PHOTO"}]}}]}}]}]}]}}},t.gadgets={$x3fixedassetsList:{$type:"$representation",$title:"Query facet",entity:"PHYELT",endpoint:"x3.erp.GX3APP",action:"$query",representation:"PHYELTM",facet:"$query",icon:"sagefaphysquery"},$x3LocationList:{$type:"$representation",$title:"Query facet",entity:"PHYLCT",endpoint:"x3.erp.GX3APP",action:"$query",representation:"PHYLCTM",facet:"$query",icon:"sagefalocquery"},$x3FixedAssetCreate:{$type:"$representation",$title:"Create Fixed Asset",entity:"PHYELT",endpoint:"x3.erp.GX3APP",action:"$create",representation:"PHYELTM",facet:"$create",icon:"sagefaphyscreate"},$x3LocationCreate:{$type:"$representation",$title:"Create Location",entity:"PHYLCT",endpoint:"x3.erp.GX3APP",action:"$create",representation:"PHYLCTM",facet:"$create",icon:"sagefaloccreate"}}}),define("syracuse-tablet/html/js/demos/fixedAssets/main",["require","exports","module","syracuse-tablet/html/js/sdata/entities/clientContract","syracuse-tablet/html/js/demos/fixedAssets/dashFixedAssets","syracuse-tablet/html/js/demos/utils"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/sdata/entities/clientContract"),i=e("syracuse-tablet/html/js/demos/fixedAssets/dashFixedAssets"),s=e("syracuse-tablet/html/js/demos/utils"),o={$application:{$uuid:"$demoFixedassets",applicationName:"PHYELT_MOBILE",title:"Fixed Assets",isSageApplication:!0,description:"",iconName:"sagefixedassets",$homeDashboard:{$uuid:"$fixedassetsDashboard",dashboardName:"$fixedassetsDashboard"}},$dashboards:{},$gadgets:{}};t.register=function(){s.addToApp(o,i),r.registerApp(o)}}),define("syracuse-tablet/html/js/demos/availableStock/dashStock",["require","exports","module"],function(e,t,n){"use strict";t.dashboards={$stockDashboard:{$dashboardName:"$stockDashboard",$title:"Available Stock Dashboard",$description:"",$vignettes:{$x3stockInquiry:{$uuid:"$x3stockInquiry",$displayStyle:"$link"}},$article:{$layoutType:"hub",$items:[{$layoutType:"hubGroup",$title:"Available Stock",$items:[{$layoutType:"tile",$title:"Available Stock",$size:"medium",$items:[{$bind:"$x3stockInquiry"}]}]}]}}},t.gadgets={$x3stockInquiry:{$type:"$representation",$title:"Stock inquiry",entity:"STKCNSSDI",endpoint:"x3.erp.GX3APP",action:"$create",representation:"STKCNSSDIM",facet:"$create",icon:"sagestockinquiry"}}}),define("syracuse-tablet/html/js/demos/availableStock/main",["require","exports","module","syracuse-tablet/html/js/sdata/entities/clientContract","syracuse-tablet/html/js/demos/availableStock/dashStock","syracuse-tablet/html/js/demos/utils"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/sdata/entities/clientContract"),i=e("syracuse-tablet/html/js/demos/availableStock/dashStock"),s=e("syracuse-tablet/html/js/demos/utils"),o={$application:{$uuid:"$demoStock",applicationName:"sageavailablestock",title:"Available Stock",isSageApplication:!0,description:"",iconName:"sageavailablestock",$homeDashboard:{$uuid:"$stockDashboard",dashboardName:"$stockDashboard"}},$dashboards:{},$gadgets:{}};t.register=function(){s.addToApp(o,i),r.registerApp(o)}}),define("syracuse-tablet/html/js/demos/main",["require","exports","module","syracuse-tablet/html/js/demos/salesMyCustomers/main","syracuse-tablet/html/js/demos/salesMyInquiries/main","syracuse-tablet/html/js/demos/salesMyActions/main","syracuse-tablet/html/js/demos/purchaseMyActions/main","syracuse-tablet/html/js/demos/purchaseMyInquiries/main","syracuse-tablet/html/js/demos/myExpenses/main","syracuse-tablet/html/js/demos/fixedAssets/main","syracuse-tablet/html/js/demos/availableStock/main"],function(e,t,n){"use strict";var r={salesMyCustomers:e("syracuse-tablet/html/js/demos/salesMyCustomers/main"),salesMyInquiries:e("syracuse-tablet/html/js/demos/salesMyInquiries/main"),salesMyActions:e("syracuse-tablet/html/js/demos/salesMyActions/main"),purchaseMyActions:e("syracuse-tablet/html/js/demos/purchaseMyActions/main"),purchaseMyInquiries:e("syracuse-tablet/html/js/demos/purchaseMyInquiries/main"),myExpenses:e("syracuse-tablet/html/js/demos/myExpenses/main"),fixedAssets:e("syracuse-tablet/html/js/demos/fixedAssets/main"),availableStock:e("syracuse-tablet/html/js/demos/availableStock/main")};t.init=function(){for(var e in r)try{r[e].register()}catch(t){console.error("!!Error registering demo["+e+"]",t.stack)}}}),define("syracuse-tablet/html/js/init/initModules",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/application/appFactory","syracuse-tablet/html/js/application/appFactoryDeps","syracuse-tablet/html/js/controls/ctrlFactoryDeps","syracuse-tablet/html/js/ajax/ajax","syracuse-tablet/html/js/storage/storage","syracuse-tablet/html/js/sdata/sdataCache","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/ui/modals/modal","syracuse-tablet/html/js/helpers/siteLayout","syracuse-tablet/html/js/application/metaData","syracuse-tablet/html/js/ui/developmentPage","syracuse-tablet/html/js/helpers/uiSettings","syracuse-tablet/html/js/sdata/entities/test/testApplication","syracuse-tablet/html/js/sdata/entities/welcomeApplication","syracuse-tablet/html/js/demos/main"],function(e,t,n){"use strict";function E(){i.isDvlpMode()&&m.wasActive()&&m.show()}var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/globals"),s=e("syracuse-tablet/html/js/helpers/locale"),o=e("syracuse-tablet/html/js/application/appFactory"),u=e("syracuse-tablet/html/js/application/appFactoryDeps"),a=e("syracuse-tablet/html/js/controls/ctrlFactoryDeps"),f=e("syracuse-tablet/html/js/ajax/ajax"),l=e("syracuse-tablet/html/js/storage/storage"),c=e("syracuse-tablet/html/js/sdata/sdataCache"),h=e("syracuse-tablet/html/js/ui/uiUtils"),p=e("syracuse-tablet/html/js/ui/modals/modal"),d=e("syracuse-tablet/html/js/helpers/siteLayout"),v=e("syracuse-tablet/html/js/application/metaData"),m=e("syracuse-tablet/html/js/ui/developmentPage"),g=e("syracuse-tablet/html/js/helpers/uiSettings"),y=e("syracuse-tablet/html/js/sdata/entities/test/testApplication"),b=e("syracuse-tablet/html/js/sdata/entities/welcomeApplication"),w=e("syracuse-tablet/html/js/demos/main");t.init=function(){var e,t,n=new $.Deferred;return g.init(),i.setSiteLayout(d),e=l.getStorage(),e.init().then(function(){t=new c.SDataCache(e)}).then(function(){var n=window.location.href.indexOf("/index_debug.html")>-1||window.location.href.indexOf("/index_joined.html")>-1;i.init(n,e,t,r),i.setMetaData(v)}).then(function(){return u.init()}).then(function(){return a.init()}).then(function(){f.init({},s)}).then(function(){b.register(),w.init()}).then(function(){i.isDvlpMode()&&y.register()}).then(function(){var e=o.createApplication($("#s-m-app-id"));i.setTabletApplication(e),i.setModal(p)}).then(function(){E()}).then(function(){h.triggerResizeInternal()}).then(function(){n.resolve()}).fail(function(e){n.reject(e)}),n.promise()}}),define("syracuse-tablet/html/js/init/initLogin",["require","exports","module","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/application/authentication","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/ui/modals/modal","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/notifications","syracuse-tablet/html/js/sdata/sdataCommonResources","syracuse-tablet/html/js/application/settings","syracuse-tablet/html/js/init/initContext"],function(e,t,n){"use strict";var r=e("syracuse-tablet/html/js/ui/uiUtils"),i=e("syracuse-tablet/html/js/application/authentication"),s=e("syracuse-tablet/html/js/helpers/locale"),o=e("syracuse-tablet/html/js/ui/modals/modal"),u=e("syracuse-tablet/html/js/helpers/globals"),a=e("syracuse-tablet/html/js/helpers/notifications"),f=e("syracuse-tablet/html/js/sdata/sdataCommonResources"),l=e("syracuse-tablet/html/js/application/settings"),c=e("syracuse-tablet/html/js/init/initContext"),h=function(e){u.getApplication().gotoLogin(e)},p={notifLogin:function(e,t){$.smResolve().then(function(){var t={$user:e.user.$value,$role:e.selectedRole.code,$lang:e.selectedLocale.code};u.setUserCtx(t),u.setUserProfile(e),s.setUserLocales(e&&e.user&&e.user.locales)}).then(function(){return c.init(!1,!1)}).then(function(){return l.setLastUserProfile(e)}).then(function(){t&&t.resolve()}).fail(function(e){t?t.reject(e):o.error("notifLogin failed",e)})}};t.init=function(){a.subscribe(p,["sm.login"],1);try{return r.waitWheelStart(),i.check().then(function(e){return e.authenticated===!0?f.getUserProfile():null}).then(function(e){return r.waitWheelStop(),e?a.publish("sm.login",e):h(),$.smResolve()}).fail(function(e){r.waitWheelStop(),i.logout().then(function(){h("Please try login again")}).fail(function(e){o.error("exports.init failed",e)})})}catch(e){return h("Javascript exception"),$.smResolve()}}}),function(e,t){typeof define=="function"&&define.amd?define("syracuse-tablet/html/deps/handlebars-latest",[],t):typeof exports=="object"?module.exports=t():e.Handlebars=e.Handlebars||t()}(this,function(){var e=function(){"use strict";function t(e){this.string=e}var e;return t.prototype.toString=function(){return""+this.string},e=t,e}(),t=function(e){"use strict";function o(e){return r[e]}function u(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}function c(e){return e instanceof n?e.toString():e==null?"":e?(e=""+e,s.test(e)?e.replace(i,o):e):e+""}function h(e){return!e&&e!==0?!0:l(e)&&e.length===0?!0:!1}function p(e,t){return(e?e+".":"")+t}var t={},n=e,r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/[&<>"'`]/g,s=/[&<>"'`]/;t.extend=u;var a=Object.prototype.toString;t.toString=a;var f=function(e){return typeof e=="function"};f(/x/)&&(f=function(e){return typeof e=="function"&&a.call(e)==="[object Function]"});var f;t.isFunction=f;var l=Array.isArray||function(e){return e&&typeof e=="object"?a.call(e)==="[object Array]":!1};return t.isArray=l,t.escapeExpression=c,t.isEmpty=h,t.appendContextPath=p,t}(e),n=function(){"use strict";function n(e,n){var r;n&&n.firstLine&&(r=n.firstLine,e+=" - "+r+":"+n.firstColumn);var i=Error.prototype.constructor.call(this,e);for(var s=0;s<t.length;s++)this[t[s]]=i[t[s]];r&&(this.lineNumber=r,this.column=n.firstColumn)}var e,t=["description","fileName","lineNumber","message","name","number","stack"];return n.prototype=new Error,e=n,e}(),r=function(e,t){"use strict";function h(e,t){this.helpers=e||{},this.partials=t||{},p(this)}function p(e){e.registerHelper("helperMissing",function(){if(arguments.length===1)return undefined;throw new i("Missing helper: '"+arguments[arguments.length-1].name+"'")}),e.registerHelper("blockHelperMissing",function(t,n){var i=n.inverse,s=n.fn;if(t===!0)return s(this);if(t===!1||t==null)return i(this);if(a(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):i(this);if(n.data&&n.ids){var o=m(n.data);o.contextPath=r.appendContextPath(n.data.contextPath,n.name),n={data:o}}return s(t,n)}),e.registerHelper("each",function(e,t){if(!t)throw new i("Must pass iterator to #each");var n=t.fn,s=t.inverse,o=0,u="",l,c;t.data&&t.ids&&(c=r.appendContextPath(t.data.contextPath,t.ids[0])+"."),f(e)&&(e=e.call(this)),t.data&&(l=m(t.data));if(e&&typeof e=="object")if(a(e))for(var h=e.length;o<h;o++)l&&(l.index=o,l.first=o===0,l.last=o===e.length-1,c&&(l.contextPath=c+o)),u+=n(e[o],{data:l});else for(var p in e)e.hasOwnProperty(p)&&(l&&(l.key=p,l.index=o,l.first=o===0,c&&(l.contextPath=c+p)),u+=n(e[p],{data:l}),o++);return o===0&&(u=s(this)),u}),e.registerHelper("if",function(e,t){return f(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||r.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})}),e.registerHelper("with",function(e,t){f(e)&&(e=e.call(this));var n=t.fn;if(!r.isEmpty(e)){if(t.data&&t.ids){var i=m(t.data);i.contextPath=r.appendContextPath(t.data.contextPath,t.ids[0]),t={data:i}}return n(e,t)}return t.inverse(this)}),e.registerHelper("log",function(t,n){var r=n.data&&n.data.level!=null?parseInt(n.data.level,10):1;e.log(r,t)}),e.registerHelper("lookup",function(e,t){return e&&e[t]})}var n={},r=e,i=t,s="2.0.0";n.VERSION=s;var o=6;n.COMPILER_REVISION=o;var u={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1"};n.REVISION_CHANGES=u;var a=r.isArray,f=r.isFunction,l=r.toString,c="[object Object]";n.HandlebarsEnvironment=h,h.prototype={constructor:h,logger:d,log:v,registerHelper:function(e,t){if(l.call(e)===c){if(t)throw new i("Arg not supported with multiple helpers");r.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){l.call(e)===c?r.extend(this.partials,e):this.partials[e]=t},unregisterPartial:function(e){delete this.partials[e]}};var d={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(e,t){if(d.level<=e){var n=d.methodMap[e];typeof console!="undefined"&&console[n]&&console[n].call(console,t)}}};n.logger=d;var v=d.log;n.log=v;var m=function(e){var t=r.extend({},e);return t._parent=e,t};return n.createFrame=m,n}(t,n),i=function(e,t,n){"use strict";function f(e){var t=e&&e[0]||1,n=o;if(t!==n){if(t<n){var r=u[n],i=u[t];throw new s("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+i+").")}throw new s("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function l(e,t){if(!t)throw new s("No environment passed to template");if(!e||!e.main)throw new s("Unknown template object: "+typeof e);t.VM.checkRevision(e.compiler);var n=function(n,r,o,u,a,f,l,c,h){a&&(u=i.extend({},u,a));var p=t.VM.invokePartial.call(this,n,o,u,f,l,c,h);if(p==null&&t.compile){var d={helpers:f,partials:l,data:c,depths:h};l[o]=t.compile(n,{data:c!==undefined,compat:e.compat},t),p=l[o](u,d)}if(p!=null){if(r){var v=p.split("\n");for(var m=0,g=v.length;m<g;m++){if(!v[m]&&m+1===g)break;v[m]=r+v[m]}p=v.join("\n")}return p}throw new s("The partial "+o+" could not be compiled when running in runtime-only mode")},r={lookup:function(e,t){var n=e.length;for(var r=0;r<n;r++)if(e[r]&&e[r][t]!=null)return e[r][t]},lambda:function(e,t){return typeof e=="function"?e.call(t):e},escapeExpression:i.escapeExpression,invokePartial:n,fn:function(t){return e[t]},programs:[],program:function(e,t,n){var r=this.programs[e],i=this.fn(e);return t||n?r=c(this,e,i,t,n):r||(r=this.programs[e]=c(this,e,i)),r},data:function(e,t){while(e&&t--)e=e._parent;return e},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=i.extend({},t,e)),n},noop:t.VM.noop,compilerInfo:e.compiler},o=function(t,n){n=n||{};var i=n.data;o._setup(n),!n.partial&&e.useData&&(i=d(t,i));var s;return e.useDepths&&(s=n.depths?[t].concat(n.depths):[t]),e.main.call(r,t,r.helpers,r.partials,i,s)};return o.isTop=!0,o._setup=function(n){n.partial?(r.helpers=n.helpers,r.partials=n.partials):(r.helpers=r.merge(n.helpers,t.helpers),e.usePartial&&(r.partials=r.merge(n.partials,t.partials)))},o._child=function(t,n,i){if(e.useDepths&&!i)throw new s("must pass parent depths");return c(r,t,e[t],n,i)},o}function c(e,t,n,r,i){var s=function(t,s){return s=s||{},n.call(e,t,e.helpers,e.partials,s.data||r,i&&[t].concat(i))};return s.program=t,s.depth=i?i.length:0,s}function h(e,t,n,r,i,o,u){var a={partial:!0,helpers:r,partials:i,data:o,depths:u};if(e===undefined)throw new s("The partial "+t+" could not be found");if(e instanceof Function)return e(n,a)}function p(){return""}function d(e,t){if(!t||!("root"in t))t=t?a(t):{},t.root=e;return t}var r={},i=e,s=t,o=n.COMPILER_REVISION,u=n.REVISION_CHANGES,a=n.createFrame;return r.checkRevision=f,r.template=l,r.program=c,r.invokePartial=h,r.noop=p,r}(t,n,r),s=function(e,t,n,r,i){"use strict";var s,o=e,u=t,a=n,f=r,l=i,c=function(){var e=new o.HandlebarsEnvironment;return f.extend(e,o),e.SafeString=u,e.Exception=a,e.Utils=f,e.escapeExpression=f.escapeExpression,e.VM=l,e.template=function(t){return l.template(t,e)},e},h=c();return h.create=c,h["default"]=h,s=h,s}(r,e,n,t,i),o=function(e){"use strict";function r(e){e=e||{},this.firstLine=e.first_line,this.firstColumn=e.first_column,this.lastColumn=e.last_column,this.lastLine=e.last_line}var t,n=e,i={ProgramNode:function(e,t,n){r.call(this,n),this.type="program",this.statements=e,this.strip=t},MustacheNode:function(e,t,n,s,o){r.call(this,o),this.type="mustache",this.strip=s;if(n!=null&&n.charAt){var u=n.charAt(3)||n.charAt(2);this.escaped=u!=="{"&&u!=="&"}else this.escaped=!!n;e instanceof i.SexprNode?this.sexpr=e:this.sexpr=new i.SexprNode(e,t),this.id=this.sexpr.id,this.params=this.sexpr.params,this.hash=this.sexpr.hash,this.eligibleHelper=this.sexpr.eligibleHelper,this.isHelper=this.sexpr.isHelper},SexprNode:function(e,t,n){r.call(this,n),this.type="sexpr",this.hash=t;var i=this.id=e[0],s=this.params=e.slice(1);this.isHelper=!!s.length||!!t,this.eligibleHelper=this.isHelper||i.isSimple},PartialNode:function(e,t,n,i,s){r.call(this,s),this.type="partial",this.partialName=e,this.context=t,this.hash=n,this.strip=i,this.strip.inlineStandalone=!0},BlockNode:function(e,t,n,i,s){r.call(this,s),this.type="block",this.mustache=e,this.program=t,this.inverse=n,this.strip=i,n&&!t&&(this.isInverse=!0)},RawBlockNode:function(e,t,s,o){r.call(this,o);if(e.sexpr.id.original!==s)throw new n(e.sexpr.id.original+" doesn't match "+s,this);t=new i.ContentNode(t,o),this.type="block",this.mustache=e,this.program=new i.ProgramNode([t],{},o)},ContentNode:function(e,t){r.call(this,t),this.type="content",this.original=this.string=e},HashNode:function(e,t){r.call(this,t),this.type="hash",this.pairs=e},IdNode:function(e,t){r.call(this,t),this.type="ID";var i="",s=[],o=0,u="";for(var a=0,f=e.length;a<f;a++){var l=e[a].part;i+=(e[a].separator||"")+l;if(l===".."||l==="."||l==="this"){if(s.length>0)throw new n("Invalid path: "+i,this);l===".."?(o++,u+="../"):this.isScoped=!0}else s.push(l)}this.original=i,this.parts=s,this.string=s.join("."),this.depth=o,this.idName=u+this.string,this.isSimple=e.length===1&&!this.isScoped&&o===0,this.stringModeValue=this.string},PartialNameNode:function(e,t){r.call(this,t),this.type="PARTIAL_NAME",this.name=e.original},DataNode:function(e,t){r.call(this,t),this.type="DATA",this.id=e,this.stringModeValue=e.stringModeValue,this.idName="@"+e.stringModeValue},StringNode:function(e,t){r.call(this,t),this.type="STRING",this.original=this.string=this.stringModeValue=e},NumberNode:function(e,t){r.call(this,t),this.type="NUMBER",this.original=this.number=e,this.stringModeValue=Number(e)},BooleanNode:function(e,t){r.call(this,t),this.type="BOOLEAN",this.bool=e,this.stringModeValue=e==="true"},CommentNode:function(e,t){r.call(this,t),this.type="comment",this.comment=e,this.strip={inlineStandalone:!0}}};return t=i,t}(n),u=function(){"use strict";var e,t=function(){function n(){this.yy={}}var e={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,CONTENT:12,COMMENT:13,openRawBlock:14,END_RAW_BLOCK:15,OPEN_RAW_BLOCK:16,sexpr:17,CLOSE_RAW_BLOCK:18,openBlock:19,block_option0:20,closeBlock:21,openInverse:22,block_option1:23,OPEN_BLOCK:24,CLOSE:25,OPEN_INVERSE:26,inverseAndProgram:27,INVERSE:28,OPEN_ENDBLOCK:29,path:30,OPEN:31,OPEN_UNESCAPED:32,CLOSE_UNESCAPED:33,OPEN_PARTIAL:34,partialName:35,param:36,partial_option0:37,partial_option1:38,sexpr_repetition0:39,sexpr_option0:40,dataName:41,STRING:42,NUMBER:43,BOOLEAN:44,OPEN_SEXPR:45,CLOSE_SEXPR:46,hash:47,hash_repetition_plus0:48,hashSegment:49,ID:50,EQUALS:51,DATA:52,pathSegments:53,SEP:54,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",12:"CONTENT",13:"COMMENT",15:"END_RAW_BLOCK",16:"OPEN_RAW_BLOCK",18:"CLOSE_RAW_BLOCK",24:"OPEN_BLOCK",25:"CLOSE",26:"OPEN_INVERSE",28:"INVERSE",29:"OPEN_ENDBLOCK",31:"OPEN",32:"OPEN_UNESCAPED",33:"CLOSE_UNESCAPED",34:"OPEN_PARTIAL",42:"STRING",43:"NUMBER",44:"BOOLEAN",45:"OPEN_SEXPR",46:"CLOSE_SEXPR",50:"ID",51:"EQUALS",52:"DATA",54:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[10,3],[14,3],[9,4],[9,4],[19,3],[22,3],[27,2],[21,3],[8,3],[8,3],[11,5],[11,4],[17,3],[17,1],[36,1],[36,1],[36,1],[36,1],[36,1],[36,3],[47,1],[49,3],[35,1],[35,1],[35,1],[41,2],[30,1],[53,3],[53,1],[6,0],[6,2],[20,0],[20,1],[23,0],[23,1],[37,0],[37,1],[38,0],[38,1],[39,0],[39,2],[40,0],[40,1],[48,1],[48,2]],performAction:function(t,n,r,i,s,o,u){var a=o.length-1;switch(s){case 1:return i.prepareProgram(o[a-1].statements,!0),o[a-1];case 2:this.$=new i.ProgramNode(i.prepareProgram(o[a]),{},this._$);break;case 3:this.$=o[a];break;case 4:this.$=o[a];break;case 5:this.$=o[a];break;case 6:this.$=o[a];break;case 7:this.$=new i.ContentNode(o[a],this._$);break;case 8:this.$=new i.CommentNode(o[a],this._$);break;case 9:this.$=new i.RawBlockNode(o[a-2],o[a-1],o[a],this._$);break;case 10:this.$=new i.MustacheNode(o[a-1],null,"","",this._$);break;case 11:this.$=i.prepareBlock(o[a-3],o[a-2],o[a-1],o[a],!1,this._$);break;case 12:this.$=i.prepareBlock(o[a-3],o[a-2],o[a-1],o[a],!0,this._$);break;case 13:this.$=new i.MustacheNode(o[a-1],null,o[a-2],i.stripFlags(o[a-2],o[a]),this._$);break;case 14:this.$=new i.MustacheNode(o[a-1],null,o[a-2],i.stripFlags(o[a-2],o[a]),this._$);break;case 15:this.$={strip:i.stripFlags(o[a-1],o[a-1]),program:o[a]};break;case 16:this.$={path:o[a-1],strip:i.stripFlags(o[a-2],o[a])};break;case 17:this.$=new i.MustacheNode(o[a-1],null,o[a-2],i.stripFlags(o[a-2],o[a]),this._$);break;case 18:this.$=new i.MustacheNode(o[a-1],null,o[a-2],i.stripFlags(o[a-2],o[a]),this._$);break;case 19:this.$=new i.PartialNode(o[a-3],o[a-2],o[a-1],i.stripFlags(o[a-4],o[a]),this._$);break;case 20:this.$=new i.PartialNode(o[a-2],undefined,o[a-1],i.stripFlags(o[a-3],o[a]),this._$);break;case 21:this.$=new i.SexprNode([o[a-2]].concat(o[a-1]),o[a],this._$);break;case 22:this.$=new i.SexprNode([o[a]],null,this._$);break;case 23:this.$=o[a];break;case 24:this.$=new i.StringNode(o[a],this._$);break;case 25:this.$=new i.NumberNode(o[a],this._$);break;case 26:this.$=new i.BooleanNode(o[a],this._$);break;case 27:this.$=o[a];break;case 28:o[a-1].isHelper=!0,this.$=o[a-1];break;case 29:this.$=new i.HashNode(o[a],this._$);break;case 30:this.$=[o[a-2],o[a]];break;case 31:this.$=new i.PartialNameNode(o[a],this._$);break;case 32:this.$=new i.PartialNameNode(new i.StringNode(o[a],this._$),this._$);break;case 33:this.$=new i.PartialNameNode(new i.NumberNode(o[a],this._$));break;case 34:this.$=new i.DataNode(o[a],this._$);break;case 35:this.$=new i.IdNode(o[a],this._$);break;case 36:o[a-2].push({part:o[a],separator:o[a-1]}),this.$=o[a-2];break;case 37:this.$=[{part:o[a]}];break;case 38:this.$=[];break;case 39:o[a-1].push(o[a]);break;case 48:this.$=[];break;case 49:o[a-1].push(o[a]);break;case 52:this.$=[o[a]];break;case 53:o[a-1].push(o[a])}},table:[{3:1,4:2,5:[2,38],6:3,12:[2,38],13:[2,38],16:[2,38],24:[2,38],26:[2,38],31:[2,38],32:[2,38],34:[2,38]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:[1,10],13:[1,11],14:16,16:[1,20],19:14,22:15,24:[1,18],26:[1,19],28:[2,2],29:[2,2],31:[1,12],32:[1,13],34:[1,17]},{1:[2,1]},{5:[2,39],12:[2,39],13:[2,39],16:[2,39],24:[2,39],26:[2,39],28:[2,39],29:[2,39],31:[2,39],32:[2,39],34:[2,39]},{5:[2,3],12:[2,3],13:[2,3],16:[2,3],24:[2,3],26:[2,3],28:[2,3],29:[2,3],31:[2,3],32:[2,3],34:[2,3]},{5:[2,4],12:[2,4],13:[2,4],16:[2,4],24:[2,4],26:[2,4],28:[2,4],29:[2,4],31:[2,4],32:[2,4],34:[2,4]},{5:[2,5],12:[2,5],13:[2,5],16:[2,5],24:[2,5],26:[2,5],28:[2,5],29:[2,5],31:[2,5],32:[2,5],34:[2,5]},{5:[2,6],12:[2,6],13:[2,6],16:[2,6],24:[2,6],26:[2,6],28:[2,6],29:[2,6],31:[2,6],32:[2,6],34:[2,6]},{5:[2,7],12:[2,7],13:[2,7],16:[2,7],24:[2,7],26:[2,7],28:[2,7],29:[2,7],31:[2,7],32:[2,7],34:[2,7]},{5:[2,8],12:[2,8],13:[2,8],16:[2,8],24:[2,8],26:[2,8],28:[2,8],29:[2,8],31:[2,8],32:[2,8],34:[2,8]},{17:21,30:22,41:23,50:[1,26],52:[1,25],53:24},{17:27,30:22,41:23,50:[1,26],52:[1,25],53:24},{4:28,6:3,12:[2,38],13:[2,38],16:[2,38],24:[2,38],26:[2,38],28:[2,38],29:[2,38],31:[2,38],32:[2,38],34:[2,38]},{4:29,6:3,12:[2,38],13:[2,38],16:[2,38],24:[2,38],26:[2,38],28:[2,38],29:[2,38],31:[2,38],32:[2,38],34:[2,38]},{12:[1,30]},{30:32,35:31,42:[1,33],43:[1,34],50:[1,26],53:24},{17:35,30:22,41:23,50:[1,26],52:[1,25],53:24},{17:36,30:22,41:23,50:[1,26],52:[1,25],53:24},{17:37,30:22,41:23,50:[1,26],52:[1,25],53:24},{25:[1,38]},{18:[2,48],25:[2,48],33:[2,48],39:39,42:[2,48],43:[2,48],44:[2,48],45:[2,48],46:[2,48],50:[2,48],52:[2,48]},{18:[2,22],25:[2,22],33:[2,22],46:[2,22]},{18:[2,35],25:[2,35],33:[2,35],42:[2,35],43:[2,35],44:[2,35],45:[2,35],46:[2,35],50:[2,35],52:[2,35],54:[1,40]},{30:41,50:[1,26],53:24},{18:[2,37],25:[2,37],33:[2,37],42:[2,37],43:[2,37],44:[2,37],45:[2,37],46:[2,37],50:[2,37],52:[2,37],54:[2,37]},{33:[1,42]},{20:43,27:44,28:[1,45],29:[2,40]},{23:46,27:47,28:[1,45],29:[2,42]},{15:[1,48]},{25:[2,46],30:51,36:49,38:50,41:55,42:[1,52],43:[1,53],44:[1,54],45:[1,56],47:57,48:58,49:60,50:[1,59],52:[1,25],53:24},{25:[2,31],42:[2,31],43:[2,31],44:[2,31],45:[2,31],50:[2,31],52:[2,31]},{25:[2,32],42:[2,32],43:[2,32],44:[2,32],45:[2,32],50:[2,32],52:[2,32]},{25:[2,33],42:[2,33],43:[2,33],44:[2,33],45:[2,33],50:[2,33],52:[2,33]},{25:[1,61]},{25:[1,62]},{18:[1,63]},{5:[2,17],12:[2,17],13:[2,17],16:[2,17],24:[2,17],26:[2,17],28:[2,17],29:[2,17],31:[2,17],32:[2,17],34:[2,17]},{18:[2,50],25:[2,50],30:51,33:[2,50],36:65,40:64,41:55,42:[1,52],43:[1,53],44:[1,54],45:[1,56],46:[2,50],47:66,48:58,49:60,50:[1,59],52:[1,25],53:24},{50:[1,67]},{18:[2,34],25:[2,34],33:[2,34],42:[2,34],43:[2,34],44:[2,34],45:[2,34],46:[2,34],50:[2,34],52:[2,34]},{5:[2,18],12:[2,18],13:[2,18],16:[2,18],24:[2,18],26:[2,18],28:[2,18],29:[2,18],31:[2,18],32:[2,18],34:[2,18]},{21:68,29:[1,69]},{29:[2,41]},{4:70,6:3,12:[2,38],13:[2,38],16:[2,38],24:[2,38],26:[2,38],29:[2,38],31:[2,38],32:[2,38],34:[2,38]},{21:71,29:[1,69]},{29:[2,43]},{5:[2,9],12:[2,9],13:[2,9],16:[2,9],24:[2,9],26:[2,9],28:[2,9],29:[2,9],31:[2,9],32:[2,9],34:[2,9]},{25:[2,44],37:72,47:73,48:58,49:60,50:[1,74]},{25:[1,75]},{18:[2,23],25:[2,23],33:[2,23],42:[2,23],43:[2,23],44:[2,23],45:[2,23],46:[2,23],50:[2,23],52:[2,23]},{18:[2,24],25:[2,24],33:[2,24],42:[2,24],43:[2,24],44:[2,24],45:[2,24],46:[2,24],50:[2,24],52:[2,24]},{18:[2,25],25:[2,25],33:[2,25],42:[2,25],43:[2,25],44:[2,25],45:[2,25],46:[2,25],50:[2,25],52:[2,25]},{18:[2,26],25:[2,26],33:[2,26],42:[2,26],43:[2,26],44:[2,26],45:[2,26],46:[2,26],50:[2,26],52:[2,26]},{18:[2,27],25:[2,27],33:[2,27],42:[2,27],43:[2,27],44:[2,27],45:[2,27],46:[2,27],50:[2,27],52:[2,27]},{17:76,30:22,41:23,50:[1,26],52:[1,25],53:24},{25:[2,47]},{18:[2,29],25:[2,29],33:[2,29],46:[2,29],49:77,50:[1,74]},{18:[2,37],25:[2,37],33:[2,37],42:[2,37],43:[2,37],44:[2,37],45:[2,37],46:[2,37],50:[2,37],51:[1,78],52:[2,37],54:[2,37]},{18:[2,52],25:[2,52],33:[2,52],46:[2,52],50:[2,52]},{12:[2,13],13:[2,13],16:[2,13],24:[2,13],26:[2,13],28:[2,13],29:[2,13],31:[2,13],32:[2,13],34:[2,13]},{12:[2,14],13:[2,14],16:[2,14],24:[2,14],26:[2,14],28:[2,14],29:[2,14],31:[2,14],32:[2,14],34:[2,14]},{12:[2,10]},{18:[2,21],25:[2,21],33:[2,21],46:[2,21]},{18:[2,49],25:[2,49],33:[2,49],42:[2,49],43:[2,49],44:[2,49],45:[2,49],46:[2,49],50:[2,49],52:[2,49]},{18:[2,51],25:[2,51],33:[2,51],46:[2,51]},{18:[2,36],25:[2,36],33:[2,36],42:[2,36],43:[2,36],44:[2,36],45:[2,36],46:[2,36],50:[2,36],52:[2,36],54:[2,36]},{5:[2,11],12:[2,11],13:[2,11],16:[2,11],24:[2,11],26:[2,11],28:[2,11],29:[2,11],31:[2,11],32:[2,11],34:[2,11]},{30:79,50:[1,26],53:24},{29:[2,15]},{5:[2,12],12:[2,12],13:[2,12],16:[2,12],24:[2,12],26:[2,12],28:[2,12],29:[2,12],31:[2,12],32:[2,12],34:[2,12]},{25:[1,80]},{25:[2,45]},{51:[1,78]},{5:[2,20],12:[2,20],13:[2,20],16:[2,20],24:[2,20],26:[2,20],28:[2,20],29:[2,20],31:[2,20],32:[2,20],34:[2,20]},{46:[1,81]},{18:[2,53],25:[2,53],33:[2,53],46:[2,53],50:[2,53]},{30:51,36:82,41:55,42:[1,52],43:[1,53],44:[1,54],45:[1,56],50:[1,26],52:[1,25],53:24},{25:[1,83]},{5:[2,19],12:[2,19],13:[2,19],16:[2,19],24:[2,19],26:[2,19],28:[2,19],29:[2,19],31:[2,19],32:[2,19],34:[2,19]},{18:[2,28],25:[2,28],33:[2,28],42:[2,28],43:[2,28],44:[2,28],45:[2,28],46:[2,28],50:[2,28],52:[2,28]},{18:[2,30],25:[2,30],33:[2,30],46:[2,30],50:[2,30]},{5:[2,16],12:[2,16],13:[2,16],16:[2,16],24:[2,16],26:[2,16],28:[2,16],29:[2,16],31:[2,16],32:[2,16],34:[2,16]}],defaultActions:{4:[2,1],44:[2,41],47:[2,43],57:[2,47],63:[2,10],70:[2,15],73:[2,45]},parseError:function(t,n){throw new Error(t)},parse:function(t){function v(e){r.length=r.length-2*e,i.length=i.length-e,s.length=s.length-e}function m(){var e;return e=n.lexer.lex()||1,typeof e!="number"&&(e=n.symbols_[e]||e),e}var n=this,r=[0],i=[null],s=[],o=this.table,u="",a=0,f=0,l=0,c=2,h=1;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,typeof this.lexer.yylloc=="undefined"&&(this.lexer.yylloc={});var p=this.lexer.yylloc;s.push(p);var d=this.lexer.options&&this.lexer.options.ranges;typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError);var g,y,b,w,E,S,x={},T,N,C,k;for(;;){b=r[r.length-1];if(this.defaultActions[b])w=this.defaultActions[b];else{if(g===null||typeof g=="undefined")g=m();w=o[b]&&o[b][g]}if(typeof w=="undefined"||!w.length||!w[0]){var L="";if(!l){k=[];for(T in o[b])this.terminals_[T]&&T>2&&k.push("'"+this.terminals_[T]+"'");this.lexer.showPosition?L="Parse error on line "+(a+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+k.join(", ")+", got '"+(this.terminals_[g]||g)+"'":L="Parse error on line "+(a+1)+": Unexpected "+(g==1?"end of input":"'"+(this.terminals_[g]||g)+"'"),this.parseError(L,{text:this.lexer.match,token:this.terminals_[g]||g,line:this.lexer.yylineno,loc:p,expected:k})}}if(w[0]instanceof Array&&w.length>1)throw new Error("Parse Error: multiple actions possible at state: "+b+", token: "+g);switch(w[0]){case 1:r.push(g),i.push(this.lexer.yytext),s.push(this.lexer.yylloc),r.push(w[1]),g=null,y?(g=y,y=null):(f=this.lexer.yyleng,u=this.lexer.yytext,a=this.lexer.yylineno,p=this.lexer.yylloc,l>0&&l--);break;case 2:N=this.productions_[w[1]][1],x.$=i[i.length-N],x._$={first_line:s[s.length-(N||1)].first_line,last_line:s[s.length-1].last_line,first_column:s[s.length-(N||1)].first_column,last_column:s[s.length-1].last_column},d&&(x._$.range=[s[s.length-(N||1)].range[0],s[s.length-1].range[1]]),S=this.performAction.call(x,u,f,a,this.yy,w[1],i,s);if(typeof S!="undefined")return S;N&&(r=r.slice(0,-1*N*2),i=i.slice(0,-1*N),s=s.slice(0,-1*N)),r.push(this.productions_[w[1]][0]),i.push(x.$),s.push(x._$),C=o[r[r.length-2]][r[r.length-1]],r.push(C);break;case 3:return!0}}return!0}},t=function(){var e={EOF:1,parseError:function(t,n){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,n)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var t=e.match(/(?:\r\n?|\n).*/g);return t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=(new Array(e.length+1)).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,n,r,i,s;this._more||(this.yytext="",this.match="");var o=this._currentRules();for(var u=0;u<o.length;u++){n=this._input.match(this.rules[o[u]]);if(n&&(!t||n[0].length>t[0].length)){t=n,r=u;if(!this.options.flex)break}}if(t){s=t[0].match(/(?:\r\n?|\n).*/g),s&&(this.yylineno+=s.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:s?s[s.length-1].length-s[s.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,o[r],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1);if(e)return e;return}return this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return typeof t!="undefined"?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)}};return e.options={},e.performAction=function(t,n,r,i){function s(e,t){return n.yytext=n.yytext.substr(e,n.yyleng-t)}var o=i;switch(r){case 0:n.yytext.slice(-2)==="\\\\"?(s(0,1),this.begin("mu")):n.yytext.slice(-1)==="\\"?(s(0,1),this.begin("emu")):this.begin("mu");if(n.yytext)return 12;break;case 1:return 12;case 2:return this.popState(),12;case 3:return n.yytext=n.yytext.substr(5,n.yyleng-9),this.popState(),15;case 4:return 12;case 5:return s(0,4),this.popState(),13;case 6:return 45;case 7:return 46;case 8:return 16;case 9:return this.popState(),this.begin("raw"),18;case 10:return 34;case 11:return 24;case 12:return 29;case 13:return this.popState(),28;case 14:return this.popState(),28;case 15:return 26;case 16:return 26;case 17:return 32;case 18:return 31;case 19:this.popState(),this.begin("com");break;case 20:return s(3,5),this.popState(),13;case 21:return 31;case 22:return 51;case 23:return 50;case 24:return 50;case 25:return 54;case 26:break;case 27:return this.popState(),33;case 28:return this.popState(),25;case 29:return n.yytext=s(1,2).replace(/\\"/g,'"'),42;case 30:return n.yytext=s(1,2).replace(/\\'/g,"'"),42;case 31:return 52;case 32:return 44;case 33:return 44;case 34:return 43;case 35:return 50;case 36:return n.yytext=s(1,2),50;case 37:return"INVALID";case 38:return 5}},e.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{\/)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],e.conditions={mu:{rules:[6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[5],inclusive:!1},raw:{rules:[3,4],inclusive:!1},INITIAL:{rules:[0,1,38],inclusive:!0}},e}();return e.lexer=t,n.prototype=e,e.Parser=n,new n}();return e=t,e}(),a=function(e){"use strict";function r(e,t){return{left:e.charAt(2)==="~",right:t.charAt(t.length-3)==="~"}}function i(e,t,r,i,s,l){if(e.sexpr.id.original!==i.path.original)throw new n(e.sexpr.id.original+" doesn't match "+i.path.original,e);var c=r&&r.program,h={left:e.strip.left,right:i.strip.right,openStandalone:u(t.statements),closeStandalone:o((c||t).statements)};e.strip.right&&a(t.statements,null,!0);if(c){var p=r.strip;p.left&&f(t.statements,null,!0),p.right&&a(c.statements,null,!0),i.strip.left&&f(c.statements,null,!0),o(t.statements)&&u(c.statements)&&(f(t.statements),a(c.statements))}else i.strip.left&&f(t.statements,null,!0);return s?new this.BlockNode(e,c,t,h,l):new this.BlockNode(e,t,c,h,l)}function s(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n],s=i.strip;if(!s)continue;var l=o(e,n,t,i.type==="partial"),c=u(e,n,t),h=s.openStandalone&&l,p=s.closeStandalone&&c,d=s.inlineStandalone&&l&&c;s.right&&a(e,n,!0),s.left&&f(e,n,!0),d&&(a(e,n),f(e,n)&&i.type==="partial"&&(i.indent=/([ \t]+$)/.exec(e[n-1].original)?RegExp.$1:"")),h&&(a((i.program||i.inverse).statements),f(e,n)),p&&(a(e,n),f((i.inverse||i.program).statements))}return e}function o(e,t,n){t===undefined&&(t=e.length);var r=e[t-1],i=e[t-2];if(!r)return n;if(r.type==="content")return(i||!n?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(r.original)}function u(e,t,n){t===undefined&&(t=-1);var r=e[t+1],i=e[t+2];if(!r)return n;if(r.type==="content")return(i||!n?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(r.original)}function a(e,t,n){var r=e[t==null?0:t+1];if(!r||r.type!=="content"||!n&&r.rightStripped)return;var i=r.string;r.string=r.string.replace(n?/^\s+/:/^[ \t]*\r?\n?/,""),r.rightStripped=r.string!==i}function f(e,t,n){var r=e[t==null?e.length-1:t-1];if(!r||r.type!=="content"||!n&&r.leftStripped)return;var i=r.string;return r.string=r.string.replace(n?/\s+$/:/[ \t]+$/,""),r.leftStripped=r.string!==i,r.leftStripped}var t={},n=e;return t.stripFlags=r,t.prepareBlock=i,t.prepareProgram=s,t}(n),f=function(e,t,n,r){"use strict";function l(e){return e.constructor===o.ProgramNode?e:(s.yy=f,s.parse(e))}var i={},s=e,o=t,u=n,a=r.extend;i.parser=s;var f={};return a(f,u,o),i.parse=l,i}(u,o,a,t),l=function(e,t){"use strict";function o(){}function u(e,t,n){if(e==null||typeof e!="string"&&e.constructor!==n.AST.ProgramNode)throw new r("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);t=t||{},"data"in t||(t.data=!0),t.compat&&(t.useDepths=!0);var i=n.parse(e),s=(new n.Compiler).compile(i,t);return(new n.JavaScriptCompiler).compile(s,t)}function a(e,t,n){function s(){var r=n.parse(e),i=(new n.Compiler).compile(r,t),s=(new n.JavaScriptCompiler).compile(i,t,undefined,!0);return n.template(s)}if(e==null||typeof e!="string"&&e.constructor!==n.AST.ProgramNode)throw new r("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e);t=t||{},"data"in t||(t.data=!0),t.compat&&(t.useDepths=!0);var i,o=function(e,t){return i||(i=s()),i.call(this,e,t)};return o._setup=function(e){return i||(i=s()),i._setup(e)},o._child=function(e,t,n){return i||(i=s()),i._child(e,t,n)},o}function f(e,t){if(e===t)return!0;if(i(e)&&i(t)&&e.length===t.length){for(var n=0;n<e.length;n++)if(!f(e[n],t[n]))return!1;return!0}}var n={},r=e,i=t.isArray,s=[].slice;return n.Compiler=o,o.prototype={compiler:o,equals:function(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var n=0;n<t;n++){var r=this.opcodes[n],i=e.opcodes[n];if(r.opcode!==i.opcode||!f(r.args,i.args))return!1}t=this.children.length;for(n=0;n<t;n++)if(!this.children[n].equals(e.children[n]))return!1;return!0},guid:0,compile:function(e,t){this.opcodes=[],this.children=[],this.depths={list:[]},this.options=t,this.stringParams=t.stringParams,this.trackIds=t.trackIds;var n=this.options.knownHelpers;this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0,lookup:!0};if(n)for(var r in n)this.options.knownHelpers[r]=n[r];return this.accept(e)},accept:function(e){return this[e.type](e)},program:function(e){var t=e.statements;for(var n=0,r=t.length;n<r;n++)this.accept(t[n]);return this.isSimple=r===1,this.depths.list=this.depths.list.sort(function(e,t){return e-t}),this},compileProgram:function(e){var t=(new this.compiler).compile(e,this.options),n=this.guid++,r;this.usePartial=this.usePartial||t.usePartial,this.children[n]=t;for(var i=0,s=t.depths.list.length;i<s;i++){r=t.depths.list[i];if(r<2)continue;this.addDepth(r-1)}return n},block:function(e){var t=e.mustache,n=e.program,r=e.inverse;n&&(n=this.compileProgram(n)),r&&(r=this.compileProgram(r));var i=t.sexpr,s=this.classifySexpr(i);s==="helper"?this.helperSexpr(i,n,r):s==="simple"?(this.simpleSexpr(i),this.opcode("pushProgram",n),this.opcode("pushProgram",r),this.opcode("emptyHash"),this.opcode("blockValue",i.id.original)):(this.ambiguousSexpr(i,n,r),this.opcode("pushProgram",n),this.opcode("pushProgram",r),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(e){var t=e.pairs,n,r;this.opcode("pushHash");for(n=0,r=t.length;n<r;n++)this.pushParam(t[n][1]);while(n--)this.opcode("assignToHash",t[n][0]);this.opcode("popHash")},partial:function(e){var t=e.partialName;this.usePartial=!0,e.hash?this.accept(e.hash):this.opcode("push","undefined"),e.context?this.accept(e.context):(this.opcode("getContext",0),this.opcode("pushContext")),this.opcode("invokePartial",t.name,e.indent||""),this.opcode("append")},content:function(e){e.string&&this.opcode("appendContent",e.string)},mustache:function(e){this.sexpr(e.sexpr),e.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousSexpr:function(e,t,n){var r=e.id,i=r.parts[0],s=t!=null||n!=null;this.opcode("getContext",r.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.ID(r),this.opcode("invokeAmbiguous",i,s)},simpleSexpr:function(e){var t=e.id;t.type==="DATA"?this.DATA(t):t.parts.length?this.ID(t):(this.addDepth(t.depth),this.opcode("getContext",t.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperSexpr:function(e,t,n){var i=this.setupFullMustacheParams(e,t,n),s=e.id,o=s.parts[0];if(this.options.knownHelpers[o])this.opcode("invokeKnownHelper",i.length,o);else{if(this.options.knownHelpersOnly)throw new r("You specified knownHelpersOnly, but used the unknown helper "+o,e);s.falsy=!0,this.ID(s),this.opcode("invokeHelper",i.length,s.original,s.isSimple)}},sexpr:function(e){var t=this.classifySexpr(e);t==="simple"?this.simpleSexpr(e):t==="helper"?this.helperSexpr(e):this.ambiguousSexpr(e)},ID:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0];t?this.opcode("lookupOnContext",e.parts,e.falsy,e.isScoped):this.opcode("pushContext")},DATA:function(e){this.options.data=!0,this.opcode("lookupData",e.id.depth,e.id.parts)},STRING:function(e){this.opcode("pushString",e.string)},NUMBER:function(e){this.opcode("pushLiteral",e.number)},BOOLEAN:function(e){this.opcode("pushLiteral",e.bool)},comment:function(){},opcode:function(e){this.opcodes.push({opcode:e,args:s.call(arguments,1)})},addDepth:function(e){if(e===0)return;this.depths[e]||(this.depths[e]=!0,this.depths.list.push(e))},classifySexpr:function(e){var t=e.isHelper,n=e.eligibleHelper,r=this.options;if(n&&!t){var i=e.id.parts[0];r.knownHelpers[i]?t=!0:r.knownHelpersOnly&&(n=!1)}return t?"helper":n?"ambiguous":"simple"},pushParams:function(e){for(var t=0,n=e.length;t<n;t++)this.pushParam(e[t])},pushParam:function(e){this.stringParams?(e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",e.stringModeValue,e.type),e.type==="sexpr"&&this.sexpr(e)):(this.trackIds&&this.opcode("pushId",e.type,e.idName||e.stringModeValue),this.accept(e))},setupFullMustacheParams:function(e,t,n){var r=e.params;return this.pushParams(r),this.opcode("pushProgram",t),this.opcode("pushProgram",n),e.hash?this.hash(e.hash):this.opcode("emptyHash"),r}},n.precompile=u,n.compile=a,n}(n,t),c=function(e,t){"use strict";function o(e){this.value=e}function u(){}var n,r=e.COMPILER_REVISION,i=e.REVISION_CHANGES,s=t;u.prototype={nameLookup:function(e,t){return u.isValidJavaScriptVariableName(t)?e+"."+t:e+"['"+t+"']"},depthedLookup:function(e){return this.aliases.lookup="this.lookup",'lookup(depths, "'+e+'")'},compilerInfo:function(){var e=r,t=i[e];return[e,t]},appendToBuffer:function(e){return this.environment.isSimple?"return "+e+";":{appendToBuffer:!0,content:e,toString:function(){return"buffer += "+e+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(e,t,n,r){this.environment=e,this.options=t,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!r,this.name=this.environment.name,this.isChild=!!n,this.context=n||{programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.compileChildren(e,t),this.useDepths=this.useDepths||e.depths.list.length||this.options.compat;var i=e.opcodes,o,u,a;for(u=0,a=i.length;u<a;u++)o=i[u],this[o.opcode].apply(this,o.args);this.pushSource("");if(this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new s("Compile completed with content left on stack");var f=this.createFunctionContext(r);if(!this.isChild){var l={compiler:this.compilerInfo(),main:f},c=this.context.programs;for(u=0,a=c.length;u<a;u++)c[u]&&(l[u]=c[u]);return this.environment.usePartial&&(l.usePartial=!0),this.options.data&&(l.useData=!0),this.useDepths&&(l.useDepths=!0),this.options.compat&&(l.compat=!0),r||(l.compiler=JSON.stringify(l.compiler),l=this.objectLiteral(l)),l}return f},preamble:function(){this.lastContext=0,this.source=[]},createFunctionContext:function(e){var t="",n=this.stackVars.concat(this.registers.list);n.length>0&&(t+=", "+n.join(", "));for(var r in this.aliases)this.aliases.hasOwnProperty(r)&&(t+=", "+r+"="+this.aliases[r]);var i=["depth0","helpers","partials","data"];this.useDepths&&i.push("depths");var s=this.mergeSource(t);return e?(i.push(s),Function.apply(this,i)):"function("+i.join(",")+") {\n  "+s+"}"},mergeSource:function(e){var t="",n,r=!this.forceBuffer,i;for(var s=0,o=this.source.length;s<o;s++){var u=this.source[s];u.appendToBuffer?n?n=n+"\n    + "+u.content:n=u.content:(n&&(t?t+="buffer += "+n+";\n  ":(i=!0,t=n+";\n  "),n=undefined),t+=u+"\n  ",this.environment.isSimple||(r=!1))}if(r){if(n||!t)t+="return "+(n||'""')+";\n"}else e+=", buffer = "+(i?"":this.initializeBuffer()),n?t+="return buffer + "+n+";\n":t+="return buffer;\n";return e&&(t="var "+e.substring(2)+(i?"":";\n  ")+t),t},blockValue:function(e){this.aliases.blockHelperMissing="helpers.blockHelperMissing";var t=[this.contextName(0)];this.setupParams(e,0,t);var n=this.popStack();t.splice(1,0,n),this.push("blockHelperMissing.call("+t.join(", ")+")")},ambiguousBlockValue:function(){this.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=[this.contextName(0)];this.setupParams("",0,e,!0),this.flushInline();var t=this.topStack();e.splice(1,0,t),this.pushSource("if (!"+this.lastHelper+") { "+t+" = blockHelperMissing.call("+e.join(", ")+"); }")},appendContent:function(e){this.pendingContent&&(e=this.pendingContent+e),this.pendingContent=e},append:function(){this.flushInline();var e=this.popStack();this.pushSource("if ("+e+" != null) { "+this.appendToBuffer(e)+" }"),this.environment.isSimple&&this.pushSource("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.aliases.escapeExpression="this.escapeExpression",this.pushSource(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(e){this.lastContext=e},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(e,t,n){var r=0,i=e.length;!n&&this.options.compat&&!this.lastContext?this.push(this.depthedLookup(e[r++])):this.pushContext();for(;r<i;r++)this.replaceStack(function(n){var i=this.nameLookup(n,e[r],"context");return t?" && "+i:" != null ? "+i+" : "+n})},lookupData:function(e,t){e?this.pushStackLiteral("this.data(data, "+e+")"):this.pushStackLiteral("data");var n=t.length;for(var r=0;r<n;r++)this.replaceStack(function(e){return" && "+this.nameLookup(e,t[r],"data")})},resolvePossibleLambda:function(){this.aliases.lambda="this.lambda",this.push("lambda("+this.popStack()+", "+this.contextName(0)+")")},pushStringParam:function(e,t){this.pushContext(),this.pushString(t),t!=="sexpr"&&(typeof e=="string"?this.pushString(e):this.pushStackLiteral(e))},emptyHash:function(){this.pushStackLiteral("{}"),this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}"))},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var e=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push("{"+e.ids.join(",")+"}"),this.stringParams&&(this.push("{"+e.contexts.join(",")+"}"),this.push("{"+e.types.join(",")+"}")),this.push("{\n    "+e.values.join(",\n    ")+"\n  }")},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},push:function(e){return this.inlineStack.push(e),e},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){e!=null?this.pushStackLiteral(this.programExpression(e)):this.pushStackLiteral(null)},invokeHelper:function(e,t,n){this.aliases.helperMissing="helpers.helperMissing";var r=this.popStack(),i=this.setupHelper(e,t),s=(n?i.name+" || ":"")+r+" || helperMissing";this.push("(("+s+").call("+i.callParams+"))")},invokeKnownHelper:function(e,t){var n=this.setupHelper(e,t);this.push(n.name+".call("+n.callParams+")")},invokeAmbiguous:function(e,t){this.aliases.functionType='"function"',this.aliases.helperMissing="helpers.helperMissing",this.useRegister("helper");var n=this.popStack();this.emptyHash();var r=this.setupHelper(0,e,t),i=this.lastHelper=this.nameLookup("helpers",e,"helper");this.push("((helper = (helper = "+i+" || "+n+") != null ? helper : helperMissing"+(r.paramsInit?"),("+r.paramsInit:"")+"),"+"(typeof helper === functionType ? helper.call("+r.callParams+") : helper))")},invokePartial:function(e,t){var n=[this.nameLookup("partials",e,"partial"),"'"+t+"'","'"+e+"'",this.popStack(),this.popStack(),"helpers","partials"];this.options.data?n.push("data"):this.options.compat&&n.push("undefined"),this.options.compat&&n.push("depths"),this.push("this.invokePartial("+n.join(", ")+")")},assignToHash:function(e){var t=this.popStack(),n,r,i;this.trackIds&&(i=this.popStack()),this.stringParams&&(r=this.popStack(),n=this.popStack());var s=this.hash;n&&s.contexts.push("'"+e+"': "+n),r&&s.types.push("'"+e+"': "+r),i&&s.ids.push("'"+e+"': "+i),s.values.push("'"+e+"': ("+t+")")},pushId:function(e,t){e==="ID"||e==="DATA"?this.pushString(t):e==="sexpr"?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:u,compileChildren:function(e,t){var n=e.children,r,i;for(var s=0,o=n.length;s<o;s++){r=n[s],i=new this.compiler;var u=this.matchExistingProgram(r);u==null?(this.context.programs.push(""),u=this.context.programs.length,r.index=u,r.name="program"+u,this.context.programs[u]=i.compile(r,t,this.context,!this.precompile),this.context.environments[u]=r,this.useDepths=this.useDepths||i.useDepths):(r.index=u,r.name="program"+u)}},matchExistingProgram:function(e){for(var t=0,n=this.context.environments.length;t<n;t++){var r=this.context.environments[t];if(r&&r.equals(e))return t}},programExpression:function(e){var t=this.environment.children[e],n=t.depths.list,r=this.useDepths,i,s=[t.index,"data"];return r&&s.push("depths"),"this.program("+s.join(", ")+")"},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},pushStackLiteral:function(e){return this.push(new o(e))},pushSource:function(e){this.pendingContent&&(this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))),this.pendingContent=undefined),e&&this.source.push(e)},pushStack:function(e){this.flushInline();var t=this.incrStack();return this.pushSource(t+" = "+e+";"),this.compileStack.push(t),t},replaceStack:function(e){var t="",n=this.isInline(),r,i,u;if(!this.isInline())throw new s("replaceStack on non-inline");var a=this.popStack(!0);if(a instanceof o)t=r=a.value,u=!0;else{i=!this.stackSlot;var f=i?this.incrStack():this.topStackName();t="("+this.push(f)+" = "+a+")",r=this.topStack()}var l=e.call(this,r);u||this.popStack(),i&&this.stackSlot--,this.push("("+t+l+")")},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var e=this.inlineStack;if(e.length){this.inlineStack=[];for(var t=0,n=e.length;t<n;t++){var r=e[t];r instanceof o?this.compileStack.push(r):this.pushStack(r)}}},isInline:function(){return this.inlineStack.length},popStack:function(e){var t=this.isInline(),n=(t?this.inlineStack:this.compileStack).pop();if(!e&&n instanceof o)return n.value;if(!t){if(!this.stackSlot)throw new s("Invalid stack pop");this.stackSlot--}return n},topStack:function(){var e=this.isInline()?this.inlineStack:this.compileStack,t=e[e.length-1];return t instanceof o?t.value:t},contextName:function(e){return this.useDepths&&e?"depths["+e+"]":"depth"+e},quotedString:function(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(this.quotedString(n)+":"+e[n]);return"{"+t.join(",")+"}"},setupHelper:function(e,t,n){var r=[],i=this.setupParams(t,e,r,n),s=this.nameLookup("helpers",t,"helper");return{params:r,paramsInit:i,name:s,callParams:[this.contextName(0)].concat(r).join(", ")}},setupOptions:function(e,t,n){var r={},i=[],s=[],o=[],u,a,f;r.name=this.quotedString(e),r.hash=this.popStack(),this.trackIds&&(r.hashIds=this.popStack()),this.stringParams&&(r.hashTypes=this.popStack(),r.hashContexts=this.popStack()),a=this.popStack(),f=this.popStack();if(f||a)f||(f="this.noop"),a||(a="this.noop"),r.fn=f,r.inverse=a;var l=t;while(l--)u=this.popStack(),n[l]=u,this.trackIds&&(o[l]=this.popStack()),this.stringParams&&(s[l]=this.popStack(),i[l]=this.popStack());return this.trackIds&&(r.ids="["+o.join(",")+"]"),this.stringParams&&(r.types="["+s.join(",")+"]",r.contexts="["+i.join(",")+"]"),this.options.data&&(r.data="data"),r},setupParams:function(e,t,n,r){var i=this.objectLiteral(this.setupOptions(e,t,n));return r?(this.useRegister("options"),n.push("options"),"options="+i):(n.push(i),"")}};var a="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),f=u.RESERVED_WORDS={};for(var l=0,c=a.length;l<c;l++)f[a[l]]=!0;return u.isValidJavaScriptVariableName=function(e){return!u.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)},n=u,n}(r,n),h=function(e,t,n,r,i){"use strict";var s,o=e,u=t,a=n.parser,f=n.parse,l=r.Compiler,c=r.compile,h=r.precompile,p=i,d=o.create,v=function(){var e=d();return e.compile=function(t,n){return c(t,n,e)},e.precompile=function(t,n){return h(t,n,e)},e.AST=u,e.Compiler=l,e.JavaScriptCompiler=p,e.Parser=a,e.parse=f,e};return o=v(),o.create=v,o["default"]=o,s=o,s}(s,o,f,l,c);return h}),define("syracuse-tablet/html/js/helpers/handlebarsHelpers",["require","exports","module"],function(e,t,n){"use strict";t.registerHelpers=function(e){e.registerHelper("smCompare",function(e,t,n,r){var i,s;if(arguments.length<3)throw new Error("Handlerbars Helper 'compare' needs 2 parameters");r===undefined&&(r=n,n=t,t="==="),i={"==":function(e,t){return e==t},"===":function(e,t){return e===t},"!=":function(e,t){return e!=t},"!==":function(e,t){return e!==t},"<":function(e,t){return e<t},">":function(e,t){return e>t},"<=":function(e,t){return e<=t},">=":function(e,t){return e>=t},"typeof":function(e,t){return typeof e==t}};if(!i[t])throw new Error("Handlerbars Helper 'compare' doesn't know the operator "+t);return s=i[t](e,n),s?r.fn(this):r.inverse(this)})}}),define("syracuse-tablet/html/js/main",["require","exports","module","syracuse-tablet/html/js/ui/modals/modal","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/jsutils","syracuse-tablet/html/js/init/initStyles","syracuse-tablet/html/js/init/initLocale","syracuse-tablet/html/js/init/initModules","syracuse-tablet/html/js/init/initLogin","syracuse-tablet/html/deps/handlebars-latest","syracuse-tablet/html/js/helpers/handlebarsHelpers"],function(e,t,n){"use strict";function c(){return u.init().then(function(){return a.init()}).then(function(){return f.init()}).then(function(){return l.init()}).fail(function(e){r.error("_startup error",e)})}var r=e("syracuse-tablet/html/js/ui/modals/modal"),i=e("syracuse-tablet/html/js/ui/uiUtils"),s=e("syracuse-tablet/html/js/helpers/globals"),o=e("syracuse-tablet/html/js/helpers/jsutils"),u=e("syracuse-tablet/html/js/init/initStyles"),a=e("syracuse-tablet/html/js/init/initLocale"),f=e("syracuse-tablet/html/js/init/initModules"),l=e("syracuse-tablet/html/js/init/initLogin");window.Handlebars=e("syracuse-tablet/html/deps/handlebars-latest"),e("syracuse-tablet/html/js/helpers/handlebarsHelpers").registerHelpers(window.Handlebars),window.onerror=function(e,t,n,u){s.application?s.application.waitWheelStop():i.waitWheelStop();try{r.error("Javascript error",{where:"window.onerror",exception:u,message:e+"\n"+(t?"Url : "+o.cleanStack(t)+"\nLineNumber : "+n:"")})}catch(a){var f=e+"\n"+(u?+JSON.stringify(u,null,2):t?"Url : "+t+"\nLineNumber : "+n:"");alert(f)}},$(document).ready(function(){document.location.href.indexOf("?circular")>-1?xrayquire.showCycles(undefined,!0):c()})});