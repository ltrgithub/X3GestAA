"use strict";

/**
 * URL to get the list http://localhost:8124/sdata/syracuse/collaboration/syracuse/mobileSharedContexts
 */
exports.entity = {
	$titleTemplate: "Mobile shared context",
	$descriptionTemplate: "Mobile shared context definition",
	$properties: {
		linkCtx: {
			$title: "Link Context",
			// JSON stringified to avoid the constraint of $ JSON properties in mongo (not allowed)
			$type: "string"
		},
		// In hours
		lifespan: {
			$title: "Lifepan",
			$type: "integer"
		}
	},
	$relations: {},
	$functions: {},
	$services: {},
	$expire: function(_, instance) {
		var nbHours = instance.lifespan(_) || (10 * 24);
		var toMs = nbHours * 60 * 60 * 1000;
		// console.log("expire", "nbHours", nbHours, "toMs", toMs);
		return toMs;
	}
};