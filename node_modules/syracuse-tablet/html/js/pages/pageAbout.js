"use strict";

/**
 * Settings page
 * temporarily - This page will be build with a $article/$prototype
 *
 */
var utils = require('syracuse-tablet/html/js/helpers/utils');
var globals = require('syracuse-tablet/html/js/helpers/globals');
var log = require('syracuse-tablet/html/js/helpers/logger').getLogger("pageSettings");
var Base = require('syracuse-tablet/html/js/pages/page').Page;
var pageTemplates = require('syracuse-tablet/html/js/pages/pageTemplates');

var _Page = utils.defineClass(
	function($parent, state) {
		var self = this;
		Base.call(self, $parent, state);
	}, Base, {
		buildHtml: function() {
			var self = this;
			var deferred = $.Deferred();
			try {
				pageTemplates.getTemplate(self.state, {}, {}).then(function(result) {
					deferred.resolve(result);
				}, function(e) {
					pageTemplates.resolveError(deferred, self.state.name, e);
				});
			} catch (e) {
				pageTemplates.resolveError(deferred, self.state.name, e);
			} finally {
				return deferred.promise();
			}
		}

	});

exports.Page = _Page;