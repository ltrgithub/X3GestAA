"use strict";

var utils = require('syracuse-tablet/html/js/helpers/utils');
var Base = require('syracuse-tablet/html/js/pages/page').Page;

var _pageTemplate = '\
	<div>\
		<p>About Sage ERP X3</p>\
		<p>Neque porro quisquam est qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit</p>\
	</div>';

var _Page = utils.defineClass(

	function($parent, state) {
		var self = this;
		Base.call(self, $parent, state);
	}, Base, {
		addPanel: function(panelId) {
			if (panelId !== "header") return null;
			return Base.prototype.addPanel.call(this, panelId);
		},
		loadStructure: function(options) {
			var self = this;
			// Creates header/footer/leftPanel/rightpanel controls - only if not update layout
			if (self._staticControls && options.updateLayout !== true) {
				self._staticControls.create(self);
			}
			return $.smResolve();
		},
		render: function(options) {
			var self = this;
			var buildOpts = self.buildHtmlOption();

			if (self._staticControls && options.updateLayout !== true) {
				self._staticControls.buildHtml(self.dao, buildOpts);
			}

			var deferred = $.Deferred();
			var template = Handlebars.compile(_pageTemplate);
			self.$$contentElmt.html(template({}));
			deferred.resolve();
			return deferred.promise();
		},
		onMainPageResize: function(info, orientation, deviceClass) {
			Base.prototype.onMainPageResize.call(this, info, orientation, deviceClass);
			var r = this.getMainContentRect();
		}
	});

exports.Page = _Page;