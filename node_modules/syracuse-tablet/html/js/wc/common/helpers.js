"use strict";

/**
 * 
 */
exports.createDiag = function(payload, $severity, $message, $stackTrace) {
	payload = payload || {};
	payload.$diagnoses = payload.$diagnoses || [];
	payload.$diagnoses.push({
		"$severity": $severity,
		"$message": $message,
		"$stackTrace": $stackTrace
	});
	return payload;
}

/**
 * jsonData: {
 *   $properties: {
 *     abc: {
 *       $url: "..."
 *     }
 *   }
 * }
 * path: $properties.abc.$url
 */
exports.getValueByPath = function(jsonData, path) {
	var segs = path.split(".");
	var data = jsonData;
	for (var i = 0; i < segs.length; i++) {
		data = data == null ? null : data[segs[i]];
	}
	return data;
}