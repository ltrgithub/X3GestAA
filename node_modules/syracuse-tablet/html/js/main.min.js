"use strict";
define("syracuse-tablet/html/js/helpers/winjs",["require","exports","module"],function(e,t,n){var r={},i=0,s=function(e){if(!e)return;var t;try{t=JSON.parse(e)}catch(n){return}if(!t.$uuid)return;var i=r[t.$uuid];if(!i)return;delete r[t.$uuid];if(!i.$deferred)return;t.$error?i.$deferred.reject(t.$error):i.$deferred.resolve(t.$data)},o=function(e,t,n,s){var o=$.Deferred();if(u()){i+=1;var a={$domain:e,$funcName:t,$uuid:""+i,$data:n,$execCallback:!s},f=JSON.stringify(a),l;s!==!0&&(l={$uuid:a.$uuid,$deferred:o},r[l.$uuid]=l),window.external.notify(f),s===!0&&o.resolve()}else o.reject({$message:"No WinJS container"});return o.promise()},u=function(){try{return"notify"in window.external}catch(e){return!1}};window&&(window.winjsCallbackHook=s),t.callWinJS=o,t.isAvailable=u}),define("syracuse-tablet/html/js/helpers/logger",["require","exports","module","syracuse-tablet/html/js/helpers/winjs"],function(e,t,n){function s(e){return null}var r=e("syracuse-tablet/html/js/helpers/winjs"),i;r.isAvailable()?i=function(){var e=[];for(var t=0;t<arguments.length;t++)e.push(arguments[t]);r.callWinJS("logger","log",{args:e},!0)}:i=function(){var e=[];for(var t=0;t<arguments.length;t++){var n=arguments[t];n!=null&&(a(n)?console&&console.log&&console.log(n.message,"\n",u(n.stack)):e.push(n))}console&&console.log&&console.log(e.join(e," "))},window&&(window.logger=i);var o,u=function(e,t,n){var r=window.$sm;!o&&r&&r.baseLocation()&&(o={r1:new RegExp(r.baseLocation().withPath,"g"),r2:new RegExp(r.baseLocation().requirePath,"g")}),t=t==null?5:t;if(e){var i=e.split("\n"),s;i.length>0&&i.forEach(function(e){var t=e.lastIndexOf(".js");if(t>0){var n=e.lastIndexOf("/",t);t>0&&(s||(s=[]),s.push(e.substring(n)))}}),!s&&o?e=o?e.replace(o.r1,"").replace(o.r2,""):e:e=s.join("\n")}else e="";return e=e.split("\n"),e.length>t&&(e=e.splice(0,t).join(n?"<br>&nbsp&nbsp&nbsp&nbsp&nbsp":"\n")),e},a=function(e){return e&&Error.prototype.toString===e.toString};t.log=i,t.getLogger=s,t.cleanStack=u,t.isError=a}),define("syracuse-tablet/html/js/helpers/notifications",["require","exports","module","syracuse-tablet/html/js/helpers/logger"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/logger").getLogger("notifs"),i="sm",s={},o=function(e){throw r&&r("Error",e),typeof e=="string"?new Error("Notification - "+e):e},u=function(e){try{if(!e)throw new Error("No topic to publish");var e=typeof e=="string"?[e]:e;r&&r("Publish "+e.join(" - "));var t,n,n,i,u=0,a,f,t=arguments;e.forEach(function(e){a=s[e];if(a){a=a.slice();for(var r=0,o=a.length;r<o;r++)n=a[r],n.object?(f||(f=Array.prototype.slice.call(t,1)),i=n.callBack.apply(n.object,f)):(t[0]=e,i=n.callBack.apply(null,t)),u++}})}catch(l){o(l)}},a=function(e,t,n){t||o("No topic to publish"),e||o("Null object"),n=n||10;var t=typeof t=="string"?[t]:t;r&&r("Subscribe "+t.join(" - ")+" - priority="+n),t.forEach(function(t){var r,u;if(typeof e=="function")r=e,u=null;else{u=e;var a=t.split(".");a[0]!=i&&o("Bad event domain name"),a=$.camelCase("notif-"+a.splice(1).join("-")),r=e[a],r||o("Object must implement "+a)}var f=!1;s[t]||(s[t]=[]);var l={callBack:r,object:u,priority:n};for(var c=s[t].length-1;c>=0;c--)if(s[t][c].priority<=n){s[t].splice(c+1,0,l),f=!0;break}f||s[t].unshift(l)})},f=function(e,t){t?typeof t=="string"&&(t=[t]):t=Object.keys(s);var n=typeof e=="function"?"callBack":"object";t.forEach(function(t){var r=s[t];if(r)for(var i=0,o=r.length;i<o;i++)if(e==null||r[i][n]===e)r.splice(i,1),i--,o--})},l=function(e,t){r&&r("Reset"),f(null,null)},c=function(e){var t={},n=typeof e=="function"?"callBack":"object";return Object.keys(s).forEach(function(r){if(e==null)t[r]=s[r].length;else{t[r]=0;var i=s[r];for(var o=0,u=i.length;o<u;o++)i[o][n]===e&&(t[r]=t[r]+1)}}),t};t.check=c,t.reset=l,t.subscribe=a,t.unsubscribe=f,t.publish=u}),define("syracuse-tablet/html/js/helpers/utils",["require","exports","module","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/helpers/notifications"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/logger"),i=r.log,s=e("syracuse-tablet/html/js/helpers/notifications"),o=function(e,t,n){function r(e,t){for(var n in t||{}){var r=t[n];typeof r.get=="function"||typeof r.set=="function"?Object.defineProperty(e,n,r):e[n]=r}}return t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e,r(e.prototype,n),e},u=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e=="x"?t:t&3|8;return n.toString(16)})},a=function(){var e=new Date,t=[e.getFullYear(),4,e.getMonth()+1,2,e.getDate(),2,e.getHours(),2,e.getMinutes(),2,e.getSeconds(),2],n;for(var r=0;r<t.length;r+=2){var i=""+t[r];while(i.length<t[r+1])i="0"+i;n?n+="-"+i:n=i}return n},f=0,l=function(e){return e.replace(/([^\w-_])/g,"_")},c=0,h=function(){return l($.camelCase((arguments.length>0?Array.prototype.join.call(arguments,"-")+"-":"")+c++))},p=["message","stack","lineNumber","fileName","columnNumber"],d=function(e){if(r.isError(e)){var t={};return p.forEach(function(n){t[n]=n==="fileName"?r.cleanStack(e[n]).join(""):n==="stack"?"\n"+r.cleanStack(e[n]):e[n]}),t}return{message:"object is not an Error"}},v=function(e,t,n){return t||(t={$diagnoses:[]}),e?(typeof e=="string"&&(e={message:e}),Array.isArray(e)||(e=[e]),e.forEach(function(e){var i;if(r.isError(e))i={exception:e};else{var s={};for(var o in e)r.isError(e[o])&&(e[o]=d(e[o]));i=$.extend(!0,{},e)}i.exception&&(i.message=(i.message?i.message+(n?"<br>":"\n"):"")+i.exception.message,i.exception.stack&&(i.stackTrace=r.cleanStack(i.exception.stack,null,n)),delete i.exception),i.severity||(i.severity="error"),i.message||(i.message=""),t.$diagnoses.push(i)}),t):t},m={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","querystring","anchor"],q:{name:"query",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},g=function(e){var t=m,n=t.parser[t.strictMode?"strict":"loose"].exec(e),r={},i=14;while(i--)r[t.key[i]]=n[i]||"";return r[t.q.name]={},r[t.key[12]].replace(t.q.parser,function(e,n,i){n&&(r[t.q.name][n]=decodeURIComponent(i))}),r},y=/([^&=;]*)=?([^&;]*)/g,b=function(e){e=e||window.location.search;var t={},e=decodeURIComponent(e),n=e.indexOf("?");return n>=0&&(e=e.substring(n+1)),e.replace(y,function(e,n,r){n&&n.length>0&&(t[n]=decodeURIComponent(r))}),t},w=function(e){return $("<div/>").text(e).html()},E=function(e){return $("<div/>").html(e).text()},S=function(e,t){i&&i(e),i&&i(t),alert(e+"\n"+(t?t.message+"\n\n"+r.cleanStack(t.stack):"No error"))},x=function(e){if(e==null)return;e.jquery&&(e.unbind(),e.undelegate(),e.off(),e.remove(),e.smPageRemoveController&&e.smPageRemoveController()),s.unsubscribe(e)},T=/\{(.*?)\}/g,N=function(e,t,n,r){r=r||0,e=(e||"")+"";if(r===0&&e.indexOf("{")<0&&t){var i=t.getValue?t.getValue(e):t[e];return i==null?"":i}var s=null,o=e.replace(T,function(e,i){var s=t==null?null:t.getValue?t.getValue(i):t[i];return s!=null?s:n?i.smStartsWith("@")?n.localization(i):(s=n.data(i,t),s!=null&&s.indexOf("{")>=0?N(s,t,n,r+1):s==null?"":s):""});return o||""};t.UUID=u,t.defineClass=o,t.readableuid=h,t.domId=l,t.toDiagnose=v,t.error2JSON=d,t.parseQueryString=b,t.parseURL=g,t.htmlEncode=w,t.alertError=S,t.getCurISODateTime=a,t.unbindObj=x,t.parseExpression=function(e,t,n){return N(e,t,n,0)},t.isError=r.isError,t.cleanStack=r.cleanStack}),define("syracuse-tablet/html/js/ui/uiUtils",["require","exports","module"],function(e,t,n){var r=function(e){if(e)while(e.firstChild)e.removeChild(e.firstChild)},i=function(e,t,n){if(e){var r=e.className;n?r.indexOf(t)<0&&(e.className=r+(" "+t)):e.className=r.replace(t,"")}},s={className:"waiting-circles",elements:8,radius:30,auto:!0},o=null,u=function(e,t){e==null&&(o==null&&(o=a($(document.body))),e=o),t?(e.$$bckg.show(),l(e.$$wheel,"enable")):(e.$$bckg.hide(),l(e.$$wheel,"disable"))},a=function(e,t){var n={$$bckg:$('<div class="waiting-background" style="display:none"></div>'),$$wheel:$('<div class="waiting-wheel"  style="display:none"></div>')};return n.$$bckg.appendTo(e),n.$$wheel.appendTo(e),c(n.$$wheel,s),n},f=function(e){e&&e.data("waiting")&&(e.waiting("destroy"),e.remove())},l=function(e,t){e&&e.data("waiting")&&(e.waiting(t),e[t==="disable"?"hide":"show"]())},c=function(e,t){if(!t)throw new Error("opts is mandatory");return e&&e.waiting(t),e},h=function(e){e&&(f(e.$$wheel),e.$$bckg&&e.$$bckg.remove())},p=function(e,t,n,r,i){if(!e)throw new Error("tag parameter is necessary !");var s=document.createElement(e);if(t)if($.isArray(t))$.each(t,function(e,n){s.className+=n+(e==t.length-1?"":" ")});else{if(typeof t!="string")throw new Error("classList parameter must be an array or a string");s.className+=t}return s.textContent=n?n:"",r&&$.each(r,function(e,t){s.setAttribute(e,t)}),i&&(i.jquery?i=i.append(s):i.appendChild(s)),s},d=function(e,t){$.each(e,function(e,n){var r=p(e,n.classList,n.textContent,n.attr,t);n.children&&$.each(n.children,function(e,t){d(t,r)})})};t.empty=r,t.toggleClass=i,t.waitWheelStart=function(e){u(e,!0)},t.waitWheelStop=function(e){u(e,!1)},t.waitWheelCreate=a,t.waitWheelDestroy=h,t.waitPluginDestroy=f,t.waitPluginCreate=c,t.waitPluginDisable=function(e){l(e,"disable")},t.waitPluginEnable=function(e){l(e,"enable")},t.createDomElement=p,t.buildDom=d}),define("syracuse-tablet/html/js/helpers/globals",["require","exports","module","syracuse-tablet/html/js/helpers/logger"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/logger").getLogger("globals"),i={$user:"none",$role:"none",$lang:"none"},s={application:null,userCtx:null,isTestEnvironment:!1,baseLocation:null,isDvlpMode:!1,isOffLineMode:!1,storage:null,cache:null,cacheCtx:$.extend({},i),lookAndFeel:"windows"},o=function(e){r&&r("Set user context");var t=e==null?$.extend({},i):e;return s.cache.setContext(t),s.userCtx=t},u=function(e){if(!e)throw new Error("Bad application description");return r&&r("Set application description"),s.application=e,e},a=function(e,t,n,r){s.isOffLineMode=!1,s.isDvlpMode=e;var i=s.baseLocation={};i.host=window.location.protocol+"//"+window.location.host;var o=window.location.pathname.split("/").splice(0,2).join("/");i.withPath=i.host+o,i.requirePath=i.host+"/requireJS"+o,i.htmlRoot=i.withPath+"/html",r&&(i.query=r.parseQueryString()),s.isTestEnvironment=window.location.href.indexOf("/syracuse-tablet/test/index.html")>-1,s.storage=t,s.cache=n};t.isOffLineMode=function(){return s.isOffLineMode},t.baseLocation=function(){return s.baseLocation},t.isDvlpMode=function(){return s.isDvlpMode},t.isTestEnvironment=function(){return s.isTestEnvironment},t.getApplication=function(){return s.application},t.getUserCtx=function(){return s.userCtx},t.getGlobalCtx=function(){return s},t.getStorage=function(){return s.storage},t.getCache=function(){return s.cache},t.getCacheCtx=function(){return s.cacheCtx},t.getEmptyCacheCtx=function(){return i},t.getEndpoint=function(){var e=s.endpoint;return e},t.setEndpoint=function(e){s.endpoint=e},t.$config=function(e){return s.application.$config(e)},t.setLookAndFeel=function(e){s.lookAndFeel=e},t.getLookAndFeel=function(){return s.lookAndFeel},t.getDeviceSize=function(e){return e?"Md":"md"},t.setApplication=u,t.setUserCtx=o,t.init=a,window&&(window.$sm=t)}),define("syracuse-tablet/html/js/ajax/ajaxInterface",["require","exports","module","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/helpers/utils"],function(e,t,n){function s(){}var r=e("syracuse-tablet/html/js/helpers/logger").getLogger("ajax"),i=e("syracuse-tablet/html/js/helpers/utils"),o={200:"Ok",201:"Created",400:"Bad Request",401:"Unauthenticated",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request URI Too Long",415:"Unsupported Media Type",422:"Unprocessable Entity",429:"Too Many Requests",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout"},u=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,a=i.defineClass(s,null,{ajax:function(e,t,n,i,s){var a=$.Deferred();try{e=e?e.toUpperCase():"GET";if(e==="GET"&&n){t.indexOf("?")===-1&&(t+="?");var f=[];for(var l in n)n[l]!=null&&f.push(encodeURIComponent(l)+"="+encodeURIComponent(n[l].toString()));t+=f.join("&")}s=s||{};var c=function(){try{var f={Accept:"application/json;vnd.sage=syracuse"};i&&$.extend(f,i);var l={headers:f,type:e,url:t,timeout:s.timeout==null?0:s.timeout};if(["PUT","POST"].indexOf(e)>=0&&n!=null){l.contentType=s.contentType||"application/json;charset=utf-8";if(l.contentType.indexOf("application/json")>=0&&typeof n=="object")try{n=JSON.stringify(n)}catch(c){throw new Error("Error parsing send data\nurl: "+t)}l.data=n}var h=f.Accept.indexOf("application/json")>=0&&s.noJsonParsing!==!0;h&&(l.dataType="json"),r&&r("'"+e+"':"+t);var p=$.ajax_original||$.ajax,d=p(l);d.complete(function(e,t){var n=e.status!=null?e.status:t=="success"?200:500,r={textStatus:t,status:n,descrHttpStatus:o[n]||"unknown: "+n,isSuccess:n>=200&&n<300||n===304,headers:{}};h?r.responseJSON=e.responseJSON:r.responseText=e.responseText;var i,s=e.getAllResponseHeaders();if(s)while(i=u.exec(s))r.headers[i[1].toLowerCase()]=i[2];a.resolve(r)})}catch(c){alert(c),a.resolve(c)}finally{return d}};c()}catch(h){return r&&r("Ajax error",h),a.reject(h)}finally{return a.promise()}}});t.AjaxInterfaceClass=a,t.init=function(e){e=e||{},$.ajaxSetup({timeout:e.timeout==null?2e4:e.timeout,async:!0})}}),define("syracuse-tablet/html/js/ajax/ajaxWinJS",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/winjs"],function(e,t,n){function o(){}var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/winjs"),s,u=r.defineClass(o,null,{ajax:function(e,t,n,r,s){var o=$.Deferred();e=e||"GET";var u={Accept:"application/json;vnd.sage=syracuse"};r&&$.extend(u,r);var a={$method:e||"GET",$url:t,$send:n,$headers:u,$options:s};return i.callWinJS("winjsAjax","ajax",a).then(function(e){var t={status:e.$status,location:e.$headers&&e.$headers.location||""};e.$succeeded?o.resolve(e.$data,t):o.reject(e.$status,t)},function(e){o.reject(500,{})}),o.promise()}});t.AjaxInterfaceClass=u,t.init=function(){}}),define("syracuse-tablet/html/js/ajax/ajax",["require","exports","module","syracuse-tablet/html/js/helpers/winjs","syracuse-tablet/html/js/ajax/ajaxInterface","syracuse-tablet/html/js/ajax/ajaxWinJS"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/winjs"),i=e("syracuse-tablet/html/js/ajax/ajaxInterface"),s=e("syracuse-tablet/html/js/ajax/ajaxWinJS"),o;t.getAjax=function(){return o||(r.isAvailable()?o=new s.AjaxInterfaceClass:o=new i.AjaxInterfaceClass),o},t.init=function(){r.isAvailable()?s.init():i.init()}}),define("syracuse-tablet/html/js/helpers/locale",["require","exports","module","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/ajax/ajax"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/globals"),i=e("syracuse-tablet/html/js/ajax/ajax").getAjax().ajax,s=null,o={},u="$datetimeInformation",a="$decimalInformation",f,l=/\{([\w-]+)\}/g,c="*",h={},p={},d=function(e,t){var n=o&&o[s];if(!n)return;var r=n[e]||"Resource key not found["+e+"]";return t&&(r=r.replace(l,function(e,n){var r=+n;return r>=0&&r<t.length?t[r]:"?"})),r},v=function(){var e=o&&o[s];if(!e)return;return e[u]},m=function(){var e=o&&o[s];if(!e)return;return e[a]},g=function(e,t){var n=new $.Deferred;f=t;var l=r.getUserCtx();c=l&&l.$user||"*",h=p[e]||{};var d=o&&o[e];if(d)s=e,n.resolve();else if(e===s)n.resolve();else{var v=i("GET","/syracuse-tablet/html/js/resources/strings-"+e+".json",null,null);y("/syracuse-tablet/html/js/resources","strings",e,"en").then(function(t){s=e,o[e]=t}).then(function(){return y("/syracuse-tablet/html/js/resources/locales","date",e,"en-GB")}).then(function(t){o[e][u]=t}).then(function(){return y("/syracuse-tablet/html/js/resources/locales","decimal",e,"en-GB")}).then(function(t){o[e][a]=t}).then(function(){n.resolve()},function(e){n.resolve()})}return n.promise()},y=function(e,t,n,r){function u(){if(o.length===0){var n=e+"/"+t+"-"+r+".json";i("GET",n,null,null).then(function(e){e&&e.responseJSON&&s.resolve(e.responseJSON),s.resolve({})},function(e){s.reject(e)})}else{var a=o.join("-"),n=e+"/"+t+"-"+a+".json";i("GET",n,null,null).then(function(e){e&&e.responseJSON?s.resolve(e.responseJSON):e.status===404?(o.pop(),u()):s.reject(e.textStatus+" - "+e.status)},function(e){s.reject(e)})}}var s=new $.Deferred,o=n.split("-");return u(),s.promise()},b=function(e,t){return!e||!s?!1:s===e?!0:t?!1:e.split("-")[0]===s};t.getDateFormat=function(){var e=v();return h.shortDate||e&&e.formatPatterns&&e.formatPatterns.shortDate||"dd/MM/yyyy"},t.getDateTimeFormat=function(){var e=v(),t=h.shortDate||e&&e.formatPatterns&&e.formatPatterns.shortDate||"dd/MM/yyyy",n=h.shortTime||e&&e.formatPatterns&&e.formatPatterns.shortTime||"HH:mm:ss";return t+" "+n},t.getTimeFormat=function(){var e=v();return h.longTime||e&&e.formatPatterns&&e.formatPatterns.longTime||"HH:mm:ss"},t.getTimeFormatShort=function(){var e=v();return h.shortTime||e&&e.formatPatterns&&e.formatPatterns.shortTime||"HH:mm"},t.getNumberFormat=function(e){return e==="application/x-integer"?"#,##0":"#,##0.##"},t.getNumberGroupSeparator=function(){var e=m(),t=h.numberGroupSeparator||e&&e.numberGroupSeparator||",";return t},t.getNumberDecimalSeparator=function(){var e=m(),t=h.numberDecimalSeparator||e&&e.numberDecimalSeparator||".";return t},t.setLocale=g,t.text=d,t.isCurrent=b,t.getDatetimeInfo=v,t.getCurrentLocale=function(){return s},t.getCurrentLocaleHash=function(){return s+"#"+c},t.setUserLocales=function(e){p={},e&&e.forEach(function(e){p[e.code]={shortDate:e.shortDate,shortTime:e.shortTime,longTime:e.longTime,numberDecimalSeparator:e.numberDecimalSeparator,numberGroupSeparator:e.numberGroupSeparator}})}}),define("syracuse-tablet/html/js/ui/modal",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/notifications"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/ui/uiUtils"),s=e("syracuse-tablet/html/js/helpers/locale"),o=e("syracuse-tablet/html/js/helpers/logger").getLogger("ui"),u=e("syracuse-tablet/html/js/helpers/globals"),a=e("syracuse-tablet/html/js/helpers/notifications"),f={confirm:' 		<div class="modal fade" id="modal-confirm" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true"> 		    <div class="modal-dialog"> 		        <div class="modal-content"> 		            <div class="modal-header"> 		            <h4 class="modal-title" id="myModalLabel">{{title}}</h4> 		            </div> 		            <div class="modal-body"> 		            <div class="alert alert-warning" role="alert">{{message}}</div> 		            </div> 		            <div class="modal-footer"> 		                <button type="button" class="btn btn-default" data-action="yes">{{yes}}</button> 		                <button type="button" class="btn btn-default" data-action="no">{{no}}</button> 		        </div> 		    </div> 		  </div> 		</div>',error:' 		<div class="modal fade" id="modal-error" tabindex="-1" role="dialog"> 		    <div class="modal-dialog"> 				<div class="modal-content"> 				    <div class="modal-header"> 						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&#215;</button> 				    	<h4 class="modal-title" id="myModalLabel">{{title}}</h4> 				    </div> 				    <div class="modal-body"> 				        <pre>{{body}}</pre> 				    </div> 				    <div class="modal-footer"> 				        <button type="button" class="btn btn-default" data-dismiss="modal">{{close}}</button> 					</div> 				</div> 			</div> 		</div>',info:'		<div class="modal fade" id="modal-info" tabindex="-1" role="dialog"> 		    <div class="modal-dialog"> 				<div class="modal-content"> 				    <div class="modal-header"> 						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&#215;</button> 						<h4 class="modal-title" id="myModalLabel">{{title}}</h4> 				    </div> 				    <div class="modal-body"> 				       <h3>{{body}}</h3> 				    </div> 				    <div class="modal-footer"> 				        <button type="button" class="btn btn-default" data-dismiss="modal">{{close}}</button> 					</div> 				</div> 			</div> 		</div>',field:'		<div class="modal fade" id="modal-field" tabindex="-1" role="dialog"> 		    <div class="modal-dialog"> 				<div class="modal-content"> 				    <div class="modal-header"> 						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&#215;</button> 						<h4 class="modal-title" id="myModalLabel">{{title}}</h4> 				    </div> 				    <div class="modal-body"> 				       {{{body}}} 				    </div> 				    <div class="modal-footer"> 				        <button type="button" class="btn btn-default" data-dismiss="modal">{{close}}</button> 					</div> 				</div> 			</div> 		</div>'},l=function(e,t){var n=e+"compiled",r=f[n];return r||(r=f[n]=Handlebars.compile(f[e])),r(t)},c=function(e,t,n){if(!e||arguments.length==0)return;try{var e=arguments[0],i=Array.prototype.slice.call(arguments,1);e.apply(null,i)}catch(s){r.alertError("Error calling modal callback",s)}},h=function(e,t,n){t==null?t=r.toDiagnose({where:e}):r.isError(t)?t=r.toDiagnose({where:e,exception:t}):typeof t=="string"?t=r.toDiagnose({where:e,message:t}):(t.hasOwnProperty("where")||(t.where=e),t=r.toDiagnose(t));var i=JSON.stringify(t,null,2).replace(/\\n/g,"\n");return o&&o("exports.displayError",i),m("error",{close:s.text("modal.btn.close"),title:s.text("modal.error.ttl"),body:i},n)},p=function(e,t,n){return m("info",{close:s.text("modal.btn.close"),title:e||"Warning",body:t},n)},d=function(e,t){return m("confirm",{title:s.text("modal.confirm.ttl"),message:s.text("modal.confirm.msg",[e]),yes:s.text("yes"),no:s.text("no")},function(e,n,r){t&&(e==="yes"||e==="no")&&c(t,"yes"===e)})},v=function(e,t,n){return m("field",{close:s.text("modal.btn.close"),title:e||"Warning",body:t},n)},m=function(e,t,n){var r=l(e,t);return g(r,n)},g=function(e,t){i.waitWheelStop(),u.getApplication().currentPage&&u.getApplication().currentPage.waitWheelStop();var n=$(e).modal({keyboard:!1,backdrop:"static"}),r=!1;return n.on("shown.bs.modal",function(){try{c(t,"shown.bs.modal",n)}catch(e){alert("Modal open - call back error"+e.stack)}a.publish("sm.modal.open")}),n.on("hidden.bs.modal",function(){if(!r&&t)try{c(t,"hidden.bs.modal",n)}catch(e){alert("Modal close - call back error"+e.stack)}n.unbind(),n.remove(),a.publish("sm.modal.close")}),n.delegate("button[data-action]","click",function(e){var i=$(e.target),s=i.attr("data-action");s&&(r=!0,e.preventDefault(),e.stopPropagation(),c(t,s,n,i.attr("data-params"))),n.modal("hide")}),n};t.error=h,t.info=p,t.field=v,t.confirm=d,t.modal=g}),define("syracuse-tablet/html/js/init/initStyles",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/globals"],function(e,t,n){function s(e){var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",e),document.getElementsByTagName("head")[0].appendChild(t)}function o(){var e=/iphone|ipad|ipod|android|blackberry|mini|windows|palm/i.exec(navigator.userAgent.toLowerCase()),t={iphone:"ios",ipad:"ios",ipod:"ios",android:"android",windows:"windows"};return t[e||"windows"]||windows}function u(){return document.location.href.indexOf("index.html")>-1}var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/globals");t.init=function(){var e=new $.Deferred,t=o(),n="./css/"+t+(u()?".min":"")+".css";return s(n),e.resolve(),i.setLookAndFeel(t),e.promise()}}),define("syracuse-tablet/html/js/init/initLocale",["require","exports","module","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/locale");t.init=function(){var e="en_GB";return r.setLocale(e)}}),define("syracuse-tablet/html/js/application/appFactory",["require","exports","module","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/helpers/globals"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/logger").getLogger("factory"),i=e("syracuse-tablet/html/js/helpers/globals"),s={Application:function(){throw new Error("Not implemented")},DashoardPage:function(){throw new Error("Not implemented")},RegularPage:function(){throw new Error("Not implemented")},DefHomePage:function(){throw new Error("Not implemented")},LoginPage:function(){throw new Error("Not implemented")},SettingsPage:function(){throw new Error("Not implemented")},AboutPage:function(){throw new Error("Not implemented")},DaoApp:function(){throw new Error("Not implemented")},DaoSdata:function(){throw new Error("Not implemented")}},o=function(e){var n=new s.Application(e,t);return n.init(),r&&r("Application","Create ok"),n},u=function(e,t){var n=null,o=t.type,u=$.Deferred();try{if(o=="html"&&t.name=="login")n=new s.LoginPage(e,t);else if(o=="html"&&t.name=="settings")n=new s.SettingsPage(e,t);else if(o=="html"&&t.name=="about")n=new s.AboutPage(e,t);else if(o=="html"&&t.name=="defhome")n=new s.DefHomePage(e,t);else if(o=="dashboard"){var a=i.getApplication().dao.getDashboardInfo(t.dashboardUuid);n=new s.DashoardPage(e,t,a.prototype,a.article)}else{if(o!="regular")throw new Error("Unknown page type["+o+"]");i.getApplication().dao.getRegularPageInfo(t.name,t.options).then(function(r){n=new s.RegularPage(e,t,r.prototype,r.article),u.resolve(n)},function(e){u.reject(e)})}n&&u.resolve(n),r&&r("New Page","Create ok")}catch(f){u.reject(f)}finally{return u.promise()}},a=function(e){var t=new s.DaoApp(e);return r&&r("New DAO Application","Create ok"),t},f=function(e,t,n,i,o){var u;switch(e){case"representation":case"process":case"request":case"statistics":case"dashboardpage":case"externallink":u=new s.DaoSdata(t,n,i,o);break;default:throw new Error("Unknown DaoSdata type["+e+"]")}return r&&r("New DAO View","Create ok"),u};t.setImpl=function(e,t){s[e]=t},t.createApplication=o,t.createPage=u,t.createDaoApp=a,t.createDaoSdata=f}),define("syracuse-tablet/html/js/application/breadcrumb",["require","exports","module","syracuse-tablet/html/js/helpers/logger"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/logger").log,i=function(){var e=this;e.historyLength=window.history.length,e.destroy=function(){},e.getHistory=function(e){var t=[];window.$sm.getApplication.$elmt.find(".page.breadcrumb").each(function(e){var n=$(this).smPageController();n&&t.push({title:n.historyTitle,historyLength:n.historyLength})})},e.display=function(){var t="";e.getHistory().forEach(function(e,n){t.push("["+n+"] - title: "+e.title+" - historyLength:"+e.historyLength)}),alert(t)}};t.BreadCrumb=i}),define("syracuse-tablet/html/js/application/authentication",["require","exports","module","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/ajax/ajax"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/logger").getLogger("app"),i=e("syracuse-tablet/html/js/helpers/globals"),s=e("syracuse-tablet/html/js/ajax/ajax").getAjax().ajax,o={svcCheckLogin:"/requireJS/tabletCheckLogin",svcDoLogin:"/requireJS/tabletDoLogin",svcLogout:"/logout",authParams:"/sdata/syracuse/collaboration/syracuse/userProfiles/$service/current"},u=function(){var e=new $.Deferred,t=function(t,n){r&&r(n||"Check login request rejected",t),e.reject(t)};try{var n=i.baseLocation().host+o.authParams;return s("GET",o.svcCheckLogin,{checkurl:n}).then(function(t){e.resolve({authenticated:t.status===200})},t)}catch(u){t(u,"Check login request exception")}finally{return e.promise()}},a=function(e,t,n){var u=new $.Deferred,a=function(e,t){r&&r(t||"Login request rejected",e),u.reject(e)};try{var f=i.baseLocation().host+o.authParams;return s("GET",o.svcDoLogin,{checkurl:f,user:e,password:t,lang:n}).then(function(e){u.resolve(e.isSuccess,e.responseJSON,"Httpstatus: "+e.status+(e.descrHttpStatus?"["+e.descrHttpStatus+"]":""))},a)}catch(l){a(l,"Do login request exception")}finally{return u.promise()}},f=function(){var e=new $.Deferred,t=function(t,n){r&&r(n||"Logout request rejected",t),e.reject(t)};try{var n=i.baseLocation().host+o.svcLogout;return s("GET",n,{device:"phone"}).then(function(t){var n,r="";t.isSuccess||(r="Httpstatus: "+t.status+(t.descrHttpStatus?"["+t.descrHttpStatus+"]":""));var i=t.responseJSON?t.responseJSON.$diagnoses:null;i&&i.forEach(function(e){r+=(r.lengthj>0?"\n":"")+e.$message}),e.resolve(t.isSuccess,r)},t)}catch(u){t(u,"Do logout request exception")}finally{return e.promise()}};t.check=u,t.login=a,t.logout=f}),define("syracuse-tablet/html/js/application/eventListener",["require","exports","module","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/ui/modal"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/logger").getLogger("evts"),i=e("syracuse-tablet/html/js/helpers/globals"),s=e("syracuse-tablet/html/js/ui/modal"),o=function(e,t,n){var r=(e.attr(t)||"").trim();return n&&r.length===0?null:r},u=function(e,t,n){if(t.currentPage.getType()==="dashboard"){var r=o(e.closest(".s-m-control.s-m-vignette"),"id");if(n&&r.length===0)throw new Error("Vignette DOM elmt not found");var i=t.currentPage.getControl(r);if(n&&!i)throw new Error("Vignette not found - id["+r+"]");return i}if(n)throw new Error("Current page is not a dashboard");return null},a=function(e,t,n){var r=u(e,t,!0),i=r.getPageControl(n);return i?{control:i,vignette:r}:null},f=function(e){var t=e.split("&"),n={};for(var r=0;r<t.length;r++){var i=t[r].split("=");n[i[0]]=i[1]}return n},l=function(e,t,n,o,f){var l=function(e){var t="_doAction["+n+"]"+(f?" CtrlId["+f+"]":"")+" error";r&&r(t,e),s.error(t,e)};try{if(t.currentPage==null)throw new Error("No current page");var c="_act"+$.camelCase("-"+n),h;if(f){h=t.currentPage.getControl(f),h==null&&t.currentPage.getType()==="dashboard"&&(h=a($(e.target),t,f),h&&(h=h.control));if(h==null)throw new Error("Control not found")}else{var p=u($(e.target),t,!1);if(p)if(p[c])h=p;else{var d=p.getPage();d&&d[c]&&(h=d)}h==null&&t.currentPage[c]&&(h=t.currentPage),h==null&&(h=t)}if(!h[c])throw new Error("Method ["+c+"] not found in object/application/current page)");$.when(h[c].call(h,o)).then(function(e){e&&e.page&&i.getApplication().changePage(e.page)},function(e){l(e)})}catch(v){l(v)}},c=function(e){var t=function(e){var t="_bindActions error";r&&r(t,e),s.error(t,e)},n=e.$$elmt;if(!n)throw new Error("_bindActions - null $$elmt");n.delegate("[data-nav], [data-nav-refresh], [data-action]","click select change",function(n){try{if(e.hasModalOpen()){console.log("!!! Tries to execute an action data-action with a MODAL open.\nAction is skipped");return}var r=$(n.target);n.preventDefault(),n.stopPropagation();var i=r.closest("[data-nav], [data-nav-refresh]");if(i.length>0){var s={},a=o(i,"data-sdata-url");a.length>0&&(s["sdata-url"]=decodeURIComponent(a));var c=o(i,"data-nav-type");a.length>0&&(s.type=c);var h=o(i,"data-nav-target"),p;h==="vignette"?p=u(r,e,!0):h!=="application"&&e.$config("openLinkInVignette")&&(p=u(r,e,!1)),p||(p=e);if(o(i,"data-nav-refresh")==="true")s.pageRefresh=!0,s.controlId=o(i,"data-control-id",!0),p.refreshPage(s);else{var d=decodeURIComponent(o(i,"data-nav"));a=o(i,"data-gadget-id"),a.length>0&&(s["gadget-id"]=a),a=o(i,"data-sdata-parameters"),a&&a.length>0&&(s.sdataParameters=f(a)),a=o(i,"data-nav-noback"),s.noHistoryBack=a==="true",p.changePage(d,s)}return}i=r.closest("[data-action]");if(i.length>0){n.preventDefault(),n.stopPropagation();var v;i.is("select")?v=$(this).val():v=decodeURIComponent(o(i,"data-params"));var m=o(i,"data-control-id",!0);l(n,e,o(i,"data-action"),v,m);return}}catch(g){t(g)}})},h=function(e){var t=function(e){var t="_bindControlEvents error";r&&r(t,e),s.error(t,e)},n=["click","blur","change"];n.forEach(function(n){e.$$elmt.delegate(".ctrl-evt-"+n,n,function(r){r.preventDefault(),r.stopPropagation();try{var i=$(r.target),s=o(i.hasClass("s-m-control")?i:i.closest(".s-m-control"),"id");if(!e.currentPage)throw new Error("No current page");var u=e.currentPage.getControl(s);!u&&e.currentPage.getType()==="dashboard"&&(u=a(i,e,s),u&&(u=u.control));if(!u)throw new Error("Control not found - ctrlid["+s+"] in currentpage or vignettes");var f="on"+n.smCapitalize();if(!u[f]){console.log("!!! Method["+f+"] not found - ctrlid["+s+"]");return}u[f](r)}catch(l){t(l)}return})})},p=function(e){$(window).bind("popstate",function(t){t.preventDefault();var n=t.originalEvent.state;r&&r("popstate","history.length="+window.history.length,"State="+(n!=null));if(!n)return;setTimeout(function(){e.back(n)},0)}),$(window).bind("hashchange",function(){r&&r("hashchange","history.length="+window.history.length,"Hash="+window.location.hash)}),c(e),h(e)};t.bindEvents=p}),define("syracuse-tablet/html/js/application/gadget",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/helpers/globals"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/logger").getLogger("sdataDao"),s=e("syracuse-tablet/html/js/helpers/globals"),o=r.defineClass(function(e){var t=this;t._data=e},null,{destroy:function(){var e=this;e._data=null},isRequest:function(){return this._data.$type==="$request"},data:function(e){return this._data?this._data[e]:null},getEndPoint:function(){return this._data.endpoint||s.getEndpoint()},isDefaultEndpoint:function(){return!this._data.endpoint},getPageName:function(){var e=this;if(!e.isValid())return null;var t=e.isRequest()?e.getRequestRepresentation():e._data.representation;return e.getEndPoint()+"."+t+"."+e._data.facet},getSDataUrl:function(e){var t=this,n;switch(t._data.$type){case"$representation":["$details","$edit"].indexOf(t._data.action)>-1?n=e.data("$url",{$key:t._data.keyParameter}):["$create"].indexOf(t._data.action)>-1?(n=e.data("$url"),n=n.replace(/\((.*?)\)/,"/$template")):n=e.data("$url");break;case"$request":n=e.data("$baseUrl"),n=n+"/QUERY('"+t._data.requestName+"')?representation="+t.getRequestRepresentation()+".$query"}return n},getRequestRepresentation:function(){return"QUERY~"+this._data.requestName+"~"+this._data.requestLevel},getJSON:function(){return $.extend(!0,{},this._data)},isValid:function(){return this.getInvalidReason()==null},getInvalidReason:function(){var e=this._data.$type;return e==="$representation"||e==="$stats"||e==="$request"?this._data.$uuid.smStartsWith("test")?null:(this.getEndPoint()||"").trim().length==0?"No endpoint":null:null},getParameters:function(){return this._data.parameters||{}}});t.Klass=o}),define("syracuse-tablet/html/js/application/pageLoader",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/ui/modal","syracuse-tablet/html/js/application/gadget"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/logger").getLogger("pageLoader"),s=e("syracuse-tablet/html/js/helpers/globals"),o=e("syracuse-tablet/html/js/ui/modal"),u=e("syracuse-tablet/html/js/application/gadget").Klass,a=r.defineClass(function(e){this.callerInterface=e,this.factory=s.getApplication().factory},null,{destroy:function(){this.callerInterface=null,this.factory=null},load:function(e,t){var n=$.Deferred(),r=this,s=function(t){r.waitStop(),r.loadingError(n,e,t)},o=function(i){r.waitStop(),t!==!0&&(e.options==null||e.options.noHistoryBack!==!0)&&r.setHistory(i.state),r.succeeded(),n.resolve(i)};try{if(e===null||typeof e!="object")throw new Error("Bad state object");i&&i("_gotoPage","start","page: "+e.uuid);var u=r.getCurrentPage();if(u&&u.getProp("uuid")===e.uuid){i&&i("	Page is current -> Skip");return}r.waitStart();var a=$("#"+e.uuid).smPageController();if(a!=null){i&&i("	Page found in dom -> Activate");if(!a)throw new Error("Unexpected null page data");return r._pageActivate(a,function(){a.destroySiblings(),n.resolve(a)},t),n.promise()}r.factory.createPage(r.getRootElmt(),e).then(function(e){return a=e,a.load()}).then(function(){r._pageActivate(a,function(){o(a)},t)},function(e){s(e)})}catch(f){s(f)}return n.promise()},_pageActivate:function(e,t,n){var r=this;e.activate(r.getCurrentPage(),function(){r.setCurrentPage(e),t&&t()})},setHistory:function(e){this.callerInterface.setHistory(e)},waitStop:function(){this.callerInterface.waitStop()},waitStart:function(){this.callerInterface.waitStart()},getRootElmt:function(){return this.callerInterface.getRootElmt()},getCurrentPage:function(){return this.callerInterface.getCurrentPage()},setCurrentPage:function(e,t){var n=this,r=n.getCurrentPage();r&&(t===!0||r.getProp("cached")!==!0?r.destroy():r.deactivate()),n.callerInterface.setCurrentPage(e)},loadingError:function(e,t,n){this.callerInterface.loadingError?this.callerInterface.loadingError(e,t,n):o.error("Loading page ["+t.name+"] error",n,function(){e.reject(n)})},succeeded:function(){this.callerInterface.succeeded&&this.callerInterface.succeeded()}}),f=function(e){return!e||!e.options||!e.options.gadget?e:(e.options.gadget=e.options.gadget.getJSON(),e)},l=function(e){return!e||!e.options||!e.options.gadget?e:(e.options.gadget=new u(e.options.gadget),e)};t.stateSerialize=f,t.stateDeserialize=l,t.Klass=a}),define("syracuse-tablet/html/js/helpers/templating",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/ajax/ajax"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/logger").getLogger("tmpl"),s=e("syracuse-tablet/html/js/helpers/globals"),o=e("syracuse-tablet/html/js/ajax/ajax").getAjax().ajax,u={htmlHolder:"body",tmplPath:"templates",tmplExt:".tmpl"},a={},f=function(){var e=window.location.href.split("/");return e[e.length-1]=u.tmplPath+"/",e.join("/")}(),l=function(e,t,n){n=n||{};var i=$.Deferred();t=t||e;var l=r.domId(t);if(a[t])i.resolve(a[t]);else if($("#"+l).length>0)a[t]=$("#"+l).html(),i.resolve(a[t]);else{var c=f+e+u.tmplExt;s.isDvlpMode()&&(c+="?"+(new Date).getTime()),o("GET",c,null,{Accept:"text/html"}).then(function(e){try{var t=e.responseText||"";if(e.status===200){var r=$(u.htmlHolder);t.indexOf("<script")===-1?r.append($('<script id="'+l+'" type="text/x-handlebars-template">'+t+"</script>")):$(t).each(function(e,t){r.append(t)}),i.resolve($("#"+l).html())}else{if(n.failNotFound)throw new Error("Template not found status["+e.status+"]");i.resolve(null)}}catch(r){i.reject(r)}},function(e){i.reject(e)})}return i.promise()},c=function(e,t,n,r){var s=$.Deferred();return r=r||e,l(e,r,n).then(function(n){try{typeof n=="string"&&(n=Handlebars.compile(n),a[r]=n),s.resolve(n?n(t||{}):null)}catch(o){i&&i("!!!! Compileemplate  rejected",o),i&&i("filePath[#"+e+"]\n	tmplId[#"+r+"]\n	Ext ["+u.tmplExt+"]"),s.reject(o)}},function(t){i&&i("!!!! Read template rejected",t),i&&i("filePath[#"+e+"]\n	tmplId[#"+r+"]\n	Ext ["+u.tmplExt+"]"),s.reject(t)}),s.promise()},h=function(e,t){var n=a[e];return a[e]||(n=$("#"+r.domId(e)).html(),n&&(n=Handlebars.compile(n),a[e]=n)),n?n(t||{}):null},p=function(e){var t=[];e.forEach(function(e){t.push(c(e),{})}),$.when(t).always(function(t){var n=0;for(var s=0;s<arguments.length;s++)r.isError(arguments[s])||n++;i&&i("Templates preload","Count["+e.length+"]","NbOk["+(arguments.length-n)+"]","NbKo["+n+"]")})},d=function(e){if(!e||e.length==0)return;f=s.baseLocation().withPath,e.smStartsWith("/")||(f+="/"),f+=e,e.smEndsWith("/")||(f+="/"),f+=u.tmplPath+"/"},v=function(e){var t=e?"#"+r.domId(e):"script[type='text/x-handlebars-template']",n=$(u.htmlHolder).find(t).remove()},m=function(){s.isDvlpMode()&&v()};t.setTmplRoot=d,t.preload=p,t.remove=v,t.execSync=h,t.exec=c,t.init=m}),define("syracuse-tablet/html/js/pages/html/pageTemplates",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/helpers/templating","syracuse-tablet/html/js/ajax/ajax","syracuse-tablet/html/js/ui/modal"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/globals"),s=e("syracuse-tablet/html/js/helpers/logger").getLogger("page"),o=e("syracuse-tablet/html/js/helpers/templating"),u=e("syracuse-tablet/html/js/ajax/ajax").getAjax().ajax,a=e("syracuse-tablet/html/js/ui/modal"),f={tmplPage:"pages/",tmplDefHeader:"pages/default/header",tmplRoot:"templates/pages/",dataFile:"/data.json",tmplHead:"header",tmplMain:"main"},l={title:"Sage X3 Mobile",home:" Home",about:" About",logout:" Logout",settings:" Settings",application:""},c=function(e,t){var n=this,r=$.Deferred(),u=function(t){s&&s(e.name+"Template header error",t),r.resolve(null)};try{t==null&&r.resolve(null);var a=f.tmplPage+e.name+"/";o.exec(a+f.tmplHead,t,{failNotFound:!1}).then(function(e){e==null&&t!=null?(l.application=i.getApplication().getTitle(),o.exec(f.tmplDefHeader,l).then(function(e){r.resolve(e)},function(e){u("Error loading default page header")})):r.resolve(e)},function(e){u(e)})}catch(c){u(c)}finally{return r.promise()}},h=function(e,t){var n=this,r=$.Deferred();try{t==null&&r.resolve(null);var i=f.tmplPage+e.name+"/";o.exec(i+f.tmplMain,t).then(function(e){r.resolve(e)},function(t){d(r,e.name,t)})}catch(s){d(r,e.name,s)}finally{return r.promise()}},p=function(e){var t=$.Deferred(),n=i.baseLocation().htmlRoot+e.name+f.dataFile;return e.detailid&&(n=n.replace(".json","."+e.detailid+".json")),u("GET",n).then(function(e){t.resolve(e.status===200?e.responseJSON:null)},function(e){t.reject(e)}),t.promise()},d=function(e,t,n){var i='<div class="alert alert-danger" role="alert"> Error loading page  "'+t+'"</div>';n&&(i+="<p>Error</p><pre>"+JSON.stringify(r.toDiagnose(n,null,!0),null,2)+"</pre>"),e&&e.resolve(i)};t.getTemplateContent=h,t.getTemplateHeader=c,t.getData=p,t.resolveError=d}),define("syracuse-tablet/html/js/pages/html/modalSelectContext",["require","exports","module","syracuse-tablet/html/js/ui/modal","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){var r=e("syracuse-tablet/html/js/ui/modal"),i=e("syracuse-tablet/html/js/helpers/locale"),s='	<div class="modal fade" id="modal-endpoint" tabindex="-1" role="dialog">     <div class="modal-dialog"> 		<div class="modal-content"> 		    <div class="modal-header"> 				<h4 class="modal-title" id="myModalLabel">{{title}}</h4> 		    </div> 		    <div class="modal-body"> 				<div class="form-group"> 					<label>{{label_endpoints}}</label>					<select class="form-control" id="login-select-endpoint"> 					{{#each endpoints}}						<option value="{{this.application}}.{{this.contract}}.{{this.dataset}}" {{#if this.selected}}selected{{/if}}>						{{this.description}}						</option>					{{/each}}					</select>				</div> 			<div class="form-group"> 				<label>{{label_roles}}</label>				<select class="form-control" id="login-select-role"> 				{{#each roles}}					<option value="{{this.code}}" {{#if this.selected}}selected{{/if}}>					{{this.description}}					</option>				{{/each}}				</select>			</div> 			<div class="form-group"> 				<label>{{label_languages}}</label>				<select class="form-control" id="login-select-language"> 				{{#each languages}}					<option value="{{this.code}}" {{#if this.selected}}selected{{/if}}>					{{this.description}}					</option>				{{/each}}				</select>			</div> 			{{#if label_warning}}			<div class="alert alert-warning" role="alert">				{{label_warning}}			</div>			{{/if}}		    </div> 		    <div class="modal-footer"> 		        <button type="button" class="btn" data-action="validate">{{label_ok}}</button>     			<button type="button" class="btn btn-default" data-action="cancel">{{label_cancel}}</button> 			</div> 		</div> 	</div> 	</div>',o=function(e,t,n,o,u){var a=$.Deferred();try{try{var f=Handlebars.compile(s),l={title:i.text("modal.context.title"),label_endpoints:i.text("modal.context.endpoint"),endpoints:t,label_roles:i.text("modal.context.roles"),roles:n,label_languages:i.text("modal.context.languages"),languages:o,label_ok:i.text("modal.context.ok"),label_cancel:i.text("modal.context.cancel"),label_warning:u&&i.text("modal.context.warning")};e&&(t.forEach(function(t){t.application+"."+t.contract+"."+t.dataset===e.endpoint?t.selected=!0:t.selected=!1}),n.forEach(function(t){t.code===e.role?t.selected=!0:t.selected=!1}),o.forEach(function(t){t.code===e.language?t.selected=!0:t.selected=!1})),f=f(l),r.modal(f,function(e,t){if(e==="validate"){var n=t.find("#login-select-endpoint").val(),r=t.find("#login-select-role").val(),i=t.find("#login-select-language").val();a.resolve({endpoint:n,role:r,language:i})}else e==="cancel"&&a.resolve()})}catch(c){a.reject(c)}}catch(c){a.reject(c)}finally{return a.promise()}};t.selectContext=o}),define("syracuse-tablet/html/js/sdata/sdataUtils",["require","exports","module","syracuse-tablet/html/js/helpers/utils"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=/^(.*)\(\'(.*)\'\)$/i,s=function(e){var t=r.parseURL(e);if(t.query&&t.query.representation){t.representation=t.query.representation,t.facet=null;var n=t.representation.indexOf(".");n!=-1&&(t.facet=t.representation.substr(n+1),t.facet.charAt(0)=="$"&&(t.facet=t.facet.substr(1)),t.representation=t.representation.substr(0,n))}var s=t.directory.split("/");if(s.length<=4)throw new Error("Bad sdata url:"+e);t.dispatch=s[1],t.application=s[2],t.contract=s[3],t.dataset=s[4];if(s.length===4)return t;var o=i.exec(s[5]);return o&&o.length==3?(t.entity=o[1],t.id=o[2],t.id&&t.id.trim().Length===0&&(t.id=null)):(t.entity=s[5],t.id=null),s.length===5?t:t},o=function(e,t){t&&(e=t.parseExpression(e));var n=s(e);if(n.query.representation){var r=n.application+"."+n.contract+"."+n.dataset;return{type:"navig",page:r+"."+n.query.representation,sDataUrl:e}}if(n.entity==="$mobileDashboards")return{type:"navig",page:n.query.dashboard+".$dashboard",parameters:n.query.parameters};throw new Error("getLink - not implemented\n"+e)},u=function(e,t){typeof e=="string"&&(e=o(e,t));if(e.type==="navig")return'data-nav="'+e.page+'" data-sdata-url="'+encodeURIComponent(e.sDataUrl)+'"';if(e.type==="act")return'data-action="'+e.action+'" data-params="'+encodeURIComponent(e.params||"")+'"';throw new Error("_getLinkAttrs - unknonwn type\n"+e.type)},a=function(e){var t=[],n=[],r=function(i,s,o){o||(o=[]);if(!e)return null;if(n.indexOf(i)>=0)return;if(Array.isArray(i))n.push(i),s&&o.push(s),i.forEach(function(e,t){r(e,t+"",o)}),s&&o.pop(s);else if($.isPlainObject(i)){n.push(i);for(var u in i)u==="$diagnoses"?i[u].forEach(function(e){var n=[].concat(o);s&&n.push(s),u&&n.push(u),e=$.extend({},e),e.$path=n.join("."),t.push(e)}):(s&&o.push(s),r(i[u],u,o),s&&o.pop(s))}};return e?(r(e),t):null};t.parseSDataURL=s,t.getLinkInfo=o,t.getLinkAttrs=u,t.scanDiagnoses=a}),define("syracuse-tablet/html/js/sdata/sdataHttp",["require","exports","module","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/ajax/ajax","syracuse-tablet/html/js/helpers/globals"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/logger").getLogger("sDataHttp"),i=e("syracuse-tablet/html/js/ajax/ajax").getAjax().ajax,s=e("syracuse-tablet/html/js/helpers/globals"),o={noJsonParsing:!0},u=function(e){var t=$.Deferred(),e=e||{};e.options=$.extend(e.options||{},o),e.login&&(e.headers=$.extend(e.headers||{},{Authorization:"Basic "+window.btoa("guest:guest")}));try{r&&r("_httpSend - Begin - Method:"+e.method+"\n	"+e.url),i(e.method,e.url,e.send,e.headers,e.options).then(function(e){r&&r("_httpSend - End - status="+e.status+" - "+e.textStatus);var t=e.responseText?e.responseText.trim():"";return t.length>0&&["{","["].indexOf(t.charAt(0))>=0?e.responseJSON=JSON.parse(t):e.responseJSON=null,e}).then(function(e){t.resolve(e)},function(e){t.reject(e)})}catch(n){t.reject(n)}return t.promise()};t.fetchRemotePrototype=function(e){var t=$.Deferred(),n=this;try{var r=s.baseLocation(),o=e.split("."),u=o.slice(0,3).join("/"),a=o.slice(3,5).join("."),f=r.host+"/mobile1/"+u+"/$prototypes('"+a+"')";i("GET",f).then(function(n){if(n.isSuccess)t.resolve(n.responseJSON);else{var r="Http error status["+n.status+"] reading prototype id ["+e+"]";n.responseJSON&&n.responseJSON.length>0&&(r+="\n"+JSON.stringify(n.responseJSON,null,2)),t.reject(new Error(r))}},function(e){t.reject(e)})}catch(l){t.reject(l)}finally{return t.promise()}},t.send=u}),define("syracuse-tablet/html/js/sdata/sdataCommonResources",["require","exports","module","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/sdata/sdataUtils","syracuse-tablet/html/js/sdata/sdataHttp","syracuse-tablet/html/js/ajax/ajax"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/globals"),i=e("syracuse-tablet/html/js/sdata/sdataUtils"),s=e("syracuse-tablet/html/js/sdata/sdataHttp"),o=e("syracuse-tablet/html/js/ajax/ajax").getAjax().ajax,u="/sdata/syracuse/collaboration/syracuse/mobileApplications/$service/availableApplications",a="/requireJS/tabletLocalePreferences",f="/sdata/syracuse/collaboration/syracuse/userProfiles/$service/current",l="/sdata/syracuse/collaboration/syracuse/endPoints?representation=endPoint.$query",c="/sdata/syracuse/collaboration/syracuse/roles?representation=role.$query",h=function(e,t,n){var r=e;r+="\nStatus: "+t.status+" - "+t.descrHttpStatus,n&&(r+="\n"+n);var s=i.scanDiagnoses(t.responseJSON);return s&&(r+="\nDIAGNOSES\n"+JSON.stringify(s,null,2)),r};t.queryMyApplications=function(){var e=$.Deferred(),t={method:"GET",url:u};return r.isDvlpMode()&&(t.url.indexOf("?")>-1?t.url+="&":t.url+="?",t.url+="allApps"),t.parsedUrl=i.parseSDataURL(t.url),s.send(t).then(function(n){if(n.isSuccess&&n.responseJSON){var r=n.responseJSON.$resources;e.resolve(r)}else{var i=h("Loading application list error",n,t.url);e.reject(new Error(i))}},function(t){e.reject(t)}),e.promise()},t.queryMyApplicationDetail=function(e){var t=$.Deferred(),n={method:"GET",url:e.$metaDataUrl};return n.parsedUrl=i.parseSDataURL(n.url),s.send(n).then(function(r){if(r.isSuccess&&r.responseJSON){var i=r.responseJSON;t.resolve(i)}else{var s=h("Error oading application detail - Name: "+e.applicationName,r,n.url);t.reject(new Error(s))}},function(e){t.reject(e)}),t.promise()},t.queryLocalePreferences=function(){var e=$.Deferred();return o("GET",a).then(function(t){if(t.isSuccess){var n=[];(t.responseJSON.$resources||[]).forEach(function(e){n.push({$uuid:e.$uuid,code:e.code,description:e.description})}),e.resolve(n)}else e.resolve([])},function(t){e.reject(t)}),e.promise()},t.getUserProfile=function(){var e=$.Deferred(),t={method:"GET",url:f};return t.parsedUrl=i.parseSDataURL(t.url),s.send(t).then(function(n){if(n.isSuccess&&n.responseJSON){var r=n.responseJSON;e.resolve(r)}else{var i=h("Loading user profile error",n,t.url);e.reject(new Error(i))}},function(t){e.reject(t)}),e.promise()},t.queryEndpoints=function(){var e=$.Deferred(),t={method:"GET",url:l};return t.parsedUrl=i.parseSDataURL(t.url),s.send(t).then(function(n){if(n.isSuccess&&n.responseJSON){var r=n.responseJSON.$resources;e.resolve(r)}else{var i=h("Loading endpoint list error",n,t.url);e.reject(new Error(i))}},function(t){e.reject(t)}),e.promise()},t.queryRoles=function(){var e=$.Deferred(),t={method:"GET",url:c};return t.parsedUrl=i.parseSDataURL(t.url),s.send(t).then(function(n){if(n.isSuccess&&n.responseJSON){var r=n.responseJSON.$resources;e.resolve(r)}else{var i=h("Loading roles list error",n,t.url);e.reject(new Error(i))}},function(t){e.reject(t)}),e.promise()}}),define("syracuse-tablet/html/js/storage/localStorage",["require","exports","module","syracuse-tablet/html/js/helpers/logger"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/logger").getLogger("sessstorage"),i=null,s=function(){if(i!==null)return i;i=!1;try{window.localStorage.setItem("__test_availability__","__test_availability__"),i=!0}catch(e){}return i},o=function(e,t){if(!s()){r&&r("local.unsupported.getItem("+e+"):"+n);return}var n=window.localStorage.getItem(e);return r&&r("local.getItem("+e+"):"+n),!0===t&&a(e),n},u=function(e,t){if(!s()){console.log("local.unsupported.setItem("+e+"):"+t);return}return r&&r("local.setItem("+e+"):"+t),window.localStorage.setItem(e,t)},a=function(e){if(!s()){r&&r("local.unspported.removeItem("+e+")");return}return r&&r("local.removeItem("+e+")"),window.localStorage.removeItem(e)};t.removeItem=a,t.setItem=u,t.getItem=o}),define("syracuse-tablet/html/js/init/initContext",["require","exports","module","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/pages/html/modalSelectContext","syracuse-tablet/html/js/helpers/notifications","syracuse-tablet/html/js/sdata/sdataCommonResources","syracuse-tablet/html/js/storage/localStorage"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/globals"),i=e("syracuse-tablet/html/js/helpers/locale"),s=e("syracuse-tablet/html/js/pages/html/modalSelectContext"),o=e("syracuse-tablet/html/js/helpers/notifications"),u=e("syracuse-tablet/html/js/sdata/sdataCommonResources"),a=e("syracuse-tablet/html/js/storage/localStorage");t.getLastUsedContext=function(e){var t;try{var n=e+"_lastContext",r=a.getItem(n);r&&r.length>0&&(t=JSON.parse(r))}catch(i){}return t},t.setLastUsedContext=function(e,t){try{var n=e+"_lastContext",r=JSON.stringify(t);a.setItem(n,r)}catch(i){}},t.init=function(e,n){var a,f=[],l=[],c=r.getUserCtx(),h=c&&c.$user,p=t.getLastUsedContext(h);return u.queryEndpoints().then(function(e){return a=e,u.queryLocalePreferences()}).then(function(e){return l=e,u.queryRoles()}).then(function(e){f=e}).then(function(){var t=$.Deferred(),r=function(i){var o;e||i==null?o=s.selectContext(i,a,f,l,n):o=$.smResolve(i),o.then(function(e){var t;return t=p!=null||e!=null||e!=null,{isValid:t,context:e}}).then(function(n){n.isValid?t.resolve(n.context):(e=!0,r(n.context))})};return r(p),t.promise()}).then(function(e){return e&&(i.setLocale(e.language),r.setEndpoint(e.endpoint),r.setUserCtx({$user:c.$user,$role:e.role,$lang:e.language})),e}).then(function(e){return e&&(t.setLastUsedContext(h,e),o.publish("sm.context.changed",e)),e})}}),define("syracuse-tablet/html/js/application/application",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/ui/modal","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/application/breadcrumb","syracuse-tablet/html/js/helpers/notifications","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/application/authentication","syracuse-tablet/html/js/application/eventListener","syracuse-tablet/html/js/application/pageLoader","syracuse-tablet/html/js/pages/html/pageTemplates","syracuse-tablet/html/js/init/initContext"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/ui/modal"),s=e("syracuse-tablet/html/js/helpers/logger").getLogger("app"),o=e("syracuse-tablet/html/js/application/breadcrumb").BreadCrumb,u=e("syracuse-tablet/html/js/helpers/notifications"),a=e("syracuse-tablet/html/js/helpers/globals"),f=e("syracuse-tablet/html/js/application/authentication"),l=e("syracuse-tablet/html/js/application/eventListener"),c=e("syracuse-tablet/html/js/application/pageLoader"),h=e("syracuse-tablet/html/js/pages/html/pageTemplates"),p=e("syracuse-tablet/html/js/init/initContext"),d=function(e){u.subscribe(e,["sm.context.changed","sm.logout","sm.switch.app","sm.modal.open","sm.modal.close"],1)},v=r.defineClass(function(e,t){var n=this;n.breadCrumb=new o,n.$$elmt=e,n.currentPage=null,n.uuid=null,n.homePageId="defhome",n._$config={transition:null,openLinkInVignette:!1},n.factory=t,n._pageLoader=null,n._nbModals=0},null,{init:function(){var e=this;l.bindEvents(e),e.dao=e.factory.createDaoApp(e),d(e),e.$$elmt.show()},destroy:function(){var e=this;e.breadCrumb&&e.breadCrumb.destroy(),e.breadCrumb=null,u.unsubscribe(),e.removeAllPages(),e.currentPage=null;if(e._pageLoader=null)e._pageLoader.destroy(),e._pageLoader=null;r.unbindObj(e),r.unbindObj(e.$$elmt),$(window).unbind()},getTitle:function(){return this.dao.getApplicationName()},_activate:function(){var e=this;s&&s("Activate application"),e.dao.isApplicationLoaded()?(s&&s("Application loaded -> Goto appication home"),e.gotoHome()):(e.homePageId="defhome",e.uuid=null,s&&s("No application loaded -> Goto default home"),e.gotoHome())},gotoHome:function(){var e=this;setTimeout(function(){e.changePage(e.homePageId||"defhome")})},$config:function(e){return this._$config[e]},notifSwitchApp:function(e){var t=this;if(!e)throw new Error("NULL appInfo");s&&s("Switch to Syracuse Mobile Application "+e.$application.applicationName),t.dao.setApplicationDesc(e),t.homePageId=t.dao.getHomeDashboard()||"defhome",t.uuid=e.$uuid,t.removeAllPages(),t.gotoHome()},notifContextChanged:function(e){var t=this;t._activate()},notifLogout:function(){s&&s("Application Notification Logout"),a.setUserCtx(null)},notifModalOpen:function(){this._nbModals++},notifModalClose:function(){this._nbModals=Math.max(this._nbModals-1,0)},hasModalOpen:function(){return this._nbModals>0},_actBreadCrumb:function(){this.breadCrumb.display()},_actReload:function(){window.location.reload()},_actBack:function(){window.history.back()},_actSwitchContext:function(){var e=this;p.init(!0,!0).then(function(e){},function(t){h.resolveError(null,e.state.name,t)})},_actLogout:function(){var e=$.Deferred(),t=this;return i.confirm("logout",function(n){n?(t.waitWheelStart(),f.logout().then(function(n,r){n?(u.publish("sm.logout"),e.resolve({page:"login"}),t.waitWheelStop()):(t.waitWheelStop(),i.error(r,function(){e.resolve(null)}))},function(n){t.waitWheelStop(),i.error("Logout error",n,function(){e.resolve(null)})})):e.resolve(null)}),e.promise()},_actClearCache:function(){var e=this,t=$.Deferred();return i.confirm("clearCache",function(n){n?(e.waitWheelStart(),a.getCache().clearCache().always(function(){e.waitWheelStop(),t.resolve(null)})):t.resolve(null)}),t.promise()},back:function(e){var t=this;s&&s("back","start","\n"+JSON.stringify(e,null,2));if(!e)throw new Error("Back","Unexpected null history state");return t._gotoPage(c.stateDeserialize(e),!0)},_gotoPage:function(e,t){var n=this;return n._pageLoader||(n._pageLoader=new c.Klass({waitStop:function(){n.waitWheelStop()},getRootElmt:function(){return n.$$elmt},waitStart:function(){n.waitWheelStart()},getCurrentPage:function(){return n.currentPage},setCurrentPage:function(e){n.currentPage=e,e.state.home&&n.removeAllPages(e)},setHistory:function(e){e=c.stateSerialize(e),window.history.pushState(e,e.uuid,null),s&&s("pushState",e.uuid,"history.length="+window.history.length)}})),n._pageLoader.load(e,t)},removeAllPages:function(){var e=this,t=arguments;if(!e.$$elmt)return;e.$$elmt.find(".page").each(function(e){var n=$(this).smPageController();n&&Array.prototype.indexOf.call(t,n)==-1&&n.destroy()})},changePage:function(e,t){var n=this;return typeof e=="string"&&s&&s("changePage",e),n._gotoPage(n.getPageInfo(e,t))},refreshPage:function(e){var t=this;if(!t.currentPage)throw new Error("No current page");t.currentPage.refresh(e).then(function(){},function(e){i.error("Refresh page",e)})},getPageInfo:function(e,t){return this.dao.getPageInfo(e,t)},getPrototype:function(e){var t=this;return t.dao.getPrototype(e)},waitWheelStart:function(){if(!this.currentPage)return;this.currentPage.waitWheelStart()},waitWheelStop:function(){if(!this.currentPage)return;this.currentPage.waitWheelStop()}});t.Application=v}),define("syracuse-tablet/html/js/controls/ctrlFactory",["require","exports","module","syracuse-tablet/html/js/helpers/logger"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/logger").getLogger("factory"),i={},s={string:"application/x-string",password:"application/x-password",text:"text/plain",integer:"application/x-integer",real:"application/x-real",decimal:"application/x-decimal",quantity:"application/x-quantity",choice:"application/x-choice","boolean":"application/x-boolean",date:"application/x-date",time:"application/x-time",datetime:"application/x-datetime",reference:"application/x-reference",array:"application/x-array",vignette:"application/x-vignette",layout:"application/x-layout",pageheader:"application/x-pageheader"},o=function(e,t,n,r,i,s){if(!e)return;s=s||{},s.isGridCell=!0,e.jquery||(e=$(e));var o=u(t,null,n,r,s);o.buildHtml(e,i,s),o.detachElmt()},u=function(e,t,n,r,o){if(!e)throw new Error("Control - null parent or controller");var u,a=r.data("$type");switch(a){case s.string:case s.password:case s.text:switch(r.data("$format")){case"$phone":u=new i.PhoneField(e,n,r);break;case"$email":u=new i.EmailField(e,n,r);break;default:u=new i.Alphanum(e,n,r)}break;case s.integer:case s.real:case s.decimal:u=new i.Numeric(e,n,r);break;case s.quantity:u=new i.Quantity(e,n,r);break;case s.choice:u=new i.Combo(e,n,r);break;case s.boolean:u=new i.CheckBox(e,n,r);break;case s.date:case s.time:case s.datetime:u=new i.Date(e,n,r);break;case s.reference:u=new i.Reference(e,n,r);break;case s.array:r.data("$cube")?u=new i.CubeChart(e,n,r):r.isQuery()?u=new i.ArrayQuery(e,n,r):r.isLookup()?u=new i.ArrayQLookup(e,n,r):u=new i.Array(e,n,r);break;case s.vignette:u=new i.Vignette(e,n,r);break;default:u=new i.TypeUnknown(e,n,r)}if(!o||o.isGridCell!==!0){if(!t)throw new Error("Parent's control is mandatory");t.appendStructElmt(u),e.addControl(u)}return u},a=function(e,t,n){var o=n.$layoutType||"stack",u;if(o=="stack")u=i.LayoutStack;else if(o=="row")u=i.LayoutRow;else if(o=="tab")u=i.LayoutTab;else if(o=="hub")u=i.LayoutHub;else{if(o!="hubGroup")return r&&r("layout type="+o+" is not implemented"),null;u=i.LayoutHubGroup}var a=new u(e,s.layout,n);return t?t.appendStructElmt(a):a.parent=e,a},f=function(e){var t=new i.PageHeader(e,s.pageheader);return e.addControl(t),t};t.createControl=u,t.createLayout=a,t.createPageHeader=f,t.appendField2Cell=o,t.type=function(e){return s[e]},t.setImpl=function(e,t){i[e]=t}}),define("syracuse-tablet/html/js/helpers/articleParser",["require","exports","module","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/ctrlFactory"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/logger").getLogger("articleParser"),i=e("syracuse-tablet/html/js/helpers/utils"),s=e("syracuse-tablet/html/js/controls/ctrlFactory"),o=i.defineClass(function(e){var t=this;t.page=e},null,{doParse:function(e,t,n){var i=this;if(e.$layoutType){var o=s.createLayout(i.page,n,$.extend({},e));return o&&e.$items&&e.$items.forEach(function(e){i.doParse(e,t,o)}),o}if(e.$bind){var u=t.getPrototype(e.$bind);if(!u)throw new Error("Property not found in prototype - id["+e.$bind+"]");if(!u.$isExcluded)return s.createControl(i.page,n,$.extend({},e),u)}else r&&r("$layoutType or $bind expected")},parse:function(e,t){var n=this;try{if(!e||!t)throw new Error("Not empty $article and prototype are expected");if(!e.$layoutType)throw new Error("$layoutType expected for root layout");return n.doParse(e,t)}catch(s){throw r&&r("$article parser error",s),new Error("Error parsing $article ["+s.message+"]\n"+i.cleanStack(s.stack))}}}),u=function(e,t,n){var r=new o(e);return r.parse(t,n)},a={skipblock:!0,skipsection:!0,include:["$category","$layoutType","$title","$bind"],exclude:["$items","$widths"],protoExclude:["application/x-array","application/json"]},f=function(e){var t=[];e=e.split(",");if(e.length===0)throw new Error("Number of cells/rows must be > 0");if(e.length>12)throw new Error("Number of cells/rows must be <= 12");var n=0;e.forEach(function(e){e=parseInt(e,10),e=Math.ceil(e/12),n+=e,t.push(e)});if(n>12){var r=n-12;t.sort();while(r>0)for(var i=t.length-1;i>=0;i--)r>0&&t[i]>1&&(t[i]=t[i]-1,r--)}else if(n<12){var r=12-n;t.sort();while(r>0)for(var i=0;i<t.length;i++)r>0&&(t[i]=t[i]+1,r--)}return t.join(",")},l=function(e,t){if(!e)return null;var n;e.$layout?n=l(e.$layout,t):n={};if(e.$layoutType){if(!e.$items)throw new Error("$items is missing");n.$items=[],e.$items.forEach(function(e){n.$items.push(l(e,t))})}for(var r in e)r==="$widths"?n[r]=f(e[r]):t.exclude.indexOf(r)===-1&&t.include.indexOf(r)>=0&&(n[r]=e[r]);return n},c=function(e,t,n){return n=$.extend({},a,n),l(e,n)};t.article2Controls=u,t.convertDesktop=c}),define("syracuse-tablet/html/js/pages/page",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/helpers/articleParser","syracuse-tablet/html/js/controls/ctrlFactory"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/logger").getLogger("page"),s=e("syracuse-tablet/html/js/ui/uiUtils"),o=e("syracuse-tablet/html/js/helpers/articleParser"),u=e("syracuse-tablet/html/js/controls/ctrlFactory"),a={fullpage:'		<section class="s-m-page s-m-full" id="{{pageid}}" data-appid="{{appid}}" style=""> 			<header></header> 			<section></section> 			<footer></footer> 		</section> 	',vignette:'<section class= "s-m-page s-m-nested" data-pageid="{{pageid}}"></section>'},f=function(e,t){var n=e+"compiled",r=a[n];return r||(r=a[n]=Handlebars.compile(a[e])),r(t)},l=["$more"],c=r.defineClass(function(e,t,n,r){var i=this;i.prototype=n,i.article=r,i.rootLayout=null,i.headerCtrl=null,i.vignette=t.options&&t.options.vignette,i.historyLength=0,i.historyTitle=t.id,i._$$parent=e,i.state=t,i.id=t.uuid,i.controlsMap={},i._nbControls=0,i.dao=null,i._initRootElmt(e)},null,{_initRootElmt:function(e){var t=this,n,r={appid:t.state.appId,pageid:t.id};t.isVignette()?t.$$contentElmt=t.$$elmt=$(f("vignette",r)):(t.$$elmt=$(f("fullpage",r)),t.$$headerElmt=t.$$elmt.children("header"),t.$$footerElmt=t.$$elmt.children("footer"),t.$$contentElmt=t.$$elmt.children("section")),t.$$elmt.hide(),t.$$elmt.appendTo(e),t.$$elmt.smPageController(t)},destroy:function(){var e=this;e._waiting&&(s.waitWheelDestroy(e._waiting),e._waiting=null),i&&i("Page destroy",e.id),e.getProp.type==="appdashboard"&&e._destroyAppChilds(),e.headerCtrl&&(e.headerCtrl.destroy(),e.headerCtrl=null);if(e.controlsMap){for(var t in e.controlsMap)e.controlsMap[t].destroy();e.controlsMap=null}e._nbControls=0,e.dao&&(e.dao.destroy(),e.dao=null),e.$$elmt&&(r.unbindObj(e.$$elmt),e.$$elmt=null),r.unbindObj(e),e.article=null,e.prototype=null,e._$$parent=null},_destroyAppChilds:function(){var e=this;if(e.$$elmt){var t=e._$$parent.find('.class[data-appId="'+e.getProp("appId")+'"]');t.length>0&&(i&&i("Page destroychilds",e.id),t.each(function(t){var n=$(this).smPageController();n&&n!=e&&n.destroy()}))}},destroySiblings:function(){var e=this;if(e.$$elmt){i&&i("Page destroySiblings","destroySiblings");var t=e.$$elmt.siblings(function(e){var t=$(this).smPageController();t&&t.destroy()})}},getType:function(){return this.state.type},getProp:function(e){return this.state[e]},setDao:function(e){var t=this;t.dao&&t.dao.destroy&&t.dao.destroy(),t.dao=e},getDao:function(){return this.dao},refresh:function(e,t){var n=this,r=$.Deferred(),i=e["sdata-url"],s=e.controlId,o=function(r){var i=s?l.indexOf(e.type)>=0:!1;if(t){var o="wait"+r.smCapitalize();t[o]&&t[o](i?s:null);return}n["waitWheel"+r.smCapitalize()].call(n,i?s:null)};try{var u=function(){o("stop"),n.refreshControls(s?[s]:null,e),r.resolve()};i?(o("start"),n.state.options["sdata-url"]=i,n.loadData().then(function(){u()},function(e){o("stop"),r.reject(e)})):u()}catch(a){r.reject(a)}finally{return r.promise()}},refreshControls:function(e,t){var n=this,r;e&&e.length>0?(r=[],e.forEach(function(e){r.push(n.controlsMap[e])})):r=n.controlsMap,r.forEach(function(e){e.refresh(n.dao,t)})},load:function(){var e=this,t=$.Deferred();try{e.loadStructure().then(function(){return e.loadData()}).then(function(){return e.render()}).then(function(){return e.afterRender()}).then(function(){t.resolve()},function(e){t.reject(e)})}catch(n){t.reject(n)}finally{return t.promise()}},loadStructure:function(){var e=$.Deferred(),t=this;try{if(!t.article||!t.prototype)throw new Error("loadStructure - NULL article or prototype");t.$$headerElmt&&(t.headerCtrl=u.createPageHeader(t,t.article,t.prototype)),t.rootLayout=o.article2Controls(t,t.article,t.prototype),e.resolve()}catch(n){e.reject(n)}finally{return e.promise()}},loadData:function(){var e=$.Deferred(),t=this;try{t.setDao(null),e.resolve()}catch(n){e.reject(n)}finally{return e.promise()}},render:function(){var e=this;try{if(!e.rootLayout)throw new Error("buildHtml - NULL rootLayout");e.headerCtrl&&e.headerCtrl.buildHtml(e.$$headerElmt,e.dao),e.$$contentElmt&&(e._beforeAddContent(),e.rootLayout.buildHtml(e.$$contentElmt,e.dao,null))}catch(t){return $.smReject(t)}return $.smResolve()},isEditMode:function(){return!1},_beforeAddContent:function(){},addTitle:function(e,t){var n=this,r="";e&&(r="<header><h3>"+e+"</h3></header>"),t&&(r+="<p>"+t+"<p>"),r.length>0&&$(r).prependTo(n.$$contentElmt)},afterRender:function(){var e=this;e.isVignette()&&e.getNbControls()===1&&e.rootLayout.$$elmt.height("100%")},addControl:function(e){if(!e)return;this._nbControls++,this.controlsMap[e.id]=e},getControl:function(e){return this.controlsMap&&this.controlsMap[e]},getNbControls:function(e){return this._nbControls},activate:function(e,t){var n=this;i&&i("Page activate",n.id),n.historyLength=window.history.length,n._show(e,t)},deactivate:function(e,t){var n=this;i&&i("Page deactivate",n.id),n._hide(e,t)},_show:function(e,t){var n=this,r=n.getProp("transition");if(e){e._hide(function(){n.$$elmt.show(r||0,function(){t&&t()})});return}n.$$elmt.show(r==null?0:r,t)},_hide:function(e){var t=this;if(!t.$$elmt){e&&e();return}var n=t.getProp("transition");t.$$elmt.hide(n==null?0:n,e)},isActive:function(){var e=this;return e.$$elmt&&e.$$elmt.is(":visible")},isVignette:function(){var e=this;return e.vignette===!0},getOpenLinkAttrs:function(){return{"data-nav":this.state.name}},_actTest:function(e){var t=$('<h5 style="color:red">Action test succeeded</h5>').prependTo(this.$$elmt);window.setTimeout(function(){t.remove()},2e3)},waitWheelStart:function(e){var t=this;if(e){var n=t.controlsMap[e];n&&n.waitStart&&n.waitStart();return}t._waiting||(t._waiting=s.waitWheelCreate(t.$$elmt)),s.waitWheelStart(t._waiting)},waitWheelStop:function(e){var t=this;if(e){var n=t.controlsMap[e];n&&n.waitStop&&n.waitStop();return}t._waiting&&s.waitWheelStop(t._waiting)}});t.Page=c}),define("syracuse-tablet/html/js/pages/pageDashboard",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/pages/page","syracuse-tablet/html/js/helpers/logger"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/pages/page").Page,s=e("syracuse-tablet/html/js/helpers/logger").getLogger("page"),o=r.defineClass(function(e,t,n,r){var s=this;i.call(s,e,t,n,r),s.vignettes=[]},i,{destroy:function(){var e=this;i.prototype.destroy.call(e),e.vignettes=null},loadData:function(){return null},_beforeAddContent:function(){var e=this;e.addTitle(e.prototype.data("$title"),e.prototype.data("$description"))},addControl:function(e){var t=this;i.prototype.addControl.call(t,e),e&&e.isVignette()&&t.vignettes.push(e)},findVignetteControl:function(e){var t=this;if(!t.vignettes)return null;var n,r;for(var i=0;i<t.vignettes.length;i++){r=t.vignettes[i],n=r.getPageControl(e);if(n)return{control:n,vignette:r}}return null},afterRender:function(){var e=this,t=$.Deferred(),n=function(e){s&&s("Error loading vignettes",e),t.reject(e)};try{i.prototype.afterRender.call(e);var r=[];e.vignettes.forEach(function(t){var n={sdataParameters:e.state.options&&e.state.options.sdataParameters||{}};t.load(null,n)}),t.resolve()}catch(o){n(o)}finally{return t.promise()}}});t.Page=o}),define("syracuse-tablet/html/js/sdata/entities/clientContract",["require","exports","module","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/utils"],function(e,t,n){function a(e,t,n){var r={$page:{},$cache:{}};return f(e,t,n,r.$page),r}function f(e,t,n,r){if(t==="$query"||t==="$lookup")r.$prototype={$properties:{$resources:{$type:"application/x-array",$item:l(e,t)}}},r.$prototype.$url="{$baseUrl}/"+e+"?representation="+e+"."+t,r.$prototype.$properties.$resources.$item.$key="{$uuid}",r.$prototype.$properties.$resources.$item.$value=n.$value,r.$prototype.$properties.$resources.$item.$links={$details:{$url:"{$baseUrl}/"+e+"('{$key}')?representation="+e+".$details",$title:"Details"},$edit:{$url:"{$baseUrl}/"+e+"('{$key}')?representation="+e+".$edit",$title:"Edit"}},r.$prototype.$links={$create:{$url:"{$baseUrl}/"+e+"('{$key}')?representation="+e+".$create",$title:"Create New"}},r.$prototype.$key="{$uuid}";else{r.$prototype=l(e,t),r.$prototype.$url="{$baseUrl}/"+e+"('{$key}')?representation="+e+"."+t,r.$prototype.$key="{$uuid}",r.$prototype.$links={};var i={$edit:{$url:"{$baseUrl}/"+e+"('{$key}')?representation="+e+".$edit",$title:"Edit"},$query:{$url:"{$baseUrl}/"+e+"?representation="+e+".$query",$title:"List"},$save:{$url:"{$baseUrl}/"+e+"('{$key}')?representation="+e+".$save",$title:"Save"},$details:{$url:"{$baseUrl}/"+e+"('{$key}')?representation="+e+".$details",$title:"Detail"}};switch(t){case"$create":r.$prototype.$links.$save=i.$save,r.$prototype.$links.$query=i.$query;break;case"$details":r.$prototype.$links.$edit=i.$edit,r.$prototype.$links.$query=i.$query;break;case"$edit":r.$prototype.$links.$save=i.$save,r.$prototype.$links.$details=i.$details,r.$prototype.$links.$query=i.$query;break;default:throw new Error(t?"facet "+t+" not handled yet":"No facet specified")}}var s=n.$articles&&n.$articles[t];s&&(r.$article=s),r.$prototype.$baseUrl="http://localhost:8124/mobile1/x3/erp/local",n.$prototype&&n.$prototype(r.$prototype,e,t)}function l(e,t){var n=o[e],r={$properties:{}};return Object.keys(n.$properties).forEach(function(e){var t=n.$properties[e],i=t.$type||"application/x-string",s=r.$properties[e]={$type:i};for(var o=0;o<u.length;o++){var a=u[o],f=t[a];f&&(s[a]=f)}}),r}var r=e("syracuse-tablet/html/js/helpers/globals"),i=e("syracuse-tablet/html/js/helpers/utils"),s={},o={},u=["$title","$isExcluded","$isHidden","$isMandatory","$isReadOnly","$isDisabled","$format","$x3Format","$unit","$value","$minimum","$maximum","$exclusiveMinimum","$exclusiveMaximum","$minItems","$maxItems","$isNullable","$isUnique","$pattern","$minLength","$maxLength","$precision","$scale","$enum"];t.getApps=function(){var e=[];return Object.keys(s).forEach(function(t){var n=s[t];e.push(n.$application)}),e},t.getAppDetail=function(e){return s[e]},t.registerApp=function(e){s[e.$application.applicationName]=e},t.registerEntity=function(e){o[e.$entityName]=e},t.getEntity=function(e){return o[e]},t.getPageInfo=function(e,t){var n=e.split(".");n.length===5&&(n=n.slice(3,5));if(n[0].smStartsWith("QUERY~")){var s=n[0].split("~");n[0]=s[1]}var u=o[n[0]];if(!u)return null;var a={home:!1,type:"regular",cached:!1,refreshed:!1,appId:"root",changeHash:!1};if(t){a.options=t?$.extend(!0,{},t):{};var f=t["gadget-id"];f&&(a.options.gadget=r.getApplication().dao.getGadget(f))}return a.name=e,a.transition||(a.transition=r.getApplication().$config("transition")),a.uuid=i.readableuid("page",a.appId||"root",a.type,a.name),a},t.getRegularPageInfo=function(e){var t=e.split(".");t.length===5&&(t=t.slice(3,5));if(t[0].smStartsWith("QUERY~")){var n=t[0].split("~");t[0]=n[1]}var r=o[t[0]],i;return r&&(i=a(t[0],t[1],r)),$.smResolve(i)},t.getDashboardInfo=function(e){},t.getPrototype=function(e,t){return l(e,t)}}),define("syracuse-tablet/html/js/sdata/sdatawhere/operator",["require","exports","module","syracuse-tablet/html/js/helpers/utils"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils");t.Operator=function(e,t,n,r,i,s,o){var u=this;u.code=e,u.text=t,u.precedence=n,u.isPrefix=r,u.isInfix=i,u.isAssociative=s,u.isPredicate=o},r.defineClass(t.Operator,null,{toString:function(){return this.text}}),t.operators=new function(){function n(n,r,i,s,o,u,a){var f=new t.Operator(n||r,r,i,s,o,u,a);e.operators[f.text]=f}function r(){n(null,".",1,!1,!0,!0,!1),n(null,"not",2,!0,!1,!1,!1),n("*","mul",3,!1,!0,!0,!1),n("/","div",3,!1,!0,!0,!1),n("%","mod",3,!1,!0,!0,!1),n(null,"+",4,!1,!0,!0,!1),n(null,"-",4,!0,!0,!0,!1),n("=","eq",5,!1,!0,!1,!0),n("<>","ne",5,!1,!0,!1,!0),n("<","lt",5,!1,!0,!1,!0),n("<=","le",5,!1,!0,!1,!0),n(">","gt",5,!1,!0,!1,!0),n(">=","ge",5,!1,!0,!1,!0),n(null,"between",5,!1,!0,!1,!0),n(null,"in",5,!1,!0,!1,!0),n(null,"like",5,!1,!0,!1,!0),n(null,"and",6,!1,!0,!0,!0),n(null,"or",7,!1,!0,!0,!0),n(null,"(",8,!0,!1,!1,!1),n(null,")",8,!1,!1,!1,!1),n(null,",",8,!1,!1,!1,!1)}var e=this;return e.operators={},r(),e}}),define("syracuse-tablet/html/js/sdata/sdatawhere/token",["require","exports","module","syracuse-tablet/html/js/helpers/utils","./operator"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("./operator");t.tokenType={identifier:"identifier",operator:"operator",literal:"literal"},t.Token=function(e,t,n,r,i){var s=this;s.type=e,s.value=i;var o=t,u=n,a=r;s.getRemainingText=function(){return o.substring(u,o.length)}},r.defineClass(t.Token,null,{matches:function(e){return this.value instanceof i.Operator&&this.value.code==e}})}),define("syracuse-tablet/html/js/sdata/sdatawhere/tokenizer",["require","exports","module","./token","./operator"],function(e,t,n){var r=e("./token"),i=e("./operator");t.Tokenizer=new function(){function t(e,t){while(t<e.length&&e[t]===" ")t++;return t}function n(e){return(new RegExp("[0-9]")).test(e)}function s(e){return(new RegExp("[$a-zA-Z%']")).test(e)}function o(e){return(new RegExp("[$a-zA-Z0-9_%']")).test(e)}function u(e,t,i,s){var o=i+1;while(o<t.length&&n(t[o]))o++;var u;if(o<t.length&&t[o]==="."){o++;while(o<t.length&&n(t[o]))o++;u=parseFloat(e.substring(i,o))}else u=parseInt(e.substring(i,o),10);return s.push(new r.Token(r.tokenType.literal,e,i,o-i,u)),o}function f(e,t,n,s){var u=n+1;while(u<t.length&&o(t[u]))u++;var f=t.substr(n,u-n),l=i.operators.operators[f.toLowerCase()];if(l!=null)s.push(new r.Token(r.tokenType.operator,e,n,u-n,l));else{var c;(c=a[f])!==undefined?s.push(new r.Token(r.tokenType.literal,e,n,u-n,c)):s.push(new r.Token(r.tokenType.identifier,e,n,u-n,f))}return u}function l(e,t,n,i){var s=t[n],o=n+1,u=0,a="";while(o<t.length){if(t[o]===s){o++;if(o===t.length||t[o]!==s)return i.push(new r.Token(r.tokenType.literal,e,n,o-n,a)),o}a+=t[o++]}throw new Error("quoted string not terminated: "+e.substring(n))}function c(e,t,n,s){var o=i.operators.operators[t];return s.push(new r.Token(r.tokenType.operator,e,n,1,o)),n+1}function h(e,t,n,i){var s=n+1,o=t.length;while(s<o){if(t[s]=="@")break;s++}if(s===t.length)throw new Error("Where parser: date constant not terminated:"+e.substring(n,e.length));var u=t.substr(n+1,s-n-1),a=new Date(u);if(a!=null){var f=new r.Token(r.tokenType.literal,e,n,s+1-n,a);f.dataType="datetime",f.svalue=u,i.push(f)}return s+1}var e=this,a={"true":!0,"false":!1,"null":null};return e.tokenize=function(e){var r=[],i=0;while(i<e.length){i=t(e,i);var o=e[i];switch(o){case"@":i=h(e,e,i,r);break;case'"':case"'":i=l(e,e,i,r);break;case".":case"-":case"+":case"(":case")":case",":i=c(e,o,i,r);break;default:if(s(o))i=f(e,e,i,r);else{if(!n(o))throw new Error("invalid character: "+e.substring(i));i=u(e,e,i,r)}}}return r},e}}),define("syracuse-tablet/html/js/sdata/sdatawhere/expression",["require","exports","module","syracuse-tablet/html/js/helpers/utils"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils");t.Expression=function(e){var t=this;t.children=null,e.operator?(t.type="operator",t.value=e.operator,t.children=[],e.expression1&&t.children.push(e.expression1),e.expression2&&t.children.push(e.expression2)):e.expressionType&&(t.type=e.expressionType,t.value=e.value,t.svalue=e.svalue,t.dataType=e.dataType,t.type==="function"&&(t.children=[]))},r.defineClass(t.Expression,null,{isPredicate:function(){switch(this.type){case"operator":return this.value.isPredicate;case"identifier":return!0;case"function":return!0;case"literal":return!1;default:throw new Error("invalid expression type: "+this.type)}},toString:function(){if(this.children==null)return this.value.toString();var e=[];e.push("["+this.value.toString());for(var t=0;t<this.children.length;t++)e.push(" "+this.children[t].toString());return e.push("]"),e.join("")}})}),define("syracuse-tablet/html/js/sdata/sdatawhere/parser",["require","exports","module","./token","./operator","./tokenizer","./expression"],function(e,t,n){var r=e("./token"),i=e("./operator"),s=e("./tokenizer"),o=e("./expression");t.Parser=new function(){function n(e,t,n,r){if(t[0]==e.length||!e[t[0]].matches("and"))throw new Error("invalid expression: expected 'and' after "+e[t[0]-1].getRemainingText());t[0]++;var i=u(e,t,r);n.children.push(i)}function u(e,t,r){var s=a(e,t);while(t[0]<e.length){var l=e[t[0]],c=l.value instanceof i.Operator?l.value:null;if(c==null||!c.isInfix||c.precedence>r)break;t[0]++;if(c.code=="in"){if(t[0]===e.length||!e[t[0]].matches("("))throw new Error("invalid expression: '(' expected after "+l.getRemainingText());t[0]++,s=new o.Expression({operator:c,expression1:s}),f(e,l,t,s.children)}else{var h=u(e,t,c.precedence-1);s=new o.Expression({operator:c,expression1:s,expression2:h}),c.code=="between"&&n(e,t,s,c.precedence)}if(!c.isAssociative&&c.precedence==r)return s}return s}function a(e,t){if(t[0]==e.length)throw new Error("premature end of expression");var n=e[t[0]];switch(n.type){case r.tokenType.identifier:return t[0]++,t[0]<e.length&&e[t[0]].matches("(")?c(e,n,t):new o.Expression({expressionType:"identifier",value:n.value});case r.tokenType.literal:return t[0]++,new o.Expression({expressionType:"literal",value:n.value,svalue:n.svalue,dataType:n.dataType});case r.tokenType.operator:var i=n.value;if(!i.isPrefix)throw new Error("invalid expression: expected beginning of term at "+n.getRemainingText());return t[0]++,l(e,i,t);default:throw new Error("internal error: bad token type "+n.type)}}function f(e,n,r,i){if(r[0]<e.length&&e[r[0]].matches(")")){r[0]++;return}while(r[0]<e.length){var s=u(e,r,t);i.push(s);if(r[0]<e.length&&e[r[0]].matches(")")){r[0]++;return}if(r[0]==e.length||!e[r[0]].matches(","))throw new Error("invalid expression: expected ',' or ')' at "+e[r[0]].getRemainingText());r[0]++}throw new Error("invalid function call syntax: argument missing after "+n.getRemainingText())}function l(e,t,n){var r;switch(t.code){case"-":case"not":return r=u(e,n,1),new o.Expression({operator:t,expression1:r});case"(":r=u(e,n,t.precedence);if(n[0]==e.length||!e[n[0]].matches(")"))throw new Error("invalid expression: expected ')' after "+e[n[0]-1].getRemainingText());return n[0]++,r;default:throw new Error("internal error: bad prefix operator "+t.code)}}function c(e,t,n){n[0]++;var r=new o.Expression({expressionType:"function",value:t.value});return f(e,t,n,r.children),r}var e=this,t=8;return e.parse=function(e){if(e==null||e.length==0)return null;var n=s.Tokenizer.tokenize(e),r=[];r[0]=0;var i=u(n,r,t);if(r[0]!=n.length)throw new Error("invalid expression: unexpected token at "+n[r[0]].getRemainingText());return i},e}}),define("syracuse-tablet/html/js/sdata/sdatawhere/whereUtils",["require","exports","module"],function(e,t,n){function r(e,t,n){if(t.type=="identifier"){t.property=e[t.value];var i=n&&n.$properties&&n.$properties.$resources?n.$properties.$resources.$item:null;i&&i.$properties&&i.$properties[t.value]&&i.$properties[t.value].$type==="application/x-boolean"&&(t.property=t.property===!0?2:1)}else if(t.type=="literal")t.property=t.dataType=="datetime"?t.svalue:t.value;else if(t.children){var s=null;if(t.type=="operator")switch(t.value.code){case"and":t.children.forEach(function(t){r(e,t,n)}),t.property=t.children[0].property&&t.children[1].property;break;case"or":t.children.forEach(function(t){r(e,t,n)}),t.property=t.children[0].property||t.children[1].property;break;case"between":t.children.forEach(function(t){r(e,t,n)}),t.property=t.children[0].property>=t.children[1].property&&t.children[0].property<=t.children[2].property;break;case">=":t.children.forEach(function(t){r(e,t,n)}),t.property=t.children[0].property>=t.children[1].property;break;case">":t.children.forEach(function(t){r(e,t,n)}),t.property=t.children[0].property>t.children[1].property;break;case"<=":t.children.forEach(function(t){r(e,t,n)}),t.property=t.children[0].property<=t.children[1].property;break;case"<":t.children.forEach(function(t){r(e,t,n)}),t.property=t.children[0].property<t.children[1].property;break;case"like_s":t.children.forEach(function(t){r(e,t,n)}),t.property=t.children[0].property.toUpperCase().indexOf(t.children[1].property.toUpperCase())===0;break;case"like":t.children.forEach(function(t){r(e,t,n)});var o=t.children[1].property.toUpperCase().replace(/%/g,"");t.property=t.children[0].property.toUpperCase().indexOf(o)>=0;break;case"=":t.children.forEach(function(t){r(e,t,n)}),t.children[0].property=="0000-00-00"&&t.children[1].dataType==="datetime"&&(t.children[0].property=""),t.children[1].property=="0000-00-00"&&t.children[0].dataType==="datetime"&&(t.children[1].property=""),t.property=t.children[0].property==t.children[1].property;break;case"<>":t.children.forEach(function(t){r(e,t,n)}),t.children[0].property=="0000-00-00"&&t.children[1].dataType==="datetime"&&(t.children[0].property=""),t.children[1].property=="0000-00-00"&&t.children[0].dataType==="datetime"&&(t.children[1].property=""),t.property=t.children[0].property!=t.children[1].property;break;case".":r(e,t.children[0],n),r(t.children[0].property,t.children[1],n),t.property=t.children[1].property;break;default:t.property=s,t.children.forEach(function(t){r(e,t,n),t.type=="literal"&&(t.property=s)})}else if(t.type=="function")throw new Error("exp.type == 'function' not implemented")}}t.execWhere=function(e,t,n){return t==null?!0:(r(e,t,n),t.property)}}),define("syracuse-tablet/html/js/sdata/sdataDispatcherLocal",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/sdata/entities/clientContract","syracuse-tablet/html/js/sdata/sdatawhere/parser","syracuse-tablet/html/js/sdata/sdatawhere/whereUtils"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/sdata/entities/clientContract"),s=e("syracuse-tablet/html/js/sdata/sdatawhere/parser").Parser,o=e("syracuse-tablet/html/js/sdata/sdatawhere/whereUtils");t.Dispatcher=r.defineClass(function(){},null,{getEntity:function(e){var t=e&&e.split(".");return t&&t[0]&&t[0].smStartsWith("QUERY~")?t=t[0].split("~")[1]:t=t&&t[0],t&&i.getEntity(t)},accept:function(e,t){var n=this,r=$.Deferred();return r.resolve(n.getEntity(e.$representation)!=null),r.promise()},prototype:function(e,t){var n=$.Deferred();return n.reject("Dispatcher should never request for prototypes since they are cached in the application model on client side"),n.promise()},"new":function(e,t){var n=this,r=n.getEntity(e.$representation);return r.$services.$new(e,t)},read:function(e,t){var n=this,r=n.getEntity(e.$representation);return r.$services.$read(e,t)},query:function(e,t){var n=this,r=n.getEntity(e.$representation),u=r.$services.$query(e,t);if(e.$where){var a=$.Deferred();return u.then(function(t){var n=t.$resources,r=s.parse(e.$where),u=e.$representation&&e.$representation.split("."),f=i.getPrototype(u[0],u[1]),l=[];n.forEach(function(e,t){o.execWhere(e,r,f)&&l.push(e)}),a.resolve({$resources:l})},function(e){a.reject(e)}),a.promise()}return u},save:function(e,t){var n=this,r=n.getEntity(e.$representation);return r.$services.$save(e,t)},"delete":function(e,t){var n=this,r=n.getEntity(e.$representation);return r.$services.$delete(e,t)},service:function(){var e=$.Deferred();return e.resolve(),e.promise()}})}),define("syracuse-tablet/html/js/sdata/sdataDispatcherHttp",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/sdata/sdataHttp"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/globals"),s=e("syracuse-tablet/html/js/helpers/logger").getLogger("sdataDispatcher"),o=e("syracuse-tablet/html/js/sdata/sdataHttp");t.Dispatcher=r.defineClass(function(){},null,{accept:function(){var e=$.Deferred();return e.resolve(!0),e.promise()},_useCache:function(e,t){var n=e.$parsedUrl&&e.$parsedUrl.query&&e.$parsedUrl.query.nocache;return n?!1:!0},prototype:function(e,t){var n=$.Deferred();return n.reject("Dispatcher should never request for prototypes since they are cached in the application model on client side"),n.promise()},"new":function(e,t){var n=this,i=$.Deferred();try{n._newGetCache(e,t).then(function(i){return i?(s&&s("Read template from cache: "+e.$representation),i.$uuid=r.UUID(),i):n._newDoHttp(e,t).then(function(t){if(t.isSuccess){var r=t.responseJSON;return n._newPutCache(e,r).then(function(){return r})}return $.smReject(new Error("Error reading $template: "+JSON.stringify(t)))})}).then(function(e){i.resolve(e)},function(e){i.reject(e)})}catch(o){i.reject(o)}return i.promise()},_newGetCache:function(e){var t=this;if(t._useCache(e,null,"read")){var n=i.getCache();return s&&s("Reading template from cache: "+e.$representation),n.read({$representation:"$templates",$endpoint:e.$endpoint,$key:e.$representation})}return s&&s("Disabled reading template from cache : "+e.$representation),$.smResolve()},_newDoHttp:function(e,t){var n={method:"GET",url:e.$link.$url};return o.send(n)},_newPutCache:function(e,t){var n=this;if(n._useCache(e,t,"write")){s&&s("Writing template to cache: "+e.$representation);var r=i.getCache();return r.put({$representation:"$templates",$key:e.$representation,$endpoint:e.$endpoint,$data:t})}return s&&s("Disabled writing template to cache : "+e.$representation),$.smResolve()},read:function(e,t){var n=this,r=$.Deferred();try{n._readGetCache(e,t).then(function(r){return r?(s&&s("Read data from cache: "+e.$representation),r):n._readDoHttp(e,t).then(function(t){if(t.isSuccess){var r=t.responseJSON;return n._readPutCache(e,r).then(function(){return r})}return $.smReject(new Error("Error reading data: "+JSON.stringify(t)))})}).then(function(e){r.resolve(e)},function(e){r.reject(e)})}catch(i){r.reject(i)}return r.promise()},_readGetCache:function(e){var t=this;if(t._useCache(e,null,"read")){var n=i.getCache();return s&&s("Reading data from cache: "+e.$representation),n.read({$representation:e.$representation,$endpoint:e.$endpoint,$key:e.$key})}return s&&s("Disabled reading data from cache : "+e.$representation),$.smResolve()},_readDoHttp:function(e,t){var n={method:"GET",url:e.$link.$url};return o.send(n)},_readPutCache:function(e,t){var n=this;if(n._useCache(e,t,"write")){s&&s("Writing data to cache: "+e.$representation);var r=i.getCache();return r.put({$representation:e.$representation,$key:e.$key,$endpoint:e.$endpoint,$data:t})}return s&&s("Disabled writing data to cache : "+e.$representation),$.smResolve()},query:function(e,t){var n=this,r=$.Deferred();try{n._queryGetCache(e,t).then(function(r){if(r&&r.length>0){s&&s("Queried data from cache: "+e.$representation);var i={};n._queryCutAndAddLinks(e,t,r,i);if(i.$resources.length>0)return i}return n._queryDoHttp(e,t).then(function(t){if(t.isSuccess){var r=t.responseJSON;return n._queryPutCache(e,r).then(function(){return r})}return $.smReject(new Error("Error querying data: "+JSON.stringify(t)))})}).then(function(e){r.resolve(e)},function(e){r.reject(e)})}catch(i){r.reject(i)}return r.promise()},_queryCutAndAddLinks:function(e,t,n,r){var s=this,o=e.$parsedUrl.source.split("?")[0],u="",a,f=30;e.$parsedUrl.query&&e.$parsedUrl.query.where&&(u+="&where="+e.$parsedUrl.query.where),a=e.$parsedUrl.query&&e.$parsedUrl.query.key;var l,c,h=r.$resources=[],p=!1,d=!1,v,m=e.$endpoint+"."+e.$representation,g=i.getApplication().getPrototype(m),y,b;g=g.$properties&&g.$properties.$resources&&g.$properties.$resources.$item||g;var w;g.$key?w=g.$key.replace(/{/g,"").replace(/}/g,""):w="$uuid";var E=g.$properties[w],S=E&&E.$type&&E.$type!=="application/x-string";if(a&&a.smStartsWith("gt")){y=S?0+a.substr(3):""+a.substr(3);for(v=0;v<n.length;v++){b=s._calculateKey(g,n[v]),b=S?+b:""+b;if(b>y){h.push(n[v]);if(h.length>f)break}else d=!0}h.length>0&&(h.length>f&&(h.pop(),p=!0),l=s._calculateKey(g,h[0]),c=s._calculateKey(g,h[h.length-1]))}else if(a&&a.smStartsWith("lt")){if(a.length>3){y=S?+a.substr(3):""+a.substr(3);for(v=n.length-1;v>=0;v--){b=s._calculateKey(g,n[v]),b=S?0+b:""+b;if(b<y){h.push(n[v]);if(h.length>f)break}else p=!0}h.length>f&&(d=!0,h.pop())}else for(v=n.length-1;v>=0;v--){h.push(n[v]);if(h.length>f)break}h.length>0&&(h.length>f&&(d=!0,h.pop()),r.$resources=h=h.reverse(),l=s._calculateKey(g,h[0]),c=s._calculateKey(g,h[h.length-1]))}else{for(v=0;v<n.length;v++){h.push(n[v]);if(h.length>f)break}h.length>0&&(h.length>f&&(p=!0,h.pop()),l=s._calculateKey(g,h[0]),c=s._calculateKey(g,h[h.length-1]))}var x=r.$links={};a&&(x.$first={$url:o+"?representation="+e.$representation+u}),a&&l&&d&&a!=="gt"&&(x.$previous={$url:o+"?representation="+e.$representation+u+"&key=lt."+l}),a!=="lt"&&c&&p&&(x.$next={$url:o+"?representation="+e.$representation+u+"&key=gt."+c}),a!=="lt"&&(x.$last={$url:o+"?representation="+e.$representation+u+"&key=lt"}),x.$more={$url:e.$parsedUrl.source+"&nocache=true"}},_queryGetCache:function(e){var t=this;if(t._useCache(e,null,"read")){var n=i.getCache();s&&s("Querying data from cache: "+e.$representation);var r=e.$endpoint+"."+e.$representation,u=i.getApplication().dao.getPrototype(r);return u?(t._checkQueryPrototype(e,u),n.query({$proto:u,$endpoint:e.$endpoint,$where:e.$where})):o.fetchRemotePrototype(e).then(function(r){return t._checkQueryPrototype(e,r),n.query({$proto:r,$endpoint:e.$endpoint,$where:e.$where})})}return s&&s("Disabled querying data from cache : "+e.$representation),$.smResolve()},_queryDoHttp:function(e,t){var n={method:"GET",url:e.$link.$url};return o.send(n)},_queryPutCache:function(e,t){var n=this;try{if(n._useCache(e,t,"write")){s&&s("Writing data to cache: "+e.$representation);var r=i.getCache(),o=e.$endpoint+"."+e.$representation,u=i.getApplication().getPrototype(o);return u=u.$properties&&u.$properties.$resources&&u.$properties.$resources.$item||u,t.$resources.forEachPromise(function(t){var i=n._calculateKey(u,t);return r.put({$representation:e.$representation,$key:i,$endpoint:e.$endpoint,$data:t})})}return s&&s("Disabled writing data to cache : "+e.$representation),$.smResolve()}catch(a){return $.smReject(a)}},save:function(e,t){var n=this,r=$.Deferred();try{n._saveDoHttp(e,t).then(function(t){if(t.isSuccess){var r=t.responseJSON;return n._savePutCache(e,r).then(function(){return r})}return $.smReject(new Error("Error saving object: "+JSON.stringify(t)))}).then(function(e){r.resolve(e)},function(e){r.reject(e)})}catch(i){r.reject(i)}return r.promise()},_saveDoHttp:function(e,t){var n={method:e.$link.$method,url:e.$link.$url,send:t};return o.send(n)},_savePutCache:function(e,t){var n=this;try{if(n._useCache(e,t,"write")){s&&s("Writing data to cache: "+e.$representation);var r=i.getCache(),o=e.$key;if(!o){var u=e.$endpoint+"."+e.$representation,a=i.getApplication().getPrototype(u);a=a.$properties&&a.$properties.$resources&&a.$properties.$resources.$item||a,o=n._calculateKey(a,t)}return r.put({$representation:e.$representation,$key:o,$endpoint:e.$endpoint,$data:t})}return s&&s("Disabled writing data to cache : "+e.$representation),$.smResolve()}catch(f){return $.smReject(f)}},"delete":function(e,t){var n=this,r=$.Deferred();try{n._deleteDoHttp(e,t).then(function(t){if(t.isSuccess){var r=t.responseJSON;return n._deleteRemoveCache(e,r).then(function(){return r})}return $.smReject(new Error("Error saving object: "+JSON.stringify(t)))}).then(function(e){r.resolve(e)},function(e){r.reject(e)})}catch(i){r.reject(i)}return r.promise()},_deleteDoHttp:function(e,t){var n={method:e.$link.$method,url:e.$link.$url};return o.send(n)},_deleteRemoveCache:function(e,t){var n=this;if(n._useCache(e,t,"write")){s&&s("Deleting data from cache: "+e.$representation);var r=i.getCache();return r.remove({$representation:e.$representation,$key:e.$key,$endpoint:e.$endpoint})}return s&&s("Disabled deleting data from cache : "+e.$representation),$.smResolve()},service:function(){},_calculateKey:function(e,t){var n;return e.$key?n=e.$key.replace(/\{(.*?)\}/g,function(e,n){return t[n]}):n=t.$uuid,n},_checkQueryPrototype:function(e,t){e.$representation.smStartsWith("QUERY~")&&t.$properties.$resources.$item&&!t.$properties.$resources.$item.$type&&(t.$properties.$resources.$item.$type="{$baseType}."+e.$representation)}})}),define("syracuse-tablet/html/js/sdata/sdataDispatcher",["require","exports","module","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/sdata/sdataUtils","syracuse-tablet/html/js/sdata/sdataDispatcherLocal","syracuse-tablet/html/js/sdata/sdataDispatcherHttp"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/logger").getLogger("sdataDispatcher"),i=e("syracuse-tablet/html/js/sdata/sdataUtils"),s=e("syracuse-tablet/html/js/sdata/sdataDispatcherLocal").Dispatcher,o=e("syracuse-tablet/html/js/sdata/sdataDispatcherHttp").Dispatcher,u=[new s,new o];t.dispatch=function(e,n,i){var s=$.Deferred();try{r&&r("Dispatch: "+e.$method+": "+e.$url);var o=t.parseLink(e),a;u.forEachPromise(function(e){return e.accept(o,n)},function(e,t){return t===!0?(a=e,!0):!1});var f=a[o.$operation](o,n);if(!f)throw new Error("Could not dispatch: "+e.$method+": "+e.$url+" ("+o.$operation+")");f.then(function(e){s.resolve(e)},function(e){s.reject(e)})}catch(l){s.reject(l)}return s.promise()},t.parseLink=function(e){var t=e.$url,n={$link:e,$parsedUrl:i.parseSDataURL(e.$url)},r=/\('(.*?)'\)/;n.$endpoint=n.$parsedUrl.application+"."+n.$parsedUrl.contract+"."+n.$parsedUrl.dataset;var s=n.$parsedUrl.directory,o;if(e.$method==="GET"){if(t.indexOf("$prototypes")>-1)n.$operation="prototype",n.$representation=/\$prototypes\('(.*?)'\)/.exec(t)[1];else if(s.indexOf("$template")>-1)n.$operation="new",n.$representation=n.$parsedUrl.query&&n.$parsedUrl.query.representation;else if((o=s.indexOf("/$services/"))>-1){var u=s.substring(o+11);n.$operation="service",n.$service=u,n.$representation=n.$parsedUrl.query&&n.$parsedUrl.query.representation}else{var a=r.exec(s),f=s.indexOf("/QUERY(")>-1;a&&!f?(n.$operation="read",n.$key=a[1],n.$representation=n.$parsedUrl.query&&n.$parsedUrl.query.representation):(n.$operation="query",n.$representation=n.$parsedUrl.query&&n.$parsedUrl.query.representation)}n.$parsedUrl.query&&n.$parsedUrl.query.where&&(n.$where=n.$parsedUrl.query.where)}else if((o=s.indexOf("/$services/"))>-1){var u=s.substring(o+11);n.$operation="service",n.$service=u,n.$representation=n.$parsedUrl.query&&n.$parsedUrl.query.representation}else if(e.$method==="DELETE"){var a=r.exec(s);n.$operation="delete",n.$key=a[1],n.$representation=n.$parsedUrl.query&&n.$parsedUrl.query.representation}else{var a=r.exec(s);a?(n.$operation="save",n.$key=a[1],n.$representation=n.$parsedUrl.query&&n.$parsedUrl.query.representation):(n.$operation="save",n.$representation=n.$parsedUrl.query&&n.$parsedUrl.query.representation)}return n}}),define("syracuse-tablet/html/js/pages/pageRegular",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/pages/page","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/sdata/sdataDispatcher","syracuse-tablet/html/js/application/appFactory"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/logger").getLogger("page"),s=e("syracuse-tablet/html/js/pages/page").Page,o=e("syracuse-tablet/html/js/helpers/globals"),u=e("syracuse-tablet/html/js/sdata/sdataDispatcher"),a=e("syracuse-tablet/html/js/application/appFactory"),f=r.defineClass(function(e,t,n,r){var i=this;s.call(i,e,t,n,r),i.gadget=i.state.options.gadget,i.sDataUrl=null},s,{destroy:function(){var e=this;s.prototype.destroy.call(e),e.gadget=null},isEditMode:function(){var e=this,t=e.prototype.data("$url");return t&&(t.indexOf("$create")>-1||t.indexOf("$edit")>-1)?!0:!1},_beforeAddContent:function(){var e=this;e.vignette||e.addTitle(o.getApplication().getTitle()+" - "+e.prototype.data("$title"))},getOpenLinkAttrs:function(){var e=this,t=s.prototype.getOpenLinkAttrs.call(e);return t["data-sdata-url"]=e.sDataUrl,t["data-gadget-id"]=e.gadget.data("$uuid"),t},loadData:function(){var e=$.Deferred(),t=this,n=function(t){i&&i("loadData failed",t),e.reject(t)};try{t.sDataUrl=t.state.options["sdata-url"],t.sDataUrl||(t.gadget?t.sDataUrl=t.gadget.getSDataUrl(t.prototype):t.sDataUrl=t.prototype.data("$url"));if(t.gadget){var r=t.gadget.getParameters();r.where&&(t.sDataUrl=t._addWhereClause(t.sDataUrl,r.where,t.state.options.sdataParameters||{}))}if(!t.sDataUrl)throw new Error("$url (sDataUrl) is expected");u.dispatch({$url:t.sDataUrl,$method:"GET"}).then(function(r){try{var i={};t.setDao(a.createDaoSdata("representation",r,t.prototype,null,i)),e.resolve()}catch(s){n(s)}},n)}catch(s){n(s)}finally{return e.promise()}},_addWhereClause:function(e,t,n){t=t.value;var r=t.replace(/\{(\w*?)\}/g,function(e,t){var r=n[t];return r!=null?r:""});return e=e+"&where="+r,e}});t.Page=f}),define("syracuse-tablet/html/js/pages/html/pageHtml",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/pages/page","syracuse-tablet/html/js/pages/html/pageTemplates"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/pages/page").Page,s=e("syracuse-tablet/html/js/pages/html/pageTemplates"),o=r.defineClass(function(e,t){var n=this;i.call(n,e,t)},i,{loadStructure:function(){return $.smResolve()},render:function(){try{return this.buildHtml()}catch(e){return $.smReject(e)}},buildHtml:function(){throw new Error("Not implemented")},buildHtmlTpl:function(e,t){var n=$.Deferred(),r=this;try{r.buildHtmlContent(e).then(function(e){r.$$contentElmt.html(e)}).then(function(){return r.buildHtmlHeader(t)}).then(function(e){r.$$headerElmt.html(e)}).then(function(){n.resolve()},function(e){n.reject(e)})}catch(i){n.reject(i)}finally{return n.promise()}},buildHtmlContent:function(e){var t=this;return s.getTemplateContent(t.state,e||{})},buildHtmlHeader:function(e){var t=this;return s.getTemplateHeader(t.state,e||{})}});t.Page=o}),define("syracuse-tablet/html/js/storage/storageInterface",["require","exports","module","syracuse-tablet/html/js/helpers/utils"],function(e,t,n){function i(){this.infoString="Interface only"}function o(e,t,n,r,i){var s={$status:e};return t&&(s.$data=t),i&&(s.$metaData=i),n&&(s.$message=n),r&&(s.$exception=r),s}var r=e("syracuse-tablet/html/js/helpers/utils"),s=r.defineClass(i,null,{getInfo:function(){return this.infoString},init:function(){throw new Error("Not implemented!")},query:function(e){throw new Error("Not implemented!")},put:function(e){throw new Error("Not implemented!")},read:function(e){throw new Error("Not implemented!")},remove:function(e){throw new Error("Not implemented!")},clearCollection:function(){throw new Error("Not implemented!")}});t.StorageInterface=s,t.StatusCodes={OK:1,NOT_FOUND:2,ERROR:3},t.buildResult=o,t.databaseName="sage-tablet-db"}),define("syracuse-tablet/html/js/storage/storageWinJS",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/storage/storageInterface","syracuse-tablet/html/js/helpers/winjs"],function(e,t,n){function u(){this.infoString="WinJS storage interface"}var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/globals"),s=e("syracuse-tablet/html/js/storage/storageInterface"),o=e("syracuse-tablet/html/js/helpers/winjs"),a=r.defineClass(u,s.StorageInterface,{init:function(){var e=i.isTestEnvironment();return o.callWinJS("winjsDB","init",{useTestDatabase:e})},queryAppConfigs:function(){return o.callWinJS("winjsDB","queryAppConfigs",{})},createAppConfig:function(e){return o.callWinJS("winjsDB","createAppConfig",{app:e})},readAppConfig:function(e){return o.callWinJS("winjsDB","readAppConfig",{appid:e})},deleteAppConfig:function(e){return o.callWinJS("winjsDB","deleteAppConfig",{appid:e})}});t.StorageInterface=a,t.isAvailable=function(){return o.isAvailable()}}),define("syracuse-tablet/html/js/storage/storageWebSQL",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/storage/storageInterface","syracuse-tablet/html/js/helpers/logger"],function(e,t,n){function f(){this.infoString="WebSQL storage interface",this.databaseVersion=u,this.databaseName=s.databaseName,this.useTestDatabase=!1,this.databaseSize=2097152,this.db=null}function c(e,t){return"CODE: "+t.code+" MESSAGE: "+t.message}var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/globals"),s=e("syracuse-tablet/html/js/storage/storageInterface"),o=e("syracuse-tablet/html/js/helpers/logger").getLogger("webSQL"),u=16,a=["DROP TABLE IF EXISTS sdata_meta","CREATE TABLE sdata_meta ( key text, collection text, endpoint text, context text, id text, etag text, last_read text, last_updated text)","DROP INDEX IF EXISTS sdata_meta_pk","CREATE UNIQUE INDEX sdata_meta_pk ON sdata_meta (key, collection, endpoint, context)","DROP INDEX IF EXISTS sdata_meta_id","CREATE UNIQUE INDEX sdata_meta_id ON sdata_meta (id)","DROP TABLE IF EXISTS sdata_objects","CREATE TABLE sdata_objects ( id text, data text )","DROP INDEX IF EXISTS sdata_objects_pk","CREATE UNIQUE INDEX sdata_objects_pk ON sdata_objects (id)"],l=r.defineClass(f,s.StorageInterface,{init:function(){var e=$.Deferred(),t=this,n=i.isTestEnvironment();t.databaseName=s.databaseName+"-test",t.useTestDatabase=n;try{t._openDB().then(function(t){e.resolve(t)},function(t){e.reject(t)})}catch(r){e.reject(s.buildResult(s.StatusCodes.ERROR,null,"error initializing database",r))}finally{return e.promise()}},put:function(e){var t=$.Deferred(),n=this;try{var i=n.db;o&&o("PUT: ",JSON.stringify(e));if(!e.$key||!e.$collection||!e.$endpoint||!e.$context)throw new Error("Insufficient parameters");var u=JSON.stringify(e.$context),a=[e.$key,e.$collection,e.$endpoint,u],f=function(r){n._executeSql("INSERT INTO sdata_objects (data, id) values (?, ?)",[JSON.stringify(e.$data),r.$id]).then(function(){t.resolve(s.buildResult(s.StatusCodes.OK,e.$data))},function(e){t.reject(e)})},l=function(r){n._executeSql("UPDATE sdata_objects set data = ? where id = ?",[JSON.stringify(e.$data),r.$id]).then(function(n){t.resolve(s.buildResult(s.StatusCodes.OK,e.$data))},function(e){t.reject(e)})};n._readMetaData(u,a).then(function(i){i&&i.$etag===e.$data.$etag?t.resolve(s.buildResult(s.StatusCodes.OK,e.$data)):i?(i.$etag=e.$data.$etag,i.$lastUpdated=r.getCurISODateTime(),n._writeMetaData(i).then(function(){l(i)},function(e){t.reject(e)})):(i={$key:e.$key,$collection:e.$collection,$endpoint:e.$endpoint,$context:e.$context,$etag:e.$data.$etag,$lastUpdated:r.getCurISODateTime()},n._writeMetaData(i).then(function(e){f(e)},function(e){t.reject(e)}))},function(e){t.reject(e)})}catch(c){t.reject(s.buildResult(s.StatusCodes.ERROR,null,"error writing to database",c))}finally{return t.promise()}},read:function(e){var t=$.Deferred(),n=this;try{var r=n.db;o&&o("READ: ",JSON.stringify(e));if(!e.$key||!e.$collection||!e.$endpoint||!e.$context)throw new Error("Insufficient parameters");var i=JSON.stringify(e.$context),u=[e.$key,e.$collection,e.$endpoint,i];n._readMetaData(i,u).then(function(e){e?n._executeSql("SELECT * FROM sdata_objects where id = ?",[e.$id]).then(function(n){try{n.rows.length<=0?t.resolve(s.buildResult(s.StatusCodes.NOT_FOUND)):t.resolve(s.buildResult(s.StatusCodes.OK,JSON.parse(n.rows.item(0).data),null,null,{$lastRead:e.$lastRead,$lastUpdated:e.$lastUpdated}))}catch(r){t.reject(s.buildResult(s.StatusCodes.ERROR,null,"error reading from database",r))}},function(e){t.reject(e)}):t.resolve(s.buildResult(s.StatusCodes.NOT_FOUND))},function(e){t.reject(e)})}catch(a){t.reject(s.buildResult(s.StatusCodes.ERROR,null,"error reading from database",a))}finally{return t.promise()}},query:function(e){var t=$.Deferred(),n=this;try{var r=n.db;o&&o("QUERY: ",JSON.stringify(e));if(!e.$collection||!e.$endpoint||!e.$context)throw new Error("Insufficient parameters");var i=JSON.stringify(e.$context),u=[e.$collection,e.$endpoint,i];n._executeSql("SELECT o.*, m.last_read, m.last_updated FROM sdata_objects o INNER JOIN sdata_meta m ON (o.id = m.id and m.collection = ? and m.endpoint = ? and m.context = ?)",u).then(function(e){var n=[],r=[];try{for(var i=0;i<e.rows.length;i++){var o=e.rows.item(i);n.push(JSON.parse(o.data)),r.push({$lastRead:o.last_read,$lastUpdated:o.last_updated})}t.resolve(s.buildResult(s.StatusCodes.OK,n,null,null,r))}catch(u){t.reject(s.buildResult(s.StatusCodes.ERROR,null,"error reading from database",u))}},function(e){t.reject(e)})}catch(a){t.reject(s.buildResult(s.StatusCodes.ERROR,null,"error reading from database",a))}finally{return t.promise()}},remove:function(e){var t=$.Deferred(),n=this;try{var r=n.db;o&&o("REMOVE: ",JSON.stringify(e));if(!e.$key||!e.$collection||!e.$endpoint||!e.$context)throw new Error("Insufficient parameters");var i=JSON.stringify(e.$context),u=[e.$key,e.$collection,e.$endpoint,i];n._removeMetaData(i,u).then(function(e){e?n._executeSql("DELETE FROM sdata_objects where id = ?",[e.$id]).then(function(){t.resolve(s.buildResult(s.StatusCodes.OK))},function(e){t.reject(e)}):t.resolve(s.buildResult(s.StatusCodes.NOT_FOUND))},function(e){t.reject(e)})}catch(a){t.reject(s.buildResult(s.StatusCodes.ERROR,null,"error writing to database",a))}finally{return t.promise()}},clearCollection:function(e){var t=$.Deferred(),n=this;try{var r=n.db;o&&o("CLEAR: ",JSON.stringify(e));if(!e.$collection||!e.$context)throw new Error("Insufficient parameters");var i=JSON.stringify(e.$context),u=[i];n._executeSql("SELECT * FROM sdata_meta where context = ?",u).then(function(r){var i=[];try{for(var o=0;o<r.rows.length;o++){var u=r.rows.item(o);e.$collection.test(u.collection)&&i.push({$context:e.$context,$collection:u.collection,$endpoint:u.endpoint,$key:u.key})}i.forEachPromise(function(e){return n.remove(e)}).then(function(){t.resolve(s.buildResult(s.StatusCodes.OK))},function(e){t.reject(e)})}catch(a){t.reject(s.buildResult(s.StatusCodes.ERROR,null,"error reading from database",a))}},function(e){t.reject(e)})}catch(a){t.reject(s.buildResult(s.StatusCodes.ERROR,null,"error reading from database",a))}finally{return t.promise()}},_readMetaData:function(e,t,n){var r=$.Deferred(),i=this;try{var o=i.db;i._executeSql("SELECT * FROM sdata_meta where key = ? and collection = ? and endpoint = ? and context = ?",t).then(function(e){try{if(e.rows.length<=0)r.resolve(null);else{var t=e.rows.item(0),o={$key:t.key,$collection:t.collection,$endpoint:t.endpoint,$context:t.context,$id:t.id,$etag:t.etag,$lastRead:t.last_read,$lastUpdated:t.last_updated};n===!0?r.resolve(o):i._writeMetaData(o).then(function(){r.resolve(o)})}}catch(u){r.reject(s.buildResult(s.StatusCodes.ERROR,null,"error reading from database",u))}},function(e){r.reject(e)})}catch(u){r.reject(s.buildResult(s.StatusCodes.ERROR,null,"error reading from database",u))}finally{return r.promise()}},_writeMetaData:function(e){var t=$.Deferred(),n=this;try{var i=n.db;e.$lastRead=r.getCurISODateTime(),e.$id?n._executeSql("UPDATE sdata_meta set etag = ?, last_read = ?, last_updated = ? where id = ?",[e.$etag,e.$lastRead,e.$lastUpdated,e.$id]).then(function(n){t.resolve(e)},function(e){t.reject(e)}):(e.$id=r.UUID(),n._executeSql("INSERT INTO sdata_meta (key, collection, endpoint, context, id, etag, last_read, last_updated) values (?, ?, ?, ?, ?, ?, ?, ?)",[e.$key,e.$collection,e.$endpoint,JSON.stringify(e.$context),e.$id,e.$etag,e.$lastRead,e.$lastUpdated]).then(function(){t.resolve(e)},function(e){t.reject(e)}))}catch(o){t.reject(s.buildResult(s.StatusCodes.ERROR,null,"error writing meta data",o))}finally{return t.promise()}},_removeMetaData:function(e,t){var n=$.Deferred(),r=this;try{r._readMetaData(e,t,!0).then(function(e){e?r._executeSql("DELETE FROM sdata_meta where id = ?",[e.$id]).then(function(){n.resolve(e)},function(e){n.reject(e)}):n.resolve(null)},function(e){n.reject(e)})}catch(i){n.reject(s.buildResult(s.StatusCodes.ERROR,null,"error reading from database",i))}finally{return n.promise()}},_executeSql:function(e,t){var n=$.Deferred(),r=this;try{r.db.transaction(function(r){try{o&&o("SQL: "+e),o&&o(t),r.executeSql(e,t,function(e,t){n.resolve(t)},function(e,t){n.reject(s.buildResult(s.StatusCodes.ERROR,null,"error initializing database: "+c(e,t)))})}catch(i){n.reject(s.buildResult(s.StatusCodes.ERROR,null,"error running SQL statement",i))}})}catch(i){n.reject(s.buildResult(s.StatusCodes.ERROR,null,"error running SQL statement",i))}return n.promise()},_openDB:function(){var e=$.Deferred(),t=this;t.useTestDatabase===!1&&t.db&&e.resolve(s.buildResult(s.StatusCodes.OK));var n;try{o&&o("Open database, request version: "+t.databaseVersion),t.db=openDatabase(t.databaseName,7,"Database",t.databaseSize),t._readCurrentVersion().then(function(n){o&&o("Current version: "+n),n===t.databaseVersion&&t.useTestDatabase!==!0?e.resolve(s.buildResult(s.StatusCodes.OK)):t._createTables().then(function(e){return t._writeCurrentVersion()}).then(function(t){e.resolve(t)},function(t){e.reject(t)})},function(t){e.reject(t)})}catch(r){o&&o("Open database, exception",r),t.db=null,e.reject(s.buildResult(s.StatusCodes.ERROR,null,"error initializing database",r))}return e.promise()},_readCurrentVersion:function(){var e=$.Deferred(),t=this;return t._executeSql("SELECT version FROM version",null).then(function(t){try{var n=t.rows.length;if(n===1){var r=t.rows.item(0).version;o&&o("Read version: "+r),e.resolve(+r)}e.resolve(-1)}catch(i){e.reject(s.buildResult(s.StatusCodes.ERROR,null,"error reading database version",i))}},function(n){o&&o("Creating version table"),t._executeSql("CREATE TABLE version (version TEXT)").then(function(t){e.resolve(-1)},function(t){e.reject(t)})}),e.promise()},_writeCurrentVersion:function(){var e=$.Deferred(),t=this;return t._executeSql("DELETE FROM version",null).then(function(e){return t._executeSql("INSERT INTO version (version) values (?)",[u])}).then(function(t){e.resolve(s.buildResult(s.StatusCodes.OK))},function(t){e.reject(t)}),e.promise()},_createTables:function(){var e=$.Deferred(),t=this,n=[];for(var r=0;r<a.length;r++)n.push(t._executeSql(a[r]));return $.when.apply($,n).then(function(){e.resolve(s.buildResult(s.StatusCodes.OK))},function(t){e.reject(t)}),e.promise()}});t.StorageInterface=l,t.isAvailable=function(){return window.openDatabase!=null}}),define("syracuse-tablet/html/js/storage/storageIndexedDB",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/storage/storageInterface","syracuse-tablet/html/js/helpers/logger"],function(e,t,n){function v(){this.infoString="IndexedDB storage interface",this.databaseVersion=p,this.databaseName=s.databaseName,this.useTestDatabase=!1,this.db=null}function g(e){return JSON.stringify(e)}var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/globals"),s=e("syracuse-tablet/html/js/storage/storageInterface"),o=e("syracuse-tablet/html/js/helpers/logger").getLogger("indexedDB"),u=window.indexedDB||window.webkitIndexedDB,a=window.IDBTransaction||window.webkitIDBTransaction,f=window.IDBKeyRange||window.webkitIDBKeyRange,l=window.IDBDatabaseException||window.webkitIDBDatabaseException,c=a&&a.READ_ONLY||"readonly",h=a&&a.READ_WRITE||"readwrite",p=11,d={sdata:{options:{autoIncrement:!0},indexes:{read_write_one:{key:"key_collection_endpoint_context",options:{unique:!0}},read_write_all:{key:"collection_endpoint_context",options:{unique:!1}},read_write_ctx:{key:"context",options:{unique:!1}}}}},m=r.defineClass(v,s.StorageInterface,{init:function(e){e=e||"",o&&o("_INIT "+e);var t=$.Deferred(),n=this,r=i.isTestEnvironment();try{var a=function(){o&&o("DATABASE INIT!"),n._openDB().then(function(n){o&&o("_openDB OK "+e),t.resolve(n)},function(n){o&&o("_openDB KO "+e),t.resolve(n)})};if(r===!0){n.db&&(n.db.close(),n.db=null),n.useTestDatabase=!0,n.databaseName=s.databaseName+"-test",o&&o("DATABASE IN TEST MODE! "+e);var f=u.deleteDatabase(n.databaseName);f.onsuccess=function(){a()},f.onerror=function(n){o&&o("REQUEST ERROR! "+e),t.reject(s.buildResult(s.StatusCodes.ERROR,null,"error deleting database"))},f.onblocked=function(n){o&&o("REQUEST BLOCKED! "+e),t.reject(s.buildResult(s.StatusCodes.ERROR,null,"error deleting database (blocked)"))}}else n.db||a()}catch(l){o&&o("init ERROR "+e),t.reject(s.buildResult(s.StatusCodes.ERROR,null,"error initializing database",l))}finally{return t.promise()}},put:function(e){var t=$.Deferred(),n=this;try{var i=n.db;o&&o("PUT: ",JSON.stringify(e));if(!e.$key||!e.$collection||!e.$endpoint||!e.$context)throw new Error("Insufficient parameters");var u=i.transaction(["sdata"],h),a=u.objectStore("sdata"),c=JSON.stringify(e.$context),p=[e.$key,e.$collection,e.$endpoint,c].join("_"),d=a.index("read_write_one"),v=f.only(p),m=d.openCursor(v),y=!0,b=r.getCurISODateTime(),w=function(){var n={context:c,collection:e.$collection,endpoint:e.$endpoint,key:e.$key,last_updated:b,last_read:b,key_collection_endpoint_context:p,collection_endpoint_context:[e.$collection,e.$endpoint,c].join("_"),data:e.$data},r=a.add(n);r.onerror=function(e){t.reject(s.buildResult(s.StatusCodes.ERROR,null,"error writing to database: "+g(e)))},r.onsuccess=function(n){t.resolve(s.buildResult(s.StatusCodes.OK,e.$data))}};m.onsuccess=function(n){try{var r=n.target.result;if(r){if(e.$data.$etag){var i=r.value&&r.value.data.$etag;if(i===e.$data.$etag){t.resolve(s.buildResult(s.StatusCodes.OK,e.$data));return}}r["delete"](),r["continue"]()}else w()}catch(o){t.reject(s.buildResult(s.StatusCodes.ERROR,null,"error writing to database",o))}},m.onerror=function(e){e.target.errorCode==l.NOT_FOUND_ERR?w():t.reject(s.buildResult(s.StatusCodes.ERROR,null,"error writing to database: "+g(e)))}}catch(E){t.reject(s.buildResult(s.StatusCodes.ERROR,null,"error writing to database",E))}finally{return t.promise()}},read:function(e){var t=$.Deferred(),n=this;try{var r=n.db;o&&o("READ: ",JSON.stringify(e));if(!e.$key||!e.$collection||!e.$endpoint||!e.$context)throw new Error("Insufficient parameters");var i=r.transaction(["sdata"],h),u=i.objectStore("sdata"),a=JSON.stringify(e.$context),c=[e.$key,e.$collection,e.$endpoint,a].join("_"),p=u.index("read_write_one"),d=f.only(c),v=p.openCursor(d);v.onsuccess=function(e){try{var n=e.target&&e.target.result&&e.target.result.value;n?t.resolve(s.buildResult(s.StatusCodes.OK,n.data,null,null,{$lastRead:n.last_read,$lastUpdated:n.last_updated})):t.resolve(s.buildResult(s.StatusCodes.NOT_FOUND))}catch(r){t.reject(s.buildResult(s.StatusCodes.ERROR,null,"error reading from database",r))}},v.onerror=function(e){e.target.errorCode==l.NOT_FOUND_ERR?t.resolve(s.buildResult(s.StatusCodes.NOT_FOUND)):t.reject(s.buildResult(s.StatusCodes.ERROR,null,"error reading from database: "+g(e)))}}catch(m){t.reject(s.buildResult(s.StatusCodes.ERROR,null,"error reading from database",m))}finally{return t.promise()}},query:function(e){var t=$.Deferred(),n=this;try{var r=n.db;o&&o("QUERY: ",JSON.stringify(e));if(!e.$collection||!e.$endpoint||!e.$context)throw new Error("Insufficient parameters");var i=r.transaction(["sdata"],h),u=i.objectStore("sdata"),a=JSON.stringify(e.$context),c=[e.$collection,e.$endpoint,a].join("_"),p=u.index("read_write_all"),d=f.only(c),v=p.openCursor(d),m=[],y=[];v.onsuccess=function(e){try{var n=e.target.result;if(n){var r=n.value.data;m.push(r),y.push({$lastRead:n.last_read,$lastUpdated:n.last_updated}),n["continue"]()}else t.resolve(s.buildResult(s.StatusCodes.OK,m,null,null,y))}catch(i){t.reject(s.buildResult(s.StatusCodes.ERROR,null,"error reading from database",i))}},v.onerror=function(e){e.target.errorCode==l.NOT_FOUND_ERR?t.resolve(s.buildResult(s.StatusCodes.OK,m,null,null,y)):t.reject(s.buildResult(s.StatusCodes.ERROR,null,"error reading from database: "+g(e)))}}catch(b){t.reject(s.buildResult(s.StatusCodes.ERROR,null,"error reading from database",b))}finally{return t.promise()}},remove:function(e){var t=$.Deferred(),n=this;try{var r=n.db;o&&o("REMOVE: ",JSON.stringify(e));if(!e.$key||!e.$collection||!e.$endpoint||!e.$context)throw new Error("Insufficient parameters");var i=r.transaction(["sdata"],h),u=i.objectStore("sdata"),a=JSON.stringify(e.$context),c=[e.$key,e.$collection,e.$endpoint,a].join("_"),p=u.index("read_write_one"),d=f.only(c),v=p.openCursor(d);v.onsuccess=function(e){try{var n=e.target.result;n?(n["delete"](),t.resolve(s.buildResult(s.StatusCodes.OK))):t.resolve(s.buildResult(s.StatusCodes.NOT_FOUND))}catch(r){t.reject(s.buildResult(s.StatusCodes.ERROR,null,"error deleting from database",r))}},v.onerror=function(e){e.target.errorCode==l.NOT_FOUND_ERR?t.resolve(s.buildResult(s.StatusCodes.NOT_FOUND)):t.reject(s.buildResult(s.StatusCodes.ERROR,null,"error reading from database: "+g(e)))}}catch(m){t.reject(s.buildResult(s.StatusCodes.ERROR,null,"error deleting from database",m))}finally{return t.promise()}},clearCollection:function(e){var t=$.Deferred(),n=this;try{var r=n.db;o&&o("CLEAR: ",JSON.stringify(e));var i=r.transaction(["sdata"],h),u=i.objectStore("sdata"),a=JSON.stringify(e.$context),c=a,p=u.index("read_write_ctx"),d=f.only(c),v=p.openCursor(d),m=[],y=function(){m.forEachPromise(function(t){return n.remove({$context:e.$context,$collection:t.collection,$endpoint:t.endpoint,$key:t.key})}).then(function(){t.resolve()},function(e){t.reject(e)})};v.onsuccess=function(n){try{var r=n.target.result;r?(e.$collection.test(r.value.collection)&&m.push(r.value),r["continue"]()):y()}catch(i){t.reject(s.buildResult(s.StatusCodes.ERROR,null,"error reading from database",i))}},v.onerror=function(e){e.target.errorCode==l.NOT_FOUND_ERR?y():t.reject(s.buildResult(s.StatusCodes.ERROR,null,"error reading from database: "+g(e)))}}catch(b){t.reject(s.buildResult(s.StatusCodes.ERROR,null,"error reading from database",b))}finally{return t.promise()}},_openDB:function(){var e=$.Deferred(),t=this;t.useTestDatabase===!1&&t.db&&e.resolve(s.buildResult(s.StatusCodes.OK));var n;try{o&&o("Open database, request version: "+t.databaseVersion),n=u.open(t.databaseName,t.databaseVersion),n.onupgradeneeded=function(e){o&&o("Open database, need upgrade"),t.db=e.target.result||e.target.source,t._createObjectStore()},n.onsuccess=function(n){o&&o("Open database, success");var r=n.target.result||n.target.source;if(!r.setVersion&&t.databaseVersion!=r.version){o&&o("Open database, versions missmatch: "+t.DatabaseVersion+" != "+r.version);var i=r.setVersion(t.databaseVersion);i.onsuccess=function(n){o&&o("Open database, setting version, success"),t.db=r,t._createObjectStore(),o&&o("Open database, opened"),e.resolve(s.buildResult(s.StatusCodes.OK))},i.onerror=function(n){o&&o("Open database, setting version, error",n),t.db=null,e.reject(s.buildResult(s.StatusCodes.ERROR,null,"error initializing database: "+g(n)))}}else o&&o("Open database, opened"),t.db=r,e.resolve(s.buildResult(s.StatusCodes.OK))},n.onerror=function(n){o&&o("Open database, error",n),t.db=null,e.reject(s.buildResult(s.StatusCodes.ERROR,null,"error initializing database: "+g(n)))}}catch(r){o&&o("Open database, exception",r),t.db=null,e.reject(s.buildResult(s.StatusCodes.ERROR,null,"error initializing database",r))}return e.promise()},_createObjectStore:function(){var e=this,t=e.db;o&&o("Updating database"),Object.keys(d).forEach(function(e){var n=d[e];t.objectStoreNames.contains(e)&&(o&&o("Deleting objectStore: "+e),t.deleteObjectStore(e)),o&&o("Creating objectStore: "+e);var r=t.createObjectStore(e,n.options);Object.keys(n.indexes).forEach(function(e){var t=n.indexes[e];o&&o("Creating index: "+e),r.createIndex(e,t.key,t.options)})})}});t.StorageInterface=m,t.isAvailable=function(){return u!=null}}),define("syracuse-tablet/html/js/storage/storage",["require","exports","module","syracuse-tablet/html/js/storage/storageInterface","syracuse-tablet/html/js/storage/storageWinJS","syracuse-tablet/html/js/storage/storageWebSQL","syracuse-tablet/html/js/storage/storageIndexedDB"],function(e,t,n){function o(){return s?s:(i.some(function(e){if(e.isAvailable()){var t=e.StorageInterface;return s=new t,!0}return!1}),s)}var r=e("syracuse-tablet/html/js/storage/storageInterface"),i=[e("syracuse-tablet/html/js/storage/storageWinJS"),e("syracuse-tablet/html/js/storage/storageWebSQL"),e("syracuse-tablet/html/js/storage/storageIndexedDB")],s;t.getStorage=o,t.StatusCodes=r.StatusCodes}),define("syracuse-tablet/html/js/application/settings",["require","exports","module","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/storage/storage","syracuse-tablet/html/js/sdata/sdataCommonResources","syracuse-tablet/html/js/sdata/entities/clientContract"],function(e,t,n){function u(e){var t=$.Deferred(),n=r.getCacheCtx(),i=r.getStorage(),s=r.getCache().cachePrefix;return i.put({$context:n,$collection:s+"$settings",$endpoint:"$local",$key:"MyApps",$data:e}).then(function(n){t.resolve(e)},function(e){t.reject(e)}),t.promise()}function a(e){var t=$.Deferred(),n=r.getCacheCtx(),i=r.getStorage(),s=r.getCache().cachePrefix;return i.put({$context:n,$collection:s+"$settings",$endpoint:"$local",$key:"MyApp_"+e.$application.applicationName,$data:e}).then(function(n){t.resolve(e)},function(e){t.reject(e)}),t.promise()}var r=e("syracuse-tablet/html/js/helpers/globals"),i=e("syracuse-tablet/html/js/storage/storage"),s=e("syracuse-tablet/html/js/sdata/sdataCommonResources"),o=e("syracuse-tablet/html/js/sdata/entities/clientContract");t.getMyApplications=function(){function f(e){var t=o.getApps();t.forEach(function(t){e.push(t)})}var e=$.Deferred(),t=r.getCacheCtx(),n=r.getStorage(),a=r.getCache().cachePrefix;return n.read({$context:t,$collection:a+"$settings",$endpoint:"$local",$key:"MyApps"}).then(function(t){if(t.$status===i.StatusCodes.OK){var n=t.$data;f(n),e.resolve(n)}else s.queryMyApplications().then(function(e){return u(e)},function(t){e.reject(t)}).then(function(t){f(t),e.resolve(t)},function(t){e.reject(t)})},function(t){e.reject(t)}),e.promise()},t.getMyApplicationDetail=function(e){var t=$.Deferred(),n=r.getCacheCtx(),u=r.getStorage(),f=r.getCache().cachePrefix;if(!e.$metaDataUrl){var l=o.getAppDetail(e.applicationName);l?t.resolve(l):t.reject("Application not found: "+e.applicationName)}else u.read({$context:n,$collection:f+"$settings",$endpoint:"$local",$key:"MyApp_"+e.applicationName}).then(function(n){n.$status===i.StatusCodes.OK?t.resolve(n.$data):s.queryMyApplicationDetail(e).then(function(e){return a(e)}).then(function(e){t.resolve(e)},function(e){t.reject(e)})},function(e){t.reject(e)});return t.promise()}}),define("syracuse-tablet/html/js/pages/html/pageDefHome",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/pages/html/pageHtml","syracuse-tablet/html/js/ui/modal","syracuse-tablet/html/js/helpers/notifications","syracuse-tablet/html/js/application/settings","syracuse-tablet/html/js/pages/html/pageTemplates"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/globals"),s=e("syracuse-tablet/html/js/pages/html/pageHtml").Page,o=e("syracuse-tablet/html/js/ui/modal"),u=e("syracuse-tablet/html/js/helpers/notifications"),a=e("syracuse-tablet/html/js/application/settings"),f=e("syracuse-tablet/html/js/pages/html/pageTemplates"),l={header:{title:"Sage X3 Mobile Home Page",logout:"logout"},content:{btnendpoint:"Change endpoint",title:"Home page",listtitle:"Please select an application",labelendpoint:"Default endpoint is ",listcontent:""}},c=r.defineClass(function(e,t){var n=this;s.call(n,e,t)},s,{loadData:function(){var e=this,t=$.Deferred();return a.getMyApplications().then(function(n){e.appList=n||[],t.resolve()},function(e){t.reject(e)}),t.promise()},buildHtml:function(){var e=this,t=[];e.appList&&e.appList.forEach(function(e){t.push('<li><a href="#" data-action="select" data-params="'),t.push(e.$uuid),t.push('">'),t.push(e.title||e.description),t.push('&nbsp;&nbsp;&nbsp;<span class="label label-primary">'),t.push(e.applicationName),t.push("</span>"),t.push("</a></li>")});var n=$.extend({},l.content);return n.listcontent=t.join(""),n.endpoint=i.getEndpoint()||"No endpoint defined",s.prototype.buildHtmlTpl.call(this,n,l.header)},_actSelect:function(e){var t=this;t.waitWheelStart();var n;t.appList.some(function(t){if(t.$uuid===e)return n=t,!0}),a.getMyApplicationDetail(n).then(function(e){t.deactivate(null),u.publish("sm.switch.app",e),t.waitWheelStop()},function(e){t.waitWheelStop(),o.error("Error loading application",e)})}});t.Page=c}),define("syracuse-tablet/html/js/pages/html/pageLogin",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/pages/page","syracuse-tablet/html/js/application/authentication","syracuse-tablet/html/js/helpers/notifications"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/pages/page").Page,s=e("syracuse-tablet/html/js/application/authentication"),o=e("syracuse-tablet/html/js/helpers/notifications"),u={label_user:"User name",value_user:"Enter some text",label_password:"Password",value_password:"Enter some text",title:"Login page",act_login:"Login"},a='	<div class="container">		<div class="row">			<div class="col-md-3"></div>			<div class="col-md-6">				<div class="well">					<div class="form-group">						<label>{{label_user}}</label>						<input type="text" value="" class="form-control" placeholder="{{label_user}}"	id="login-user">					</div>					<div class="form-group">						<label>{{label_password}}</label>						<input type="password" class="form-control" placeholder="{{label_password}}" id="login-password">					</div>					<button id="login-login" data-action="login" type="button" class="btn btn-primary">{{act_login}}</button>				</div>			</div>		</div>		<div class="row">			<div class="col-md-3"></div>			<div class="col-md-6">				<div id="login-success" style="display: none" class="alert alert-success" role="alert"></div>				<div id="login-fail" style="display: none" class="alert alert-danger" role="alert"></div>			</div>		</div>	</div>',f,l=r.defineClass(function(e,t){var n=this;i.call(n,e,t)},i,{loadStructure:function(){return $.smResolve()},render:function(){var e=this,t=$.Deferred();u.reason=e.getProp("reason")||"";var n=Handlebars.compile(a),r=n(u),i=e.$$contentElmt;return i.html(r),t.resolve(),t.promise()},_actLogin:function(){var e=this,t=$.Deferred(),n=!1;try{var i=e.$$elmt.find("#login-success").hide(),u=e.$$elmt.find("#login-fail").hide(),a=e.$$elmt.find("#login-user").val(),f=e.$$elmt.find("#login-password").val(),l=e.$$elmt.find("#login-locale").val(),c=null;e.waitWheelStart(),s.login(a,f).then(function(e,t,n){return e?(c=t,$.smResolve()):$.smReject(n)}).then(function(){e.waitWheelStop(),o.publish("sm.login",c)},function(t){var n,i;r.isError(t)?(i=t.message,n=r.cleanStack(t.stack,3,!0)):i=t,u.show().html("Login failed<p>"+i+"</p>"+(n?n:"")),e.waitWheelStop()})}catch(h){t.reject(h)}finally{return t.promise()}}});t.Page=l}),define("syracuse-tablet/html/js/pages/html/pageSettings",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/pages/html/pageHtml","syracuse-tablet/html/js/pages/html/pageTemplates","syracuse-tablet/html/js/helpers/notifications","syracuse-tablet/html/js/ui/modal","syracuse-tablet/html/js/application/settings"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/globals"),s=e("syracuse-tablet/html/js/pages/html/pageHtml").Page,o=e("syracuse-tablet/html/js/pages/html/pageTemplates"),u=e("syracuse-tablet/html/js/helpers/notifications"),a=e("syracuse-tablet/html/js/ui/modal"),f=e("syracuse-tablet/html/js/application/settings"),l={header:{pageId:"login",headerttl:"Sage X3 Mobile Login Page",forgotpwd:"Forgot password"},content:{listtitle:"Select an application to install"}},c=r.defineClass(function(e,t){var n=this;s.call(n,e,t),n.appList=null},s,{loadData:function(){var e=this,t=$.Deferred();return f.getMyApplications().then(function(n){e.appList=n||[],t.resolve()},function(e){t.reject(e)}),t.promise()},buildHtmlContent:function(){var e=this,t=$.Deferred();try{var n=[];if(e.appList){var r=i.getApplication();e.appList.forEach(function(e){n.push('<option value="'),n.push(e.$uuid),n.push('" '),n.push(r&&r.uuid==e.$uuid?"selected":""),n.push(" >"),n.push(e.title||e.description),n.push(" ("+e.applicationName+")"),n.push("</option>")})}l.content.listcontent=n.join(""),s.prototype.buildHtmlContent.call(e,l.content).then(function(e){t.resolve(e)},function(n){o.resolveError(t,e.state.name,n)})}catch(u){o.resolveError(t,e.state.name,u)}finally{return t.promise()}},afterRender:function(){var e=this;s.prototype.afterRender.call(e),e.$$elmt.find(".selectpicker").selectpicker()},_actSelect:function(e){var t=this,n;t.appList.some(function(t){if(t.$uuid===e)return n=t,!0}),f.getMyApplicationDetail(n).then(function(e){t.deactivate(null),u.publish("sm.switch.app",e)},function(e){a.error("Error loading application",e)})}});t.Page=c}),define("syracuse-tablet/html/js/pages/html/pageAbout",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/pages/html/pageHtml"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/pages/html/pageHtml").Page,s=r.defineClass(function(e,t){var n=this;i.call(n,e,t)},i,{});t.Page=s}),define("syracuse-tablet/html/js/helpers/prototype",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/application/gadget"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/logger").log,s=e("syracuse-tablet/html/js/application/gadget").Klass,o={$isExcluded:!1,$isHidden:!1,isMandatory:!1,$isReadOnly:!1,$isDisabled:!1},u="$ROWIDX",a=null,f=/{[^}]+}/g,l=/[{}]/g,c=r.defineClass(function(e,t){var n=this;n.json=e||{},typeof n.json=="string"&&(n.json=JSON.parse(n.json)),n._children=null,t&&(t._appendChild(n),n.parent=t)},null,{destroy:function(){var e=this;e.parent=null,e.json=null,e._children&&e.children.forEach(function(e){e&&e.destroy()}),e._children=null},_appendChild:function(e){var t=this;t._children||(t._children=[]),t._children.push(e)},data:function(e,t){var n=this;if(!e||e.length==0)return null;var r=n.json[e];return r==null?n.parent?n.parent.data(e):r:n._getVal(r,t)},property:function(e,t,n){var r=this;if(!e||e.length===0)return null;var i=r.json.$properties?r.json.$properties[e]:r.parent?r.parent.property(e):null;return!i||!t?i:r._getVal(i[t],n)},_getVal:function(e,t){return e&&e.indexOf&&e.indexOf("{")>=0&&(e=r.parseExpression(e,t,this)),e},getMetaData:function(e){var t=this;t._metaData||(t._metaData={});var n=t._metaData[e];return n?n:(n=t._metaData[e]=$.extend({},o,t.property(e)),n)},localization:function(e){var t=this,n=t.json.$localization||{};return n[e]?n[e]:t.parent?t.parent.localization(e):null},getPrototype:function(e){if(e==="$item")var n=this.data(e);else var n=this.property(e);return n?t.create($.extend({},n),this):null},isQuery:function(){if(this._isQuery!=null)return this._isQuery;var e=this.data("$url");return this._isQuery=e&&e.smEndsWith("$query")?!0:!1,this._isQuery},isLookup:function(){if(this._isLookup!=null)return this._isLookup;var e=this.data("$url");return this._isLookup=e&&e.smEndsWith("$lookup")?!0:!1,this._isLookup},formatDisplay:function(e,t){var n=this,r=n.property(e)},addProperty:function(e,t){var n=this;t&&n.json.$properties&&!n.json.$properties[e]&&(n.json.$properties[e]=t)},getPropTitle:function(e){var t=this,n=t.property(e);return n&&n.$title?t._getVal(n.$title):""},getFieldNameForValue:function(e){var t=this,n=t.property(e);if(!n)throw new Error("Field proto expected["+e+"]");var r=n.$item;if(!r)return e;if(r.$refValue)return r.$refValue;r.$refValue=e;if(r.$value&&typeof r.$value=="string"){var s=r.$value.match(f);if(s&&s.length==1){var o=s[0].replace(l,"").trim();r.$properties&&r.$properties[o]&&(r.$lookupvalue=o);if(r[o]){var u=r[o].replace(l,"").trim();t.property(u)&&(r.$refValue=u)}}else i&&i("!!! _getRefenceValue - Only one value is expected")}if(r.$description&&r.$properties&&typeof r.$description=="string"){var a=r.$description.match(f);if(a&&a.length==1){var c=a[0].replace(l,"").trim();r.$properties[c]&&(r.$lookupdescr=c)}}return r.$refValue},getVignetteGadget:function(){var e=this.data("$gadget");return e?new s(e):null}});t.rowIdxProperty=u,t.getRowIdxProto=function(){if(a)return a;a=t.create({$type:"application/x-integer"})},t.create=function(e,t){return new c(e,t)}}),define("syracuse-tablet/html/js/helpers/dashboardArticle",["require","exports","module"],function(e,t,n){var r=function(e){var t=3,n=function(e,t,n){if(t<=0||t>12)throw new Error("Nb cells must be <= 12 ("+t+")");var r="$width"+(n||"md").smCapitalize();e[r]="";var i=Math.round(12/t);for(var s=0;s<t;s++)e[r]+=s===0?i:","+i},r=Object.keys(e.$vignettes||[]);if(r.length===0)throw new Error("Dashboard "+e.$dashboardName+" has no vignette");if(!e.$article){e.$article={$layoutType:"stack",$items:[]};var i=r.length,s=Math.ceil(r.length/t),o=0;for(var u=0;u<s;u++){var a={$layoutType:"row",displayOptions:{rowHeight:"300px"},$items:[]};n(a,t);for(var f=0;f<Math.min(t,i);f++)a.$items.push({$bind:r[o]}),o++;e.$article.$items.push(a)}}return e.$article};t.getDashboardArticle=r}),define("syracuse-tablet/html/js/helpers/prototypeParser",["require","exports","module"],function(e,t,n){var r=function(e){var t=e.$properties,n={$layoutType:"stack",$items:[]},r=e.$url.indexOf(".$query")>0;for(var i in t)t[i].$isExcluded!==!0&&n.$items.push({$bind:i,$isTitleHidden:r});return n};t.proto2Article=r}),define("syracuse-tablet/html/js/application/pageHelper",["require","exports","module","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/utils"],function(e,t,n){function a(){for(var e in s)u[e]=$.extend(!0,{},o,s[e])}var r=e("syracuse-tablet/html/js/helpers/globals"),i=e("syracuse-tablet/html/js/helpers/utils"),s={login:{type:"html"},about:{type:"html"},settings:{type:"html"},defhome:{type:"html"}},o={home:!1,type:"regular",cached:!1,refreshed:!1,appId:"root",changeHash:!1},u={},f=function(e,t){var n;return n=u[e],n&&t===!0&&(n=$.extend(!0,{},n)),n},l=function(e,t,n){e==null&&(e="");if(typeof e!="string")return e;var s=e.trim();s.indexOf("#")==0&&(s=s.substring(1)),e=f(s,!0);if(!e&&n)e=n;else if(!e)return null;if(t){e.options=t?$.extend(!0,{},t):{};var o=t["gadget-id"];o&&(e.options.gadget=r.getApplication().dao.getGadget(o))}return e.name=s,e.transition||(e.transition=r.$config("transition")),e.uuid=i.readableuid("page",e.appId||"root",e.type,e.name),e},c=function(e){u={},a();var t;if(e.$dashboards){var n=0;for(var r in e.$dashboards){var i=e.$dashboards[r];t=$.extend(!0,{},o),t.type="dashboard",t.name=t.id=i.$dashboardName+".$dashboard",t.dashboardUuid=r,u[t.id]=t}}if(e.$pages)for(var r in e.$pages)t=$.extend(!0,{},o),t.type="regular",u[r]=t};a(),t.getPageInfo=l,t.registerPages=c}),define("syracuse-tablet/html/js/application/daoApp",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/prototype","syracuse-tablet/html/js/helpers/dashboardArticle","syracuse-tablet/html/js/helpers/prototypeParser","syracuse-tablet/html/js/application/pageHelper","syracuse-tablet/html/js/sdata/entities/clientContract","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/application/gadget","syracuse-tablet/html/js/sdata/sdataHttp"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/prototype"),s=e("syracuse-tablet/html/js/helpers/dashboardArticle"),o=e("syracuse-tablet/html/js/helpers/prototypeParser"),u=e("syracuse-tablet/html/js/application/pageHelper"),a=e("syracuse-tablet/html/js/sdata/entities/clientContract"),f=e("syracuse-tablet/html/js/helpers/globals"),l=e("syracuse-tablet/html/js/application/gadget").Klass,c=e("syracuse-tablet/html/js/sdata/sdataHttp"),h=r.defineClass(function(e){var t=this;t._appli=e,t.appMetaData=null},null,{destroy:function(){var e=this;e._appli=null},isApplicationLoaded:function(){var e=this;return e.appMetaData!=null},setApplicationDesc:function(e){var t=this;e&&(t.appMetaData=e,u.registerPages(t.appMetaData))},getApplicationName:function(){var e=this;return e.appMetaData.$application.applicationName},getHomeDashboard:function(){var e=this,t;if(e.appMetaData&&e.appMetaData.$dashboards)for(var n in e.appMetaData.$dashboards){var r=e.appMetaData.$dashboards[n];r.$dashboardName===e.appMetaData.$application.$homeDashboard.dashboardName&&(t=r.$dashboardName+".$dashboard")}return t},getPageInfo:function(e,t){var n=this,r=a.getPageInfo(e,t);if(r)return r;var i=e;return e==="home"&&(i=n.getHomeDashboard()),r=u.getPageInfo(i,t),r?r:(r=u.getPageInfo(i,t,{home:!1,type:"regular",cached:!1,refreshed:!1,appId:"root",changeHash:!1}),r)},getRegularPageInfo:function(e,t){var n=this,r=$.Deferred();try{a.getRegularPageInfo(e).then(function(t){return t?t:n.getPageMetaData(e)}).then(function(t){return t?t:n.fetchRemotePrototype(e)}).then(function(t){return t?t.$page?t.$page.$prototype?t:$.smReject(new Error("Prototype is NULL - PageId="+e)):$.smReject(new Error("Bad page description - PageId="+e)):$.smReject(new Error("Page not found - PageId="+e))}).then(function(e){var n=e.$page.$prototype,s=t&&t.article||e.$page.$article||o.proto2Article(n);r.resolve({article:s,prototype:i.create(n)})},function(e){r.reject(e)})}catch(s){r.reject(s)}finally{return r.promise()}},getPageMetaData:function(e){var t=this;return t.appMetaData.$pages?$.smResolve(t.appMetaData.$pages[e]):$.smResolve(null)},fetchRemotePrototype:function(e){var t=this;return c.fetchRemotePrototype(e).then(function(n){var r={$cache:{cacheType:"$auto"},$page:{$prototype:n}};return t.appMetaData.$pages=t.appMetaData.$pages||{},t.appMetaData.$pages[e]=r,r},function(e){return e})},getDashboardInfo:function(e){var t=this,n;n=a.getDashboardInfo(e),n||(n=t.appMetaData.$dashboards[e]);if(!n)throw new Error("Dashboard not found "+e);var o=s.getDashboardArticle(n),u={$title:n.$title,$description:n.$description,$properties:{}},f=Object.keys(n.$vignettes||[]);for(var l=0;l<f.length;l++){var c=f[l],h=$.extend({},n.$vignettes[c]),p=h.$uuid;h.$gadget=t.appMetaData.$gadgets[p],h.$gadget?(h.$gadget=$.extend({},h.$gadget),h.$gadget.$uuid=p,h.$uuid=c,h.$type="application/x-vignette",h.domId=r.readableuid("vgnt",h.$gadget.$type)):(h.$gadget={$uuid:p,$type:"$gadgetMissing"},h.$uuid=c,h.$type="application/x-vignette",h.domId=r.readableuid("vgnt",h.$gadget.$type)),u.$properties[c]=h}return{article:$.extend({},n.$article),prototype:i.create(u)}},getGadget:function(e){var t=this,n=t.appMetaData.$gadgets[e];return n.$uuid||(n.$uuid=e),new l(n)},getPrototype:function(e){var t=this;if(t.appMetaData==null)throw new Error("Get page prototype error - No application metadata");var n=t.appMetaData.$pages[e];if(n==null||n.$page==null)throw new Error("Get page prototype error - Page not found["+e+"]");return n.$page.$prototype}});t.Dao=h}),define("syracuse-tablet/html/js/application/daoSdata",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/prototype","syracuse-tablet/html/js/helpers/notifications"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/prototype"),s=e("syracuse-tablet/html/js/helpers/notifications"),o=r.defineClass(function(e,t,n,r){var i=this;i.options=r||{},i.data=e||{};if(!t)throw new Error("Prototype is mandatory");if(!e)throw new Error("jsonData is mandatory");i.prototype=t,i._children=null,i._cache={metaData:{},queryData:null},n&&(n._appendChild(i),i.parent=n)},null,{destroy:function(){var e=this;e.parent=null,e.data=null,e.prototype=null,e._children&&e._children.forEach(function(e){e&&e.destroy()}),e._children=null},_appendChild:function(e){var t=this;t._children||(t._children=[]),t._children.push(e)},setValue:function(e,t,n){var r=this;return r.data[e]!==t?(r.data[e]=t,n===!0&&s.publish("s-m-dao-updated",r,e,t),!0):!1},getValue:function(e,t){var n=this;if(!e||e.length===0)return t;var r=n.data[e];if(r!=null&&typeof r=="object"&&!r.$value&&n.prototype.property(e,"$type")==="application/x-reference"){var i=n.prototype.getFieldNameForValue(e);if(i==e)throw new Error("TODO - Syracuse entities");return r.$value=n.getValue(i,t),r}return r!=null?r:n.parent?n.parent.getValue(e,t):t},getDisplayValue:function(e,t){var n=this,r=n.getValue(e,t),i=n.getMetaData(e);return typeof r=="object"&&(r=r.$value||r.$title||r.$description),(r||"").toString()},getMetaData:function(e){var t=this,n=t._cache.metaData[e];return n?n:(n=t._cache.metaData[e]=$.extend({},t.prototype.getMetaData(e),t.data.$properties?t.data.$properties[e]:null),n)},getFieldInfo:function(e){var t=this;return{meta:t.getMetaData(),value:t.getValue()}},getArrayData:function(e,t){var n=this,r={$resources:[]},i=n.getValue(e)||[];return i.forEach(function(e){r.$resources.push(new o(e,t,n))}),r},getQueryData:function(e){var t=this,n={$itemsPerPage:t.getValue("$itemsPerPage"),$resources:[],$links:t.getValue("$links")};if(!e)throw new Error("getQueryData - Prototype Array is mandatory");var r=e.getPrototype("$item"),i=t.getValue("$resources");return i.forEach(function(e){n.$resources.push(new o(e,r,t))}),n},getLookupData:function(e){return this.getQueryData(e)},getQueryResources:function(){var e=this,t=e.getValue("$resources");return t},parseExpression:function(e){var t=this;return r.parseExpression(e,t,t.prototype)},setRowIndex:function(e){this.setValue(i.rowIdxProperty,e,!1)}});t.Dao=o}),define("syracuse-tablet/html/js/application/appFactoryDeps",["require","exports","module","syracuse-tablet/html/js/application/application","syracuse-tablet/html/js/pages/pageDashboard","syracuse-tablet/html/js/pages/pageRegular","syracuse-tablet/html/js/pages/html/pageDefHome","syracuse-tablet/html/js/pages/html/pageLogin","syracuse-tablet/html/js/pages/html/pageSettings","syracuse-tablet/html/js/pages/html/pageAbout","syracuse-tablet/html/js/application/daoApp","syracuse-tablet/html/js/application/daoSdata","syracuse-tablet/html/js/application/appFactory"],function(e,t,n){var r=e("syracuse-tablet/html/js/application/application").Application,i=e("syracuse-tablet/html/js/pages/pageDashboard").Page,s=e("syracuse-tablet/html/js/pages/pageRegular").Page,o=e("syracuse-tablet/html/js/pages/html/pageDefHome").Page,u=e("syracuse-tablet/html/js/pages/html/pageLogin").Page,a=e("syracuse-tablet/html/js/pages/html/pageSettings").Page,f=e("syracuse-tablet/html/js/pages/html/pageAbout").Page,l=e("syracuse-tablet/html/js/application/daoApp").Dao,c=e("syracuse-tablet/html/js/application/daoSdata").Dao,h=e("syracuse-tablet/html/js/application/appFactory");t.init=function(){h.setImpl("Application",r),h.setImpl("DashoardPage",i),h.setImpl("RegularPage",s),h.setImpl("DefHomePage",o),h.setImpl("LoginPage",u),h.setImpl("SettingsPage",a),h.setImpl("AboutPage",f),h.setImpl("DaoApp",l),h.setImpl("DaoSdata",c)}}),define("syracuse-tablet/html/js/controls/structElmt",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/ui/uiUtils"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/ui/uiUtils"),s={},o=/-|\//g,u=r.defineClass(function(e,t,n,r){var i=this;i.options=r||{},i.controller=e,i.$type=t,i.typeName=s[t];if(!i.typeName){var u=t.split(o);i.typeName=s[t]=u[u.length-1]}i.article=n||{},i.id=i.createId(i.typeName),i.children=null,i.parent=null;if(!i.controller.addControl)throw new Error("Controller must implement addControl method");i.displayOptions=$.extend({},i.article.displayOptions),i.$$elmt=null},null,{destroy:function(){var e=this;e.controller=null,e.parent=null,r.unbindObj(e.$$elmt),r.unbindObj(e),e.children&&(e.children.forEach(function(e){e&&e.destroy()}),e.children=null),e.$$elmt=null},detachElmt:function(){var e=this.$$elmt;return this.$$elmt=null,this.destroy(),e},empty:function(){var e=this;e.children&&e.children.forEach(function(e){e&&e.empty()}),e.$$elmt&&e.$$elmt.empty()},getControllerDao:function(){return this.controller.dao},isLayout:function(){return this.typeName==="layout"},isVignette:function(){return this.typeName==="vignette"},isControl:function(){return this.isLayout()&&!this.isVignette()},createId:function(e){return r.readableuid(e)},appendStructElmt:function(e){var t=this;if(!e)return;t.children||(t.children=[]),e.parent=t,t.children.push(e)},isRoot:function(){return this.controller===this.parent||this.parent==null},getNbChilds:function(){return this.children&&this.children.length>0},buildHtml:function(e,t,n){throw new Error("Must be overridden")},refresh:function(e,t){throw new Error("not implemented")},createRootElement:function(e,t){return this.setRootElement(i.createDomElement("div",e,null,{id:this.id}),t)},setRootElement:function(e,t){var n=e,r=t;if(!e)return null;if(typeof e=="string"||!e.jquery)e=$(e);return this.$$elmt=e,t&&(t.jquery||(t=$(t)),e.appendTo(t)),e}});t.Klass=u}),define("syracuse-tablet/html/js/controls/ctrlBase",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/structElmt"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/structElmt").Klass,s=r.defineClass(function(e,t,n){var r=this;r.prototype=n,r.$bind=t.$bind,i.call(r,e,n.data("$type"),t)},i,{destroy:function(){var e=this;e.prototype=null,i.prototype.destroy.call(e)}});t.Klass=s}),define("syracuse-tablet/html/js/helpers/types/date",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){function o(e,t,n){e=e?e.toString():"";if(!n||n.length==0)n=" ";while(e.length<t)e=n+e;return e}function f(e){this._value=e}function l(e,t){return t?s().abbreviatedDayNames[e]:s().dayNames[e]}function c(e,t){return t?s().abbreviatedMonthNames[e-1]:s().monthNames[e-1]}function h(e){var t=e.toString();return t.length==1?"0"+t:t}function p(e){var t=e.year,n=e.month,r=e.day,i=n<=2?t-1:t,s=Math.floor(i/4)-Math.floor(492.5),o=Math.floor(i/100)-Math.floor(19.7),a=Math.floor(i/400)-Math.floor(4.925),f=s-o+a;return(t-1970)*365+f+u[n-1]+r-1}function d(e){var t=2440588+e,n=t+68569,r=Math.floor(4*n/146097);n-=Math.floor((146097*r+3)/4);var i=Math.floor(4e3*(n+1)/1461001);n=n-Math.floor(1461*i/4)+31;var s=Math.floor(80*n/2447),o=n-Math.floor(2447*s/80);n=Math.floor(s/11);var u=s+2-12*n,a=100*(r-49)+i+n;return new f(a*1e4+u*100+o)}function v(e,t,n){return new f(e*1e4+t*100+n)}function m(e){return e%4===0&&(e%100!==0||e%400===0)}function g(e,t){return t==2?m(e)?29:28:a[t-1]}function y(e){return e!=0&&e!=6}function b(){return s().amDesignator||"AM"}function w(){return s().pmDesignator||"PM"}function E(e,t){function i(t){var n=e[t],r=1;while(e[t+r]===n)r++;return r}var n=0,r=e.length;while(n<r){var s=e[n];switch(s){case"'":n++;var o="";for(;n<r;n++)if(e[n]==="'"){n++;if(e[n]!=="'")break;o+="'"}else o+=e[n];t.literal(o);break;case"d":case"M":case"y":var u=i(n);t[s](u),n+=u;break;default:t.literal(s),n++}}}function S(e,t){function f(t){if(!/\d/.test(e[a]))throw new Error(i.text("date.notNumber",e.substring[a]));var n=a++;while(a<n+t&&/\d/.test(e[a]))a++;return parseInt(e.substring(n,a),10)}function l(t){for(var n=0;n<t.length;n++){var r=t[n],s=r.length;if(e.substring(a,a+s).toUpperCase()==r.toUpperCase())return a+=s,n}throw new Error(i.text("date.unknown",e.substring(a)))}var n,r,o,u,a=0;return E(t,{literal:function(t){if(e.substring(a,a+t.length)!==t)throw new Error(i.text("date.wrongFormat",t,e.substring(a)));a+=t.length},d:function(e){switch(e){case 1:case 2:n=f(2);break;case 3:r=l(s().abbreviatedDayNames);break;case 4:r=l(s().dayNames);break;default:throw new Error(i.text("date.badDay",t.substring(a)))}},M:function(e){switch(e){case 1:case 2:o=f(2);break;case 3:o=l(s().abbreviatedMonthNames)+1;break;case 4:o=l(s().monthNames)+1;break;default:throw new Error(i.text("date.badDay",t.substring(a)))}},y:function(e){switch(e){case 2:u=f(2),u=u<40?2e3+u:1900+u;break;case 4:u=f(4),u=u>99?u:u<40?2e3+u:1900+u;break;default:throw new Error(i.text("date.badYear",t.substring(a)))}}}),v(u,o,n)}var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/locale"),s=i.getDatetimeInfo;t.validate=function(e,t,n){if(e==null){if(t.$isMandatory)return n.push(i.text("date.valMan"));if(!t.$isNullable)return n.push(i.text("date.valNull"));return}if(!(e instanceof f)){n.push(i.text("date.valDate"));return}if(!(e.month>=1&&e.month<=12)){n.push(i.text("date.invMonth"));return}if(!(e.day>=1&&e.day<=g(e.year,e.month))){n.push(i.text("date.invDay"));return}};var u=[0,31,59,90,120,151,181,212,243,273,304,334],a=[31,28,31,30,31,30,31,31,30,31,30,31];t.amDesignator=b,t.pmDesignator=w,r.defineClass(f,null,{year:{get:function(){return Math.floor(this._value/1e4)}},month:{get:function(){return Math.floor(this._value/100)%100}},day:{get:function(){return this._value%100}},weekDay:{get:function(){return(2440589+p(this))%7}},yearDay:{get:function(){var e=this.month,t=e>2&&m(this.year)?1:0;return u[e-1]+t+this.day}},week:{get:function(){var e=v(this.year,1,4).begOfWeek(1);return Math.floor((7+p(this)-p(e))/7)}},valueOf:function(){return this.toString()},compare:function(e){return this._value-e._value},equals:function(e){return this._value===e._value},between:function(e,t){return e._value<=this._value&&this._value<=t._value},isLeapYear:function(){return m(this.year)},isWorkDay:function(){return y(this.weekDay)},daysInMonth:function(){return g(this.year,this.month)},begOfYear:function(){return v(this.year,1,1)},endOfYear:function(){return v(this.year,12,31)},begOfQuarter:function(){return v(this.year,Math.floor((this.month-1)/3)*3+1,1)},endOfQuarter:function(){return this.begOfQuarter().addMonths(2).endOfMonth()},begOfMonth:function(){return v(this.year,this.month,1)},endOfMonth:function(){return v(this.year,this.month,this.daysInMonth())},sameMonth:function(e){return e=Math.min(e,this.daysInMonth()),v(this.year,this.month,e)},pastDay:function(e,t){var n=e-this.day;return n>0||n==0&&!t?this.addMonths(-1).sameMonth(e):this.sameMonth(e)},futureDay:function(e,t){var n=e-this.day;return n<0||n==0&&!t?this.addMonths(1).sameMonth(e):this.sameMonth(e)},pastMonth:function(e,t){var n=this.month-e;return n=n==0?t?0:12:n>0?n:n+12,this.addMonths(-n)},futureMonth:function(e,t){var n=e-this.month;return n=n==0?t?0:12:n>0?n:n+12,this.addMonths(n)},begOfWeek:function(e){var t=this.weekDay-(e||0);return t==0?this:t>0?this.addDays(-t):this.addDays(-t-7)},endOfWeek:function(e){return this.begOfWeek(e).addDays(6)},sameWeek:function(e,t){return this.begOfWeek(t).futureWeekDay(e,!0)},pastWeekDay:function(e,t){var n=this.begOfWeek(e);return!t&&n.equals(this)?this.addWeeks(-1):n},futureWeekDay:function(e,t){return this.pastWeekDay(e,!t).addWeeks(1)},addYears:function(e){if(e==0)return this;var t=this.year+e,n=this.month,r=Math.min(this.day,g(t,n));return v(t,n,r)},addMonths:function(e){if(e==0)return this;var t=this,n=t.day,r=t.month-1,i=t.year;r+=e,i+=Math.floor(r/12);var s=(r+12e4)%12+1,o=g(i,s);return n=n<o?n:o,v(i,s,n)},addWeeks:function(e){return this.addDays(7*e)},addDays:function(e){return e==0?this:d(p(this)+e)},daysDiff:function(e){return p(this)-p(e)},add:function(e){return this.addYears(e.years||0).addMonths(e.months||0).addWeeks(e.weeks||0).addDays(e.days||0)},toString:function(e){var t=this;if(e==null){var n=t._value.toString();return n=o(n,8,"0"),n.substring(0,4)+"-"+n.substring(4,6)+"-"+n.substring(6,8)}var r="";return E(e,{literal:function(e){r+=e},d:function(e){switch(e){case 1:r+=t.day.toString();break;case 2:r+=h(t.day);break;case 3:r+=l(t.weekDay,!0);break;case 4:r+=l(t.weekDay);break;default:throw new Error(i.text("date.formatd",e))}},M:function(e){switch(e){case 1:r+=t.month.toString();break;case 2:r+=h(t.month);break;case 3:r+=c(t.month,!0);break;case 4:r+=c(t.month);break;default:throw new Error(i.text("date.formatM",e))}},y:function(e){switch(e){case 2:r+=t.year.toString().substring(2,4);break;case 4:r+=t.year.toString();break;default:throw new Error(i.text("date.formatM",e))}}}),r},at:function(e,t){throw new Error(i.text("date.notInstalled"))},toJsDate:function(e){return e?new Date(Date.UTC(this.year,this.month-1,this.day)):new Date(this.year,this.month-1,this.day)},isNull:function(){return this._value==0}}),t.monthName=c,t.monthFromName=function(e){var t=s().monthNames,n=s().abbreviatedMonthNames,r=e.toLowerCase();for(var i=0;i<t.length;i++)if(t[i].toLowerCase()==r||n[i].toLowerCase()==r)return i+1;return-1},t.dayName=l,t.weekDayFromName=function(e){var t=s().dayNames,n=s().abbreviatedDayNames,r=s().shortestDayNames,i=e.toLowerCase();for(var o=0;o<t.length;o++)if(t[o].toLowerCase()==i||n[o].toLowerCase()==i)return o;return-1},t.isLeap=m,t.daysInMonth=g,t.today=function(e){return t.fromJsDate(new Date,e)},t.parse=function(e,t){if(e==null)throw new Error(i.text("date.dateNull"));if(t==null){if(e.length!=10)throw new Error(i.text("date.badFormat",e));var n=parseInt(e.replace(/-/g,""),10);return new f(n)}return S(e,t)},t.walkFormat=E,t.fromJsDate=function(e,t){return t?v(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate()):v(e.getFullYear(),e.getMonth()+1,e.getDate())},t.fromInternalValue=function(e){return new f(e)},t.makeInWeek=function(e,t,n){var r=n?n-1:6;return v(e,1,4).begOfWeek(1).addDays(7*(t-1)+r)},t.isDate=function(e){return e instanceof f},t.sunday=0,t.Sunday=0,t.monday=1,t.Monday=1,t.tuesday=2,t.Tuesday=2,t.wednesday=3,t.Wednesday=3,t.thursday=4,t.Thursday=4,t.friday=5,t.Friday=5,t.saturday=6,t.Saturday=6,t.make=v}),define("syracuse-tablet/html/js/helpers/types/time",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){function o(e){e=(e+31536e7)%86400,this._value=e}function u(e){var t=e.toString();return t.length==1?"0"+t:t}function a(e,t,n){return parseInt(e.substring(t,n),10)}function f(e,t,n){return new o(e*3600+(t||0)*60+(n||0))}function l(){return s().amDesignator||"AM"}function c(){return s().pmDesignator||"AM"}function h(e,t){function i(t){var n=e[t],r=1;while(e[t+r]===n)r++;return r}var n=0,r=e.length;while(n<r){var s=e[n];switch(s){case"'":n++;var o="";for(;n<r;n++)if(e[n]==="'"){n++;if(e[n]!=="'")break;o+="'"}else o+=e[n];t.literal(o);break;case"H":case"h":case"m":case"s":case"t":var u=i(n);t[s](u),n+=u;break;default:t.literal(s),n++}}}function p(e,t){function v(t){if(!/\d/.test(e[d]))throw new Error(i.text("time.noNumber",e.substring[d]));var n=d++;while(d<n+t&&/\d/.test(e[d]))d++;return parseInt(e.substring(n,d),10)}function m(t){for(var n=0;n<t.length;n++){var r=t[n],s=r.length;if(e.substring(d,d+s).toUpperCase()==r.toUpperCase())return d+=s,n}throw new Error(i.text("time.unknown",e.substring(d)))}function g(e,t){switch(e[t]){case e[0]:n=n===12?0:n;break;case e[1]:n>=1&&n<=11&&(n+=12)}}var n,r,s,o,u,a=[l(),c()],p=[a[0].substring(0,1),a[1].substring(0,1)],d=0;h(t,{literal:function(t){if(e.substring(d,d+t.length)!==t)throw new Error(i.text("time.wrongFormat",t,e.substring(d)));d+=t.length},H:function(e){switch(e){case 1:case 2:n=v(2);break;default:throw new Error(i.text("time.badHour",t.substring(d)))}},h:function(e){switch(e){case 1:case 2:n=v(2);break;default:throw new Error(i.text("time.badHour",t.substring(d)))}},m:function(e){switch(e){case 2:r=v(2);break;default:throw new Error(i.text("time.badMin",t.substring(d)))}},s:function(e){switch(e){case 2:s=v(2);break;default:throw new Error(i.text("time.badSec",t.substring(d)))}},t:function(e){switch(e){case 1:u=m(p);break;case 2:o=m(a);break;default:throw new Error(i.text("time.badMarker",t.substring(d)))}}});if(o!=null||u!=null){if(n>12)throw new Error(i.text("time.badHourVal",n,o));var y=o!=null?a:p,b=o!=null?o:u;g(y,b)}return f(n,r,s)}var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/locale"),s=i.getDatetimeInfo;t.validate=function(e,t,n){if(e==null){if(t.$isMandatory)return n.push(i.text("time.valMan"));if(!t.$isNullable)return n.push(i.text("time.valNull"));return}if(!(e instanceof o)){n.push(i.text("time.valTime"));return}},r.defineClass(o,null,{hour:{get:function(){return Math.floor(this._value/3600)}},minute:{get:function(){return Math.floor(this._value/60)%60}},second:{get:function(){return this._value%60}},value:{get:function(){return this._value}},valueOf:function(){return this.toString()},compare:function(e){return this._value-e._value},equals:function(e){return this._value===e._value},between:function(e,t){return e._value<=this._value&&this._value<=t._value},begOfDay:function(){return f(0,0,0)},endOfDay:function(){return f(23,59,59)},begOfHour:function(){return f(this.hour,0,0)},endOfHour:function(){return f(this.hour,59,59)},begOfMinute:function(){return f(this.hour,this.minute,0)},endOfMinute:function(){return f(this.hour,this.minute,59)},toString:function(e){var t=this;if(e==null)return u(t.hour)+":"+u(t.minute)+":"+u(t.second);var n="";return h(e,{literal:function(e){n+=e},H:function(e){switch(e){case 1:n+=t.hour;break;case 2:n+=u(t.hour);break;default:throw new Error(i.text("time.formatH",e))}},h:function(e){switch(e){case 1:var r=t.hour;r===0?n+=12:n+=r>12?r-12:r;break;case 2:var r=t.hour;r===0?n+=12:n+=r>12?u(r-12):u(r);break;default:throw new Error(i.text("time.formath",e))}},m:function(e){switch(e){case 2:n+=u(t.minute);break;default:throw new Error(i.text("time.formatm",e))}},s:function(e){switch(e){case 2:n+=u(t.second);break;default:throw new Error(i.text("time.formats",e))}},t:function(e){switch(e){case 1:n+=t.hour<12?l().substring(0,1):c().substring(0,1);break;case 2:n+=t.hour<12?l():c();break;default:throw new Error(i.text("time.formata",e))}}}),n},secondsDiff:function(e){return this._value-e._value},addHours:function(e){return e==0?this:new o(this._value+e*3600)},addMinutes:function(e){return e==0?this:new o(this._value+e*60)},addSeconds:function(e){return e==0?this:new o(this._value+e)},add:function(e){return this.addHours(e.hours||0).addMinutes(e.minutes||0).addSeconds(e.seconds||0)},isNull:function(){return this._value==0}}),t.make=f,t.fromSeconds=function(e){return new o(e)},t.fromJsDate=function(e,t){return t?f(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds()):f(e.getHours(),e.getMinutes(),e.getSeconds())},t.now=function(e){return t.fromJsDate(new Date,e)},t.parse=function(e,t){if(e==null)throw new Error(i.text("time.isNull"));if(t==null){if(e.length!=5&&e.length!=8)throw new Error(i.text("time.badFormat",e));var n=e.length==8?a(e,0,2)*3600+a(e,3,5)*60+a(e,6,8):a(e,0,2)*3600+a(e,3,5)*60;return new o(n)}return p(e,t)},t.amDesignator=l,t.pmDesignator=c}),define("syracuse-tablet/html/js/helpers/types/datetime",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/types/date","syracuse-tablet/html/js/helpers/types/time","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){function a(e){var t=e.toString();return t.length==1?"0"+t:t}function f(e){var t=e.toString();switch(t.length){case 1:return"00"+t;case 2:return"0"+t;default:return t}}function l(e,t){this._value=e,t!=null&&(this._tzOffset=t)}function c(e){return(e._value+63072e9)%1e3}function h(e){var t=e._utc;if(!t){var n=new Date(e._value);t=n.getUTCFullYear()*1e4*1e5+(n.getUTCMonth()+1)*100*1e5+n.getUTCDate()*1e5+n.getUTCHours()*3600+n.getUTCMinutes()*60+n.getUTCSeconds(),n._utc=t}return t}function p(e){var t=e._local;if(!t){var n=new Date(e._value);t=n.getFullYear()*1e4*1e5+(n.getMonth()+1)*100*1e5+n.getDate()*1e5+n.getHours()*3600+n.getMinutes()*60+n.getSeconds(),n._local=t}return t}function d(e,t){var n="-";e<0&&(n="+",e=-e);var r=Math.round(e/60),i=e-r*60;return n+=t>1?a(r):r,n+=t>2||i?":"+(t>1?a(i):i):"",n}function v(e){var t=0,n=0,r=0,i=0,s=0,u=0,a=0,f=0,c=!0,h=/(\d{4})-(\d{2})-(\d{2})([T\s]?)(\d{2})?(:)?(\d{2})?(:)?(\d{2})?(\.(\d{3}))?(Z)?(([+-])(\d{2}))?(.*$)/.exec(e);if(h){c=!1,t=+h[1],n=h[2]-1,r=+h[3],i=+(h[5]||0),s=+(h[7]||0),u=+(h[9]||0),a=+(h[11]||0);if(h[12]==="Z"){h[14]==="-"?f=(h[15]||0)*60:h[14]==="+"&&(f=-(h[15]||0)*60);var p=Date.UTC(t,n,r,i,s+f,u,a);return new l(p)}var d=new Date(t,n,r,i,s+f,u,a);return new l(d.getTime(),d.getTimezoneOffset())}if(c)throw new Error(o.text("datetime.noParse",e))}function m(e,t,n,r,i,s,o){var u=new Date(e,t-1,n,r||0,i||0,s||0,o||0);return new l(u.getTime(),u.getTimezoneOffset())}function g(e,t,n,r,i,s,o){var u=new Date(Date.UTC(e,t-1,n,r||0,i||0,s||0,o||0));return new l(u.getTime(),u.getTimezoneOffset())}function y(e,t){function i(t){var n=e[t],r=1;while(e[t+r]===n)r++;return r}var n=0,r=e.length;while(n<r){var s=e[n];switch(s){case"'":n++;var o="";for(;n<r;n++)if(e[n]==="'"){n++;if(e[n]!=="'")break;o+="'"}else o+=e[n];t.literal(o);break;case"H":case"h":case"m":case"s":case"S":case"t":case"d":case"M":case"y":var u=i(n);t[s](u),n+=u;break;default:t.literal(s),n++}}}function b(e,t){function w(t){if(!/\d/.test(e[b]))throw new Error(o.text("datetime.noNumber",e.substring[b]));var n=b++;while(b<n+t&&/\d/.test(e[b]))b++;return parseInt(e.substring(n,b),10)}function E(t){for(var n=0;n<t.length;n++){var r=t[n],i=r.length;if(e.substring(b,b+i).toUpperCase()==r.toUpperCase())return b+=i,n}throw new Error(o.text("datetime.unknown",e.substring(b)))}function S(e,t){switch(e[t]){case e[0]:f=f===12?0:f;break;case e[1]:f>=1&&f<=11&&(f+=12)}}var n,r,s,a,f,l,c,h,p,d,v=[i.amDesignator(),i.pmDesignator()],g=[v[0].substring(0,1),v[1].substring(0,1)],b=0;y(t,{literal:function(t){if(e.substring(b,b+t.length)!==t)throw new Error(o.text("datetime.formatMis",t,e.substring(b)));b+=t.length},d:function(e){switch(e){case 1:case 2:n=w(2);break;case 3:r=E(u().abbreviatedDayNames);break;case 4:r=E(u().dayNames);break;default:throw new Error(o.text("datetime.badDay",t.substring(b)))}},M:function(e){switch(e){case 1:case 2:s=w(2);break;case 3:s=E(u().abbreviatedMonthNames)+1;break;case 4:s=E(u().monthNames)+1;break;default:throw new Error(o.text("datetime.badDay",t.substring(b)))}},y:function(e){switch(e){case 2:a=w(2),a=a<40?2e3+a:1900+a;break;case 4:a=w(4),a=a>99?a:a<40?2e3+a:1900+a;break;default:throw new Error(o.text("datetime.badYear",t.substring(b)))}},H:function(e){switch(e){case 1:case 2:f=w(2);break;default:throw new Error(o.text("datetime.badHour",t.substring(b)))}},h:function(e){switch(e){case 1:case 2:f=w(2);break;default:throw new Error(o.text("datetime.badHour",t.substring(b)))}},m:function(e){switch(e){case 2:l=w(2);break;default:throw new Error(o.text("datetime.badMin",t.substring(b)))}},s:function(e){switch(e){case 2:c=w(2);break;default:throw new Error(o.text("datetime.badSec",t.substring(b)))}},t:function(e){switch(e){case 1:d=E(g);break;case 2:p=E(v);break;default:throw new Error(o.text("datetime.badMarker",t.substring(b)))}}});if(p!=null||d!=null){if(f>12)throw new Error(o.text("datetime.badHourVal",f,p));var x=p!=null?v:g,T=p!=null?p:d;S(x,T)}return m(a,s,n,f,l,c,h)}function w(e){function r(t){var n=e[t],r=1;while(e[t+r]===n)r++;return r}var t=0,n=e.length;while(t<n){var i=e[t];if(i==="'"){t++;var s="";for(;t<n;t++)if(e[t]==="'"){t++;if(e[t]!=="'")break;s+="'"}else s+=e[t]}else{if(i==="Z")return t;t++}}}var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/types/date"),s=e("syracuse-tablet/html/js/helpers/types/time"),o=e("syracuse-tablet/html/js/helpers/locale"),u=o.getDatetimeInfo;t.validate=function(e,t,n){if(e==null){if(t.$isMandatory)return n.push(o.text("datetime.valMand"));if(!t.$isNullable)return n.push(o.text("datetime.valNull"));return}if(!(e instanceof l)){n.push(o.text("datetime.valDT"));return}if(!(e.month>=1&&e.month<=12)){n.push(o.text("datetime.valMon"));return}if(!(e.day>=1&&e.day<=i.daysInMonth(e.year,e.month))){n.push(o.text("datetime.valDay"));return}},t.Datetime=r.defineClass(l,null,{date:{get:function(){return i.fromInternalValue(Math.floor(p(this)/1e5))}},time:{get:function(){return s.fromSeconds(p(this)%1e5)}},year:{get:function(){return this.date.year}},month:{get:function(){return this.date.month}},day:{get:function(){return this.date.day}},weekDay:{get:function(){return this.date.weekDay}},yearDay:{get:function(){return this.date.yearDay}},hour:{get:function(){return this.time.hour}},minute:{get:function(){return this.time.minute}},second:{get:function(){return this.time.second}},millisecond:{get:function(){return c(this)}},utcDate:{get:function(){return i.fromInternalValue(Math.floor(h(this)/1e5))}},utcTime:{get:function(){return s.fromSeconds(h(this)%1e5)}},utcYear:{get:function(){return this.utcDate.year}},utcMonth:{get:function(){return this.utcDate.month}},utcDay:{get:function(){return this.utcDate.day}},utcWeekDay:{get:function(){return this.utcDate.weekDay}},utcYearDay:{get:function(){return this.utcDate.yearDay}},utcHour:{get:function(){return this.utcTime.hour}},utcMinute:{get:function(){return this.utcTime.minute}},utcSecond:{get:function(){return this.utcTime.second}},utcMillisecond:{get:function(){return c(this)}},value:{get:function(){return this._value}},timezoneOffset:{get:function(){return this._tzOffset==null&&(this._tzOffset=this.toJsDate().getTimezoneOffset()),this._tzOffset}},compare:function(e){return this._value-e._value},equals:function(e){return this._value===e._value},between:function(e,t){return e._value<=this._value&&this._value<=t._value},addYears:function(e){return this.date.addYears(e).at(this.time,this.millisecond)},addMonths:function(e){return this.date.addMonths(e).at(this.time,this.millisecond)},addWeeks:function(e){return this.date.addWeeks(e).at(this.time,this.millisecond)},addDays:function(e){return this.date.addDays(e).at(this.time,this.millisecond)},addHours:function(e){return new l(this._value+e*3600*1e3)},addMinutes:function(e){return new l(this._value+e*60*1e3)},addSeconds:function(e){return new l(this._value+e*1e3)},addMilliseconds:function(e){return new l(this._value+e)},addDayFractions:function(e){return new l(this._value+e*86400*1e3)},millisDiff:function(e){return this._value-e._value},begOfMonth:function(){return m(this.year,this.month,1)},begOfWeek:function(e){var t=this.weekDay-(e||0);return t==0?this:t>0?this.addDays(-t):this.addDays(-t-7)},add:function(e){return this.addYears(e.years||0).addMonths(e.months||0).addWeeks(e.weeks||0).addDays(e.days||0).addHours(e.hours||0).addMinutes(e.minutes||0).addSeconds(e.seconds||0).addMillis(e.millis||0)},toString:function(e){var t=this;if(e==null)return(new Date(this._value)).toISOString();var n=w(e),r=n?t.utcDate:t.date,s=n?t.utcTime:t.time,l="";return y(e,{literal:function(e){l+=e},H:function(e){switch(e){case 1:l+=s.hour.toString();break;case 2:l+=a(s.hour);break;default:throw new Error(o.text("datetime.formatH",e))}},h:function(e){switch(e){case 1:l+=s.hour<13?s.hour:s.hour-12;break;case 2:l+=a(s.hour<13?s.hour:s.hour-12);break;default:throw new Error(o.text("datetime.formath",e))}},m:function(e){switch(e){case 2:l+=a(s.minute);break;default:throw new Error(o.text("datetime.formatm",e))}},s:function(e){switch(e){case 2:l+=a(t.second);break;default:throw new Error(o.text("datetime.formats",e))}},t:function(e){switch(e){case 1:l+=t.hour<12?u().amDesignator.substring(0,1):u().pmDesignator.substring(0,1);break;case 2:l+=t.hour<12?u().amDesignator:u().pmDesignator;break;default:throw new Error(o.text("datetime.formata",e))}},d:function(e){switch(e){case 1:l+=r.day.toString();break;case 2:l+=a(r.day);break;case 3:l+=i.dayName(r.weekDay,!0);break;case 4:l+=i.dayName(r.weekDay);break;default:throw new Error(o.text("datetime.formatd",e))}},M:function(e){switch(e){case 1:l+=r.month.toString();break;case 2:l+=a(r.month);break;case 3:l+=i.monthName(r.month,!0);break;case 4:l+=i.monthName(r.month);break;default:throw new Error(o.text("datetime.formatM",e))}},y:function(e){switch(e){case 2:l+=r.year.toString().substring(2,4);break;case 4:l+=r.year.toString();break;default:throw new Error(o.text("datetime.formaty",e))}},S:function(e){e===3?l+=f(t.millisecond):new Error(o.text("datetime.formatS",e))}}),l},toJsDate:function(){return new Date(this._value)},withoutTimezoneOffset:function(){return new l(this._value)},isNull:function(){return this._value==0}}),t.now=function(e){var t=new Date,n=t.getTime();return e||(n=Math.floor(n/1e3)*1e3),new l(n,t.getTimezoneOffset())},t.parse=function(e,t){if(e==null)throw new Error(o.text("datetime.isNull"));return t==null?v(e):b(e,t)},t.fromJsDate=function(e){return new l(e.getTime(),e.getTimezoneOffset())},t.isDatetime=function(e){return e instanceof l},t.fromInternalValue=function(e){return new l(e)},t.dayName=function(e,t){return t?u().abbreviatedDayNames[e]:u().dayNames[e]},t.monthName=function(e,t){return t?u().abbreviatedMonthNames[e-1]:u().monthNames[e-1]},t.make=m,t.makeUtc=g,i.make(1,1,1).constructor.prototype.at=function(e,n){return t.make(this.year,this.month,this.day,e.hour,e.minute,e.second,n)},t.sunday=0,t.Sunday=0,t.monday=1,t.Monday=1,t.tuesday=2,t.Tuesday=2,t.wednesday=3,t.Wednesday=3,t.thursday=4,t.Thursday=4,t.friday=5,t.Friday=5,t.saturday=6,t.Saturday=6,t.walkFormat=y}),define("syracuse-tablet/html/js/helpers/types/numberFormat",["require","exports","module","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){function i(e,t,n){this.prefix=e,this.postfix=t,this.properties=n}function s(e,t){var n=new i(t.prefix,t.postfix,t.properties),r,s,o=e.indexOf("."),u=e.indexOf(",");n.properties.hasDecimalSeparator=r=o>-1,n.properties.hasGroupSeparator=s=u>-1;if(r){var a=e.substring(o+1);n.properties.mandatoryAfter=a.indexOf("0")>-1?a.match(/0/g).length:0,n.properties.maxAfter=a.length}s&&(n.properties.groupSize=r?o-u-1:e.substring(u+1).length);var f=r?e.substring(0,o):e;return n.properties.mandatoryBefore=f.indexOf("0")>-1?f.match(/0/g).length:0,n.properties.directive=e,n.properties.hasPercent=e.indexOf("%")>-1,n.properties.hasPermil=e.indexOf("‰")>-1,n.properties.hasSignFormat=e.indexOf("+")>-1&&e.indexOf("+")===0,n}function o(e,t){function s(t){var n=e[t],r=1;while(i.indexOf(e[t+r])>-1)r++;return r}var n=0,r=e.length,i="0#.,%‰+";while(n<r){var o=e[n];switch(o){case"'":n++;var u="";for(;n<r;n++)if(e[n]==="'"){n++;if(e[n]!=="'")break;u+="'"}else u+=e[n];t.literal(u);break;case"0":case"#":case".":case"%":case"‰":case"+":var a=s(n);t.directive(n,n+a),n+=a;break;case";":t.listSeparator(),n++;break;default:t.literal(o),n++}n===r&&t.listSeparator()}}function u(e,t,n){var r="",i=e.length,s="",o=0;for(var u=i-1;u>=0;u--)s=e[u],r+=s,++o,o%n===0&&u>0&&(r+=t);return r.split("").reverse().join("")}function a(e,t){var n,u,a=0,c=[],h=!1,p=new i("","",{});o(t,{literal:function(e){h?p.postfix+=e:p.prefix+=e},directive:function(e,n){var r=t.substring(e,n);p=s(r,p),h=!0},listSeparator:function(){h=!1,c.push(p),p=new i("","",{}),n="",u=""}});var d=c.length;switch(d){case 1:return l(e,c[0]);case 2:case 3:return e===0?f(c[2]):e<0?l(e.toString().substring(1),c[1]):l(e,c[0]);default:throw new Error(d===0?r.text("numberFormat.noFormat"):r.text("numberFormat.manyFormat"))}}function f(e){return e.prefix}function l(e,t){var n="",i=r.getNumberGroupSeparator(),s=r.getNumberDecimalSeparator(),o=t.properties.directive;e=t.properties.hasPercent?e*100:e,e=t.properties.hasPermil?e*1e3:e;if(t.properties.hasDecimalSeparator){var a="",f=t.properties.maxAfter,l=o.substr(o.indexOf(".")+1,f),c=e%1,h=""+c.toFixed(f);h=h.substring(h.indexOf(".")+1);for(var p=0;p<f;p++){var d=l.charAt(p),v=h.charAt(p);if(d==="0")a+=v;else if(d==="#"&&v!=="0")a+=v;else if(d==="#"&&v==="0"){var m=h.substring(p);if(!m.match("[1-9]"))break;a+=v}}n=a?s+a:n}else e=Math.round(e);var g=e<0?""+Math.ceil(e):""+Math.floor(e);g=g.replace(/[^\d]+/g,"");var y=o.indexOf(".")===-1?o:o.substring(0,o.indexOf("."));if(g.length<t.properties.mandatoryBefore){var b=t.properties.mandatoryBefore-g.length,w="";for(var p=0;p<b;p++)w+="0";g=w+g}return t.properties.hasGroupSeparator&&t.properties.groupSize<g.length&&(g=u(g,i,t.properties.groupSize)),g=parseInt(g,10)===0&&t.properties.mandatoryBefore===0?"":g,g=g&&e<0?"-"+g:g,n=g+n,n=t.properties.hasSignFormat&&e>0?"+"+n:n,n+=t.properties.hasPercent?"%":"",n+=t.properties.hasPermil?"‰":"",t.prefix+n+t.postfix}function c(e,t){var n,r,u=0,a=[],f=!1,l=new i("","",{});return o(t,{literal:function(e){f?l.postfix+=e:l.prefix+=e},directive:function(e,n){var r=t.substring(e,n);l=s(r,l),f=!0},listSeparator:function(){f=!1,a.push(l),l=new i("","",{}),n="",r=""}}),h(e,a)}function h(e,t,n){var i=t.length,s,o=r.getNumberGroupSeparator(),u=r.getNumberDecimalSeparator();switch(i){case 1:var a=t[0],f=e,l,c,p=a.prefix,d=a.postfix;f=p?f.substring(p.length):f,f=d?f.substring(0,f.length-d.length):f;var v=f.split(u);if(v.length>2)throw new Error(r.text("numberFormat.oneSep",f));l=v[0]?v[0].match(/[0-9]/g).join(""):"0",c=v.length>1?v[1].match(/[0-9]/g).join(""):"",s=parseFloat(c?l+"."+c:l),s=f.charAt(0)==="-"?parseFloat("-"+s):s,s=a.properties.hasPercent?s/100:s,s=a.properties.hasPermil?s/1e3:s,s=n?parseFloat("-"+s):s;break;case 2:case 3:var m="1234567890"+u+o+"%‰-+",g=t.length,y=e.length;for(var b=0;b<g;b++){var w=t[b],p=w.prefix,d=w.postfix,E=p?!0:!1,S=d?!0:!1,x,T;x=E?e.substring(0,p.length):"",T=S?e.substring(y-d.length):"";if(E&&!S&&x.indexOf(p)>-1||E&&S&&x.indexOf(p)>-1&&T.indexOf(d)>-1||!E&&S&&T.indexOf(d)>-1||!E&&!S&&m.indexOf(e.charAt(0))>-1&&m.indexOf(e.charAt(y-1))>-1)break}var N=[];N.push(t[b]);switch(b){case 0:s=h(e,N);break;case 1:s=h(e,N,!0);break;case 2:s=0;break;default:throw new Error(r.text("numberFormat.cannotParse"))}break;default:throw new Error(i===0?r.text("numberFormat.noFormat"):r.text("numberFormat.manyFormats"))}return s}var r=e("syracuse-tablet/html/js/helpers/locale");t.format=function(e,t){if(isNaN(e))throw new Error(r.text("numberFormat.notNumber",e));if(t==null){e=e.toString();var n=e.indexOf("."),i=n>-1,s=i?e.substring(0,n):e,o=i?e.substring(n+1):"",f=r.getNumberGroupSeparator()||"",l=i?r.getNumberDecimalSeparator()||".":"";return u(s,f,3)+l+o}return a(e,t)},t.parse=function(e,t){return e?t==null?parseFloat(e):c(e,t):0}}),define("syracuse-tablet/html/js/helpers/formatApi",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/helpers/types/date","syracuse-tablet/html/js/helpers/types/datetime","syracuse-tablet/html/js/helpers/types/time","syracuse-tablet/html/js/helpers/types/numberFormat"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/locale"),s=e("syracuse-tablet/html/js/helpers/types/date"),o=e("syracuse-tablet/html/js/helpers/types/datetime"),u=e("syracuse-tablet/html/js/helpers/types/time"),a=e("syracuse-tablet/html/js/helpers/types/numberFormat"),f={},l;t.getFormatter=function(e,t){var n=m[e];if(!n)return null;var r=i.getCurrentLocaleHash();r!==l&&(l=r,f={});var s=f[e];s||(s=f[e]={});var o=t||"noformat",u=s[o];return u?u:(u=new n(e,t),s[o]=u,u)};var c=r.defineClass(function(e,t){this.$format=t,this.$type=e},null,{_isEmpty:function(e){return e==null?!0:(e=""+e,e=e.trim(),e===""?!0:!1)},formatValue:function(e){return e},formatValueEdit:function(e){return e},parseValue:function(e,t){t.push("No parser for this type, return this dummy error to not override value by null")},getFormat:function(){return this.format}}),h=r.defineClass(function(e,t){c.call(this,e,t),this.format=i.getDateFormat(),this.twoDigitYearSwitch=40},c,{_isEmpty:function(e){return e==null?!0:(e=""+e,e=e.trim(),e===""?!0:e==="0000-00-00"?!0:!1)},_checkShortYear:function(e){if(e.year){var t=e.year;t<100&&e.add({years:t<this.twoDigitYearSwitch?2e3:1900})}else e=e>99?e:e<this.twoDigitYearSwitch?2e3+e:1900+e;return e},formatValue:function(e){if(this._isEmpty(e))return"";var t=e.split(/[^\d]+/),n;if(t.length>=3){t[0]=this._checkShortYear(+t[0]);var r=s.make(+t[0],+t[1],+t[2]);n=r.toString(this.format)}else n=e;return n},parseValue:function(e,t){var n;if(this._isEmpty(e))return"";try{n=s.parse(e,this.format),n=this._checkShortYear(n)}catch(r){return t.push(i.text("field.invalidInput",[this.format])),e}return n.toString("yyyy-MM-dd")}}),p=r.defineClass(function(e,t){h.call(this,e,t),this.format=i.getDateTimeFormat()},h,{_isEmpty:function(e){return e==null?!0:(e=""+e,e=e.trim(),e===""?!0:e==="0000-00-00T00:00:00Z"?!0:!1)},formatValue:function(e){if(this._isEmpty(e))return o.now().toString(this.format);var t=e.split(/[^\d]+/),n;if(t.length>=6){t[0]=this._checkShortYear(+t[0]);var r=o.make(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]);n=r.toString(this.format)}else n=e;return n},parseValue:function(e,t){var n;if(this._isEmpty(e))return"";try{n=o.parse(e,this.format),n=this._checkShortYear(n)}catch(r){return t.push(i.text("field.invalidInput",[this.format])),e}return n.toString("yyyy-MM-ddTHH:mm:ss.SSS")+"Z"}}),d=r.defineClass(function(e,t){c.call(this,e,t),this.$format==="TT"?this.format=i.getTimeFormat():this.format=i.getTimeFormatShort()},c,{formatValue:function(e){if(this._isEmpty(e))return"";var t=e.split(/[^\d]+/),n;if(t.length>=2){var r=u.make(+t[0],+t[1],+t[2]);n=r.toString(this.format)}else n=e;return n},parseValue:function(e,t){if(this._isEmpty(e))return"";var n=e.split(/[^\d]+/);if(n.length>=1){var r=u.make(+n[0],+n[1],+n[2]);return r.toString("HH:mm:ss")}}}),v=r.defineClass(function(e,t){c.call(this,e,t),this.format=this.$format||i.getNumberFormat(this.$type)},c,{formatValue:function(e){if(this._isEmpty(e))return"";var t=a.format(e,this.format);return t},parseValue:function(e,t){if(this._isEmpty(e))return"";try{var n=a.parse(e,this.format)}catch(r){return t.push(i.text("field.invalidInput",[this.format])),e}return n}}),m={"application/x-integer":v,"application/x-decimal":v,"application/x-real":v,"application/x-date":h,"application/x-time":d,"application/x-datetime":p}}),define("syracuse-tablet/html/js/controls/validator",["require","exports","module","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/locale"),i={validate:function(e,t,n,s){var o=e.prototype,u=!0;for(var a=0;a<s.length;a++){var f=s[a],l=o&&o.data(f);if(l!=null){var c=i[f];c?u=c(t,n,l)&&u:(n.push(r.text("field.unknownConstraint",[f])),u=!1)}}return u},$isMandatory:function(e,t,n){if(n&&e==null||e=="")return t.push(r.text("field.valMand")),!1},$pattern:function(e,t,n){var i=this;if(e&&n){var s=new RegExp(n);if(!s.test(e))return t.push(r.text("field.patternError",[n])),!1}return!0},$minimum:function(e,t,n){var i=this;return e!=null&&e<n?(t.push(r.text("field.minimum",[n])),!1):!0},$maximum:function(e,t,n){var i=this;return e!=null&&e>n?(t.push(r.text("field.maximum",[n])),!1):!0},$exclusiveMinimum:function(e,t,n){var i=this;return e!=null&&e<=n?(t.push(r.text("field.exclusiveMinimum",[n])),!1):!0},$exclusiveMaximum:function(e,t,n){var i=this;return e!=null&&e>=n?(t.push(r.text("field.exclusiveMaximum",[n])),!1):!0},$minLength:function(e,t,n){var i=this;return!e||e.length<n?(t.push(r.text("field.minLength",[n])),!1):!0},$maxLength:function(e,t,n){var i=this;return e&&e.length>n?(t.push(r.text("field.maxLength",[n])),!1):!0},$precision:function(e,t,n){var i=this;if(e){var s=(""+e).split(".").join("");if(s.length>n)return t.push(r.text("field.precision",[n])),!1}return!0},$scale:function(e,t,n){var i=this;if(e){var s=(""+e).split(".");s=s&&s[1]||"";if(s.length>n)return t.push(r.text("field.scale",[n])),!1}return!0}};t.Validator=i}),define("syracuse-tablet/html/js/controls/field/ctrlFieldBase",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/ctrlBase","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/helpers/formatApi","syracuse-tablet/html/js/controls/validator"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/ctrlBase").Klass,s=e("syracuse-tablet/html/js/ui/uiUtils"),o=e("syracuse-tablet/html/js/helpers/formatApi"),u=e("syracuse-tablet/html/js/controls/validator").Validator,a=r.defineClass(function(e,t,n){var r=this;i.call(r,e,t,n),r.$format=n.data("$format"),r.formatter=o.getFormatter(r.$type,r.$format),r.ensureEditMode()},i,{ensureEditMode:function(){var e=this;e.$isEditMode=e.controller.isEditMode(),e.$isEditMode!==!1&&e.article.$isEditMode!=null&&(e.$isEditMode=e.article.$isEditMode)},destroy:function(){var e=this;i.prototype.destroy.call(e),e.formatter=null},getTitle:function(){var e=this;return e.prototype.getPropTitle(e.$bind)},getPropertyType:function(){var e=this;return e.prototype.data("$type")},buildHtml:function(e,t,n){var r=this;if(!t)throw new Error("BuildHtml - dao is expected for data parameter");n=n||{},r.dao=t;var i=["s-m-control s-m-field-slot"];r.prototype.data("$isAdvanced")===!0&&i.push("s-m-field-advanced"),r.createRootElement(i,e);var s=r.$$elmt.get(0);this.buildFieldTitle(s,n),this.buildFieldCore(s,n)},buildFieldTitle:function(e,t){var n=this;n.article.$isTitleHidden!==!0&&t.isGridCell!==!0&&e.appendChild(s.createDomElement("div",["s-m-field-title"],n.getTitle()))},buildFieldCore:function(e,t){var n=s.createDomElement("div",["s-m-field-core"]),r=s.createDomElement("div",["s-m-field-value-slot"]),i=s.createDomElement("div",["s-m-field-value"]);r.appendChild(i),n.appendChild(r),this.buildFieldValue(i,t),this.buildFieldMessage(n,t),e.appendChild(n)},buildFieldValue:function(e,t){var n=this,r;r=n.getFormattedValue(n.getValue()),this.$isEditMode?n.domInput=e.appendChild(s.createDomElement("input",["s-m-field-input","form-control","ctrl-evt-blur"],null,{type:"text",value:r})):n.createFieldValueElement(e,r)},createFieldValueElement:function(e,t){return s.createDomElement("div",["s-m-field-value-read"],t||null,null,e)},buildFieldMessage:function(e,t){this.domMessage=s.createDomElement("div",["s-m-field-message"]),e.appendChild(this.domMessage)},validateValue:function(e,t){var n=!0;return n=u.validate(this,e,t,["$isMandatory"])&&n,n},parseValue:function(e,t){return this.formatter?this.formatter.parseValue(e,t):e},showInputErrors:function(e){var t=$(this.domMessage);t.empty(),e&&e.forEach(function(e){t.append($("<p>").text(e))})},clearInputErrors:function(){this.showInputErrors(null)},getFormattedValue:function(e){return this.formatter?this.formatter.formatValue(e):e||""},getValue:function(){return this.dao.getValue(this.$bind)},setDisplayValue:function(e){this.domInput&&(this.domInput.value=e)},setValue:function(e){this.dao.setValue(this.$bind,e)},setFieldValue:function(e){var t=this;t.setDisplayValue(t.getFormattedValue(e)),t.dao.setValue(t.article.$bind,e)},onBlur:function(){var e=this.domInput.value,t=[];e=this.parseValue(e,t);if(t.length>0){this.showInputErrors(t);return}this.setDisplayValue(this.getFormattedValue(e)),this.validateValue(e,t),t.length>0?this.showInputErrors(t):(this.clearInputErrors(),this.setValue(e))}});t.Klass=a}),define("syracuse-tablet/html/js/controls/field/ctrlAlphanum",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/field/ctrlFieldBase","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/controls/validator"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/field/ctrlFieldBase").Klass,s=e("syracuse-tablet/html/js/ui/uiUtils"),o=e("syracuse-tablet/html/js/controls/validator").Validator,u=r.defineClass(function(e,t,n){var r=this;i.call(r,e,t,n)},i,{validateValue:function(e,t){var n=this,r=i.prototype.validateValue.call(n,e,t);return r=o.validate(this,e,t,["$pattern","$minLength","$maxLength"])&&r,r}}),a=r.defineClass(function(e,t,n){var r=this;u.call(r,e,t,n)},u,{buildFieldValue:function(e,t){var n=this,r=n.getValue();if(this.$isEditMode)e.appendChild(s.createDomElement("input",["s-m-field-input","form-control"],null,{type:"text",value:r}));else{var i=s.createDomElement("a",["s-m-phone-link"],r,{href:"tel:"+r});i.appendChild(s.createDomElement("span",["s-m-phone-badge","badge","pull-left"]));var o=n.createFieldValueElement();o.appendChild(i),e.appendChild(o)}}}),f=r.defineClass(function(e,t,n){var r=this;u.call(r,e,t,n)},u,{buildFieldValue:function(e,t){var n=this,r=n.getValue();if(this.$isEditMode)e.appendChild(s.createDomElement("input",["s-m-field-input","form-control"],null,{type:"text",value:r}));else{var i=s.createDomElement("a",["s-m-email-link"],r,{href:"mailto:"+r});i.appendChild(s.createDomElement("span",["s-m-email-badge","badge","pull-left"]));var o=n.createFieldValueElement();o.appendChild(i),e.appendChild(o)}}});t.Klass=u,t.PhoneField=a,t.EmailField=f}),define("syracuse-tablet/html/js/controls/field/ctrlProgress",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/controls/field/ctrlFieldBase"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/ui/uiUtils"),s=e("syracuse-tablet/html/js/controls/field/ctrlFieldBase").Klass,o={$valueMin:0,$valueMax:100},u=r.defineClass(function(e,t,n){var r=this;s.call(r,e,t,n)},s,{buildFieldValue:function(e,t,n){var r=this,s=r.getValue(),u=i.createDomElement("div",["progress"]),a=i.createDomElement("div",["progress-bar"],s,{role:"progressbar","aria-valuenow":s,"aria-valuemin":r.article.$valueMin||o.$valueMin,"aria-valuemax":r.article.$valueMax||o.$valueMax,style:"width:"+s+"%;"})}});t.Klass=u}),define("syracuse-tablet/html/js/controls/field/ctrlNumeric",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/field/ctrlFieldBase","syracuse-tablet/html/js/controls/validator","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/field/ctrlFieldBase").Klass,s=e("syracuse-tablet/html/js/controls/validator").Validator,o=e("syracuse-tablet/html/js/helpers/locale"),u=r.defineClass(function(e,t,n){var r=this;i.call(r,e,t,n)},i,{parseValue:function(e,t){var n=this;if(n.formatter){var r=n.formatter.getFormat();if(r){var s=o.getNumberGroupSeparator(),u=o.getNumberDecimalSeparator();r.indexOf(",")<0&&s&&s.length>0&&(e=e.replace(new RegExp(s,"g"),u)),r.indexOf(",")>0&&r.indexOf(".")>0&&s&&s.length>0&&e.indexOf(s)>-1&&e.indexOf(u)<0&&(e=e.replace(new RegExp(s,"g"),u))}}return i.prototype.parseValue.call(n,e,t)},validateValue:function(e,t){var n=this,r=i.prototype.validateValue.call(n,e,t);return r=s.validate(this,e,t,["$minimum","$maximum","$exclusiveMinimum","$exclusiveMaximum"])&&r,this.$type!=="application/x-integer"&&(r=s.validate(this,e,t,["$scale"])&&r),r}});t.Klass=u}),define("syracuse-tablet/html/js/controls/field/ctrlQuantity",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/prototype","syracuse-tablet/html/js/controls/field/ctrlFieldBase","syracuse-tablet/html/js/controls/ctrlBase","syracuse-tablet/html/js/helpers/formatApi","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/controls/ctrlFactory"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/prototype"),s=e("syracuse-tablet/html/js/controls/field/ctrlFieldBase").Klass,o=e("syracuse-tablet/html/js/controls/ctrlBase").Klass,u=e("syracuse-tablet/html/js/helpers/formatApi"),a=e("syracuse-tablet/html/js/ui/uiUtils"),f=e("syracuse-tablet/html/js/controls/ctrlFactory"),l=r.defineClass(function(e,t,n){var r=this;o.call(r,e,t,n);var s=n.data("$value");r.$format=s.$format,r.formatter=u.getFormatter(s.$type,r.$format),r.valueTitle=s.$title,r.$unit=n.data("$unit");if(typeof r.$unit=="object")r.unitFieldProto=i.create(r.$unit),r.unitBindName="$unit";else if(typeof r.$unit=="string"){r.unitBindName=r.$unit;var a=n.parent;while(a){r.unitFieldProto=a.property(r.$unit);if(r.unitFieldProto){r.unitFieldProto=i.create(r.unitFieldProto);break}a=a.parent}}r.unitCtrl=f.createControl(r.controller,r,{$bind:r.unitBindName},r.unitFieldProto,r.controller),r.unitCtrl.$isEditMode=!1,r.ensureEditMode()},s,{buildHtml:function(e,t,n){var r=this;s.prototype.buildHtml.call(r,e,t,n),r.unitCtrl&&r.unitCtrl.buildHtml($(r.unitCtrlParent),t,n)},buildFieldValue:function(e,t){var n=this,r;n.unitCtrlParent=e,r=n.getFormattedValue(n.getValue()),this.$isEditMode?n.domInput=e.appendChild(a.createDomElement("input",["s-m-field-input","form-control","ctrl-evt-blur"],null,{type:"text",value:r})):n.createFieldValueElement(e,r)}});t.Klass=l}),define("syracuse-tablet/html/js/controls/field/ctrlCheckBox",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/field/ctrlFieldBase","syracuse-tablet/html/js/ui/uiUtils"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/field/ctrlFieldBase").Klass,s=e("syracuse-tablet/html/js/ui/uiUtils"),o=r.defineClass(function(e,t,n){var r=this;i.call(r,e,t,n)},i,{buildFieldTitle:function(e,t){var n=this,r=n.$isEditMode?i.prototype.buildFieldCore:i.prototype.buildFieldTitle;r.call(n,e,t)},buildFieldCore:function(e,t){var n=this,r=n.$isEditMode?i.prototype.buildFieldTitle:i.prototype.buildFieldCore;r.call(n,e,t)},buildFieldValue:function(e,t){var n=this,r=n.getValue();r=r===!0,this.$isEditMode?(n.domInput=s.createDomElement("input",["s-m-field-input-boolean","ctrl-evt-click"],null,{type:"checkbox"},e),n.domInput.checked=r):e.appendChild(s.createDomElement("span",["glyphicon",r?"glyphicon-ok":"glyphicon-remove"]))},onClick:function(e){var t=this;setTimeout(function(){t.domInput.checked=!t.domInput.checked,t.setValue(t.domInput.checked)},50)}});t.Klass=o}),define("syracuse-tablet/html/js/controls/field/ctrlCombo",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/controls/field/ctrlFieldBase"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/ui/uiUtils"),s=e("syracuse-tablet/html/js/controls/field/ctrlFieldBase").Klass,o=r.defineClass(function(e,t,n){var r=this;s.call(r,e,t,n)},s,{buildFieldValue:function(e,t){var n=this;n.choiceList=n.prototype.data("$value").$enum;if(n.$isEditMode){var r=n.prototype.data("$format");if(r&&r!="$radios"&&r!="$combo")throw new Error("Choice can only have formats '$radios' or '$combo'");var s=n.currentValue=n.getValue(),o;if(n.choiceList.length>0)if(n.prototype.data("$format")=="$radios")n.radioItemList=[],$.each(n.choiceList,function(t,r){var o=i.createDomElement("div",["s-m-field-radio-item"]),u=i.createDomElement("input",["s-m-field-choice-radio","ctrl-evt-click"],null,{type:"radio",value:t,name:"s-m-radio-"+n.id});s&&r.$value==s&&u.setAttribute("checked",!0);var a=i.createDomElement("div",["s-m-field-choice-radio-title"],r.$title);n.radioItemList.push({inputDom:u,titleDom:a}),o.appendChild(u),o.appendChild(a),e.appendChild(o)});else{var u=i.createDomElement("select","ctrl-evt-change");$.each(n.choiceList,function(e,t){var n=i.createDomElement("option",null,t.$title,{value:t.$value},u);(t.$value==s||!s&&e==0)&&n.setAttribute("selected",!0)}),e.appendChild(u)}}else n.choiceList.length>0&&n.createFieldValueElement(e,n._getChoiceTitle(s))},_getChoiceTitle:function(e){var t=this,n;return $.each(t.choiceList,function(t,r){n=r.$value==e?r.$title:n;if(n)return!1}),n},_getChoiceValue:function(e){var t=this,n;return $.each(t.choiceList,function(t,r){n=r.$title==e?r.$value:n;if(n)return!1}),n},setDisplayValue:function(e,t,n){var r=this;r.$isEditMode?r.prototype.data("$format")=="$radios"&&e!=r.currentValue&&$.each(r.radioItemList,function(n,i){setTimeout(function(){t?i.inputDom.checked=t==n:i.inputDom.checked=r.choiceList[n].$value==e},5)}):r.fieldValue.textContent=r._getChoiceTitle(e)},setFieldValue:function(e,t,n){var r=this;r.setDisplayValue(e,t,n),r.currentValue=e,r.dao.setValue(r.article.$bind,e)},onClick:function(e){var t=this;t.prototype.data("$format")=="$radios"&&t.setFieldValue(t._getChoiceValue(e.target.nextElementSibling.textContent),$(e.target.parentNode).index())},onChange:function(e){this.setFieldValue(e.target.value,e.target.selectedIndex,e.target.selectedOptions[0].textContent)}});t.Klass=o}),define("syracuse-tablet/html/js/ui/datetimeSelectors/monthChoice",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/types/date"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/types/date"),s=r.defineClass(function(){},null,{create:function(e,t,n){this.parent=e,this.handler=n,this.domItem=document.createElement("nav"),this.domItem.className="s-calendar-quick-list",this._dateValue=t;var r=document.createElement("table");r.className="s-calendar-month-choice";var s=document.createElement("tbody");for(var o=0;o<6;o++){var u=document.createElement("tr");u.appendChild(this.drawCell(o+1,i.monthName(o+1,!0),this._dateValue.month)),u.appendChild(this.drawCell(o+7,i.monthName(o+7,!0),this._dateValue.month)),s.appendChild(u)}r.appendChild(s),this.domItem.appendChild(r),this.parent.appendChild(this.domItem),this.bindEvents(!0)},drawCell:function(e,t,n){var r=document.createElement("td");return r.className="s-calendar-my-item",r.syraOnClick="onMonthClick",r.syraValue=e,r.textContent=t,e==n&&(r.className+=" s-calendar-select",this.selectedCell=r),r},toggle:function(e){e?this.domItem.style.display="":this.domItem.style.display="none"},onMonthClick:function(e){this.selectedCell&&(this.selectedCell.className="s-calendar-my-item"),(this.selectedCell=e).className="s-calendar-my-item s-calendar-select",this._selectedMonth=e.syraValue;var t=this._selectedMonth?this._selectedMonth:this._dateValue.month;this._currentDate=this._dateValue=i.fromJsDate(new Date(this._dateValue.year,t-1,this._dateValue.day)),this.handler.onEvent("onCalendarUpdate",this)},bindEvents:function(e){var t=this;e?$(t.domItem).delegate("td","click",function(e){t.onClick(e),e.preventDefault(),e.stopPropagation()}):$(t.domItem).undelegate()},onClick:function(e){var t=this;while(e.target){if(e.target.syraOnClick){this[e.target.syraOnClick](e.target,e);return}e.target=e.target.parentNode}},destroy:function(){this.bindEvents(!1),this.domItem=this._dateValue=this.selectedCell=null}});t.MonthChoice=s}),define("syracuse-tablet/html/js/ui/datetimeSelectors/yearChoice",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/types/date"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/types/date"),s=r.defineClass(function(){},null,{create:function(e,t,n){this.parent=e,this.domItem=document.createElement("nav"),this.domItem.className="s-calendar-quick-list",this.handler=n,this._dateValue=t,this._selectedYear=this._dateValue.year;var r=document.createElement("table");r.className="s-calendar-year-choice";var i=document.createElement("tbody");this.rows=[];for(var s=0;s<6;s++){var o=document.createElement("tr");if(s==0)this.addPrevNextCell(o,!0),this.addPrevNextCell(o,!1);else{var u=this._dateValue.year+s-4;o.appendChild(this.drawCell(u,u)),o.appendChild(this.drawCell(u+5,u+5))}i.appendChild(o),this.rows.push(o)}r.appendChild(i),this.domItem.appendChild(r),this.parent.appendChild(this.domItem),this.bindEvents(!0)},addPrevNextCell:function(e,t){var n=document.createElement("td");n.className="s-calendar-my-link-cell";var r=document.createElement("a");r.className=(r.syraIsPrev=t)?"s-calendar-prev-year":"s-calendar-next-year",r.textContent=(r.syraIsPrev=t)?"Prev":"Next",r.syraOnClick="onChangeYear",n.appendChild(r),e.appendChild(n)},drawCell:function(e,t){var n=document.createElement("td");return n.className="s-calendar-my-item",n.syraOnClick="onSelectYear",n.syraValue=e,n.textContent=t,e==this._selectedYear&&(n.className+=" s-calendar-select",this.selectedCell=n),n},toggle:function(e){e?this.domItem.style.display="":this.domItem.style.display="none"},_refreshYearCell:function(e,t){e.syraValue+=t,e.textContent=e.syraValue,e.syraValue==this._selectedYear&&(e.className+=" s-calendar-select",this.selectedCell=e)},onChangeYear:function(e){var t=e.syraIsPrev?-10:10;for(var n=1,r=this.rows.length;n<r;n++){var i=this.rows[n].childNodes;this._refreshYearCell(i[0],t),this._refreshYearCell(i[1],t)}},onSelectYear:function(e){this.selectedCell&&(this.selectedCell.className="s-calendar-my-item"),(this.selectedCell=e).className="s-calendar-my-item s-calendar-select",this._selectedYear=e.syraValue;var t=this._selectedYear?this._selectedYear:this._dateValue.year;this._currentDate=this._dateValue=i.fromJsDate(new Date(t,this._dateValue.month,this._dateValue.day)),this.handler.onEvent("onCalendarUpdate",this)},bindEvents:function(e){var t=this;e?$(t.domItem).delegate("td","click",function(e){t.onClick(e),e.preventDefault(),e.stopPropagation()}):$(t.domItem).undelegate()},onClick:function(e){var t=this;while(e.target){if(e.target.syraOnClick){this[e.target.syraOnClick](e.target,e);return}e.target=e.target.parentNode}},destroy:function(){this.bindEvents(!1),this.rows=this.domItem=this._dateValue=this.selectedCell=null}});t.YearChoice=s}),define("syracuse-tablet/html/js/ui/datetimeSelectors/dateSelector",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/ui/modal","syracuse-tablet/html/js/helpers/types/date","syracuse-tablet/html/js/ui/datetimeSelectors/monthChoice","syracuse-tablet/html/js/ui/datetimeSelectors/yearChoice"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/ui/uiUtils"),s=e("syracuse-tablet/html/js/ui/modal"),o=e("syracuse-tablet/html/js/helpers/types/date"),u=e("syracuse-tablet/html/js/ui/datetimeSelectors/monthChoice").MonthChoice,a=e("syracuse-tablet/html/js/ui/datetimeSelectors/yearChoice").YearChoice,f=r.defineClass(function(){},null,{onClick:function(e){var t=this,n;while(e.target&&e.target!=t.handler.parentSlot){if(e.target.getAttribute("data-s-syraOnClick")){n=this[e.target.getAttribute("data-s-syraOnClick")](e.target,e),n&&this.handler.closeContainer();return}e.target=e.target.parentNode}},onTodayClick:function(){return this._currentDate=o.today(),this.field.setFieldValue(o.fromInternalValue(this._currentDate._value).toString()),!0},onDayClick:function(e){return this.field.setFieldValue(o.fromInternalValue(e.getAttribute("data-s-syraValue")).toString()),!0},onQuickItemClick:function(e,t){},onChangePeriode:function(e){e.getAttribute("data-s-syraPeriod")=="month"?this._currentDate=this._currentDate.addMonths(e.getAttribute("data-s-syraIsPrev")?-1:1):e.getAttribute("data-s-syraPeriod")=="year"?this._currentDate=this._currentDate.addYears(e.getAttribute("data-s-syraIsPrev")?-1:1):this._currentDate=this._currentDate.addDays(e.getAttribute("data-s-syraIsPrev")?-7:7),this.handler.onEvent("onCalendarUpdate",this)},onQuickClick:function(){s.info("Date time selector","implementation in progress");return},onMonthClick:function(){this.handler.onEvent("onMonthClick",this)},onYearClick:function(){this.handler.onEvent("onYearClick",this)},create:function(e,t){this.domItem=document.createElement("div"),this.domItem.className="s-calendar";var n=e.getValueForSelector()||"";return this._selectedDate=n?o.parse(n):o.today(),this._selectedDate=this._selectedDate._value==0?o.today():this._selectedDate,this._currentDate=t._currentDate||o.fromInternalValue(this._selectedDate._value),this.field=e,this.handler=t,this._table=document.createElement("table"),this._table.setAttribute("cellspacing",0),this._table.className="s-calendar-content",this._table.appendChild(this._appendHead()),this._table.appendChild(this.body=document.createElement("tbody")),this._table.appendChild(this._appendFoot()),this.domItem.appendChild(this._table),this._drawBody(),this.domItem},_appendHead:function(){var e=document.createElement("thead"),t=document.createElement("tr"),n=document.createElement("th");n.setAttribute("colspan",8),n.className="s-calendar-month-year";var r=document.createElement("div");r.className="s-calendar-month-year-slot",n.appendChild(r);var i=document.createElement("a");i.setAttribute("data-s-syraOnClick","onChangePeriode"),i.setAttribute("data-s-syraIsPrev",!0),i.setAttribute("data-s-syraPeriod","year"),i.className="s-calendar-prev s-calendar-prev-year glyphicon glyphicon-fast-backward",r.appendChild(i),i=document.createElement("a"),i.setAttribute("data-s-syraOnClick","onChangePeriode"),i.setAttribute("data-s-syraIsPrev",!0),i.setAttribute("data-s-syraPeriod","month"),i.className="s-calendar-prev s-calendar-prev-month glyphicon glyphicon-step-backward",r.appendChild(i),this._monthLink=document.createElement("a"),this._monthLink.className="s-month s-calendar-month-year-link",r.appendChild(this._monthLink).setAttribute("data-s-syraOnClick","onMonthClick"),this._yearLink=document.createElement("a"),this._yearLink.className="s-year s-calendar-month-year-link",r.appendChild(this._yearLink).setAttribute("data-s-syraOnClick","onYearClick"),i=document.createElement("a"),i.setAttribute("data-s-syraOnClick","onChangePeriode"),i.setAttribute("data-s-syraPeriod","month"),i.className="s-calendar-next s-calendar-next-month glyphicon glyphicon-step-forward",r.appendChild(i),i=document.createElement("a"),i.setAttribute("data-s-syraOnClick","onChangePeriode"),i.setAttribute("data-s-syraPeriod","year"),i.className="s-calendar-next s-calendar-next-year glyphicon glyphicon-fast-forward",r.appendChild(i),t.appendChild(n),e.appendChild(t),t=document.createElement("tr");var n=document.createElement("th");n.className="s-calendar-week-day",t.appendChild(n);var s=[1,2,3,4,5,6,0];for(var u=0,a=s.length;u<a;u++){var n=document.createElement("th");n.className="s-calendar-week-day",n.title=o.dayName(s[u]),n.textContent=o.dayName(s[u],!0),t.appendChild(n)}return e.appendChild(t),e},_appendFoot:function(){var e=document.createElement("tr"),t=document.createElement("td");t.setAttribute("colspan",3),t.className="s-calendar-foot-week";var n=document.createElement("a");n.setAttribute("data-s-syraOnClick","onChangePeriode"),n.setAttribute("data-s-syraPeriod","week"),n.className="s-calendar-prev s-calendar-prev-week glyphicon glyphicon-chevron-left",n.setAttribute("data-s-syraIsPrev",!0),t.appendChild(n);var r=document.createElement("label");r.className="s-calendar-foot-week-title",r.textContent="Week",t.appendChild(r),this._weekNumber=document.createElement("label"),this._weekNumber.className="s-calendar-foot-week-title-num",t.appendChild(this._weekNumber),n=document.createElement("a"),n.setAttribute("data-s-syraOnClick","onChangePeriode"),n.setAttribute("data-s-syraPeriod","week"),n.className="s-calendar-next s-calendar-next-week glyphicon glyphicon-chevron-right",t.appendChild(n),e.appendChild(t),t=document.createElement("td"),t.setAttribute("colspan",3),t.className="s-calendar-foot-today",n=document.createElement("a"),n.className="s-calendar-today-link",n.setAttribute("data-s-syraOnClick","onTodayClick"),n.textContent="Today",t.appendChild(n),e.appendChild(t),t=document.createElement("td"),t.setAttribute("colspan",2),t.className="s-calendar-foot-more",this._quick=document.createElement("a"),this._quick.className="s-calendar-quick-btn glyphicon glyphicon-plus",this._quick.setAttribute("data-s-syraOnClick","onQuickClick"),t.appendChild(this._quick),e.appendChild(t);var i=document.createElement("tfoot");return i.appendChild(e),i},_drawBody:function(){var e=this._currentDate.month||9,t=o.monthName(e);this._monthLink.textContent=t,this._yearLink.textContent=this._currentDate.year||2014,i.empty(this.body);var n=o.fromInternalValue(this._currentDate._value),r=n=n.begOfMonth();n=n.begOfWeek(1);for(var s=0;s<6;s++){var u=document.createElement("tr"),a=s==0?r:n,f=document.createElement("td");f.className="s-calendar-week-num",u.appendChild(f),f.textContent=a.week;for(var l=0;l<7;l++){var f=document.createElement("td");f.className="s-calendar-day-link",f.setAttribute("data-s-syraOnClick","onDayClick"),f.setAttribute("data-s-syraValue",n._value);var c=document.createElement("a");c.textContent=n.day,e!=n.month&&(f.className+=" s-calendar-other-month"),this._currentDate.equals(n)&&(f.className+=" s-calendar-select",c.className="s-calendar-select"),f.appendChild(c),u.appendChild(f),n=n.addDays(1)}this.body.appendChild(u)}this._weekNumber.textContent=this._currentDate.week},bindEvents:function(e){var t=this,n=t.handler.getParentSlot();e?$(n).delegate("td, a","click",function(e){t.onClick(e),e.preventDefault(),e.stopPropagation()}):($(n).undelegate(),t._month&&t._month.bindEvents(!1),t._year&&t._year.bindEvents(!1))},destroy:function(){this.bindEvents(!1),this._currentDate=this.field=this._currentDate=this.quickList=this._month=this._year=this._selectedDate=this._monthLink=this._yearLink=this._weekNumber=this._quick=this.body=this.domItem=null}});t.Klass=f}),define("syracuse-tablet/html/js/ui/datetimeSelectors/timeSelector",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/types/time","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/types/time"),s=e("syracuse-tablet/html/js/helpers/locale"),o=r.defineClass(function(){},null,{onClick:function(e){var t=this,n;while(e.target){if(e.target.getAttribute("data-s-syraOnClick")){n=this[e.target.getAttribute("data-s-syraOnClick")](e.target,e),n&&this.handler.closeContainer();return}e.target=e.target.parentNode}},setContainer:function(e){this.$$modalElmt=e},create:function(e,t,n){this.domItem=document.createElement("div"),this.domItem.className="s-time-choice";var r=r||{};this.columns=r.columns||2,this.interval=r.interval||60,this.field=e,this.handler=t,this.cb=n,this.curTime=i.now();var o=1440/this.interval,u=o/this.columns,a=document.createElement("table");a.className="s-time-choice-table",a.setAttribute("cellspacing","0"),a.setAttribute("cellpadding","0");var f,l,c=0,h=i.parse("00:00:00");for(var p=0;p<u;p++){f=document.createElement("tr");for(var d=0;d<this.columns;d++){l=document.createElement("td"),l.className="s-time-choice-td";if(c<o){var v=document.createElement("a");v.className="s-time-choice-a",v.setAttribute("data-s-syraOnClick","onTimeClick"),h.hour==this.curTime.hour&&(v.className+=" s-time-select"),v.textContent=h.toString(s.getTimeFormat()),l.appendChild(v)}f.appendChild(l),h=h.addMinutes(this.interval),c++}a.appendChild(f)}return this.domItem.appendChild(a),this.domItem},onTimeClick:function(e){var t=this,n=i.parse(e.textContent,s.getTimeFormat()).toString();if(!this.cb)return t.field.setFieldValue(n),!0;t.cb(n,t.handler)},bindEvents:function(e){var t=this,n=t.handler.getParentSlot();e?$(n).delegate("a","click",function(e){t.onClick(e),e.preventDefault(),e.stopPropagation()}):$(n).undelegate()},destroy:function(){this.bindEvents(!1),this.domItem=this.field=this.selectedLink=null}});t.Klass=o}),define("syracuse-tablet/html/js/ui/datetimeSelectors/datetimeSelector",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/ui/modal","syracuse-tablet/html/js/helpers/types/date","syracuse-tablet/html/js/helpers/types/time","syracuse-tablet/html/js/ui/datetimeSelectors/timeSelector","syracuse-tablet/html/js/ui/datetimeSelectors/dateSelector"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/ui/uiUtils"),s=e("syracuse-tablet/html/js/ui/modal"),o=e("syracuse-tablet/html/js/helpers/types/date"),u=e("syracuse-tablet/html/js/helpers/types/time"),a=e("syracuse-tablet/html/js/ui/datetimeSelectors/timeSelector").Klass,f=e("syracuse-tablet/html/js/ui/datetimeSelectors/dateSelector").Klass,l=r.defineClass(function(){},f,{onTodayClick:function(){this._currentDate=o.today(),this.dateValue=o.fromInternalValue(this._currentDate._value).toString(),this.handler.onEvent("onOpenTime",this)},onDayClick:function(e){this.dateValue=o.fromInternalValue(e.getAttribute("data-s-syraValue")).toString(),this.handler.onEvent("onOpenTime",this)}});t.Klass=l}),define("syracuse-tablet/html/js/ui/datetimeSelectors/selectorFactory",["require","exports","module","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/ui/datetimeSelectors/dateSelector","syracuse-tablet/html/js/ui/datetimeSelectors/timeSelector","syracuse-tablet/html/js/ui/datetimeSelectors/datetimeSelector"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/globals"),i=["Windows","IOS","Android"],s={dateSelectorWindows:e("syracuse-tablet/html/js/ui/datetimeSelectors/dateSelector").Klass,timeSelectorWindows:e("syracuse-tablet/html/js/ui/datetimeSelectors/timeSelector").Klass,datetimeSelectorWindows:e("syracuse-tablet/html/js/ui/datetimeSelectors/datetimeSelector").Klass};t.getSelector=function(e){var t=e.slice(14),n=r.getApplication().getDeviceOS&&r.getApplication().getDeviceOS()||"Windows";if(n)try{return new s[t+"Selector"+n]}catch(i){throw new Error("Expected date/time/datetime type. Got "+e)}}}),define("syracuse-tablet/html/js/ui/datetimeSelectors/selectorSwitchHandler",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/ui/datetimeSelectors/monthChoice","syracuse-tablet/html/js/ui/datetimeSelectors/yearChoice","syracuse-tablet/html/js/ui/datetimeSelectors/dateSelector","syracuse-tablet/html/js/ui/datetimeSelectors/timeSelector","syracuse-tablet/html/js/ui/datetimeSelectors/datetimeSelector"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/ui/uiUtils"),s=e("syracuse-tablet/html/js/ui/datetimeSelectors/monthChoice").MonthChoice,o=e("syracuse-tablet/html/js/ui/datetimeSelectors/yearChoice").YearChoice,u=e("syracuse-tablet/html/js/ui/datetimeSelectors/dateSelector").Klass,a=e("syracuse-tablet/html/js/ui/datetimeSelectors/timeSelector").Klass,f=e("syracuse-tablet/html/js/ui/datetimeSelectors/datetimeSelector").Klass,l=r.defineClass(function(e){this.field=e},null,{onEvent:function(e,t){this[e](t)},setContainer:function(e){this.$$container=e},setParentSlot:function(e){this.parentSlot=e},getParentSlot:function(){return this.parentSlot},onMonthClick:function(e){var t=this,n=e._currentDate;i.empty(t.parentSlot),e.destroy();var r=new s;r.create(this.parentSlot,n,t)},onYearClick:function(e){var t=this,n=e._currentDate;i.empty(t.parentSlot),e.destroy();var r=new o;r.create(t.parentSlot,n,t)},onOpenTime:function(e){var t=this;t.dateValue=e.dateValue,i.empty(t.parentSlot),e.destroy();var n=new a,r=n.create(t.field,t,t.onSelectTime);t.parentSlot.appendChild(r),n.bindEvents(!0)},onCalendarUpdate:function(e){var t=this;t._currentDate=e._currentDate,i.empty(t.parentSlot),e.destroy();var n=new u,r=n.create(t.field,t);t.parentSlot.appendChild(r),n.bindEvents(!0)},onSelectTime:function(e,t){var n=t;n.field.setFieldValue(n.dateValue+" "+e),n.closeContainer()},closeContainer:function(){this.$$container.modal("hide")}});t.Klass=l}),define("syracuse-tablet/html/js/controls/field/ctrlDate",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/field/ctrlFieldBase","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/ui/modal","syracuse-tablet/html/js/ui/datetimeSelectors/selectorFactory","syracuse-tablet/html/js/ui/datetimeSelectors/selectorSwitchHandler"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/field/ctrlFieldBase").Klass,s=e("syracuse-tablet/html/js/ui/uiUtils"),o=e("syracuse-tablet/html/js/ui/modal"),u=e("syracuse-tablet/html/js/ui/datetimeSelectors/selectorFactory"),a=e("syracuse-tablet/html/js/ui/datetimeSelectors/selectorSwitchHandler").Klass,f=r.defineClass(function(e,t,n){var r=this;i.call(r,e,t,n)},i,{buildFieldValue:function(e,t){var n=this,r;r=n.getFormattedValue(n.getValue());if(n.$isEditMode){var i=s.createDomElement("div",["input-group"],null,null,e);n.domInput=s.createDomElement("input",["s-m-field-input","form-control","ctrl-evt-blur"],null,{type:"text",value:r},i);var f=s.createDomElement("span",["input-group-btn"],null,null,i);n.picker=s.createDomElement("button",["btn","btn-default"],null,null,f);var l=n.$type.indexOf("date")!=-1?["glyphicon","glyphicon-calendar"]:["glyphicon","glyphicon-time"];s.createDomElement("span",l,null,null,n.picker),$(n.picker).click(function(){var e=new a(n),t=u.getSelector(n.getPropertyType()),r=t.create(n,e),i=o.field(n.getTitle(),r.outerHTML,function(n,r){n=="shown.bs.modal"?(e.setContainer(r),e.setParentSlot(r.find(".modal-body")[0]),t.bindEvents(!0)):t.destroy()})})}else n.createFieldValueElement(e,r)},setFieldValue:function(e){this.getPropertyType().indexOf("datetime")>-1&&e.length<=10&&(e+="T00:00:00.0Z"),i.prototype.setFieldValue.call(this,e)},setDisplayValue:function(e){var t=this;t.$isEditMode?t.domInput.value=e:t.fieldValue.textContent=e},getValueForSelector:function(){return this.getValue().slice(0,10)},getFieldFormat:function(){return this.formatter.format}});t.Klass=f}),define("syracuse-tablet/html/js/controls/array/arrayBase",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/ctrlBase","syracuse-tablet/html/js/ui/uiUtils"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/ctrlBase").Klass,s=e("syracuse-tablet/html/js/ui/uiUtils"),o=function(e){return!e||!e.$resources?null:(e.$resources.forEach(function(e){e&&e.destroy()}),null)},u=r.defineClass(function(e,t,n){var r=this;i.call(r,e,t,n),r.builder=null,r._arrayData=null},i,{destroy:function(){var e=this;i.prototype.destroy.call(e),e.prototype=null,e.builder&&(e.builder.destroy(),e.builder=null),e._arrayData=o(e._arrayData),e._waiting&&(s.waitWheelDestroy(e._waiting),e._waiting=null)},buildHtml:function(e,t,n){var r=this;if(r.builder==null)throw new Error("Null builder");r.builder.buildHtml(e,r._setArrayData(t),n)},setBuilder:function(e){this.builder=e},refresh:function(e,t){var n=this;if(n.builder==null)throw new Error("Null builder");n.builder.refresh(n._setArrayData(e),t)},readArrayData:function(e){throw new Error("not implemented")},_setArrayData:function(e){var t=this;t.empty(),o(t._arrayData),t._arrayData=t.readArrayData(e);if(t._arrayData==null)throw new Error("Null arrayData");return t._arrayData},getArrayData:function(){return this._arrayData},waitStart:function(){var e=this;e._waiting||(e._waiting=s.waitWheelCreate(e.$$elmt.parent()),e._waiting.$$bckg.css({position:"absolute"}),e._waiting.$$wheel.css({position:"absolute"})),s.waitWheelStart(e._waiting)},waitStop:function(){var e=this;e._waiting&&s.waitWheelStop(e._waiting)}});t.Klass=u}),define("syracuse-tablet/html/js/controls/array/builderBase",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/sdata/sdataUtils","syracuse-tablet/html/js/controls/ctrlFactory"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/ui/uiUtils"),s=e("syracuse-tablet/html/js/sdata/sdataUtils"),o=e("syracuse-tablet/html/js/controls/ctrlFactory"),u={$first:{icon:"glyphicon glyphicon-step-backward"},$previous:{icon:"glyphicon glyphicon-chevron-left"},$next:{icon:"glyphicon glyphicon-chevron-right"},$last:{icon:"glyphicon glyphicon-step-forward"},$more:{icon:"glyphicon glyphicon-refresh"}},a=r.defineClass(function(e){var t=this;if(e==null)throw new Error("Null control");t.control=e,t.itemProto=e.prototype.getPrototype("$item")},null,{destroy:function(){var e=this;e.control=null,e.itemProto=null,e.$$elmt=null},buildHtml:function(e,t,n){var r=this;return e!=null&&(r.$$elmt=r.control.createRootElement(["s-m-control"],e)),r.$$elmt},refresh:function(e,t){var n=this;n.control.empty(),n.buildHtml(null,e,{})},buildPagingLinks:function(e,t){var n=this,r=function(e,t,n){$(i.createDomElement("a",["s-m-link "+u[t].icon],null,n)).appendTo(e)};t=t||{};var o=t.bottom?$(i.createDomElement("div",["s-m-grid-links"])).appendTo(n.$$elmt):null,a=t.top?$(i.createDomElement("div",["s-m-grid-links"])).prependTo(n.$$elmt):null;if(e.$links)for(var f in u){var l=e.$links[f];if(l){var c=s.getLinkInfo(l.$url),h={"data-nav-refresh":!0,"data-nav-type":f,"data-sdata-url":l.$url,"data-control-id":n.control.id};n.control.controller.isVignette()&&(h["data-nav-target"]="vignette"),o&&r(o,f,h),a&&r(a,f,h)}}},buildDetailLink:function(e,t){if(t==null)throw new Error("Null options");var n=this,o=t.attrs||{},u=n.itemProto.data("$links"),a,f=u&&u.DASHBOARD||u&&u.$details;if(f){a=s.getLinkInfo(f.$url,e),o.href="#",o["data-nav"]=a.page,a.sDataUrl&&(o["data-sdata-url"]=a.sDataUrl);if(a.parameters){var l=r.parseExpression(a.parameters,e);o["data-sdata-parameters"]=l}}else a=null;return a!=null||t.createIfNoLink?i.createDomElement(t.tag,t.css,t.title,o,t.parent):null},getPrototype:function(){return this.control.prototype},getArticle:function(){return this.control.article},getArrayData:function(){return this.control.getArrayData()},getId:function(){var e=this;return arguments.length>0?e.control.id+" - "+Array.prototype.join.call(arguments,"-"):e.control.id},appendField2Cell:function(e,t,n,r){var i=this;n||(n=i.itemProto.getPrototype(t));if(!n)return null;o.appendField2Cell(e,i.control.controller,{$bind:t},n,r)}});t.Klass=a}),define("syracuse-tablet/html/js/controls/array/builderTable",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/array/builderBase","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/helpers/prototype"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/array/builderBase").Klass,s=e("syracuse-tablet/html/js/ui/uiUtils"),o=e("syracuse-tablet/html/js/helpers/prototype"),u=r.defineClass(function(e){var t=this;i.call(t,e)},i,{buildHtml:function(e,t,n){var r=this;n=n||{},n.displayRowIdx=!0,i.prototype.buildHtml.call(r,e,t,n),r.$$elmt.addClass("s-m-array s-m-table");var o=r.getPrototype().property(r.getArticle().$bind,"$title");o&&$(s.createDomElement("div",["s-m-title"])).text(o).appendTo(r.$$elmt),r._createColumnInfo(n),r._buildTable(t,n),r.buildPagingLinks(t,{top:!0,bottom:!0})},_createColumnInfo:function(e){var t=this;t.columnInfo=[],e.displayRowIdx&&t.columnInfo.push({$bind:o.rowIdxProperty,$item:o.getRowIdxProto()});var n=t.itemProto.data("$properties"),r=Object.keys(n);r.forEach(function(e){var r=n[e];["application/x-array","application/x-password"].indexOf(r.$type)===-1&&!r.$isExcluded&&t.columnInfo.push({$bind:e,$item:t.itemProto.getPrototype(e)})})},_buildTable:function(e,t){var n=this;n.tabElmt=s.createDomElement("table",["table table-hover table-condensed"],null,null,n.$$elmt),n._buildTableHead(t),n._buildTableBody(e,t)},_buildTableHead:function(e){var t=this,n=s.createDomElement("thead",null,null,null,t.tabElmt),i=s.createDomElement("tr",null,null,null,n);t.columnInfo.forEach(function(e){var n=e.$item?r.parseExpression(e.$item.data("$title")||"",null,t.control.prototype):"";s.createDomElement("th",null,n,null,i)})},_buildTableBody:function(e,t){var n=this,r=s.createDomElement("tbody");n.tabElmt.appendChild(r),e.$resources.forEach(function(e,i){n._buildTableRow(r,e,i,t)})},_buildTableRow:function(e,t,n,r){var i=this,u;r.displayRowIdx&&(t.setRowIndex(n),u=["s-m-rowidx"]);var a=i.buildDetailLink(t,{tag:"tr",parent:e,createIfNoLink:!0});i.columnInfo.forEach(function(e,n){var f=r.displayRowIdx&&e.$bind===o.rowIdxProperty;i.appendField2Cell(s.createDomElement("td",f?u:null,null,null,a),e.$bind,e.$item,t)})}});t.Klass=u}),define("syracuse-tablet/html/js/controls/array/arrayStd",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/array/arrayBase","syracuse-tablet/html/js/controls/array/builderTable"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/array/arrayBase").Klass,s=e("syracuse-tablet/html/js/controls/array/builderTable").Klass,o=r.defineClass(function(e,t,n){var r=this;i.call(r,e,t,n),r.setBuilder(new s(r))},i,{readArrayData:function(e){return e.getArrayData(this.article.$bind,this.prototype)}});t.Klass=o}),define("syracuse-tablet/html/js/controls/array/builderGridHoriz",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/array/builderBase","syracuse-tablet/html/js/ui/uiUtils"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/array/builderBase").Klass,s=e("syracuse-tablet/html/js/ui/uiUtils"),o=r.defineClass(function(e){var t=this;i.call(t,e),t.pageContentHeightSubstraction=190,t.minLandscapeHeight=550,t._itemWidth=140,t._itemHeight=140,t._itemSpacing=10,t.recordItems={}},i,{destroy:function(){var e=this;i.prototype.destroy.call(e),$(window).off("resize",e.onResizeHandler),e.recordItems=null},buildHtml:function(e,t,n){var r=this;i.prototype.buildHtml.call(r,e,t,n),r.$$elmt.addClass("s-m-array s-m-grid s-m-horizontal"),r.$$domItems=$(s.createDomElement("div",["s-m-grid-items s-m-horizontal"],null,{id:r.getId("items")})).appendTo(r.$$elmt),r.onResizeHandler=r.onResizeWindow.bind(r),$(window).on("resize",r.onResizeHandler),t.$resources.forEach(function(e,t){var n=s.createDomElement("div",["s-m-grid-item"],null,null,r.$$domItems);r.recordItems[e.getValue("$uuid")]=n,r._buildRecord(e,n,t)}),r.onResizeWindow(),r.buildPagingLinks(t,{top:!0})},_buildRecord:function(e,t,n){var r=this,i=r.itemProto.data("$value",e)||"Rank;"+(n+1),o=r.buildDetailLink(e,{tag:"a",parent:t,title:i,css:["s-m-link s-m-detail-link"]})},onResizeWindow:function(){var e=this,t=e.getArrayData();if(!t)return;var n=window.innerWidth,r=window.innerHeight;r-=e.pageContentHeightSubstraction,e._maxItemHeight=r,e.$$domItems.height(e._maxItemHeight-20);var i=0,s=0;t.$resources.forEach(function(t){s+e._itemHeight>e._maxItemHeight&&(s=0,i+=e._itemWidth+e._itemSpacing);var n=e.recordItems[t.getValue("$uuid")];if(n){var r=n.style;r.left=i+"px",r.top=s+"px",r.width=e._itemWidth+"px",r.height=e._itemHeight+"px",s+=e._itemHeight+e._itemSpacing}})}});t.Klass=o}),define("syracuse-tablet/html/js/controls/array/arrayQuery",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/array/arrayBase","syracuse-tablet/html/js/controls/array/builderGridHoriz","syracuse-tablet/html/js/controls/array/builderTable"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/array/arrayBase").Klass,s=e("syracuse-tablet/html/js/controls/array/builderGridHoriz").Klass,o=e("syracuse-tablet/html/js/controls/array/builderTable").Klass,u=r.defineClass(function(e,t,n){var r=this;i.call(r,e,t,n),r.controller.isVignette()?r.setBuilder(new o(r)):r.prototype.isQuery()?r.setBuilder(new s(r)):r.setBuilder(new o(r))},i,{readArrayData:function(e){return e.getQueryData(this.prototype)}});t.Klass=u}),define("syracuse-tablet/html/js/controls/array/arrayLookup",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/array/arrayBase"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/array/arrayBase").Klass,s=r.defineClass(function(e,t,n){var r=this;i.call(r,e,t,n)},i,{readArrayData:function(e){return e.getQueryData(this.prototype)}});t.Klass=s}),define("syracuse-tablet/html/js/controls/field/ctrlReference",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/field/ctrlFieldBase"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/field/ctrlFieldBase").Klass,s=r.defineClass(function(e,t,n){var r=this;i.call(r,e,t,n)},i,{getValue:function(){var e=this,t=i.prototype.getValue.call(e);return t?t.$title||t.$value:""}});t.Klass=s}),define("syracuse-tablet/html/js/controls/layout/layoutBase",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/structElmt","syracuse-tablet/html/js/ui/uiUtils"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/structElmt").Klass,s=e("syracuse-tablet/html/js/ui/uiUtils"),o=r.defineClass(function(e,t,n){var r=this;i.call(r,e,t,n),r.title=n.$title},i,{destroy:function(){var e=this;i.prototype.destroy.call(e)},createId:function(e){var t=this;return r.readableuid(e,t.article.$layoutType)},buildHtml:function(e,t,n){var r=this;r.createRootElement(["s-m-layout"],e),r.article.$title&&(n==null||n.noTitle)&&r.buildTitle()},buildTitle:function(){return s.createDomElement("header",null,this.article.$title,null,this.$$elmt)},onLayoutChange:function(){$.each(this.children,function(e,t){t.onLayoutChange&&t.onLayoutChange()})}});t.Klass=o}),define("syracuse-tablet/html/js/controls/layout/layoutRow",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/layout/layoutBase","syracuse-tablet/html/js/ui/uiUtils"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/layout/layoutBase").Klass,s=e("syracuse-tablet/html/js/ui/uiUtils"),o=r.defineClass(function(e,t,n){var r=this;i.call(r,e,t,n)},i,{buildHtml:function(e,t,n){var r=this;i.prototype.buildHtml.call(r,e,t,n),r.$$elmt.addClass("s-m-row");var o={};r.displayOptions&&r.displayOptions.rowHeight&&(o.style="height:"+r.displayOptions.rowHeight);var u=r._getWidthClasses(),a=s.createDomElement("div",["row"],null,o,r.$$elmt);$.each(r.children,function(e,r){var i=["s-m-layout-cell"];i.smExtend(u[e]);var o=s.createDomElement("div",i,null,null,a);r.buildHtml($(o),t,n)})},_getWidthClasses:function(){var e=this,t={},n=[{$prop:"$widthLg",$prefix:"col-lg-"},{$prop:"$widthMd",$prefix:"col-md-"},{$prop:"$widthSm",$prefix:"col-sm-"},{$prop:"$widthXs",$prefix:"col-xs-"}];n.forEach(function(n){var r=e.article[n.$prop];if(r){var i=n.$prefix,s=r.split(",");if(e.children.length===s.length)for(var o=0;o<e.children.length;o++)t[o]=t[o]||[],t[o].push(i+s[o].trim()),n.$added=!0}});var r=n[n.length-1];if(r.$added!==!0)for(var i=0;i<e.children.length;i++)t[i]=t[i]||[],t[i].push(r.$prefix+"12");return t}});t.Klass=o}),define("syracuse-tablet/html/js/helpers/classUtils",["require","exports","module","syracuse-tablet/html/js/pages/page","syracuse-tablet/html/js/pages/page"],function(e,t,n){var r=e("syracuse-tablet/html/js/pages/page").Page,i=e("syracuse-tablet/html/js/pages/page").Klass,s=new Object,o=function(e,t){if(e==null||!e.__proto__)return!1;if(e.__proto__===s.__proto__)return!1;if(!e.__proto__.constructor)return!1;if(e._$smclass&&e._$smclass.indexOf(t)>=0)return!0;switch(t){case"page":if(e.__proto__.constructor===r)return e._$smclass||(e._$smclass=[]),e._$smclass.push(t),!0;break;case"vignette":if(e.__proto__.constructor===i)return!0;break;default:}return o(e.__proto__,t)};t.smInstanceOf=function(e,t){return o(e,t)}}),define("syracuse-tablet/html/js/controls/layout/layoutStack",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/layout/layoutBase","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/helpers/classUtils"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/layout/layoutBase").Klass,s=e("syracuse-tablet/html/js/ui/uiUtils"),o=e("syracuse-tablet/html/js/helpers/classUtils"),u=r.defineClass(function(e,t,n){var r=this;i.call(r,e,t,n)},i,{buildHtml:function(e,t,n){var r=this;i.prototype.buildHtml.call(r,e,t,n),r.$$elmt.addClass("s-m-stack"),$.each(r.children,function(e,i){i.buildHtml(r.$$elmt,t,n)})}});t.Klass=u}),define("syracuse-tablet/html/js/controls/layout/layoutTab",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/layout/layoutBase","syracuse-tablet/html/js/ui/uiUtils"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/layout/layoutBase").Klass,s=e("syracuse-tablet/html/js/ui/uiUtils"),o=r.defineClass(function(e,t,n){var r=this;i.call(r,e,t,n)},i,{buildHtml:function(e,t,n){var r=this;i.prototype.buildHtml.call(r,e,t,n),r.$$elmt.addClass("s-m-tabs");var o=s.createDomElement("div",[r.article.$layoutType]);$.each(r.children,function(e,r){r.isTabSection=!0;var i=s.createDomElement("div",["s-m-layout-cell"],null,{style:"display:"+(e!=0?"none":"")},o);r.buildHtml($(i),t,n)})},buildTitle:function(){}});t.Klass=o}),define("syracuse-tablet/html/js/controls/layout/layoutHub",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/layout/layoutBase"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/layout/layoutBase").Klass,s=r.defineClass(function(e,t,n){var r=this;i.call(r,e,t,n),r.pageContentHeightSubstraction=160,r.minLandscapeHeight=550},i,{destroy:function(){var e=this;i.prototype.destroy.call(e),$(window).off("resize",e.onResizeHandler)},buildHtml:function(e,t,n){var r=this;n=n||{},n.noTitle=!0,i.prototype.buildHtml.call(r,e,t,n),r.$$elmt.addClass("s-m-hub"),r.children.forEach(function(e){e.buildHtml(r.$$elmt,t)}),r.onResizeHandler=r.onResizeWindow.bind(r),$(window).on("resize",r.onResizeHandler),r._calculateLayout()},onResizeWindow:function(){var e=this;e._calculateLayout()},_calculateLayout:function(){var e=this,t=window.innerWidth,n=window.innerHeight,r=t>n&&n>=e.minLandscapeHeight?"landscape":"portrait";n-=e.pageContentHeightSubstraction,e.$$elmt.height(n);var i=0,s=0;this.children.forEach(function(e){e.calculateLayout({posX:i,posY:s,maxHeight:n,maxWidth:t,orientation:r}),r==="landscape"?i+=e.getWidth()+10:s+=e.getHeight()+10}),setTimeout(function(){e.onLayoutChange()},500)}});t.Klass=s}),define("syracuse-tablet/html/js/controls/layout/layoutHubGroup",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/layout/layoutBase","syracuse-tablet/html/js/ui/uiUtils"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/layout/layoutBase").Klass,s=e("syracuse-tablet/html/js/ui/uiUtils"),o=r.defineClass(function(e,t,n){var r=this;i.call(r,e,t,n),r._headerSpace=40,r._verticalBorderSubstraction=40},i,{buildHtml:function(e,t,n){var r=this;i.prototype.buildHtml.call(r,e,t,n),r.$$elmt.addClass("s-m-hub-group"),r._buildCellStructure(),r.cells.forEach(function(e){var i="";e.domItem=s.createDomElement("div",["s-m-tile"],null,null,r.$$elmt),e.children.forEach(function(r){var i=r.article&&r.article.$size||"medium",o=s.createDomElement("div",["s-m-tile","s-m-"+i],null,null,e.domItem);r.domItem=o,r.buildHtml($(o),t,n)})})},_buildCellStructure:function(){var e=this;e.cells=[];var t=null;e.children.forEach(function(n){var r=n.article&&n.article.$size||"medium";t||(t=e._createCell(n),e.cells.push(t)),r==="small"?(t.children.push(n),t.children.length===4&&(t=null)):(t.children.length>0&&(t=e._createCell(n),e.cells.push(t)),t.children.push(n),t=null)})},_createCell:function(e){var t=this,n=e.article&&e.article.$size||"medium";n=n==="small"?"medium":n;var r={size:n,children:[]};return r},calculateLayout:function(e){var t=this,n;t._width=0,t._height=0,t.hubGroupOptions=e,t.hubGroupOptions.orientation==="landscape"?t._calculateLayoutHorizontal():t._calculateLayoutVertical(),t.cells.forEach(function(e){n=e.size,e.domItem.style.left=e.x+"px",e.domItem.style.top=e.y+t._headerSpace+"px",e.domItem.style.width=t._sizes[n].width+"px",e.domItem.style.height=t._sizes[n].height+"px",e.domItem.style.position="absolute",e.x+t._sizes[n].width>t._width&&(t._width=e.x+t._sizes[n].width),e.y+t._sizes[n].height>t._height&&(t._height=e.y+t._sizes[n].height);var r=0,i=0;e.children.forEach(function(e){n=e.article&&e.article.$size||"medium",e.domItem.style.left=r+"px",e.domItem.style.top=i+"px",e.domItem.style.width=t._sizes[n].width+"px",e.domItem.style.height=t._sizes[n].height+"px",e.domItem.style.position="absolute",r!==0?(r=0,i+=t._sizes[n].height+t.hubGroupOptions.padY):r+=t._sizes[n].width+t.hubGroupOptions.padX})});var r=t.$$elmt.get(0).style;t.hubGroupOptions.orientation==="landscape"?(r.top="0px",r.left=t.hubGroupOptions.posX+"px",r.width=t._width+"px",r.height=t.hubGroupOptions.maxHeight-t._headerSpace+"px"):(r.top=t.hubGroupOptions.posY+"px",r.left="0px",r.width=t._width+"px",r.height=t._height+"px",t._height+=t._headerSpace)},_calculateLayoutHorizontal:function(){var e=this;e.hubGroupOptions.baseSize=70,e.hubGroupOptions.padX=5,e.hubGroupOptions.padY=5,e.hubGroupOptions.maxGroupHeight=e.hubGroupOptions.maxHeight-e._headerSpace,e.hubGroupOptions.maxGroupWidth=4*e.hubGroupOptions.baseSize+3*e.hubGroupOptions.padX,e.hubGroupOptions.maxFullTileHeight=Math.floor((e.hubGroupOptions.maxGroupHeight+e.hubGroupOptions.padY)/(e.hubGroupOptions.baseSize+e.hubGroupOptions.padY)/2)*(e.hubGroupOptions.baseSize+e.hubGroupOptions.padY)*2-e.hubGroupOptions.padY,e._sizes={small:{width:e.hubGroupOptions.baseSize,height:e.hubGroupOptions.baseSize},medium:{width:e.hubGroupOptions.baseSize*2+e.hubGroupOptions.padX,height:e.hubGroupOptions.baseSize*2+e.hubGroupOptions.padY},wide:{width:e.hubGroupOptions.baseSize*4+e.hubGroupOptions.padX*3,height:e.hubGroupOptions.baseSize*2+e.hubGroupOptions.padY},large:{width:e.hubGroupOptions.baseSize*4+e.hubGroupOptions.padX*3,height:e.hubGroupOptions.baseSize*4+e.hubGroupOptions.padY*3},full:{width:e.hubGroupOptions.baseSize*4+e.hubGroupOptions.padX*3,height:e.hubGroupOptions.maxFullTileHeight}};var t=0,n=0,r=0,i=0;e.cells.forEach(function(n){n.w=e._sizes[n.size].width,n.h=e._sizes[n.size].height;if(i+n.h>e.hubGroupOptions.maxGroupHeight||i!==0&&n.size==="full")i=0,t+=e.hubGroupOptions.maxGroupWidth+e.hubGroupOptions.padX,r=t;n.size==="medium"?(r-t+n.w>e.hubGroupOptions.maxGroupWidth&&(r=t,i+=n.h+e.hubGroupOptions.padY),n.x=r,n.y=i,r+=n.w+e.hubGroupOptions.padX):(r!==t&&(r=t,i+=e._sizes.medium.height+e.hubGroupOptions.padY),n.x=r,n.y=i,i+=n.h+e.hubGroupOptions.padY)})},_calculateLayoutVertical:function(){var e=this;e.hubGroupOptions.padX=5,e.hubGroupOptions.padY=5,e.hubGroupOptions.baseSize=Math.floor((e.hubGroupOptions.maxWidth-5*e.hubGroupOptions.padX-e._verticalBorderSubstraction)/40)*10,e.hubGroupOptions.maxGroupWidth=4*e.hubGroupOptions.baseSize+3*e.hubGroupOptions.padX,e.hubGroupOptions.maxGroupHeight=e.hubGroupOptions.maxHeight-e._headerSpace,e.hubGroupOptions.maxFullTileHeight=e.hubGroupOptions.maxGroupHeight,e._sizes={small:{width:e.hubGroupOptions.baseSize,height:e.hubGroupOptions.baseSize},medium:{width:e.hubGroupOptions.baseSize*2+e.hubGroupOptions.padX,height:e.hubGroupOptions.baseSize*2+e.hubGroupOptions.padY},wide:{width:e.hubGroupOptions.baseSize*4+e.hubGroupOptions.padX*3,height:e.hubGroupOptions.baseSize*2+e.hubGroupOptions.padY},large:{width:e.hubGroupOptions.baseSize*4+e.hubGroupOptions.padX*3,height:e.hubGroupOptions.baseSize*4+e.hubGroupOptions.padY*3},full:{width:e.hubGroupOptions.baseSize*4+e.hubGroupOptions.padX*3,height:e.hubGroupOptions.maxFullTileHeight}};var t=0,n=0;e.cells.forEach(function(r){r.w=e._sizes[r.size].width,r.h=e._sizes[r.size].height,r.size==="medium"?(r.x=t,r.y=n,t+=r.w+e.hubGroupOptions.padX,t+r.w>e.hubGroupOptions.maxGroupWidth&&(t=0,n+=r.h+e.hubGroupOptions.padY)):(t>0&&(t=0,n+=e._sizes.medium.height+e.hubGroupOptions.padY),r.x=t,r.y=n,n+=r.h+e.hubGroupOptions.padY)})},getWidth:function(){return this._width},getHeight:function(){return this._height}});t.Klass=o}),define("syracuse-tablet/html/js/controls/vignetteBase",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/controls/ctrlBase","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/application/pageLoader","syracuse-tablet/html/js/ui/modal"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/globals"),s=e("syracuse-tablet/html/js/controls/ctrlBase").Klass,o=e("syracuse-tablet/html/js/ui/uiUtils"),u=e("syracuse-tablet/html/js/application/pageLoader").Klass,a=e("syracuse-tablet/html/js/ui/modal"),f={className:"waiting-blocks",elements:5,auto:!0,speed:200},l={main:'		<div id="{{ctrlId}}" class="s-m-control s-m-vignette"> 			<section></section> 			<footer> 				<div class="s-m-waiting" style="display:none"></div> 			</footer> 		</div>	',iframe:'		<br><iframe src="{{url}}" style="position: absolute; top: 0px; left: 0px; height: 100vh; width: 100vh;"/>	',navgigBtns:'		<a href="#" data-action="vignetteBack" class="glyphicon glyphicon-circle-arrow-left" style="display:none"></a>		<a href="#" data-action="vignetteHome" class="glyphicon glyphicon-home" style="display:none"></a>	',vignetteError:'		<a href="#" data-action="vignetteError">{{text}}</a>	',linkPage:'<a href="{{href}}" data-nav-target="application" data-nav="{{data-nav}}" data-gadget-id="{{data-gadget-id}}" class="s-m-link-page">{{title}}</a>'},c=function(e,t){var n=e+"compiled",r=l[n];return r||(r=l[n]=Handlebars.compile(l[e])),r(t)},h=r.defineClass(function(e,t,n){var r=this;s.call(r,e,t,n),r._currentPage=null,r._pageLoader=null,r._$$wait=null,r._stateStack=[],r._error=null,r.openLinkInVignette=i.$config("openLinkInVignette")},s,{destroy:function(){var e=this;e._error=null,o.waitPluginDestroy(e._$$wait),e._currentPage&&(e._currentPage.destroy(),e._currentPage=null);if(e._pageLoader=null)e._pageLoader.destroy(),e._pageLoader=null;s.prototype.destroy.call(e)},getPageControl:function(e){return this._currentPage&&this._currentPage.getControl?this._currentPage.getControl(e):null},getPage:function(){return this._currentPage},changePage:function(e,t){return t=t||{},t.$displayStyle="$full",this._loadPage(e,t,!1)},refreshPage:function(e){var t=this;if(!t._currentPage)throw new Error("No current page");t._currentPage.refresh(e,{waitStart:function(e){t.waitStart()},waitStop:function(e){t.waitStop()}}).then(function(){},function(e){a.error("Refresh page on vignette",e)})},_loadPage:function(e,t,n){var r=this;r._error=null,r._$$content.empty(),r._pageLoader||(r._pageLoader=new u({waitStop:function(){r.waitStop()},waitStart:function(){r.waitStart()},getRootElmt:function(){return r._$$content},getCurrentPage:function(){return r._currentPage},setCurrentPage:function(e){r._currentPage=e},setHistory:function(e){r.openLinkInVignette&&r._stateStack.push(e)},succeeded:function(){r.openLinkInVignette&&r.refreshNavBtns()},loadingError:function(e,t,n){r._displayError("Loading page ["+t.name+"] error",n),e.resolve()}}));var s;if(typeof e=="string")t=t||{},t.vignette=!0,s=i.getApplication().getPageInfo(e,t);else{if(!n)throw new Error("Unexpected state");s=e}if(s.options&&s.options.$displayStyle==="$full")return r._pageLoader.load(s,n);if(t.gadget){var o=$.Deferred();return r._addPicker({"data-nav":s.name,"data-gadget-id":t.gadget.data("$uuid"),title:t.gadget.data("$title")}),o.resolve(),o.promise()}throw new Error("Unexpected vignette page")},_loadRepresentation:function(e,t,n){var r=this;return n=$.extend({},n),n.$displayStyle=r.prototype.data("$displayStyle"),n.gadget=e,n.article=r.article&&r.article.$article,r._loadPage(t||e.getPageName(),n)},_displayError:function(e,t){var n=this;n._error={message:e,detail:t},n.$$elmt.addClass("s-m-error"),n.$$elmt.html(c("vignetteError",{text:"Loading failed"}))},buildHtml:function(e,t,n){var r=this;r.setRootElement(c("main",{ctrlId:r.id}),e),r._$$content=r.$$elmt.children("section"),r.$$icons=r.$$elmt.children("footer"),r._$$wait=o.waitPluginCreate(r.$$icons.children(".s-m-waiting"),f)},load:function(e,t){var n=this;t=t||{};var r=$.Deferred(),i,s=function(){r.resolve()},o=function(e){n._displayError(e),s()};try{i=n.prototype.getVignetteGadget();if(i&&i.isValid())switch(i.data("$type")){case"$representation":case"$stats":case"$request":n._loadRepresentation(i,e,t).then(function(){s()},function(e){o(e)});break;case"$dashboard":n._loadDashboard(i);break;case"$external":n._loadExternal(i);break;case"$gadgetMissing":n._displayError("Referenced gadget does not exist: "+i.data("$uuid"));break;default:n._displayError("Unsupported gadget type: "+i.data("$type"))}else n._displayError("Invalid gadget"+(i?" ["+i.getInvalidReason()+"]":""),i?i.getJSON():"Null gadget");s()}catch(u){o(u)}finally{return r.promise()}},_loadDashboard:function(e){this._addPicker({"data-nav":e.data("dashboardName")+".$dashboard","data-gadget-id":e.data("$uuid"),title:e.data("$title")})},_loadExternal:function(e){var t=this,n=e.data("externalUrl"),r=t.prototype.data("$displayStyle");t._addPicker({href:n,title:e.data("$title")});if(r!=="$link"){var i=c("iframe",{url:n});$(i).appendTo(t.$$elmt)}},_addPicker:function(e){e.href||(e.href="#"),$(c("linkPage",e)).appendTo(this.$$elmt)},onLayoutChange:function(){this._currentPage&&this._currentPage.rootLayout&&this._currentPage.rootLayout.onLayoutChange&&this._currentPage.rootLayout.onLayoutChange()},waitStart:function(){o.waitPluginEnable(this._$$wait)},waitStop:function(){o.waitPluginDisable(this._$$wait)},refreshNavBtns:function(){var e=this;e.$$icons||($(c("navgigBtns",{})).prependTo(e.$$icons),e.$$icnBack=e.$$icons.find("[data-action=vignetteBack]"),e.$$icnHome=e.$$icons.find("[data-action=vignetteHome]"),e.$$icnEmpty=e.$$icons.find("span.text"));var t=e._stateStack.length;e.$$icnBack.toggle(t>1),e.$$icnHome.toggle(t>2),e.$$icnEmpty.toggle(t<=1)},_actVignetteHome:function(){var e=this;if(e._stateStack.length==0)return;e._loadPage(e._stateStack[0],null,!0),e._stateStack=[]},_actVignetteBack:function(){var e=this;if(e._stateStack.length<=1)return;e._stateStack.pop(),e._loadPage(e._stateStack[e._stateStack.length-1],null,!0)},_actVignetteError:function(){var e=this;a.error("Vignette load error",e._error)}});t.Klass=h}),define("syracuse-tablet/html/js/controls/ctrlPageHeader",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/sdata/sdataUtils","syracuse-tablet/html/js/controls/structElmt"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/sdata/sdataUtils"),s=e("syracuse-tablet/html/js/controls/structElmt").Klass,o={main:'		<div id="{{ctrlId}} class="s-m-control"> 			<nav class="navbar navbar-inverse" role="navigation">				<div class="container-fluid">					<div class="navbar-header">						<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#header-collapse-{{ctrlId}}">					        <span class="icon-bar"></span>					        <span class="icon-bar"></span>					        <span class="icon-bar"></span>						</button>						<a data-action="reload" class="navbar-brand" href="#">{{title}}</a>					</div>					<div class="collapse navbar-collapse" id="header-collapse-{{ctrlId}}">						<ul class="nav navbar-nav">							<li></li>						</ul>						<ul class="nav navbar-nav navbar-right">							<li>							<a href="#" data-action="clearCache">							<span class="glyphicon glyphicon-fire" /></a>							</li>							<li>							<a href="#" data-action="logout"> 								<span class="glyphicon glyphicon-log-out" />{{logout}}							</a>							</li>							<li>							<a href="#" data-action="switchContext"> 								<span class="glyphicon glyphicon-user" />							</a>							</li>							<li style="display:none" class="linkbar">								<a href="#" data-action="openlinksbar"  data-control-id="{{ctrlId}}">									<span class="glyphicon glyphicon-align-justify" />								</a>							</li>						</ul>						<form style="display:none" class="navbar-form navbar-right" role="search">							<div class="form-group input-group-sm"">								<input type="text" class="form-control" placeholder="Search">							</div>							<button type="submit" class="btn btn-success">								<span class="glyphicon glyphicon-search"></span>							</button>						</form>					</div>				</div>			</nav> 		</div>',linkBar:'		<div class="s-m-links-bar-layout" style="display:none">			<div class="s-m-links-bar" style="height:866px"> 			 {{#each links}} 				<div class="s-m-links-bar-slot"> 					<div class="s-m-links-bar-item-slot">						<a class="s-m-links-bar-item" href="#" data-nav="{{data-nav}}" data-sdata-url="{{data-sdata-url}}">{{title}}</a> 					</div> 				</div> 			 {{/each}} 			</div> 		</div>		'},u=function(e,t){var n=e+"compiled",r=o[n];return r||(r=o[n]=Handlebars.compile(o[e])),r(t)},a=r.defineClass(function(e,t){var n=this;s.call(n,e,t)},s,{destroy:function(){var e=this;s.prototype.destroy.call(e)},buildHtml:function(e,t,n){var s=this,o={title:"Sage ERP X3 - Mobile",logout:"Logout",ctrlId:s.id};s.setRootElement(u("main",o),e);var a=s.controller.prototype.data("$links");if(a&&Object.keys(a).length>0){var f=[];$.each(a,function(e,n){try{var o=i.getLinkInfo(n.$url,t);f.push({"data-nav":o.page,"data-sdata-url":o.sDataUrl,title:r.parseExpression(n.$title,null,s.controller.prototype)||s.getLinkTitle(e)})}catch(u){n=n||{},console.log("invalid link"+(n.$title||"no title")+"\n	"+(n.$url||"no url"))}}),s.$$linksBar=$(u("linkBar",{links:f})).prependTo(s.$$elmt),s.$$elmt.find("li.linkbar").show()}},getLinkTitle:function(e){switch(e){case"$edit":return"Edit";case"$query":return"List";case"$save":return"Save";case"$details":return"Detail";default:throw new Error("Facet "+e+" not implemented yet")}},_actOpenlinksbar:function(e){var t=this;t.$$linksBar&&t.$$linksBar.toggle()}});t.Klass=a}),define("syracuse-tablet/html/js/controls/ctrlTypeUnknown",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/ctrlBase"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/ctrlBase").Klass,s=r.defineClass(function(e,t,n){var r=this;i.call(r,e,t,n)},i,{buildHtml:function(e,t,n){var r=this;r.createRootElement(["s-m-control","s-m-field-slot","s-m-field-slot-unknown"],e).text("Unknown type: "+r.$type)}});t.Klass=s}),define("syracuse-tablet/html/js/controls/chart/ctrlCubeChartTheme",["require","exports","module"],function(e,t,n){var r={colors:["#BF7070","#BFB730","#7ABF30","#7373FF","#BF7730","#BF3080","#30BF9F","#FF7373","#FFF773","#85FF00","#3030BF","#FF9F40","#FF40BC","#1699A6","#FF0000","#FFF100","#00FF00","#0000FF","#FF7F00","#FF00A6","#00FFC6","#A60000","#A69C00","#56A600","#90B2FF","#A65200","#A6006C","#00A681","#FF4040","#FFF440","#A3FF40","#3673FF","#FFB873","#FF76CE","#73FFED"],chart:{borderRadius:"0",spacingTop:10,backgroundColor:"#fff",borderColor:"#ccc",borderWidth:1,className:"dark-container",resetZoomButton:{theme:{fill:"white",stroke:"#dddddd",r:0,states:{hover:{fill:"#00a1de",style:{color:"white"}}}},position:{x:-50,y:5},relativeTo:"chart"}},title:{style:{color:"#464646",font:'bold 16px "Trebuchet MS", Verdana, sans-serif'}},subtitle:{style:{color:"#464646",font:'bold 12px "Trebuchet MS", Verdana, sans-serif'}},xAxis:{gridLineColor:"rgba(0, 0, 0, 0.05)",gridLineDashStyle:"longdash",gridLineWidth:1,labels:{style:{color:"#A0A0A0"}},lineColor:"rgba(0, 0, 0, 0.2)",tickColor:"rgba(0, 0, 0, 0.2)",title:{style:{color:"#464646",fontWeight:"normal",fontSize:"20px",fontFamily:"arial"}}},yAxis:{minorGridLineColor:"rgba(0, 0, 0, 0.05)",minorTickInterval:"auto",gridLineWidth:2,gridLineColor:"rgba(0, 0, 0, 0.07)",labels:{align:"left",x:0,y:12,style:{color:"#A0A0A0"}},lineColor:"rgba(0, 0, 0, 0.07)",title:{style:{color:"#CCC",fontSize:"16px",fontFamily:"Georgia, Verdana, sans-serif",fontStyle:"italic"}}},tooltip:{backgroundColor:"#464646",borderRadius:"0",style:{color:"#fff",fontSize:"12px",padding:"5px",whiteSpace:"nowrap"}},toolbar:{itemStyle:{color:"silver"}},plotOptions:{series:{marker:{lineWidth:2,lineColor:null,radius:4,states:{hover:{radius:8,lineColor:null}}}},area:{fillOpacity:.15},areaspline:{fillOpacity:.15},line:{dataLabels:{color:"#CCC"},marker:{lineColor:"#FFFFFF"}},spline:{marker:{lineColor:"#FFFFFF"}},scatter:{marker:{lineColor:"#FFFFFF"}},candlestick:{lineColor:"#FFFFFF",animation:{duration:2e3,easing:"easeOutBounce"}},pie:{allowPointSelect:!0,cursor:"pointer",borderColor:"rgba(250,250,250,0.3)",borderWidth:.5,dataLabels:{enabled:!0,connectorWidth:2,color:"#464646",style:{fontWeight:"bold"}}}},legend:{borderRadius:0,borderWidth:1,backgroundColor:"white",itemMarginTop:8,itemStyle:{color:"#464646",fontFamily:'"arial"',fontWeight:"bold",fontSize:"8pt "},itemHoverStyle:{color:"#00a1de"},itemHiddenStyle:{color:"#555"},title:{style:{color:"#464646",fontWeight:"bold",fontSize:"8pt",fontFamily:"arial"}}},credits:{enabled:!1,style:{color:"#666"}},labels:{style:{color:"#CCC"}},exporting:{buttons:{drillUp:{symbolStroke:"#fff",symbolFill:"rgba(250,250,250,0.5)",hoverSymbolStroke:"#fff",hoverSymbolFill:"rgba(250,250,250,0.5)"},exportButton:{symbolStroke:"#fff",symbolFill:"rgba(250,250,250,0.5)",hoverSymbolStroke:"#fff",hoverSymbolFill:"rgba(250,250,250,0.5)"},printButton:{symbolStroke:"#fff",symbolFill:"rgba(250,250,250,0.5)",hoverSymbolStroke:"#fff",hoverSymbolFill:"rgba(250,250,250,0.5)"}}},rangeSelector:{buttonTheme:{fill:{linearGradient:[0,0,0,20],stops:[[.4,"#888"],[.6,"#555"]]},stroke:"#000000",style:{color:"#CCC",fontWeight:"bold"},states:{hover:{fill:{linearGradient:[0,0,0,20],stops:[[.4,"#BBB"],[.6,"#888"]]},stroke:"#000000",style:{color:"white"}},select:{fill:{linearGradient:[0,0,0,20],stops:[[.1,"#000"],[.3,"#333"]]},stroke:"#000000",style:{color:"yellow"}}}},inputStyle:{backgroundColor:"#333",color:"silver"},labelStyle:{color:"silver"}},navigator:{handles:{backgroundColor:"#666",borderColor:"#AAA"},outlineColor:"#CCC",maskFill:"rgba(16, 16, 16, 0.5)",series:{color:"#7798BF",lineColor:"#A6C7ED"}},scrollbar:{barBackgroundColor:{linearGradient:[0,0,0,20],stops:[[.4,"#888"],[.6,"#555"]]},barBorderColor:"#CCC",buttonArrowColor:"#CCC",buttonBackgroundColor:{linearGradient:[0,0,0,20],stops:[[.4,"#888"],[.6,"#555"]]},buttonBorderColor:"#CCC",rifleColor:"#FFF",trackBackgroundColor:{linearGradient:[0,0,0,10],stops:[[0,"#000"],[1,"#333"]]},trackBorderColor:"#666"},legendBackgroundColor:"rgba(0, 0, 0, 0.5)",legendBackgroundColorSolid:"rgb(35, 35, 70)",dataLabelsColor:"#444",textColor:"#C0C0C0",maskColor:"rgba(255,255,255,0.3)"},i=r.colors;r.orgChart={node:{textColor:"black ",borderColor:i[1],borderWidth:2,backgroundColor:"white ",fontWeight:"normal ",hover:{backgroundColor:i[3],textColor:"white "}},junction:{lineColor:i[3],lineWidth:2},dropMarker:{borderColor:i[1],borderWidth:0,backgroundColor:i[4],backgroundOpacity:1},tooltip:{backgroundColor:i[1],backgroundOpacity:1,borderWidth:2,borderRadius:0,borderColor:i[2],style:{color:"#fff",fontSize:"12px",padding:"5px",whiteSpace:"nowrap"}}},r.version=Highcharts.version.split(".").map(function(e){return parseInt(e,10)}),r.version[0]!==2&&r.version[0]===3&&(r.navigation={buttonOptions:{symbolStroke:"#DDDDDD",hoverSymbolStroke:"#FFFFFF",theme:{fill:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[.4,"#606060"],[.6,"#333333"]]},stroke:"#000000"}}},delete r.exporting),t.theme=r}),define("syracuse-ui/themes/desktop/sage/highcharts/theme",["require","exports","module"],function(e,t,n){var r={colors:["#BF7070","#BFB730","#7ABF30","#7373FF","#BF7730","#BF3080","#30BF9F","#FF7373","#FFF773","#85FF00","#3030BF","#FF9F40","#FF40BC","#1699A6","#FF0000","#FFF100","#00FF00","#0000FF","#FF7F00","#FF00A6","#00FFC6","#A60000","#A69C00","#56A600","#90B2FF","#A65200","#A6006C","#00A681","#FF4040","#FFF440","#A3FF40","#3673FF","#FFB873","#FF76CE","#73FFED"],chart:{borderRadius:"0",spacingTop:10,backgroundColor:"#fff",borderColor:"#ccc",borderWidth:1,className:"dark-container",resetZoomButton:{theme:{fill:"white",stroke:"#dddddd",r:0,states:{hover:{fill:"#00a1de",style:{color:"white"}}}},position:{x:-50,y:5},relativeTo:"chart"}},title:{style:{color:"#464646",font:'bold 16px "Trebuchet MS", Verdana, sans-serif'}},subtitle:{style:{color:"#464646",font:'bold 12px "Trebuchet MS", Verdana, sans-serif'}},xAxis:{gridLineColor:"rgba(0, 0, 0, 0.05)",gridLineDashStyle:"longdash",gridLineWidth:1,labels:{style:{color:"#A0A0A0"}},lineColor:"rgba(0, 0, 0, 0.2)",tickColor:"rgba(0, 0, 0, 0.2)",title:{style:{color:"#464646",fontWeight:"normal",fontSize:"20px",fontFamily:"arial"}}},yAxis:{minorGridLineColor:"rgba(0, 0, 0, 0.05)",minorTickInterval:"auto",gridLineWidth:2,gridLineColor:"rgba(0, 0, 0, 0.07)",labels:{align:"left",x:0,y:12,style:{color:"#A0A0A0"}},lineColor:"rgba(0, 0, 0, 0.07)",title:{style:{color:"#CCC",fontSize:"16px",fontFamily:"Georgia, Verdana, sans-serif",fontStyle:"italic"}}},tooltip:{backgroundColor:"#464646",borderRadius:"0",style:{color:"#fff",fontSize:"12px",padding:"5px",whiteSpace:"nowrap"}},toolbar:{itemStyle:{color:"silver"}},plotOptions:{series:{marker:{lineWidth:2,lineColor:null,radius:4,states:{hover:{radius:8,lineColor:null}}}},area:{fillOpacity:.15},areaspline:{fillOpacity:.15},line:{dataLabels:{color:"#CCC"},marker:{lineColor:"#FFFFFF"}},spline:{marker:{lineColor:"#FFFFFF"}},scatter:{marker:{lineColor:"#FFFFFF"}},candlestick:{lineColor:"#FFFFFF",animation:{duration:2e3,easing:"easeOutBounce"}},pie:{allowPointSelect:!0,cursor:"pointer",borderColor:"rgba(250,250,250,0.3)",borderWidth:.5,dataLabels:{enabled:!0,connectorWidth:2,color:"#464646",style:{fontWeight:"bold"}}}},legend:{borderRadius:0,borderWidth:1,backgroundColor:"white",itemMarginTop:8,itemStyle:{color:"#464646",fontFamily:'"arial"',fontWeight:"bold",fontSize:"8pt "},itemHoverStyle:{color:"#00a1de"},itemHiddenStyle:{color:"#555"},title:{style:{color:"#464646",fontWeight:"bold",fontSize:"8pt",fontFamily:"arial"}}},credits:{enabled:!1,style:{color:"#666"}},labels:{style:{color:"#CCC"}},exporting:{buttons:{drillUp:{symbolStroke:"#fff",symbolFill:"rgba(250,250,250,0.5)",hoverSymbolStroke:"#fff",hoverSymbolFill:"rgba(250,250,250,0.5)"},exportButton:{symbolStroke:"#fff",symbolFill:"rgba(250,250,250,0.5)",hoverSymbolStroke:"#fff",hoverSymbolFill:"rgba(250,250,250,0.5)"},printButton:{symbolStroke:"#fff",symbolFill:"rgba(250,250,250,0.5)",hoverSymbolStroke:"#fff",hoverSymbolFill:"rgba(250,250,250,0.5)"}}},rangeSelector:{buttonTheme:{fill:{linearGradient:[0,0,0,20],stops:[[.4,"#888"],[.6,"#555"]]},stroke:"#000000",style:{color:"#CCC",fontWeight:"bold"},states:{hover:{fill:{linearGradient:[0,0,0,20],stops:[[.4,"#BBB"],[.6,"#888"]]},stroke:"#000000",style:{color:"white"}},select:{fill:{linearGradient:[0,0,0,20],stops:[[.1,"#000"],[.3,"#333"]]},stroke:"#000000",style:{color:"yellow"}}}},inputStyle:{backgroundColor:"#333",color:"silver"},labelStyle:{color:"silver"}},navigator:{handles:{backgroundColor:"#666",borderColor:"#AAA"},outlineColor:"#CCC",maskFill:"rgba(16, 16, 16, 0.5)",series:{color:"#7798BF",lineColor:"#A6C7ED"}},scrollbar:{barBackgroundColor:{linearGradient:[0,0,0,20],stops:[[.4,"#888"],[.6,"#555"]]},barBorderColor:"#CCC",buttonArrowColor:"#CCC",buttonBackgroundColor:{linearGradient:[0,0,0,20],stops:[[.4,"#888"],[.6,"#555"]]},buttonBorderColor:"#CCC",rifleColor:"#FFF",trackBackgroundColor:{linearGradient:[0,0,0,10],stops:[[0,"#000"],[1,"#333"]]},trackBorderColor:"#666"},legendBackgroundColor:"rgba(0, 0, 0, 0.5)",legendBackgroundColorSolid:"rgb(35, 35, 70)",dataLabelsColor:"#444",textColor:"#C0C0C0",maskColor:"rgba(255,255,255,0.3)"},i=r.colors;r.orgChart={node:{textColor:"black ",borderColor:i[1],borderWidth:2,backgroundColor:"white ",fontWeight:"normal ",hover:{backgroundColor:i[3],textColor:"white "}},junction:{lineColor:i[3],lineWidth:2},dropMarker:{borderColor:i[1],borderWidth:0,backgroundColor:i[4],backgroundOpacity:1},tooltip:{backgroundColor:i[1],backgroundOpacity:1,borderWidth:2,borderRadius:0,borderColor:i[2],style:{color:"#fff",fontSize:"12px",padding:"5px",whiteSpace:"nowrap"}}},r.version=Highcharts.version.split(".").map(function(e){return parseInt(e,10)}),r.version[0]!==2&&r.version[0]===3&&(r.navigation={buttonOptions:{symbolStroke:"#DDDDDD",hoverSymbolStroke:"#FFFFFF",theme:{fill:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[.4,"#606060"],[.6,"#333333"]]},stroke:"#000000"}}},delete r.exporting),t.theme=r}),define("syracuse-tablet/html/js/controls/chart/ctrlCubeChartBase",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/ctrlBase","syracuse-tablet/html/js/helpers/formatApi","syracuse-tablet/html/js/controls/chart/ctrlCubeChartTheme","syracuse-ui/themes/desktop/sage/highcharts/theme"],function(e,t,n){function c(e,t){return!!(e&&e.$hierarchies&&t.$axes&&t.$axes.length>0&&t.$axes[0].$hierarchies&&t.$axes[0].$hierarchies.length>0)}var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/ctrlBase").Klass,s=e("syracuse-tablet/html/js/helpers/formatApi"),o=e("syracuse-tablet/html/js/controls/chart/ctrlCubeChartTheme").theme,u=Highcharts.merge,a=function(e){return $.extend({},e)};Highcharts.theme=e("syracuse-ui/themes/desktop/sage/highcharts/theme").theme,Highcharts.setOptions(Highcharts.theme);var f=Highcharts.theme.colors,l=function(e){var t={xy:"line",point:"scatter",stick:"column",radar:"spiderweb"};return e&&(t[e]||e)},h=r.defineClass(function(e,t,n){var r=this;i.call(r,e,t,n),r.itemProto=n.getPrototype("$item")},i,{_mergeMetaData:function(e){var t={};return e&&e.$cube&&(t.$cube=e.$cube),e&&e.$axes&&(t.$axes=e.$axes),e&&e.$style&&(t.$style=e.$style),e&&e.$color&&(t.$color=e.$color),e&&e.$isLegendHidden&&(t.$isLegendHidden=e.$isLegendHidden),e&&e.$isXLabelHidden&&(t.$isXLabelHidden=e.$isXLabelHidden),e&&e.$isYLabelHidden&&(t.$isYLabelHidden=e.$isYLabelHidden),e&&e.$isXLabelsHidden&&(t.$isXLabelsHidden=e.$isXLabelsHidden),e&&e.$isYLabelsHidden&&(t.$isYLabelsHidden=e.$isYLabelsHidden),this.currentMetaData=u(this.currentMetaData||{},t),e&&e.$item&&e.$item.$properties&&this.currentMetaData&&this.currentMetaData.$cube&&this.currentMetaData.$cube.$measures&&$.smForEachKey(this.currentMetaData.$cube.$measures,function(t,n){e.$item.$properties[t]&&e.$item.$properties[t].$title&&(n.$title=e.$item.$properties[t].$title)}),this.currentMetaData},_settingsFromValue:function(){var e=this,t=this.currentMetaData.$cube,n=0,r;return t.$style==="spiderweb"?(r={},r.categories=Object.keys(e._meta.series).map(function(t){return e._meta.series[t].options.name}),r.series={},e.dataset&&e.dataset.reduce(function(t,r){var i={name:e._getMeasureLabel(r,e._meta.xAxis[0].code),color:f[n++],data:[],pointPlacement:"on"};return i.name&&(i.id="#s-"+i.name,$.smForEachKey(e._meta.series,function(t,n){n.isHidden||e._pushData(i,t,t,r)}),t.series[i.name]=i),t},r)):(r={categories:[],series:{}},e.dataset&&e.dataset.reduce(function(t,n){var r=e._getMeasureLabel(n,e._meta.xAxis[0].code);return r!=null&&(t.categories.push(r),$.smForEachKey(e._meta.series,function(i,s){var o=t.series[i];o||(o=a(s.options),o.data=[],t.series[i]=o),e._pushData(o,r,i,n)})),t},r)),r},_pushData:function(e,t,n,r){var i=parseFloat(r.$rawV&&r.$rawV[n]&&r.$rawV[n].v||r[n])||0;this.useLogarithmicAxis&&(this.maxValue=Math.max(this.maxValue||-Infinity,i),this.minValue=Math.min(this.maxValue||Infinity,i)),e.data.push([t,i])},_createChart:function(e){var t=this,n=u(t._getPref(),t._getOptions(t.$prototype));e?(n.xAxis[0].categories=e.categories,$.smForEachKey(e.series,function(e,r){var i=a(r),s=t._meta.series[e];n.chart.polar&&i&&i.type&&delete i.type,(!s||!s.isHidden)&&n.series.push(i)})):$.smForEachKey(t._meta.series,function(e,t){var r=a(t.options);n.chart.polar&&r&&r.type&&delete r.type,r.data=[0],t.isHidden||n.series.push(r)}),(!t.$prototype.$cube||t.$prototype.$cube.$style!="spiderweb")&&n.series.reverse(),this.useLogarithmicAxis&&(this.maxValue||0)/(this.minValue||1)>10&&(n.yAxis.type="logarithmic"),t._chart=new Highcharts.Chart(n);var r=this._chart.legend;t.displayLegend=r&&r.display;var i=t._chart.series,s,o;for(var f=i.length-1;f>=0;f--)s=i[f],o=s&&s.options.id&&t._meta.series[s.options.id.slice(3)],o&&o.measure&&(o.measure.$color=o.options.color=s.color)},_getOptions:function(e){var t=this,n=this.currentMetaData.$cube,r=Highcharts.getOptions(),i=r.exporting.buttons,s=this._getFieldEvalTitle(),o=e.$axes&&e.$axes[0]||{},u=o.$hierarchies&&s[o.$hierarchies[0][0]]||o.$title,a,f={chart:{renderTo:this.chartSlot,zoomType:"x",ignoreHiddenSeries:!1,width:50,height:50},lang:{showHideLegend:t._localize.highCharts_showHideLegend},legend:{layout:"vertical",align:"right",verticalAlign:"top",y:60,x:-10,title:{text:":::: "+t._localize.highCharts_seriesTitle},floating:!0,draggable:!0,zIndex:20,enabled:this.currentMetaData.$isLegendHidden!==!0},title:{text:n&&t._localizedText(n.$title)||"",margin:5},xAxis:[{categories:[],title:{text:t._localizedText(u),enabled:this.currentMetaData.$isXLabelHidden!==!0},labels:{rotation:-45,align:"right",enabled:this.currentMetaData.$isXLabelsHidden!==!0}}],yAxis:[{title:{text:"",enabled:this.currentMetaData.$isYLabelHidden!==!0},labels:{align:"right",enabled:this.currentMetaData.$isYLabelsHidden!==!0}}],plotOptions:{series:{cursor:"pointer",events:{},point:{events:{click:function(e){}}},stacking:t._meta.stacking,animation:!1}},tooltip:{formatter:function(){var e=t._meta.series,n=this.key&&e[this.key]||e[this.series.options.id.slice(3)],r=n&&n.measure,i=this.series.processedYData,s=this.y;r&&t._ensureFormatter(r);var o=this.series.name||r&&r.$title,u=r&&r.formatApi,a=r&&r.localeFormat;o=(o?o+"<br>":"")+(this.x||this.key)+": <b> "+(u?u.format(s,a):s)+"</b>";if(r&&r.$isNormalized&&i.length>0){var f=i.reduce(function(e,t){return e+t});o+=" ("+(u?u.format(s/f*100,a):s/f*100)+"%)"}return o}},series:[]};if(Highcharts.theme.version[0]===3){f.exporting={type:"image/png",url:"http://export.highcharts.com/",buttons:{contextButton:{symbol:"menu",enabled:!1,_titleKey:"contextButtonTitle",menuItems:[{textKey:"showHideLegend",onclick:function(){setTimeout(function(){t._toggleLegendDisplay()},100)}}]},legendButton:{enabled:!1,textKey:"showHideLegend",symbol:"menu",onclick:function(){setTimeout(function(){t._toggleLegendDisplay()},100)}}}};var l=f.exporting.buttons.contextButton.menuItems||[];this._printSupported()&&l.push({text:"Print chart",onclick:function(){this.print(t)}}),this._exportSupported()&&(l.push({separator:!0}),l.push({textKey:"downloadPNG",onclick:function(){this.exportChart()}}),l.push({textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}}),l.push({textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}}),l.push({textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}))}return f.xAxis[0].title.text!==f.title.text&&(f.xAxis[0].title.text=f.xAxis[0].title.text?f.xAxis[0].title.text:f.title.text),f.chart.type=t._meta.defaultStyle,f},_initializeMeta:function(){this._mergeMetaData(this.$prototype),this._mergeMetaData(this.article);var e=this.$prototype,t=this.currentMetaData;this._meta={xAxis:[{}],series:{},displaysOneMeasure:t&&t.$displaysOneMeasure,hasMeasureSelector:t&&t.$hasMeasureSelector,hasStyleSelector:t&&t.$hasStyleSelector,defaultStyle:l(t.$style)||"column",drill:{minLevel:1,maxLevel:0,currLevel:1,currAxisHier:0,levelsProperties:[],members:[],stack:[{$axes:e.$axes,$item:e.$item,$slicer:e.$slicer}]}},this.__processMeta(e,!0)},_exportSupported:function(){return!0},_printSupported:function(){return!0},__processMeta:function(e,t){this._processMeasures(e,t),this._processAxes(e,t)},_processMeasures:function(e,t){this._mergeMetaData(e);var n=this,r=this.$prototype.$properties,i=this._getRestraintMeasures(),s=0;i&&$.smForEachKey(i,function(i,o){var a=o.$property||i,c=u(r[a],o);e&&e.$item&&e.$item.$properties&&(c=u(c,e.$item.$properties[a]));var h=n._meta.series[a];t&&(n._ensureFormatter(c),h=n._meta.series[a]={options:{id:"#s-"+a,name:n._localizedText(c.$title)||String.fromCharCode(160)},measure:c}),h&&(h.isHidden=c.$title==="",h.options.type=l(c.$style),h.options.color=c.$color||f[s++],h.options.name=n._localizedText(c.$title)||String.fromCharCode(160),h.options.visible=c.$title!==""&&(!n._meta.displaysOneMeasure||!!c.$isDefault));if(c.$isStacked||c.$stackingGroup)h.options.stack=c.$stackingGroup||0,n._meta.stacking=c.$isNormalized?"percent":n._meta.stacking||"normal"})},_getRestraintMeasures:function(){var e=this.currentMetaData,t=e.$cube,n=t&&t.$measures,r=n;return n&&e.$axes&&e.$axes.length>1&&e.$axes[1].$members&&e.$axes[1].$members[0][0].length>0&&(r={},$.smForEach(e.$axes[1].$members[0][0],function(e){r[e]=n[e]})),r},_processAxes:function(e,t){var n=this.$prototype.$cube;if(!c(n,e))return!1;var r=this,i=0,s=e.$axes&&e.$axes[0],o=null;if(s){$.smForEachKey(s.$hierarchies,function(e,t){!o&&t.length>1&&t[1]==1&&(o=n.$hierarchies[t[0]].$properties,o&&(r._meta.xAxis[0].code=o[t.length>2?t[2]:0],i=e))}),!o&&s.$hierarchies[0].length>0&&(o=n.$hierarchies[s.$hierarchies[0][0]].$properties,o&&o.length>0&&(r._meta.xAxis[0].code=o[0]));var u;$.smForEach(s.$hierarchies,function(e){u=n.$hierarchies[e[0]].$properties,$.smForEach(u,function(e){this.levelsProperties[this.maxLevel++]=e},r._meta.drill)}),s.$members&&$.smForEach(s.$members,function(e){$.smForEach(e,function(e){e.length>0&&(this.members[this.currLevel++ -1]=e[0])},this)},r._meta.drill)}r._meta.drill.code=e.$codeStat||"UNKNOWN",r._meta.drill.axis0FieldCode=r._meta.xAxis[0].code||"",r._meta.drill.maxLevel=Math.max(r._meta.drill.maxLevel,r._meta.drill.minLevel)},_getPref:function(){return Highcharts.getOptions()},_getMeasureLabel:function(e,t){var n=this._localizedText(e.$title);if(n)return n;var r=this,i=r.$prototype.$properties[t];if(!i)return null;switch(i.$type){case"application/x-choice":n=e[t],i.$value.$enum.some(function(e,t,r){return e.$value===n?(n=this._localizedText(e.$title),!0):!1});break;case"application/x-date":i.formatApi=i.formatApi||_formatApi.getApi(i.$type),i.localeFormat=i.localeFormat||_formatApi.getLocale().getDateFormat(i.$format),n=datetime.parse(e[t]).toString(i.localeFormat);break;case"application/x-integer":case"application/x-decimal":i.formatApi=i.formatApi||_formatApi.getApi(i.$type),i.formatObj=i.formatObj||_formatApi.getLocale().getNumberFormatObj(i.$type),i.localeFormat=i.localeFormat||i.$format||i.formatObj.numFormat,n=i.formatApi.format(e[t],i.localeFormat);break;default:n=""+e[t]}return n},_toggleLegendDisplay:function(){var e=this._chart.legend;e&&this._displayLegend(!e.display)},_displayLegend:function(e){var t=this._chart.legend;if(!t)return;e?(t.group.show(),t.box.show()):(t.group.hide(),t.box.hide()),this.displayLegend=t.display=e},destroy:function(){var e=this;i.prototype.destroy.call(e),this._chart&&this._chart.destroy(),this._chart=this._localize=this._meta=this.currentMetaData=null}});t.Klass=h}),define("syracuse-tablet/html/js/controls/chart/ctrlCubeChart",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/chart/ctrlCubeChartBase","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/helpers/formatApi","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/chart/ctrlCubeChartBase").Klass,s=e("syracuse-tablet/html/js/ui/uiUtils"),o=e("syracuse-tablet/html/js/helpers/formatApi"),u=e("syracuse-tablet/html/js/helpers/locale"),a=r.defineClass(function(e,t,n){var r=this;i.call(r,e,t,n),r.itemProto=n.getPrototype("$item")},i,{buildHtml:function(e,t,n){var r=this;r.createRootElement(["s-m-control","s-m-chart"],e),r.chartSlot=s.createDomElement("div",["s-m-chart-slot"],null,null,r.$$elmt),r._buildChart()},_buildChart:function(){var e=this;e.$prototype=e.prototype.json,e.$prototype.$properties=e.$prototype.$item.$properties,e._localize={highCharts_showHideLegend:u.text("highCharts_showHideLegend"),highCharts_seriesTitle:u.text("highCharts_seriesTitle")},e._initializeMeta(),e.dataset=e.getControllerDao().getQueryResources();var t=e._settingsFromValue();e._createChart(t)},_ensureFormatter:function(e){e.formatApi={format:function(e,t){return e}}},_localizedText:function(e){return e},_getFieldEvalTitle:function(){return[]},onLayoutChange:function(){var e=this;if(e._chart){var t=$(e.chartSlot);e._chart.setSize(t.width(),t.height(),!1)}},destroy:function(){var e=this;i.prototype.destroy.call(e),e.dataset=null}});t.Klass=a}),define("syracuse-tablet/html/js/controls/ctrlFactoryDeps",["require","exports","module","syracuse-tablet/html/js/controls/field/ctrlAlphanum","syracuse-tablet/html/js/controls/field/ctrlAlphanum","syracuse-tablet/html/js/controls/field/ctrlAlphanum","syracuse-tablet/html/js/controls/field/ctrlProgress","syracuse-tablet/html/js/controls/field/ctrlNumeric","syracuse-tablet/html/js/controls/field/ctrlQuantity","syracuse-tablet/html/js/controls/field/ctrlCheckBox","syracuse-tablet/html/js/controls/field/ctrlCombo","syracuse-tablet/html/js/controls/field/ctrlDate","syracuse-tablet/html/js/controls/array/arrayStd","syracuse-tablet/html/js/controls/array/arrayQuery","syracuse-tablet/html/js/controls/array/arrayLookup","syracuse-tablet/html/js/controls/field/ctrlReference","syracuse-tablet/html/js/controls/layout/layoutRow","syracuse-tablet/html/js/controls/layout/layoutStack","syracuse-tablet/html/js/controls/layout/layoutTab","syracuse-tablet/html/js/controls/layout/layoutHub","syracuse-tablet/html/js/controls/layout/layoutHubGroup","syracuse-tablet/html/js/controls/vignetteBase","syracuse-tablet/html/js/controls/ctrlPageHeader","syracuse-tablet/html/js/controls/ctrlTypeUnknown","syracuse-tablet/html/js/controls/chart/ctrlCubeChart","syracuse-tablet/html/js/controls/ctrlFactory"],function(e,t,n){var r=e("syracuse-tablet/html/js/controls/field/ctrlAlphanum").Klass,i=e("syracuse-tablet/html/js/controls/field/ctrlAlphanum").PhoneField,s=e("syracuse-tablet/html/js/controls/field/ctrlAlphanum").EmailField,o=e("syracuse-tablet/html/js/controls/field/ctrlProgress").Klass,u=e("syracuse-tablet/html/js/controls/field/ctrlNumeric").Klass,a=e("syracuse-tablet/html/js/controls/field/ctrlQuantity").Klass,f=e("syracuse-tablet/html/js/controls/field/ctrlCheckBox").Klass,l=e("syracuse-tablet/html/js/controls/field/ctrlCombo").Klass,c=e("syracuse-tablet/html/js/controls/field/ctrlDate").Klass,h=e("syracuse-tablet/html/js/controls/array/arrayStd").Klass,p=e("syracuse-tablet/html/js/controls/array/arrayQuery").Klass,d=e("syracuse-tablet/html/js/controls/array/arrayLookup").Klass,v=e("syracuse-tablet/html/js/controls/field/ctrlReference").Klass,m=e("syracuse-tablet/html/js/controls/layout/layoutRow").Klass,g=e("syracuse-tablet/html/js/controls/layout/layoutStack").Klass,y=e("syracuse-tablet/html/js/controls/layout/layoutTab").Klass,b=e("syracuse-tablet/html/js/controls/layout/layoutHub").Klass,w=e("syracuse-tablet/html/js/controls/layout/layoutHubGroup").Klass,E=e("syracuse-tablet/html/js/controls/vignetteBase").Klass,S=e("syracuse-tablet/html/js/controls/ctrlPageHeader").Klass,x=e("syracuse-tablet/html/js/controls/ctrlTypeUnknown").Klass,T=e("syracuse-tablet/html/js/controls/chart/ctrlCubeChart").Klass,N=e("syracuse-tablet/html/js/controls/ctrlFactory");t.init=function(){N.setImpl("Alphanum",r),N.setImpl("PhoneField",i),N.setImpl("EmailField",s),N.setImpl("ProgressField",s),N.setImpl("Numeric",u),N.setImpl("Quantity",a),N.setImpl("CheckBox",f),N.setImpl("Combo",l),N.setImpl("Date",c),N.setImpl("Array",h),N.setImpl("ArrayQuery",p),N.setImpl("ArrayLookup",d),N.setImpl("Reference",v),N.setImpl("LayoutRow",m),N.setImpl("LayoutStack",g),N.setImpl("LayoutTab",y),N.setImpl("LayoutHub",b),N.setImpl("LayoutHubGroup",w),N.setImpl("Vignette",E),N.setImpl("PageHeader",S),N.setImpl("TypeUnknown",x),N.setImpl("CubeChart",T)}}),define("syracuse-tablet/html/js/sdata/sdataSort",["require","exports","module"],function(e,t,n){function r(e,t,n){var r=[],i=t.$properties.$resources&&t.$properties.$resources.$item&&t.$properties.$resources.$item.$properties||t.$properties;n.forEach(function(e){var t=e.property,n=e.sort==="DESC"?"DESC":"ASC",s=i[t]&&i[t].$type||"application/x-string";if(s==="application/x-decimal"){if(n==="ASC"){try{r.push(function(e,n){var r=e[t],i=n[t];return+r- +i})}catch(o){}return 0}try{r.push(function(e,n){var r=e[t],i=n[t];return+i- +r})}catch(o){}return 0}n==="ASC"?r.push(function(e,n){try{var r=e[t],i=n[t];if(r>i)return 1;if(r<i)return-1}catch(s){}return 0}):r.push(function(e,n){try{var r=e[t],i=n[t];if(r>i)return-1;if(r<i)return 1}catch(s){}return 0})}),e.sort(function(e,t){var n=0;for(var i=0;i<r.length;i++){n=r[i](e,t);if(n!==0)break}return n})}t.sdataSortArray=r}),define("syracuse-tablet/html/js/sdata/sdataCache",["require","exports","module","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/storage/storage","syracuse-tablet/html/js/sdata/sdatawhere/parser","syracuse-tablet/html/js/sdata/sdatawhere/whereUtils","syracuse-tablet/html/js/sdata/sdataSort"],function(e,t,n){function c(e){this.storage=e,this.context=null}var r=e("syracuse-tablet/html/js/helpers/logger").getLogger("SDataCache"),i=e("syracuse-tablet/html/js/helpers/globals"),s=e("syracuse-tablet/html/js/helpers/utils"),o=e("syracuse-tablet/html/js/storage/storage"),u=e("syracuse-tablet/html/js/sdata/sdatawhere/parser").Parser,a=e("syracuse-tablet/html/js/sdata/sdatawhere/whereUtils"),f=e("syracuse-tablet/html/js/sdata/sdataSort"),l="$cache_",h=s.defineClass(c,null,{setContext:function(e){r&&r("Changing cache context: "+JSON.stringify(e)),this.context=e},cachePrefix:l,put:function(e){var t=$.Deferred(),n=this;try{if(!e.$data)throw new Error("PUT: No data specified");var r,i;if(e.$proto){var s=n._getProto(e.$proto);r=n._getRepresentation(s),i=n._getKeyValue(e.$data,s)}else{if(!e.$representation||!e.$key)throw new Error("PUT: Neither proto nor representation and key specified");r=e.$representation,i=e.$key}n.storage.put({$context:n.context,$collection:l+r,$endpoint:e.$endpoint,$key:i,$data:{$item:e.$data}}).then(function(e){t.resolve()},function(e){t.reject(e)})}catch(o){t.reject(o)}finally{return t}},query:function(e){var t=$.Deferred(),n=this;try{var r;if(e.$proto){var i=n._getProto(e.$proto);r=n._getRepresentation(i)}else{if(!e.$representation)throw new Error("QUERY: Neither proto nor representation specified");if(e.$where)throw new Error("QUERY: Where clause parsing requires prototype");if(e.$orderBy)throw new Error("QUERY: Order by requires prototype");r=e.$representation}n.storage.query({$context:n.context,$endpoint:e.$endpoint,$collection:l+r}).then(function(n){var r=[];try{if(e.$where){var s=u.parse(e.$where);n.$data.forEach(function(e,t){if(a.execWhere(e.$item,s,i)){var o=e.$item,u=n.$metaData[t];o.$cache={$lastRead:u.$lastRead,$lastUpdated:u.$lastUpdated},r.push(o)}})}else n.$data.forEach(function(e,t){var i=e.$item,s=n.$metaData[t];i.$cache={$lastRead:s.$lastRead,$lastUpdated:s.$lastUpdated},r.push(i)});e.$orderBy&&f.sdataSortArray(r,i,e.$orderBy),t.resolve(r)}catch(o){t.reject(o)}},function(e){t.reject(e)})}catch(s){t.reject(s)}finally{return t}},read:function(e){var t=$.Deferred(),n=this;try{var r;if(!e.$key)throw new Error("READ: No key specified");if(e.$proto){var i=n._getProto(e.$proto);r=n._getRepresentation(i)}else{if(!e.$representation)throw new Error("READ: Neither proto nor representation specified");r=e.$representation}n.storage.read({$context:n.context,$collection:l+r,$endpoint:e.$endpoint,$key:e.$key}).then(function(e){if(e.$status===o.StatusCodes.OK){var n=e.$data.$item;n.$cache={$lastRead:e.$metaData.$lastRead,$lastUpdated:e.$metaData.$lastUpdated},t.resolve(n)}else t.resolve(null)},function(e){t.reject(e)})}catch(s){t.reject(s)}finally{return t}},remove:function(e){var t=$.Deferred(),n=this;try{var r;if(!e.$key)throw new Error("REMOVE: No key specified");if(e.$proto){var i=n._getProto(e.$proto);r=n._getRepresentation(i)}else{if(!e.$representation)throw new Error("READ: Neither proto nor representation specified");r=e.$representation}n.storage.remove({$context:n.context,$collection:l+r,$endpoint:e.$endpoint,$key:e.$key}).then(function(){t.resolve()},function(e){t.reject(e)})}catch(s){t.reject(s)}finally{return t}},clearCache:function(){var e=$.Deferred(),t=this,n=new RegExp(t.cachePrefix.replace(/([\$\_]+)/g,"\\$1"));try{t.storage.clearCollection({$context:t.context,$collection:n}).then(function(){t.storage.clearCollection({$context:i.getEmptyCacheCtx(),$collection:n})}).then(function(){e.resolve()},function(t){e.reject(t)})}catch(r){e.reject(r)}finally{return e}},_getProto:function(e){return e.$properties.$resources&&e.$properties.$resources.$item||e},_getRepresentation:function(e){return e.$type.split(".").slice(1,3).join(".").replace("$queryItem","$query")},_getKeyValue:function(e,t){return t.$key.replace(/\{(.*?)\}/g,function(t,n){return e[n]})}});t.SDataCache=h}),define("syracuse-tablet/html/js/sdata/entities/test/example",["require","exports","module"],function(e,t,n){var r=[];for(var i=0;i<100;i++)r.push({$uuid:i,name:"My name is: "+i,desc:"My desc is: "+i,desc2:"My desc2 is: "+i,amount:i*100});t.entity={$entityName:"example",$value:"{name}",$properties:{name:{$type:"application/x-string",$title:"My name"},desc:{$type:"application/x-string",$title:"My description"},desc2:{$type:"application/x-string",$title:"My description 2"},amount:{$type:"application/x-integer",$title:"My amount",$isExcluded:!1,$isHidden:!1,$isMandatory:!1,$isReadOnly:!1,$isDisabled:!1}},$relations:{values:{$type:"exampleChild"}},$articles:{$details:{$layoutType:"stack",$items:[{$layoutType:"row",$widthMd:"6,6",$items:[{$bind:"name",$isTitleHidden:!1},{$bind:"desc",$isTitleHidden:!1}]},{$layoutType:"row",$widthMd:"6,6",$items:[{$bind:"desc2",$isTitleHidden:!1},{$bind:"amount",$isTitleHidden:!1}]}]},$edit:{$layoutType:"stack",$items:[{$layoutType:"row",$widthMd:"6,6",$items:[{$bind:"name",$isTitleHidden:!0},{$bind:"desc",$isTitleHidden:!0}]},{$layoutType:"row",$widthMd:"6,6",$items:[{$bind:"desc2",$isTitleHidden:!1},{$bind:"amount",$isTitleHidden:!1}]}]}},$services:{$new:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()},$read:function(e,t){var n=$.Deferred();return n.resolve(r[e.$key]),n.promise()},$query:function(e,t){var n=$.Deferred();return n.resolve({$resources:r}),n.promise()},$save:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()},$delete:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()}}}}),define("syracuse-tablet/html/js/sdata/entities/test/testDatatypes",["require","exports","module"],function(e,t,n){var r=[],i=!1;for(var s=0;s<10;s++)r.push({$uuid:s,propString:"Simple String="+s,propDate:"2014-03-"+(s+20),propDateTime:"2014-06-"+(s+10)+"T12:45:"+(s+44)+".123Z",propTime:"15:45:"+(s+34),propTimeShort:"15:45:"+(s+34),propInt:s*1e3+s*10,propDecimal:Math.sqrt(s*1e3+s*10),propReal:Math.sqrt(s*1e3+s*30),propBoolean:i=!i,propChoice:"mr",propQuantity:s*123,propStringUnit:"EUR",propStringMandatory:"Mandatory",propDecimalMandatory:"",propStringMinMax:"",propStringMinMaxValue:"",propStringPattern:""});t.entity={$entityName:"testDataTypes",$properties:{propString:{$type:"application/x-string",$isMandatory:!1,$title:"My name (max len 25)",$maxLength:25},propStringMandatory:{$type:"application/x-string",$isMandatory:!0,$title:"String Madatory"},propStringMinMax:{$type:"application/x-string",$title:"String MinMaxLength(3-5)",$minLength:3,$maxLength:5},propStringMinMaxValue:{$type:"application/x-integer",$isMandatory:!1,$title:"Integer MinMaxValue(3-50)",$minimun:"3",$maximun:"50"},propStringPattern:{$type:"application/x-string",$title:"Pattern",$maxLength:40},propDate:{$type:"application/x-date",$isMandatory:!1,$title:"Date"},propDateTime:{$type:"application/x-datetime",$isMandatory:!1,$title:"Date+Time"},propTime:{$type:"application/x-time",$isMandatory:!1,$title:"Time long",$format:"TT"},propTimeShort:{$type:"application/x-time",$isMandatory:!1,$title:"Time"},propInt:{$type:"application/x-integer",$isMandatory:!1,$title:"Integer (1-7000 Max)",$minimun:"1",$maximun:"7000"},propDecimalMandatory:{$type:"application/x-decimal",$isMandatory:!0,$title:"Decimal mandatory(2.4)",$scale:2,$precision:4,$format:"0.00"},propDecimal:{$type:"application/x-decimal",$isMandatory:!1,$title:"Decimal(4.7)",$scale:4,$precision:7,$format:"0.0000"},propReal:{$type:"application/x-real",$isMandatory:!1,$title:"Real"},propBoolean:{$type:"application/x-boolean",$isMandatory:!1,$title:"Boolean"},propChoice:{$type:"application/x-choice",$isMandatory:!1,$title:"Choice",$value:{$enum:[{$title:"Mr.",$value:"mr"},{$title:"Mrs.",$value:"mrs"}],$type:"application/x-string"}},propQuantity:{$title:"Quantity",$type:"application/x-quantity",$value:{$title:"{$value} {$unit}",$type:"application/x-decimal",$scale:9,$precision:2,$format:"0.00"},$unit:"propStringUnit"},propStringUnit:{$type:"application/x-string",$isMandatory:!1,$isExcluded:!0,$title:"Unit for quantity"},propStringM:{$type:"application/x-string",$isMandatory:!0,$title:"My name"},propDateM:{$type:"application/x-date",$isMandatory:!0,$title:"Date (Mandatory)"},propDateTimeM:{$type:"application/x-datetime",$isMandatory:!0,$title:"Date+Time (Mandatory)"},propTimeM:{$type:"application/x-time",$isMandatory:!0,$title:"Time (Mandatory)"},propIntM:{$type:"application/x-integer",$isMandatory:!0,$title:"Integer (Mandatory)"},propDecimalM:{$type:"application/x-decimal",$isMandatory:!0,$title:"Decimal (Mandatory)"},propRealM:{$type:"application/x-real",$isMandatory:!0,$title:"Real (Mandatory)"},propBooleanM:{$type:"application/x-boolean",$isMandatory:!0,$title:"Boolean (Mandatory)"}},$relations:{},$articles:{},$services:{$new:function(e,t){var n=$.Deferred(),r=15,s={$uuid:r,propString:"Simple String="+r,propDate:"2014-03-"+r,propDateTime:"2014-06-"+r+"T12:45:"+(r+44)+".234Z",propTime:"15:45:"+(r+34),propInt:r*1e3+r*10,propDecimal:Math.sqrt(r*1e3+r*10),propReal:Math.sqrt(r*1e3+r*30),propBoolean:i=!i};return n.resolve(s),n.promise()},$read:function(e,t){var n=$.Deferred();return n.resolve(r[e.$key]),n.promise()},$query:function(e,t){var n=$.Deferred();return n.resolve({$resources:r}),n.promise()},$save:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()},$delete:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()}}}}),define("syracuse-tablet/html/js/sdata/entities/test/testFormats",["require","exports","module"],function(e,t,n){var r=[],i=!1;for(var s=0;s<10;s++)r.push({$uuid:s,propDate1:"2014-03-"+(s+20),propDateTime1:"2014-06-"+(s+10)+" 12:45:"+(s+44),propTime1:"15:45:"+(s+34),propInt1:s*1e3+s*10,propDecimal1:Math.sqrt(s*1e3+s*10),propReal1:Math.sqrt(s*1e3+s*30),propDate2:"2014-03-"+(s+20),propDateTime2:"2014-06-"+(s+10)+" 12:45:"+(s+44),propTime2:"15:45:"+(s+34),propInt2:s*1e3+s*10,propDecimal2:Math.sqrt(s*1e3+s*10),propReal2:Math.sqrt(s*1e3+s*30)});t.entity={$entityName:"testFormats",$properties:{propDate1:{$type:"application/x-date",$title:"Date"},propDateTime1:{$type:"application/x-datetime",$title:"Date+Time"},propTime1:{$type:"application/x-time",$title:"Time"},propInt1:{$type:"application/x-integer",$title:"Integer"},propDecimal1:{$type:"application/x-decimal",$title:"Decimal"},propReal1:{$type:"application/x-real",$title:"Real"},propDate2:{$type:"application/x-date",$title:"Date"},propDateTime2:{$type:"application/x-datetime",$title:"Date+Time"},propTime2:{$type:"application/x-time",$title:"Time"},propInt2:{$type:"application/x-integer",$title:"Integer"},propDecimal2:{$type:"application/x-decimal",$title:"Decimal"},propReal2:{$type:"application/x-real",$title:"Real"}},$relations:{},$articles:{},$services:{$new:function(e,t){var n=$.Deferred();return n.resolve({}),n.promise()},$read:function(e,t){var n=$.Deferred();return n.resolve(r[e.$key]),n.promise()},$query:function(e,t){var n=$.Deferred();return n.resolve({$resources:r}),n.promise()},$save:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()},$delete:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()}}}}),define("syracuse-tablet/html/js/sdata/entities/test/testCharts",["require","exports","module"],function(e,t,n){var r=[{part:"Gear",value:50,revenue:40,margin:10},{part:"Motor",value:60,revenue:40,margin:20},{part:"Head drive",value:60,revenue:80,margin:-20},{part:"Handwheel",value:70,revenue:90,margin:10},{part:"Crank",value:70,revenue:70,margin:0},{part:"Saddle",value:80,revenue:30,margin:50},{part:"Base",value:20,revenue:40,margin:-20},{part:"Spindle",value:10,revenue:0,margin:10}];t.entity={$entityName:"testCharts",$properties:{part:{$type:"application/x-string",$title:"Item"},value:{$type:"application/x-decimal",$title:"Value",$format:"0.0000"},revenue:{$type:"application/x-decimal",$title:"Revenue",$format:"0.0000"},margin:{$type:"application/x-decimal",$title:"Margin",$format:"0.0000"}},$prototype:function(e){var t=e.$properties&&e.$properties.$resources;t&&(t.$axes=[{$title:"Item",$hierarchies:[["part"]]},{$hierarchies:[["$measures"]]}],t.$cube={$title:"Sales overview",$hierarchies:{part:{$properties:["part"]}},$measures:{value:{},revenue:{},margin:{}}})},$relations:{},$articles:{},$services:{$new:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()},$read:function(e,t){var n=$.Deferred();return n.resolve(r[e.$key]),n.promise()},$query:function(e,t){var n=$.Deferred();return n.resolve({$resources:r}),n.promise()},$save:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()},$delete:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()}}}}),define("syracuse-tablet/html/js/sdata/entities/test/testConstraints",["require","exports","module"],function(e,t,n){var r=[],i=!1;for(var s=0;s<10;s++)r.push({$uuid:s,propString:"Test "+s,propString2:"Some text "+s,propString3:"Fill me "+s,propInt:s*1e3+s*10,propInt2:s*1e3+s*100,propDecimal:Math.sqrt(s*1e3+s*10),propDecimal2:Math.sqrt(s*1e3+s*100),propDecimal3:Math.sqrt(s*1e3+s*110),propDecimal4:Math.sqrt(s*1e3+s*120),propQuantity:s*123,propStringUnit:"EUR"});t.entity={$entityName:"testConstraints",$properties:{propString:{$title:"Test: $pattern=Test.*\\d$",$type:"application/x-string",$isMandatory:!0,$pattern:"Test.*\\d$"},propString2:{$title:"Test: $minLength=5, $maxLength=15",$type:"application/x-string",$isMandatory:!0,$minLength:5,$maxLength:15},propString3:{$title:"Test: $minLength=5, $maxLength=15, $pattern=Fill me.*\\d$",$type:"application/x-string",$isMandatory:!0,$pattern:"Fill me.*\\d$",$minLength:5,$maxLength:15},propInt:{$title:"Test: $minimum=100, $maximum=200",$type:"application/x-integer",$isMandatory:!0,$minimum:100,$maximum:200},propInt2:{$title:"Test: $exclusiveMinimum=100, $exclusiveMaximum=200",$type:"application/x-integer",$isMandatory:!0,$exclusiveMinimum:100,$exclusiveMaximum:200},propDecimal:{$title:"Test: $format=0.0000",$type:"application/x-decimal",$isMandatory:!0,$format:"0.0000"},propDecimal2:{$title:"Test: $format=0.00",$type:"application/x-decimal",$isMandatory:!0,$format:"0.00"},propDecimal3:{$title:"Test: $precision=10",$type:"application/x-decimal",$isMandatory:!0,$precision:10},propDecimal4:{$title:"Test: $scale=3",$type:"application/x-decimal",$isMandatory:!0,$scale:3,$format:"0.00000"},propQuantity:{$title:"Test: $format=0.00",$isMandatory:!0,$type:"application/x-quantity",$value:{$title:"{$value} {$unit}",$type:"application/x-decimal",$scale:9,$precision:2,$format:"0.00"},$unit:"propStringUnit"},propStringUnit:{$title:"Unit for quantity",$type:"application/x-string",$isMandatory:!1,$isExcluded:!0}},$relations:{},$articles:{},$services:{$new:function(e,t){var n=$.Deferred(),r=15,i={$uuid:r,propString:"Simple String="+r,propInt:r*1e3+r*10,propDecimal:Math.sqrt(r*1e3+r*10)};return n.resolve(i),n.promise()},$read:function(e,t){var n=$.Deferred();return n.resolve(r[e.$key]),n.promise()},$query:function(e,t){var n=$.Deferred();return n.resolve({$resources:r}),n.promise()},$save:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()},$delete:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()}}}}),define("syracuse-tablet/html/js/sdata/entities/test/testNavigateTo",["require","exports","module"],function(e,t,n){var r=[];for(var i=0;i<10;i++)r.push({$uuid:i,name:"Customer group "+i,group:""+i});t.entity={$entityName:"testNavigateTo",$properties:{name:{$title:"Customer group name",$type:"application/x-string"},group:{$title:"Customer group",$type:"application/x-string"}},$prototype:function(e){var t=e.$properties&&e.$properties.$resources&&e.$properties.$resources.$item&&e.$properties.$resources.$item.$links||{};t.DASHBOARD={$title:"Show details",$url:"{$baseUrl}/$mobileDashboards?dashboard=testContextDashboardChild&parameters=group%3D%7Bgroup%7D"}},$relations:{},$articles:{},$services:{$new:function(e,t){var n=$.Deferred(),r=15,i={$uuid:r,propString:"Simple String="+r,propInt:r*1e3+r*10,propDecimal:Math.sqrt(r*1e3+r*10)};return n.resolve(i),n.promise()},$read:function(e,t){var n=$.Deferred();return n.resolve(r[e.$key]),n.promise()},$query:function(e,t){var n=$.Deferred();return n.resolve({$resources:r}),n.promise()},$save:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()},$delete:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()}}}}),define("syracuse-tablet/html/js/sdata/entities/test/testNavigateToChild",["require","exports","module"],function(e,t,n){var r=[];for(var i=0;i<10;i++)for(var s=0;s<10;s++)r.push({$uuid:i*10+s,name:"Customer "+i*10+s,desc:"Belongs to group "+i,group:""+i});t.entity={$entityName:"testNavigateToChild",$properties:{name:{$title:"Customer name",$type:"application/x-string"},desc:{$title:"Description",$type:"application/x-string"},group:{$title:"Customer group",$type:"application/x-string"}},$relations:{},$articles:{},$services:{$new:function(e,t){var n=$.Deferred(),r=15,i={$uuid:r,propString:"Simple String="+r,propInt:r*1e3+r*10,propDecimal:Math.sqrt(r*1e3+r*10)};return n.resolve(i),n.promise()},$read:function(e,t){var n=$.Deferred();return n.resolve(r[e.$key]),n.promise()},$query:function(e,t){var n=$.Deferred();return n.resolve({$resources:r}),n.promise()},$save:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()},$delete:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()}}}}),define("syracuse-tablet/html/js/sdata/entities/test/testPropertyHideShow",["require","exports","module"],function(e,t,n){var r=[],i=!1;for(var s=0;s<10;s++)r.push({$uuid:s,propStringShow:"Simple String="+s,propStringHide:"Simple String="+s,propStringReadOnly:"ReadOnly String="+s,propStringDisabled:"Disabled=true String="+s,propStringDisabledFalse:"Disabled=false String="+s,propDate:"2014-03-"+(s+20),propDateHide:"2014-03-"+(s+20),propDateDisabled:"2014-03-"+(s+20),propDateReadOnly:"2014-03-"+(s+20),propDateTime:"2014-06-"+(s+10)+"T12:45:"+(s+44)+".123Z",propDateTimeHide:"2014-06-"+(s+10)+"T12:45:"+(s+44)+".123Z",propDateTimeDisabled:"2014-06-"+(s+10)+"T12:45:"+(s+44)+".123Z",propTime:"15:45:"+(s+34),propTimeHide:"15:45:"+(s+34),propTimeDisabled:"15:45:"+(s+34),propInt:s*1e3+s*10,propIntHide:s*1e3+s*10,propIntDisabled:s*1e3+s*10,propIntReadOnly:s*1e3+s*10,propDecimal:Math.sqrt(s*1e3+s*10),propDecimalHide:Math.sqrt(s*1e3+s*10),propDecimalDisabled:Math.sqrt(s*1e3+s*10),propDecimalReadOnly:Math.sqrt(s*1e3+s*10),propReal:Math.sqrt(s*1e3+s*30),propBoolean:i=!i,propBooleanHidden:i=!i,propBooleanDisabled:i=!i,propChoice:"mr",propChoiceHidden:"mr",propChoiceDisabled:"mr",propQuantity:s*123,propStringUnit:"EUR",propQuantityExcluded:s*123,propStringUnitExcluded:"USD"});t.entity={$entityName:"testPropertyHideShow",$properties:{propStringShow:{$type:"application/x-string",$isMandatory:!0,$title:"String Mandatory $isHidden: false",$isHidden:!1},propStringHide:{$type:"application/x-string",$isMandatory:!1,$title:"String $isHidden: true",$isHidden:!0},propStringReadOnly:{$type:"application/x-string",$title:"String $isReadOnly: true",$isReadOnly:!0},propStringDisabledFalse:{$type:"application/x-string",$title:"String $isDisabled: false",$isDisabled:!1},propStringDisabled:{$type:"application/x-string",$title:"String $isDisabled: true",$isDisabled:!0},propDate:{$type:"application/x-date",$isMandatory:!1,$title:"Date $isHidden: false",$isHidden:!1},propDateHide:{$type:"application/x-date",$isMandatory:!1,$title:"Date $isHidden: true",$isHidden:!0},propDateDisabled:{$type:"application/x-date",$isMandatory:!1,$title:"Date $isDisabled: true",$isDisabled:!0},propDateReadOnly:{$type:"application/x-date",$isMandatory:!1,$title:"Date $isReadOnly: true",$isReadOnly:!0},propDateTime:{$type:"application/x-datetime",$isMandatory:!1,$title:"Date+Time $isHidden: false",$isHidden:!1},propDateTimeHide:{$type:"application/x-datetime",$isMandatory:!1,$title:"Date+Time $isHidden: true",$isHidden:!0},propDateTimeDisabled:{$type:"application/x-datetime",$isMandatory:!1,$title:"Date+Time $isDisabled: true",$isDisabled:!0},propTime:{$type:"application/x-time",$isMandatory:!1,$title:"Time long",$format:"TT"},propTimeHide:{$type:"application/x-time",$isMandatory:!1,$title:"Time $isHidden: true",$isHidden:!0},propTimeDisabled:{$type:"application/x-time",$isMandatory:!1,$title:"Time $isDisabled: true",$isDisabled:!0},propInt:{$type:"application/x-integer",$isMandatory:!1,$title:"Integer ($isHidden: false)",$isHidden:!1},propIntHide:{$type:"application/x-integer",$isMandatory:!1,$title:"Integer ($isHidden: true)",$isHidden:!0},propIntDisabled:{$type:"application/x-integer",$isMandatory:!1,$title:"Integer ($isDisabled: true)",$isDisabled:!0},propIntReadOnly:{$type:"application/x-integer",$isMandatory:!1,$title:"Integer ($isReadOnly: true)",$isReadOnly:!0},propDecimal:{$type:"application/x-decimal",$isMandatory:!1,$title:"Decimal $isHidden: false",$isHidden:!1},propDecimalHide:{$type:"application/x-decimal",$isMandatory:!1,$title:"Decimal $isHidden: true",$isHidden:!0},propDecimalDisabled:{$type:"application/x-decimal",$isMandatory:!1,$title:"Decimal $isDisabled: true",$isDisabled:!0},propDecimalReadOnly:{$type:"application/x-decimal",$isMandatory:!1,$title:"Decimal $isReadOnly: true",$isReadOnly:!0},propReal:{$type:"application/x-real",$isMandatory:!1,$title:"Real"},propBoolean:{$type:"application/x-boolean",$isMandatory:!1,$title:"Boolean"},propBooleanHidden:{$type:"application/x-boolean",$isMandatory:!1,$title:"Boolean ($isHidden: true)",$isHidden:!0},propBooleanDisabled:{$type:"application/x-boolean",$isMandatory:!1,$title:"Boolean ($isDisabled: true)",$isDisabled:!0},propChoice:{$type:"application/x-choice",$isMandatory:!1,$title:"Choice",$value:{$enum:[{$title:"Mr.",$value:"mr"},{$title:"Mrs.",$value:"mrs"}],$type:"application/x-string"}},propChoiceHidden:{$type:"application/x-choice",$isMandatory:!1,$title:"Choice($isHidden: true)",$isHidden:!0,$value:{$enum:[{$title:"Mr.",$value:"mr"},{$title:"Mrs.",$value:"mrs"}],$type:"application/x-string"}},propChoiceDisabled:{$type:"application/x-choice",$isMandatory:!1,$title:"Choice ($isDisabled: true)",$isDisabled:!0,$value:{$enum:[{$title:"Mr.",$value:"mr"},{$title:"Mrs.",$value:"mrs"}],$type:"application/x-string"}},propQuantity:{$title:"Quantity ($unit $isExcluded: false)",$type:"application/x-quantity",$value:{$title:"{$value} {$unit}",$type:"application/x-decimal",$scale:9,$precision:2,$format:"0.00"},$unit:"propStringUnit"},propStringUnit:{$type:"application/x-string",$isMandatory:!1,$isExcluded:!1,$title:"Unit for quantity ($isExcluded: false)"},propQuantityExcluded:{$title:"Quantity($unit $isExcluded: true)",$type:"application/x-quantity",$value:{$title:"{$value} {$unit}",$type:"application/x-decimal",$scale:9,$precision:2,$format:"0.00"},$unit:"propStringUnitExcluded"},propStringUnitExcluded:{$type:"application/x-string",$isMandatory:!1,$isExcluded:!0,$title:"Unit for quantity ($isExcluded: true)"}},$relations:{},$articles:{},$services:{$new:function(e,t){var n=$.Deferred(),r=15,s={$uuid:r,propString:"Simple String="+r,propDate:"2014-03-"+r,propDateTime:"2014-06-"+r+"T12:45:"+(r+44)+".234Z",propTime:"15:45:"+(r+34),propInt:r*1e3+r*10,propDecimal:Math.sqrt(r*1e3+r*10),propReal:Math.sqrt(r*1e3+r*30),propBoolean:i=!i};return n.resolve(s),n.promise()},$read:function(e,t){var n=$.Deferred();return n.resolve(r[e.$key]),n.promise()},$query:function(e,t){var n=$.Deferred();return n.resolve({$resources:r}),n.promise()},$save:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()},$delete:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()}}}}),define("syracuse-tablet/html/js/sdata/entities/test/testHomeDashboard",["require","exports","module"],function(e,t,n){t.dashboards={testHomeDashboard:{$dashboardName:"testHomeDashboard",$title:"Main test dashboard",$description:"This dashboard links to different dashboards used for every kind of UI tests",$vignettes:{testLayoutsDashboard:{$uuid:"testLayoutsDashboard",$displayStyle:"$link"},testTypesDashboard:{$uuid:"testTypesDashboard",$displayStyle:"$link"},testTypesDashboard2:{$uuid:"testTypesDashboard2",$displayStyle:"$link"},testFormatsDashboard:{$uuid:"testFormatsDashboard",$displayStyle:"$link"},testGX3APPDashboard:{$uuid:"testGX3APPDashboard",$displayStyle:"$link"},testSUPERVDashboard:{$uuid:"testSUPERVDashboard",$displayStyle:"$link"},testChartsDashboard:{$uuid:"testChartsDashboard",$displayStyle:"$link"},testSUPERVDashboard2:{$uuid:"testSUPERVDashboard2",$displayStyle:"$link"},testGX3APPDashboard2:{$uuid:"testGX3APPDashboard2",$displayStyle:"$link"},testConstraintsDashboard:{$uuid:"testConstraintsDashboard",$displayStyle:"$link"},testContextDashboard:{$uuid:"testContextDashboard",$displayStyle:"$link"},testPropertyHideShowDashboard:{$uuid:"testPropertyHideShowDashboard",$displayStyle:"$link"}},$article:{$layoutType:"stack",$items:[{$layoutType:"row",displayOptions:{rowHeight:"150px"},$widthXs:"1,1,1,1,1,1,1,1",$items:[{$bind:"testLayoutsDashboard"},{$bind:"testTypesDashboard"},{$bind:"testTypesDashboard2"},{$bind:"testFormatsDashboard"},{$bind:"testChartsDashboard"},{$bind:"testConstraintsDashboard"},{$bind:"testContextDashboard"},{$bind:"testPropertyHideShowDashboard"}]},{$layoutType:"row",displayOptions:{rowHeight:"150px"},$widthXs:"2,2,2,2",$items:[{$bind:"testGX3APPDashboard"},{$bind:"testSUPERVDashboard"},{$bind:"testSUPERVDashboard2"},{$bind:"testGX3APPDashboard2"}]}]}}},t.gadgets={testLayoutsDashboard:{$type:"$dashboard",$title:"Layout tests",$description:"Layout tests",dashboardName:"testLayoutsDashboard"},testTypesDashboard:{$type:"$dashboard",$title:"Datatype tests",$description:"Datatype tests",dashboardName:"testTypesDashboard"},testTypesDashboard2:{$type:"$dashboard",$title:"Datatype AQTCRUD",$description:"Datatype AQTCRUD",dashboardName:"testTypesDashboard2"},testFormatsDashboard:{$type:"$dashboard",$title:"Formats tests",$description:"Formats tests",dashboardName:"testFormatsDashboard"},testGX3APPDashboard:{$type:"$dashboard",$title:"GX3APP tests",$description:"GX3APP tests",dashboardName:"testGX3APPDashboard"},testSUPERVDashboard:{$type:"$dashboard",$title:"SUPERV tests",$description:"SUPERV tests",dashboardName:"testSUPERVDashboard"},testChartsDashboard:{$type:"$dashboard",$title:"Charts tests",$description:"Charts tests",dashboardName:"testChartsDashboard"},testSUPERVDashboard2:{$type:"$dashboard",$title:"AQMCRUD default endpoint",$description:"AQMCRUD default endpoint",dashboardName:"testSUPERVDashboard2"},testGX3APPDashboard2:{$type:"$dashboard",$title:"GX3APP Cost",$description:"GX3APP Cost",dashboardName:"testGX3APPDashboard2"},testConstraintsDashboard:{$type:"$dashboard",$title:"SData constraints",$description:"SData constraints",dashboardName:"testConstraintsDashboard"},testContextDashboard:{$type:"$dashboard",$title:"Dashboard with context",$description:"Dashboard with context",dashboardName:"testContextDashboard"},testPropertyHideShowDashboard:{$type:"$dashboard",$title:"Dashboard PropertyHideShow",$description:"Dashboard PropertyHideShow",dashboardName:"testPropertyHideShowDashboard"}}}),define("syracuse-tablet/html/js/sdata/entities/test/testLayoutsDashboard",["require","exports","module"],function(e,t,n){t.dashboards={testLayoutsDashboard:{$dashboardName:"testLayoutsDashboard",$title:"Layout test dashboard",$description:"Test different kinds of layouts",$vignettes:{testLayoutHubDashboard:{$uuid:"testLayoutHubDashboard",$displayStyle:"$link"},testLayoutRowsDashboard:{$uuid:"testLayoutRowsDashboard",$displayStyle:"$link"},testLongQuery:{$uuid:"testLongQuery",$displayStyle:"$link"}},$article:{$layoutType:"stack",$items:[{$layoutType:"row",displayOptions:{rowHeight:"150px"},$widthXs:"2,2,2",$items:[{$bind:"testLayoutHubDashboard"},{$bind:"testLayoutRowsDashboard"},{$bind:"testLongQuery"}]}]}},testLayoutHubDashboard:{$dashboardName:"testLayoutHubDashboard",$title:"Hub dashboard (scroll horizontal)",$description:"Horizontal scrolling dashboard",$vignettes:{testDummyTile:{$uuid:"testDummyTile",$displayStyle:"$full"}},$article:{$layoutType:"hub",$items:[{$layoutType:"hubGroup",$title:"Layout group 1",$items:[{$bind:"testDummyTile",$size:"full"},{$bind:"testDummyTile",$size:"medium"},{$bind:"testDummyTile",$size:"small"},{$bind:"testDummyTile",$size:"small"},{$bind:"testDummyTile",$size:"small"},{$bind:"testDummyTile",$size:"wide"},{$bind:"testDummyTile",$size:"large"}]},{$layoutType:"hubGroup",$title:"Layout group 2",$items:[{$bind:"testDummyTile",$size:"medium"},{$bind:"testDummyTile",$size:"medium"},{$bind:"testDummyTile",$size:"medium"}]},{$layoutType:"hubGroup",$title:"Layout group 3",$items:[{$bind:"testDummyTile",$size:"wide"},{$bind:"testDummyTile",$size:"medium"},{$bind:"testDummyTile",$size:"medium"}]},{$layoutType:"hubGroup",$title:"Layout group 4",$items:[{$bind:"testDummyTile",$size:"large"},{$bind:"testDummyTile",$size:"medium"},{$bind:"testDummyTile",$size:"medium"}]},{$layoutType:"hubGroup",$title:"Layout group 5",$items:[{$bind:"testDummyTile",$size:"wide"},{$bind:"testDummyTile",$size:"full"},{$bind:"testDummyTile",$size:"small"},{$bind:"testDummyTile",$size:"small"},{$bind:"testDummyTile",$size:"small"},{$bind:"testDummyTile",$size:"small"},{$bind:"testDummyTile",$size:"small"}]}]}},testLayoutRowsDashboard:{$dashboardName:"testLayoutRowsDashboard",$title:"Row layout dashboard (scroll vertical)",$description:"Vertical scrolling dashboard",$vignettes:{testDummyTile:{$uuid:"testDummyTile",$displayStyle:"$full"},testDummyTileLink:{$uuid:"testDummyTile",$displayStyle:"$link"}},$article:{$layoutType:"stack",$items:[{$layoutType:"row",displayOptions:{rowHeight:"100px"},$widthLg:"3,3,3,3",$widthSm:"3,3,6,6",$widthXs:"12,12,12,12",$items:[{$bind:"testDummyTileLink"},{$bind:"testDummyTileLink"},{$bind:"testDummyTileLink"},{$bind:"testDummyTileLink"}]},{$layoutType:"row",displayOptions:{rowHeight:"200px"},$widthLg:"3,3,3,3",$widthSm:"4,4,4,12",$widthXs:"12,12,12,12",$items:[{$bind:"testDummyTile"},{$bind:"testDummyTile"},{$bind:"testDummyTile"},{$bind:"testDummyTile"}]}]}}},t.gadgets={testLayoutHubDashboard:{$type:"$dashboard",$title:"Hub Layout tests",$description:"Hub Layout tests",dashboardName:"testLayoutHubDashboard"},testLayoutRowsDashboard:{$type:"$dashboard",$title:"Rows Layout tests",$description:"Rows Layout tests",dashboardName:"testLayoutRowsDashboard"},testDummyTile:{$type:"$representation",$title:"Dummy",$description:"Dummy",entity:"example",action:"$details",representation:"example",facet:"$details",keyParameter:"5"},testLongQuery:{$type:"$representation",$title:"Long query",$description:"Query",entity:"example",action:"$query",representation:"example",facet:"$query"}}}),define("syracuse-tablet/html/js/sdata/entities/test/testTypesDashboard",["require","exports","module"],function(e,t,n){t.dashboards={testTypesDashboard:{$dashboardName:"testTypesDashboard",$title:"Datatypes test dashboard",$description:"Test different kinds of datatypes",$vignettes:{testLinkQueryRecord:{$uuid:"testDisplayQueryRecord",$displayStyle:"$link"},testLinkDetailsRecord:{$uuid:"testDisplayDetailsRecord",$displayStyle:"$link"},testLinkEditRecord:{$uuid:"testDisplayEditRecord",$displayStyle:"$link"},testLinkCreateRecord:{$uuid:"testDisplayCreateRecord",$displayStyle:"$link"},testDisplayQueryRecord:{$uuid:"testDisplayQueryRecord",$displayStyle:"$full"},testDisplayDetailsRecord:{$uuid:"testDisplayDetailsRecord",$displayStyle:"$full"},testDisplayEditRecord:{$uuid:"testDisplayEditRecord",$displayStyle:"$full"},testDisplayCreateRecord:{$uuid:"testDisplayCreateRecord",$displayStyle:"$full"}},$article:{$layoutType:"stack",$items:[{$layoutType:"row",displayOptions:{rowHeight:"100px"},$widthXs:"3,3,3,3",$items:[{$bind:"testLinkQueryRecord"},{$bind:"testLinkDetailsRecord"},{$bind:"testLinkEditRecord"},{$bind:"testLinkCreateRecord"}]},{$layoutType:"row",displayOptions:{rowHeight:"300px"},$widthLg:"3,3,3,3",$widthSm:"6,6,6,6",$widthXs:"12,12,12,12",$items:[{$bind:"testDisplayQueryRecord"},{$bind:"testDisplayDetailsRecord"},{$bind:"testDisplayEditRecord"},{$bind:"testDisplayCreateRecord"}]}]}}},t.gadgets={testDisplayDetailsRecord:{$type:"$representation",$title:"Details facet",entity:"testDataTypes",action:"$details",representation:"testDataTypes",facet:"$details",keyParameter:"5"},testDisplayEditRecord:{$type:"$representation",$title:"Edit facet",entity:"testDataTypes",action:"$edit",representation:"testDataTypes",facet:"$edit",keyParameter:"5"},testDisplayCreateRecord:{$type:"$representation",$title:"Create facet",entity:"testDataTypes",action:"$create",representation:"testDataTypes",facet:"$create",keyParameter:"5"},testDisplayQueryRecord:{$type:"$representation",$title:"Query facet",entity:"testDataTypes",action:"$query",representation:"testDataTypes",facet:"$query",keyParameter:"5"}}}),define("syracuse-tablet/html/js/sdata/entities/test/testTypesDashboard2",["require","exports","module"],function(e,t,n){t.dashboards={testTypesDashboard2:{$dashboardName:"testTypesDashboard2",$title:"AQTCRUD default endpoint",$description:"AQTCRUD Representation",$vignettes:{testLinkQueryRecord2:{$uuid:"testDisplayQueryRecord2",$displayStyle:"$link"},testLinkDetailsRecord2:{$uuid:"testDisplayDetailsRecord2",$displayStyle:"$link"},testLinkEditRecord2:{$uuid:"testDisplayEditRecord2",$displayStyle:"$link"},testLinkCreateRecord2:{$uuid:"testDisplayCreateRecord2",$displayStyle:"$link"},testDisplayQueryRecord2:{$uuid:"testDisplayQueryRecord2",$displayStyle:"$full"},testDisplayDetailsRecord2:{$uuid:"testDisplayDetailsRecord2",$displayStyle:"$full"},testDisplayEditRecord2:{$uuid:"testDisplayEditRecord2",$displayStyle:"$full"},testDisplayCreateRecord2:{$uuid:"testDisplayCreateRecord2",$displayStyle:"$full"}},$article:{$layoutType:"stack",$items:[{$layoutType:"row",displayOptions:{rowHeight:"100px"},$widthXs:"3,3,3,3",$items:[{$bind:"testLinkQueryRecord2"},{$bind:"testLinkDetailsRecord2"},{$bind:"testLinkEditRecord2"},{$bind:"testLinkCreateRecord2"}]},{$layoutType:"row",displayOptions:{rowHeight:"300px"},$widthLg:"3,3,3,3",$widthSm:"6,6,6,6",$widthXs:"12,12,12,12",$items:[{$bind:"testDisplayQueryRecord2"},{$bind:"testDisplayDetailsRecord2"},{$bind:"testDisplayEditRecord2"},{$bind:"testDisplayCreateRecord2"}]}]}}},t.gadgets={testDisplayDetailsRecord2:{$type:"$representation",$title:"Details facet",entity:"AQTCRUD",action:"$details",representation:"AQTCRUD",facet:"$details",keyParameter:"10"},testDisplayEditRecord2:{$type:"$representation",$title:"Edit facet",entity:"AQTCRUD",action:"$edit",representation:"AQTCRUD",facet:"$edit",keyParameter:"10"},testDisplayCreateRecord2:{$type:"$representation",$title:"Create facet",entity:"AQTCRUD",action:"$create",representation:"AQTCRUD",facet:"$create"},testDisplayQueryRecord2:{$type:"$representation",$title:"Query facet",entity:"AQTCRUD",action:"$query",representation:"AQTCRUD",facet:"$query"}}}),define("syracuse-tablet/html/js/sdata/entities/test/testFormatsDashboard",["require","exports","module"],function(e,t,n){t.dashboards={testFormatsDashboard:{$dashboardName:"testFormatsDashboard",$title:"Formatting test dashboard",$description:"Test different kinds of formats",$vignettes:{testFormatEditRecord:{$uuid:"testFormatEditRecord",$displayStyle:"$full"}},$article:{$layoutType:"stack",$items:[{$layoutType:"row",displayOptions:{rowHeight:"500px"},$widthXs:"6",$items:[{$bind:"testFormatEditRecord"}]}]}}},t.gadgets={testFormatEditRecord:{$type:"$representation",$title:"Details facet",entity:"testFormats",action:"$edit",representation:"testFormats",facet:"$edit",keyParameter:"5"}}}),define("syracuse-tablet/html/js/sdata/entities/test/testGX3APPDashboard",["require","exports","module"],function(e,t,n){t.dashboards={testGX3APPDashboard:{$dashboardName:"testGX3APPDashboard",$title:"Display data from GX3APP",$description:"Test different representations on GX3APP",$vignettes:{testACTIVQuery:{$uuid:"testACTIVQuery",$displayStyle:"$full"},testRequestVEN085:{$uuid:"testRequestVEN085",$displayStyle:"$full"}},$article:{$layoutType:"hub",$items:[{$layoutType:"hubGroup",$title:"Some data...",$items:[{$bind:"testACTIVQuery",$size:"full"}]},{$layoutType:"hubGroup",$title:"Some fancy chart",$items:[{$bind:"testRequestVEN085",$size:"large"}]}]}}},t.gadgets={testACTIVQuery:{$type:"$representation",$title:"Query ACTIV",entity:"ACTIV",action:"$query",representation:"ACTIV",endpoint:"x3.erp.GX3APP",facet:"$query"},testRequestVEN085:{$type:"$request",$title:"Request VEN085",requestName:"VEN085",requestLevel:"1",action:"$query",endpoint:"x3.erp.GX3APP",facet:"$query"}}}),define("syracuse-tablet/html/js/sdata/entities/test/testSUPERVDashboard",["require","exports","module"],function(e,t,n){t.dashboards={testSUPERVDashboard:{$dashboardName:"testSUPERVDashboard",$title:"Display Query AQMCRUDM from SUPERV",$description:"Test different representations on SUPERV",$vignettes:{testAQMDEVICEQuery:{$uuid:"testAQMDEVICEQuery",$displayStyle:"$full"},testAQMDEVICEQueryLink:{$uuid:"testAQMDEVICEQuery",$displayStyle:"$link"}},$article:{$layoutType:"stack",$items:[{$layoutType:"row",displayOptions:{rowHeight:"500px"},$widthXs:"6,1",$items:[{$bind:"testAQMDEVICEQuery"},{$bind:"testAQMDEVICEQueryLink"}]}]}}},t.gadgets={testAQMDEVICEQuery:{$type:"$representation",$title:"Query AQMCRUDM",entity:"AQMDEVICE",action:"$query",representation:"AQMCRUDM",endpoint:"x3.erp.SUPERV",facet:"$query"}}}),define("syracuse-tablet/html/js/sdata/entities/test/testChartsDashboard",["require","exports","module"],function(e,t,n){t.dashboards={testChartsDashboard:{$dashboardName:"testChartsDashboard",$title:"Display some charts",$description:"Test different kind of charts",$vignettes:{testRequestChart:{$uuid:"testRequestChart",$displayStyle:"$full"}},$article:{$layoutType:"hub",$items:[{$layoutType:"hubGroup",$title:"Big chart (!)",$items:[{$bind:"testRequestChart",$size:"full",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$isTitleHidden:!0,$style:"bar"}]}},{$bind:"testRequestChart",$size:"large",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$isTitleHidden:!0,$style:"bar"}]}}]},{$layoutType:"hubGroup",$title:"Bar charts",$items:[{$bind:"testRequestChart",$size:"large",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$isTitleHidden:!0,$style:"stick"}]}},{$bind:"testRequestChart",$size:"large",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$isTitleHidden:!0,$style:"bar"}]}}]},{$layoutType:"hubGroup",$title:"Line charts",$items:[{$bind:"testRequestChart",$size:"large",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$isTitleHidden:!0,$style:"line"}]}},{$bind:"testRequestChart",$size:"large",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$isTitleHidden:!0,$style:"area"}]}}]},{$layoutType:"hubGroup",$title:"Spline charts",$items:[{$bind:"testRequestChart",$size:"large",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$isTitleHidden:!0,$style:"spline"}]}},{$bind:"testRequestChart",$size:"large",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$isTitleHidden:!0,$style:"areaspline"}]}}]},{$layoutType:"hubGroup",$title:"Pie chart",$items:[{$bind:"testRequestChart",$size:"large",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$isTitleHidden:!0,$style:"pie"}]}}]},{$layoutType:"hubGroup",$title:"Test different sizes/legends",$items:[{$bind:"testRequestChart",$size:"large",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$isTitleHidden:!0,$isLegendHidden:!1,$style:"line"}]}},{$bind:"testRequestChart",$size:"large",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$isTitleHidden:!0,$isLegendHidden:!0,$style:"line"}]}},{$bind:"testRequestChart",$size:"wide",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$isTitleHidden:!0,$isLegendHidden:!0,$isXLabelHidden:!0,$isYLabelHidden:!0,$isXLabelsHidden:!0,$isYLabelsHidden:!0,$style:"line"}]}},{$bind:"testRequestChart",$size:"medium",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$isTitleHidden:!0,$isLegendHidden:!0,$isXLabelHidden:!0,$isYLabelHidden:!0,$isXLabelsHidden:!0,$isYLabelsHidden:!0,$style:"bar"}]}}]}]}}},t.gadgets={testRequestChart:{$type:"$request",$title:"Request test",requestName:"testCharts",requestLevel:"1",action:"$query",facet:"$query"}}}),define("syracuse-tablet/html/js/sdata/entities/test/testSUPERVDashboard2",["require","exports","module"],function(e,t,n){t.dashboards={testSUPERVDashboard2:{$dashboardName:"testSUPERVDashboard2",$title:"AQMCRUD default endpoint",$description:"Test representation AQMCRUD",$vignettes:{testAQTCRUDQuery:{$uuid:"testAQTCRUDQuery",$displayStyle:"$full"},testAQTCRUDQueryLink:{$uuid:"testAQTCRUDQuery",$displayStyle:"$link"}},$article:{$layoutType:"stack",$items:[{$layoutType:"row",displayOptions:{rowHeight:"500px"},$widthXs:"6,1",$items:[{$bind:"testAQTCRUDQuery"},{$bind:"testAQTCRUDQueryLink"}]}]}}},t.gadgets={testAQTCRUDQuery:{$type:"$representation",$title:"Query AQMCRUD",entity:"AQMCRUD",action:"$query",representation:"AQMCRUD",facet:"$query"},testAQTCRUDQueryLink:{$type:"$representation",$title:"Query 10 AQMCRUD",requestName:"10",requestLevel:"1",action:"$query",facet:"$query"}}}),define("syracuse-tablet/html/js/sdata/entities/test/testGX3APPDashboard2",["require","exports","module"],function(e,t,n){t.dashboards={testGX3APPDashboard2:{$dashboardName:"testGX3APPDashboard2",$title:"Display data from GX3APP",$description:"Test PRPCOSTCTR representation on GX3APP",$vignettes:{testPRPCOSTCTRQuery:{$uuid:"testPRPCOSTCTRQuery",$displayStyle:"$full"}},$article:{$layoutType:"hub",$items:[{$layoutType:"hubGroup",$title:"Some data Spending cost...",$items:[{$bind:"testPRPCOSTCTRQuery",$size:"full"}]}]}}},t.gadgets={testPRPCOSTCTRQuery:{$type:"$representation",$title:"Query PRPCOSTCTR",entity:"PRPCOSTCTR",action:"$query",representation:"PRPCOSTCTR",endpoint:"x3.erp.GX3APP",facet:"$query"}}}),define("syracuse-tablet/html/js/sdata/entities/test/testConstraintsDashboard",["require","exports","module"],function(e,t,n){t.dashboards={testConstraintsDashboard:{$dashboardName:"testConstraintsDashboard",$title:"Constraints test dashboard",$description:"Test SData constraints: https://github.com/Sage-ERP-X3/platform/wiki/Resource-Prototypes#type-constraints",$vignettes:{testConstraintsEditRecord:{$uuid:"testConstraintsEditRecord",$displayStyle:"$full"}},$article:{$layoutType:"stack",$items:[{$layoutType:"row",displayOptions:{rowHeight:"500px"},$widthXs:"12",$items:[{$bind:"testConstraintsEditRecord"}]}]}}},t.gadgets={testConstraintsEditRecord:{$type:"$representation",$title:"Edit facet",entity:"testConstraints",action:"$edit",representation:"testConstraints",facet:"$edit",keyParameter:"5"}}}),define("syracuse-tablet/html/js/sdata/entities/test/testNavigateToDashboard",["require","exports","module"],function(e,t,n){t.dashboards={testContextDashboard:{$dashboardName:"testContextDashboard",$title:"Test dashboard parameters",$description:"Test navigation to a dashboard with parameters",$vignettes:{testRecordLinkToDashboard:{$uuid:"testRecordLinkToDashboard",$displayStyle:"$full"},testRecordLinkToDashboardSUPERV:{$uuid:"testRecordLinkToDashboardSUPERV",$displayStyle:"$full"}},$article:{$layoutType:"stack",$items:[{$layoutType:"row",displayOptions:{rowHeight:"300px"},$widthXs:"6, 6",$items:[{$bind:"testRecordLinkToDashboard"},{$bind:"testRecordLinkToDashboardSUPERV"}]}]}},testContextDashboardChild:{$dashboardName:"testContextDashboardChild",$title:"Child dashboard",$description:"Child dashboard getting parameters that are applied to the first to vignettes but not to the last one using the same representation to gather data",$vignettes:{testRecordWithContext1:{$uuid:"testRecordWithContext",$displayStyle:"$full"},testRecordWithContext2:{$uuid:"testRecordWithContext",$displayStyle:"$full"},testRecordWithoutContext:{$uuid:"testRecordWithoutContext",$displayStyle:"$full"}},$article:{$layoutType:"stack",$items:[{$layoutType:"row",displayOptions:{rowHeight:"500px"},$widthXs:"4,4,4",$items:[{$bind:"testRecordWithContext1"},{$bind:"testRecordWithContext2"},{$bind:"testRecordWithoutContext"}]}]}},testContextDashboardChildSUPERV:{$dashboardName:"testContextDashboardChildSUPERV",$title:"Child dashboard",$description:"Child dashboard getting parameters",$vignettes:{testRecordWithContextSUPERV:{$uuid:"testRecordWithContextSUPERV",$displayStyle:"$full"}},$article:{$layoutType:"stack",$items:[{$layoutType:"row",displayOptions:{rowHeight:"300px"},$widthXs:"12",$items:[{$bind:"testRecordWithContextSUPERV"}]}]}}},t.gadgets={testRecordLinkToDashboard:{$type:"$representation",$title:"Click to navigate",entity:"testNavigateTo",action:"$query",representation:"testNavigateTo",facet:"$query"},testRecordWithContext:{$type:"$representation",$title:"Click to navigate",entity:"testNavigateToChild",action:"$query",representation:"testNavigateToChild",facet:"$query",parameters:{where:{value:"group eq '{group}'"}}},testRecordWithoutContext:{$type:"$representation",$title:"Click to navigate",entity:"testNavigateToChild",action:"$query",representation:"testNavigateToChild",facet:"$query"},testRecordLinkToDashboardSUPERV:{$type:"$representation",$title:"Click to navigate",entity:"AQMDEVICEM",action:"$query",representation:"AQMDEVICEM",facet:"$query",endpoint:"x3.erp.SUPERV"},testRecordWithContextSUPERV:{$type:"$representation",$title:"Click to navigate",entity:"AQMDEVICEM",action:"$query",representation:"AQMDEVICEM",facet:"$query",endpoint:"x3.erp.SUPERV",parameters:{where:{value:"CODE eq {CODE}"}}}}}),define("syracuse-tablet/html/js/sdata/entities/test/testPropertyHideShowDashboard",["require","exports","module"],function(e,t,n){t.dashboards={testPropertyHideShowDashboard:{$dashboardName:"testPropertyHideShowDashboard",$title:"PropertyHideShow test dashboard",$description:"Test different kinds of PropertyHideShow",$vignettes:{testLinkQueryRecordHS:{$uuid:"testDisplayQueryRecordHS",$displayStyle:"$link"},testLinkDetailsRecordHS:{$uuid:"testDisplayDetailsRecordHS",$displayStyle:"$link"},testLinkEditRecordHS:{$uuid:"testDisplayEditRecordHS",$displayStyle:"$link"},testLinkCreateRecordHS:{$uuid:"testDisplayCreateRecordHS",$displayStyle:"$link"},testDisplayQueryRecordHS:{$uuid:"testDisplayQueryRecordHS",$displayStyle:"$full"},testDisplayDetailsRecordHS:{$uuid:"testDisplayDetailsRecordHS",$displayStyle:"$full"},testDisplayEditRecordHS:{$uuid:"testDisplayEditRecordHS",$displayStyle:"$full"},testDisplayCreateRecordHS:{$uuid:"testDisplayCreateRecordHS",$displayStyle:"$full"}},$article:{$layoutType:"stack",$items:[{$layoutType:"row",displayOptions:{rowHeight:"100px"},$widthXs:"3,3,3,3",$items:[{$bind:"testLinkQueryRecordHS"},{$bind:"testLinkDetailsRecordHS"},{$bind:"testLinkEditRecordHS"},{$bind:"testLinkCreateRecordHS"}]},{$layoutType:"row",displayOptions:{rowHeight:"300px"},$widthLg:"3,3,3,3",$widthSm:"6,6,6,6",$widthXs:"12,12,12,12",$items:[{$bind:"testDisplayQueryRecordHS"},{$bind:"testDisplayDetailsRecordHS"},{$bind:"testDisplayEditRecordHS"},{$bind:"testDisplayCreateRecordHS"}]}]}}},t.gadgets={testDisplayDetailsRecordHS:{$type:"$representation",$title:"Details facet",entity:"testPropertyHideShow",action:"$details",representation:"testPropertyHideShow",facet:"$details",keyParameter:"5"},testDisplayEditRecordHS:{$type:"$representation",$title:"Edit facet",entity:"testPropertyHideShow",action:"$edit",representation:"testPropertyHideShow",facet:"$edit",keyParameter:"5"},testDisplayCreateRecordHS:{$type:"$representation",$title:"Create facet",entity:"testPropertyHideShow",action:"$create",representation:"testPropertyHideShow",facet:"$create",keyParameter:"5"},testDisplayQueryRecordHS:{$type:"$representation",$title:"Query facet",entity:"testPropertyHideShow",action:"$query",representation:"testPropertyHideShow",facet:"$query",keyParameter:"5"}}}),define("syracuse-tablet/html/js/sdata/entities/test/testApplication",["require","exports","module","syracuse-tablet/html/js/sdata/entities/clientContract","syracuse-tablet/html/js/sdata/entities/test/example","syracuse-tablet/html/js/sdata/entities/test/testDatatypes","syracuse-tablet/html/js/sdata/entities/test/testFormats","syracuse-tablet/html/js/sdata/entities/test/testCharts","syracuse-tablet/html/js/sdata/entities/test/testConstraints","syracuse-tablet/html/js/sdata/entities/test/testNavigateTo","syracuse-tablet/html/js/sdata/entities/test/testNavigateToChild","syracuse-tablet/html/js/sdata/entities/test/testPropertyHideShow","syracuse-tablet/html/js/sdata/entities/test/testHomeDashboard","syracuse-tablet/html/js/sdata/entities/test/testLayoutsDashboard","syracuse-tablet/html/js/sdata/entities/test/testTypesDashboard","syracuse-tablet/html/js/sdata/entities/test/testTypesDashboard2","syracuse-tablet/html/js/sdata/entities/test/testFormatsDashboard","syracuse-tablet/html/js/sdata/entities/test/testGX3APPDashboard","syracuse-tablet/html/js/sdata/entities/test/testSUPERVDashboard","syracuse-tablet/html/js/sdata/entities/test/testChartsDashboard","syracuse-tablet/html/js/sdata/entities/test/testSUPERVDashboard2","syracuse-tablet/html/js/sdata/entities/test/testGX3APPDashboard2","syracuse-tablet/html/js/sdata/entities/test/testConstraintsDashboard","syracuse-tablet/html/js/sdata/entities/test/testNavigateToDashboard","syracuse-tablet/html/js/sdata/entities/test/testPropertyHideShowDashboard"],function(e,t,n){function C(e){e.gadgets&&Object.keys(e.gadgets).forEach(function(t){N.$gadgets[t]&&console.log("Duplicate gadget name: "+t),N.$gadgets[t]=e.gadgets[t]}),e.dashboards&&Object.keys(e.dashboards).forEach(function(t){N.$dashboards[t]&&console.log("Duplicate dashboard name: "+t),N.$dashboards[t]=e.dashboards[t]})}var r=e("syracuse-tablet/html/js/sdata/entities/clientContract"),i=e("syracuse-tablet/html/js/sdata/entities/test/example"),s=e("syracuse-tablet/html/js/sdata/entities/test/testDatatypes"),o=e("syracuse-tablet/html/js/sdata/entities/test/testFormats"),u=e("syracuse-tablet/html/js/sdata/entities/test/testCharts"),a=e("syracuse-tablet/html/js/sdata/entities/test/testConstraints"),f=e("syracuse-tablet/html/js/sdata/entities/test/testNavigateTo"),l=e("syracuse-tablet/html/js/sdata/entities/test/testNavigateToChild"),c=e("syracuse-tablet/html/js/sdata/entities/test/testPropertyHideShow"),h=e("syracuse-tablet/html/js/sdata/entities/test/testHomeDashboard"),p=e("syracuse-tablet/html/js/sdata/entities/test/testLayoutsDashboard"),d=e("syracuse-tablet/html/js/sdata/entities/test/testTypesDashboard"),v=e("syracuse-tablet/html/js/sdata/entities/test/testTypesDashboard2"),m=e("syracuse-tablet/html/js/sdata/entities/test/testFormatsDashboard"),g=e("syracuse-tablet/html/js/sdata/entities/test/testGX3APPDashboard"),y=e("syracuse-tablet/html/js/sdata/entities/test/testSUPERVDashboard"),b=e("syracuse-tablet/html/js/sdata/entities/test/testChartsDashboard"),w=e("syracuse-tablet/html/js/sdata/entities/test/testSUPERVDashboard2"),E=e("syracuse-tablet/html/js/sdata/entities/test/testGX3APPDashboard2"),S=e("syracuse-tablet/html/js/sdata/entities/test/testConstraintsDashboard"),x=e("syracuse-tablet/html/js/sdata/entities/test/testNavigateToDashboard"),T=e("syracuse-tablet/html/js/sdata/entities/test/testPropertyHideShowDashboard"),N={$application:{$uuid:"clientTestApplication",applicationName:"clientTestApplication",title:"Client test application",description:"Application for testing client features without server dependencies",$homeDashboard:{$uuid:"testHomeDashboard",dashboardName:"testHomeDashboard"}},$dashboards:{},$gadgets:{}};t.register=function(){r.registerEntity(i.entity),r.registerEntity(s.entity),r.registerEntity(o.entity),r.registerEntity(u.entity),r.registerEntity(a.entity),r.registerEntity(f.entity),r.registerEntity(l.entity),r.registerEntity(c.entity),C(h),C(p),C(d),C(v),C(m),C(g),C(y),C(b),C(w),C(E),C(S),C(x),C(T),r.registerApp(N)}}),define("syracuse-tablet/html/js/init/initModules",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/application/appFactory","syracuse-tablet/html/js/application/appFactoryDeps","syracuse-tablet/html/js/controls/ctrlFactoryDeps","syracuse-tablet/html/js/ajax/ajax","syracuse-tablet/html/js/storage/storage","syracuse-tablet/html/js/sdata/sdataCache","syracuse-tablet/html/js/helpers/templating","syracuse-tablet/html/js/sdata/entities/test/testApplication"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/logger").getLogger("main"),s=e("syracuse-tablet/html/js/helpers/globals"),o=e("syracuse-tablet/html/js/application/appFactory"),u=e("syracuse-tablet/html/js/application/appFactoryDeps"),a=e("syracuse-tablet/html/js/controls/ctrlFactoryDeps"),f=e("syracuse-tablet/html/js/ajax/ajax"),l=e("syracuse-tablet/html/js/storage/storage"),c=e("syracuse-tablet/html/js/sdata/sdataCache"),h=e("syracuse-tablet/html/js/helpers/templating"),p=e("syracuse-tablet/html/js/sdata/entities/test/testApplication");t.init=function(){var e,t,n=new $.Deferred;return e=l.getStorage(),e.init().then(function(){t=new c.SDataCache(e)}).then(function(){s.init(!0,e,t,r);var n="/html";h.setTmplRoot(n)}).then(function(){return u.init()}).then(function(){return a.init()}).then(function(){return h.init()}).then(function(){f.init()}).then(function(){s.isDvlpMode()&&p.register()}).then(function(){var e=o.createApplication($("#s-m-app-id"));s.setApplication(e)}).then(function(){n.resolve()},function(e){n.reject(e)}),n.promise()}}),define("syracuse-tablet/html/js/init/initLogin",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/application/authentication","syracuse-tablet/html/js/ui/modal","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/helpers/notifications","syracuse-tablet/html/js/sdata/sdataCommonResources","syracuse-tablet/html/js/init/initContext"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/ui/uiUtils"),s=e("syracuse-tablet/html/js/helpers/locale"),o=e("syracuse-tablet/html/js/application/authentication"),u=e("syracuse-tablet/html/js/ui/modal"),a=e("syracuse-tablet/html/js/helpers/globals"),f=e("syracuse-tablet/html/js/helpers/logger").getLogger("main"),l=e("syracuse-tablet/html/js/helpers/notifications"),c=e("syracuse-tablet/html/js/sdata/sdataCommonResources"),h=e("syracuse-tablet/html/js/init/initContext"),p=function(e){var t=a.getApplication();t&&t.changePage("login",{reason:e})},d={notifLogin:function(e){var t={$user:e.user.$value,$role:e.selectedRole.code,$lang:e.selectedLocale.code};a.setUserCtx(t),s.setUserLocales(e&&e.user&&e.user.locales),h.init(!1,!1).then(function(e){})}};t.init=function(){l.subscribe(d,["sm.login"],1);try{return i.waitWheelStart(),o.check().then(function(e){return e.authenticated===!0?c.getUserProfile():null}).then(function(e){return i.waitWheelStop(),e?l.publish("sm.login",e):p("Please enter your credentials"),$.smResolve()},function(e){i.waitWheelStop(),o.logout().then(function(){p("Please try login again")})})}catch(e){return p("Javascript exception"),$.smResolve()}}}),define("syracuse-tablet/html/js/main",["require","exports","module","syracuse-tablet/html/js/ui/modal","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/init/initStyles","syracuse-tablet/html/js/init/initLocale","syracuse-tablet/html/js/init/initModules","syracuse-tablet/html/js/init/initLogin"],function(e,t,n){function c(){return u.init().then(function(){return a.init()}).then(function(){return f.init()}).then(function(){return l.init()},function(e){try{r.error("_startup error",e)}catch(t){o.alertError(e)}})}var r=e("syracuse-tablet/html/js/ui/modal"),i=e("syracuse-tablet/html/js/ui/uiUtils"),s=e("syracuse-tablet/html/js/helpers/globals"),o=e("syracuse-tablet/html/js/helpers/utils"),u=e("syracuse-tablet/html/js/init/initStyles"),a=e("syracuse-tablet/html/js/init/initLocale"),f=e("syracuse-tablet/html/js/init/initModules"),l=e("syracuse-tablet/html/js/init/initLogin");window.onerror=function(e,t,n,u){s.application?s.application.waitWheelStop():i.waitWheelStop();try{r.error("Javascript error",{where:"window.onerror",exception:u,message:e+"\n"+(t?"Url : "+o.cleanStack(t)+"\nLineNumber : "+n:"")})}catch(a){var f=e+"\n"+(u?+JSON.stringify(u,null,2):t?"Url : "+t+"\nLineNumber : "+n:"");alert(f)}},$(document).ready(function(){document.location.href.indexOf("?circular")>-1?xrayquire.showCycles(undefined,!0):c()})});