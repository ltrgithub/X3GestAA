"use strict";
define("syracuse-tablet/html/js/ui/uiUtils",["require","exports","module"],function(e,t,n){var r=function(e){if(e)while(e.firstChild)e.removeChild(e.firstChild)},i=function(e,t,n){if(e){var r=e.className;n?r.indexOf(t)<0&&(e.className=r+(" "+t)):e.className=r.replace(t,"")}},s={className:"waiting-circles",elements:8,radius:30,auto:!0},o=null,u=function(e,t){e==null&&(o==null&&(o=a($(document.body))),e=o),t?(e.$$bckg.show(),l(e.$$wheel,"enable")):(e.$$bckg.hide(),l(e.$$wheel,"disable"))},a=function(e,t){var n={$$bckg:$('<div class="waiting-background" style="display:none;z-index:2000"></div>'),$$wheel:$('<div class="waiting-wheel"  style="display:none;z-index:2000"></div>')};return n.$$bckg.appendTo(e),n.$$wheel.appendTo(e),c(n.$$wheel,s),n},f=function(e){e&&e.data("waiting")&&(e.waiting("destroy"),e.remove())},l=function(e,t){e&&e.data("waiting")&&(e.waiting(t),e[t==="disable"?"hide":"show"]())},c=function(e,t){if(!t)throw new Error("opts is mandatory");return e&&e.waiting(t),e},h=function(e){e&&(f(e.$$wheel),e.$$bckg&&e.$$bckg.remove())},p=function(e,t,n,r,i){if(!e)throw new Error("tag parameter is necessary !");var s=document.createElement(e);if(t)if($.isArray(t))$.each(t,function(e,n){s.className+=n+(e==t.length-1?"":" ")});else{if(typeof t!="string")throw new Error("classList parameter must be an array or a string");s.className+=t}return s.textContent=n?n:"",r&&$.each(r,function(e,t){s.setAttribute(e,t)}),i&&(i.jquery?i=i.append(s):i.appendChild(s)),s},d=function(e,t){if(!e)return;var n=document.createTextNode(t||"");return e.jquery?e=e.append(n):e.appendChild(n),e},v=function(e,t){$.each(e,function(e,n){var r=p(e,n.classList,n.textContent,n.attr,t);n.children&&$.each(n.children,function(e,t){v(t,r)})})};t.empty=r,t.toggleClass=i,t.waitWheelStart=function(e){u(e,!0)},t.waitWheelStop=function(e){u(e,!1)},t.waitWheelCreate=a,t.waitWheelDestroy=h,t.waitPluginDestroy=f,t.waitPluginCreate=c,t.waitPluginDisable=function(e){l(e,"disable")},t.waitPluginEnable=function(e){l(e,"enable")},t.createDomElement=p,t.buildDom=v,t.appendTextNode=d,t.triggerResizeInternal=function(e){$(window).triggerHandler("resizeInternal",[e])}}),define("syracuse-tablet/html/js/helpers/winjs",["require","exports","module"],function(e,t,n){var r={},i=0,s=function(e){if(!e)return;var t;try{t=JSON.parse(e)}catch(n){return}if(!t.$uuid)return;var i=r[t.$uuid];if(!i)return;delete r[t.$uuid];if(!i.$deferred)return;t.$error?i.$deferred.reject(t.$error):i.$deferred.resolve(t.$data)},o=function(e,t,n,s){var o=$.Deferred();if(u()){i+=1;var a={$domain:e,$funcName:t,$uuid:""+i,$data:n,$execCallback:!s},f=JSON.stringify(a),l;s!==!0&&(l={$uuid:a.$uuid,$deferred:o},r[l.$uuid]=l),window.external.notify(f),s===!0&&o.resolve()}else o.reject({$message:"No WinJS container"});return o.promise()},u=function(){try{return"notify"in window.external}catch(e){return!1}};window&&(window.winjsCallbackHook=s),t.callWinJS=o,t.isAvailable=u}),define("syracuse-tablet/html/js/helpers/jsutils",["require","exports","module"],function(e,t,n){var r=function(e,t){var n=e.constructor;return n&&n.$smClasses?n.$smClasses.indexOf(t)>-1:!1},i=function(e){function n(e){var r=e&&e.constructor&&e.constructor.name;if(r&&r!=="Object"){t.push(r);var i=e.constructor.prototype&&e.constructor.prototype.__proto__;i&&n(i)}}var t=[];e.name&&(t.push(e.name),n(e.prototype.__proto__),e.$smClasses=t)},s=function(e){return e&&Error.prototype.toString===e.toString},o,u=function(e,t,n){if(Array.isArray(e))return e;var r=window.$sm;if(!r)return e;!o&&r&&r.baseLocation()&&(o={r1:new RegExp(r.baseLocation().withPath,"g"),r2:new RegExp(r.baseLocation().requirePath,"g")}),t=t==null?5:t;if(e){var i=e.split&&e.split("\n")||e,s;i.length>0&&i.forEach(function(e){var t=e.lastIndexOf(".js");if(t>0){var n=e.lastIndexOf("/",t);t>0&&(s||(s=[]),s.push(e.substring(n)))}}),!s&&o?e=o?e.replace(o.r1,"").replace(o.r2,""):e:e=s.join("\n")}else e="";return e=e.split("\n"),e.length>t&&(e=e.splice(0,t).join(n?"<br>&nbsp&nbsp&nbsp&nbsp&nbsp":"\n")),e},a=function(e,t){if(t==null)return{$diagnoses:[{$severity:"error",$message:e}]};if(typeof t=="string")return{$diagnoses:[{$severity:"error",$message:t}]};if(s(t))return{$diagnoses:[{$message:t.message,$stackTrace:u(t.stack),$severity:"error"}]};if(t.$diagnoses&&Array.isArray(t.$diagnoses))return t;var n={$diagnoses:[{}]},r=n.$diagnoses[0];r.$message=t.message||e,r.$severity="error";var i=t.detail;return i&&(s(i)?(i.message&&(r.$stackTrace=(r.$stackTrace?r.$stackTrace+"\n":"")+i.message),i.stack&&(r.$stackTrace=(r.$stackTrace?r.$stackTrace+"\n":"")+u(i.stack))):r.$stackTrace=(r.$stackTrace?r.$stackTrace+"\n":"")+JSON.stringify(i)),n};t.addInheritanceInfo=i,t.isInstanceOf=r,t.isError=s,t.cleanStack=u,t.convertToDiagnoses=a}),define("syracuse-tablet/html/js/helpers/logger",["require","exports","module","syracuse-tablet/html/js/helpers/winjs","syracuse-tablet/html/js/helpers/jsutils"],function(e,t,n){function o(e,t){if(t!==!0&&!0)return null;var n=function(){var t,n;for(var r=0;r<arguments.length;r++)i.isError(arguments[r])?(n||(n=[]),n.push(arguments[r])):(t||(t=["["+e+"]: "]),t.push(arguments[r]));t&&t.length>1&&s(t.join(" ")),n&&n.forEach(function(t){s("["+e+"]: "+t.message),t.stack&&s(i.cleanStack(t.stack))})};return n}var r=e("syracuse-tablet/html/js/helpers/winjs"),i=e("syracuse-tablet/html/js/helpers/jsutils"),s;r.isAvailable()?s=function(){var e=[];for(var t=0;t<arguments.length;t++)e.push(arguments[t]);r.callWinJS("logger","log",{args:e},!0)}:s=function(){var e=[];for(var t=0;t<arguments.length;t++){var n=arguments[t];n!=null&&(i.isError(n)?console&&console.log&&console.log(n.message,"\n",i.cleanStack(n.stack)):e.push(n))}console&&console.log&&console.log(e.join(e," "))},window&&(window.logger=s),t.log=s,t.getLogger=o}),define("syracuse-tablet/html/js/helpers/globals",["require","exports","module","syracuse-tablet/html/js/helpers/logger"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/logger").getLogger("globals"),i={$user:"none",$role:"none",$lang:"none"},s={tabletApplication:null,userCtx:null,isTestEnvironment:!1,baseLocation:null,isDvlpMode:!1,isOffLineMode:!1,storage:null,cache:null,modal:null,cacheCtx:$.extend({},i),lookAndFeel:"windows",userProfile:{},applicationsJson:{}},o=function(e){r&&r("Set user context");var t=e==null?$.extend({},i):e;return s.cache.setContext(t),s.cacheCtx=t,s.userCtx=t},u=function(e){if(!e)throw new Error("Null tabletApplication object");return r&&r("Set tablet Application object"),s.tabletApplication=e,e},a=function(e,t,n,r){s.isOffLineMode=!1,s.isDvlpMode=e;var i=s.baseLocation={};i.host=window.location.protocol+"//"+window.location.host;var o=window.location.pathname.split("/").splice(0,2).join("/");i.withPath=i.host+o,i.requirePath=i.host+"/requireJS"+o,i.htmlRoot=i.withPath+"/html",r&&(i.query=r.parseQueryString()),s.isTestEnvironment=window.location.href.indexOf("/syracuse-tablet/test/index.html")>-1,s.storage=t,s.cache=n};t.isLoggedIn=function(){return s.userCtx!=null&&s.userCtx.$user!=="none"},t.getUserCtx=function(){return s.userCtx},t.getGlobalCtx=function(){return s},t.getStorage=function(){return s.storage},t.getCache=function(){return s.cache},t.getCacheCtx=function(){return s.cacheCtx},t.getEmptyCacheCtx=function(){return i},t.getEndpoint=function(){var e=s.endpoint;return e},t.setEndpoint=function(e){s.endpoint=e},t.$config=function(e){return s.tabletApplication.$config(e)},t.setUserProfile=function(e){s.userProfile=e},t.getUserProfile=function(){return s.userProfile},t.getUserName=function(){var e=s.userProfile;return e&&e.user&&(e.user.firstName?e.user.firstName+" ":"")+e.user.lastName||"unknown"},t.getPrototype=function(e){return s.tabletApplication.dao.getPrototype(e)},t.registerAdditionalPage=function(e,t,n){return s.tabletApplication.dao.registerAdditionalPage(e,t,n)},t.getCurrentPage=function(e){return s.tabletApplication.currentPage},t.setApplicationsJson=function(e){if(!e)throw new Error("Null applications JSON");s.applicationsJson=e},t.setTabletApplication=u,t.getApplication=function(){return s.tabletApplication},t.getDashboardName=function(e){return e+".$mobileDashboard"},t.getWelcomeAppJson=function(){return s.applicationsJson.$welcomeApplication},t.getApplicationJson=function(e){var t=s.applicationsJson[e];if(!t)throw new Error("getApplicationJson - NULL appInfo ("+e+")");return t},t.forEachApplicationJson=function(e){if(!e)return;var t=s.applicationsJson;Object.keys(t).forEach(function(n){e(n,t[n])})},t.setUserCtx=o,t.setModal=function(e){s.modal=e},t.getModal=function(){return s.modal},t.isOffLineMode=function(){return s.isOffLineMode},t.baseLocation=function(){return s.baseLocation},t.isDvlpMode=function(){return s.isDvlpMode},t.isTestEnvironment=function(){return s.isTestEnvironment},t.setLookAndFeel=function(e){s.lookAndFeel=e},t.getLookAndFeel=function(){return s.lookAndFeel},t.ROWIDXPROP="~ROWIDX~",t.SINGLEARRAYPROP="~data~",t.init=a,window&&(window.$sm=t)}),define("syracuse-tablet/html/js/helpers/notifications",["require","exports","module","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/jsutils"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/logger").getLogger("notifs"),i=e("syracuse-tablet/html/js/helpers/globals"),s=e("syracuse-tablet/html/js/helpers/jsutils"),o="sm",u={},a=function(e){throw r&&r("Error",e),typeof e=="string"?new Error("Notification - "+e):e},f=function(e,t,n){return setTimeout(function(){e.apply(t,n)},0)},l=function(e){try{if(!e)throw new Error("No topic to publish");var e=typeof e=="string"?[e]:e;r&&r("Publish "+e.join(" - "));var t,n,n,i,s=0,o,l,t=arguments;e.forEach(function(e){o=u[e];if(o){o=o.slice();for(var r=0,a=o.length;r<a;r++)n=o[r],n.object?(l||(l=Array.prototype.slice.call(t,1)),i=f(n.callBack,n.object,l)):(t[0]=e,i=f(n.callBack,null,t)),s++}})}catch(c){a(c)}},c=function(e,t,n){t||a("No topic to publish"),e||a("Null object"),n=n||10;var t=typeof t=="string"?[t]:t;r&&r("Subscribe "+t.join(" - ")+" - priority="+n),t.forEach(function(t){var r,i;if(typeof e=="function")r=e,i=null;else{i=e;var s=t.split(".");s[0]!=o&&a("Bad event domain name"),s=$.camelCase("notif-"+s.splice(1).join("-")),r=e[s],r||a("Object must implement "+s)}var f=!1;u[t]||(u[t]=[]);var l={callBack:r,object:i,priority:n};for(var c=u[t].length-1;c>=0;c--)if(u[t][c].priority<=n){u[t].splice(c+1,0,l),f=!0;break}f||u[t].unshift(l)})},h=function(e,t){t?typeof t=="string"&&(t=[t]):t=Object.keys(u);var n=typeof e=="function"?"callBack":"object";t.forEach(function(t){var r=u[t];if(r)for(var i=0,s=r.length;i<s;i++)if(e==null||r[i][n]===e)r.splice(i,1),i--,s--})},p=function(e,t){r&&r("Reset"),h(null,null)},d=function(e){var t={},n=typeof e=="function"?"callBack":"object";return Object.keys(u).forEach(function(r){if(e==null)t[r]=u[r].length;else{t[r]=0;var i=u[r];for(var s=0,o=i.length;s<o;s++)i[s][n]===e&&(t[r]=t[r]+1)}}),t},v=function(e,t){try{if(!e)throw new Error("Unexpected empty event");if(typeof e!="string")throw new Error("Strinf event expected");r&&r("PageNotify "+e);var n;t!==null&&s.isInstanceOf(t,"Page")?n=Array.prototype.slice.call(arguments,2):(t=i.getCurrentPage(),n=Array.prototype.slice.call(arguments,1));if(!t)throw new Error("Unexpected null page");var o=u[e];if(o)for(var l=0,c=o.length;l<c;l++)if(o[l].object===t)return f(o[l].callBack,t,n)}catch(h){a(h)}};t.check=d,t.reset=p,t.subscribe=c,t.unsubscribe=h,t.publish=l,t.pageNotify=v}),define("syracuse-tablet/html/js/helpers/utils",["require","exports","module","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/notifications","syracuse-tablet/html/js/helpers/jsutils"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/logger"),i=r.log,s=e("syracuse-tablet/html/js/helpers/globals"),o=e("syracuse-tablet/html/js/helpers/notifications"),u=e("syracuse-tablet/html/js/helpers/jsutils"),a=function(e,t,n){function r(e,t){for(var n in t||{}){var r=t[n];typeof r.get=="function"||typeof r.set=="function"?Object.defineProperty(e,n,r):e[n]=r}}return t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e,r(e.prototype,n),u.addInheritanceInfo(e),e},f=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e=="x"?t:t&3|8;return n.toString(16)})},l=function(){var e=new Date,t=[e.getFullYear(),4,e.getMonth()+1,2,e.getDate(),2,e.getHours(),2,e.getMinutes(),2,e.getSeconds(),2],n;for(var r=0;r<t.length;r+=2){var i=""+t[r];while(i.length<t[r+1])i="0"+i;n?n+="-"+i:n=i}return n},c=0,h=function(e){return e.replace(/([^\w-_])/g,"_")},p=0,d=function(){return h($.camelCase((arguments.length>0?Array.prototype.join.call(arguments,"-")+"-":"")+p++))},v={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","querystring","anchor"],q:{name:"query",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},m=function(e){var t=v,n=t.parser[t.strictMode?"strict":"loose"].exec(e),r={},i=14;while(i--)r[t.key[i]]=n[i]||"";return r[t.q.name]={},r[t.key[12]].replace(t.q.parser,function(e,n,i){n&&(r[t.q.name][n]=decodeURIComponent(i))}),r},g=/([^&=;]*)=?([^&;]*)/g,y=function(e){e=e||window.location.search;var t={},e=decodeURIComponent(e),n=e.indexOf("?");return n>=0&&(e=e.substring(n+1)),e.replace(g,function(e,n,r){n&&n.length>0&&(t[n]=decodeURIComponent(r))}),t},b=function(e){return $("<div/>").text(e).html()},w=function(e){return $("<div/>").html(e).text()},E=function(e){if(e==null)return;e.jquery&&(e.unbind(),e.undelegate(),e.off(),e.remove(),e.smPageRemoveController&&e.smPageRemoveController()),o.unsubscribe(e)},S=/\{(.*?)\}/g,x=function(e,t,n,r){r=r||0,e=(e||"")+"";var i=null,s=e.replace(S,function(e,i){var s=t==null?null:t.getValue?t.getValue(i):t[i];return s!=null?s:n?i.smStartsWith("@")?n.localization(i):(s=n.data(i,t),s!=null&&s.indexOf("{")>=0?x(s,t,n,r+1):s==null?"":s):""});return s||""};t.isOnline=function(){return navigator.onLine},t.isDesktop=function(){var e=navigator.userAgent,t=e.match(/(iphone|ipod|ipad)/)||e.match(/(android)/i)||e.match(/(iemobile)/)||e.match(/iphone/i)||e.match(/ipad/i)||e.match(/ipod/i)||e.match(/blackberry/i)||e.match(/bada/i);return!t};var T=function(e){return e+="",e.indexOf("{")>=0?e.slice(1,e.length-1):e},N=function(e,t,n){if(t==null||e==null)return null;if(n&&n._cachePath&&n._cachePath[t]!=null)return n._cachePath[t];Array.isArray(t)||(t=t.split("."));var r=e[t[0]];for(var i=1;i<t.length;i++){if(r==null)return null;if(!$.isPlainObject(r)==null)throw new Error("_getPropByPath - Unexpected non-plainobject");r=r[t[i]]}return n&&(n._cachePath||(n._cachePath={}),n._cachePath[t]=r),r},C=function(e,t){var n=s.getApplication();if(n.currentPage.getType()==="dashboard"){var r=e.closest(".s-m-control.s-m-vignette"),i=r.attr("id");if(t&&i.length===0)throw new Error("Vignette DOM elmt not found");var o=n.currentPage.getControl(i);if(t&&!o)throw new Error("Vignette not found - id["+i+"]");return o}if(t)throw new Error("Current page is not a dashboard");return null},k=function(e,t){var n=s.getApplication(),r=C(e,n,!0),i=r.getPageControl(t);return i?{control:i,vignette:r}:null};t.extractCode=T,t.UUID=f,t.defineClass=a,t.readableuid=d,t.domId=h,t.parseQueryString=y,t.parseURL=m,t.htmlEncode=b,t.htmlDecode=w,t.getCurISODateTime=l,t.unbindObj=E,t.parseExpression=function(e,t,n){return x(e,t,n,0)},t.getPropByPath=N,t.findParentVignette=C,t.findCtrlInDashboard=k}),define("syracuse-tablet/html/js/ajax/ajaxInterface",["require","exports","module","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/globals"],function(e,t,n){function u(){}function c(e,t){var n=t.responseJSON;if(!n)try{n=JSON.parse(t.responseText)}catch(r){}var i=n&&n.$diagnoses&&n.$diagnoses[0],u=i&&i.$links&&i.$links.$redirect;if(!u){e.resolve(t);return}s.getModal().info(o.text("login.timeout.title"),o.text("login.timeout.message"),function(){window.location.reload()})}var r=e("syracuse-tablet/html/js/helpers/logger").getLogger("ajax"),i=e("syracuse-tablet/html/js/helpers/utils"),s=e("syracuse-tablet/html/js/helpers/globals"),o,a={200:"Ok",201:"Created",400:"Bad Request",401:"Unauthenticated",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request URI Too Long",415:"Unsupported Media Type",422:"Unprocessable Entity",429:"Too Many Requests",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout"},f=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,l=i.defineClass(u,null,{ajax:function(e,t,n,i,o){var u=$.Deferred();try{e=e?e.toUpperCase():"GET";if(e==="GET"&&n){t.indexOf("?")===-1&&(t+="?");var l=[];for(var h in n)n[h]!=null&&l.push(encodeURIComponent(h)+"="+encodeURIComponent(n[h].toString()));t+=l.join("&")}o=o||{};var p=function(){try{var l={Accept:"application/json;vnd.sage=syracuse"};i&&$.extend(l,i);var h={headers:l,type:e,url:t,timeout:o.timeout==null?0:o.timeout};if(["PUT","POST"].indexOf(e)>=0&&n!=null){h.contentType=o.contentType||"application/json;charset=utf-8";if(h.contentType.indexOf("application/json")>=0&&typeof n=="object")try{n=JSON.stringify(n)}catch(p){throw new Error("Error parsing send data\nurl: "+t)}h.data=n}var d=l.Accept.indexOf("application/json")>=0&&o.noJsonParsing!==!0;d&&(h.dataType="json"),r&&r("'"+e+"':"+t);var v=$.ajax_original||$.ajax,m=v(h);m.complete(function(e,t){try{var n=e.status!=null?e.status:t=="success"?200:500,r={textStatus:t,status:n,descrHttpStatus:a[n]||"unknown: "+n,isSuccess:n>=200&&n<300||n===304,headers:{}};d?r.responseJSON=e.responseJSON:r.responseText=e.responseText;var i,s=e.getAllResponseHeaders();if(s)while(i=f.exec(s))r.headers[i[1].toLowerCase()]=i[2];n===401&&o.dontCatchHttp401!==!0?c(u,r):u.resolve(r)}catch(l){u.reject(l);return}})}catch(p){s.getModal().error("ajax.doAjax error",p,function(){u.resolve(p)})}finally{return m}};p()}catch(d){s.getModal().error("ajax error",d,function(){u.reject(d)})}finally{return u.promise()}}});t.AjaxInterfaceClass=l,t.init=function(e,t){o=t,e=e||{},$.ajaxSetup({timeout:e.timeout==null?2e4:e.timeout,async:!0})}}),define("syracuse-tablet/html/js/ajax/ajaxWinJS",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/winjs"],function(e,t,n){function o(){}var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/winjs"),s,u=r.defineClass(o,null,{ajax:function(e,t,n,r,s){var o=$.Deferred();e=e||"GET";var u={Accept:"application/json;vnd.sage=syracuse"};r&&$.extend(u,r);var a={$method:e||"GET",$url:t,$send:n,$headers:u,$options:s};return i.callWinJS("winjsAjax","ajax",a).then(function(e){var t={status:e.$status,location:e.$headers&&e.$headers.location||""};e.$succeeded?o.resolve(e.$data,t):o.reject(e.$status,t)}).fail(function(e){o.reject(500,{})}),o.promise()}});t.AjaxInterfaceClass=u,t.init=function(e,t){}}),define("syracuse-tablet/html/js/ajax/ajax",["require","exports","module","syracuse-tablet/html/js/helpers/winjs","syracuse-tablet/html/js/ajax/ajaxInterface","syracuse-tablet/html/js/ajax/ajaxWinJS"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/winjs"),i=e("syracuse-tablet/html/js/ajax/ajaxInterface"),s=e("syracuse-tablet/html/js/ajax/ajaxWinJS"),o;t.getAjax=function(){return o||(r.isAvailable()?o=new s.AjaxInterfaceClass:o=new i.AjaxInterfaceClass),o},t.init=function(e,t){r.isAvailable()?s.init(e,t):i.init(e,t)}}),define("syracuse-tablet/html/js/helpers/locale",["require","exports","module","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/ajax/ajax"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/globals"),i=e("syracuse-tablet/html/js/ajax/ajax").getAjax().ajax,s=null,o={},u="$datetimeInformation",a="$decimalInformation",f,l=/\{([\w-]+)\}/g,c="*",h={},p={},d=function(e,t){var n=o&&o[s];if(!n)return;var r=n[e]||"Resource key not found["+e+"]";return t&&(r=r.replace(l,function(e,n){var r=+n;return r>=0&&r<t.length?t[r]:"?"})),r},v=function(){var e=o&&o[s];if(!e)return;return e[u]},m=function(){var e=o&&o[s];if(!e)return;return e[a]},g=function(e,t){var n=new $.Deferred;f=t;var l=r.getUserCtx();c=l&&l.$user||"*",h=p[e]||{};var d=o&&o[e];if(d)s=e,n.resolve();else if(e===s)n.resolve();else{var v=i("GET","/syracuse-tablet/html/js/resources/strings-"+e+".json",null,null);y("/syracuse-tablet/html/js/resources","strings",e,"en").then(function(t){s=e,o[e]=t}).then(function(){return y("/syracuse-tablet/html/js/resources/locales","date",e,"en-GB")}).then(function(t){o[e][u]=t}).then(function(){return y("/syracuse-tablet/html/js/resources/locales","decimal",e,"en-GB")}).then(function(t){o[e][a]=t}).then(function(){n.resolve()}).fail(function(e){n.resolve()})}return n.promise()},y=function(e,t,n,r){function u(){if(o.length===0){var n=e+"/"+t+"-"+r+".json";i("GET",n,null,null).then(function(e){e&&e.responseJSON&&s.resolve(e.responseJSON),s.resolve({})}).fail(function(e){s.reject(e)})}else{var a=o.join("-"),n=e+"/"+t+"-"+a+".json";i("GET",n,null,null).then(function(e){e&&e.responseJSON?s.resolve(e.responseJSON):e.status===404?(o.pop(),u()):s.reject(e.textStatus+" - "+e.status)}).fail(function(e){s.reject(e)})}}var s=new $.Deferred,o=n.split("-");return u(),s.promise()},b=function(e,t){return!e||!s?!1:s===e?!0:t?!1:e.split("-")[0]===s};t.getDateFormat=function(){var e=v();return h.shortDate||e&&e.formatPatterns&&e.formatPatterns.shortDate||"dd/MM/yyyy"},t.getDateTimeFormat=function(){var e=v(),t=h.shortDate||e&&e.formatPatterns&&e.formatPatterns.shortDate||"dd/MM/yyyy",n=h.shortTime||e&&e.formatPatterns&&e.formatPatterns.shortTime||"HH:mm:ss";return t+" "+n},t.getTimeFormat=function(){var e=v();return h.longTime||e&&e.formatPatterns&&e.formatPatterns.longTime||"HH:mm:ss"},t.getTimeFormatShort=function(){var e=v();return h.shortTime||e&&e.formatPatterns&&e.formatPatterns.shortTime||"HH:mm"},t.getNumberFormat=function(e){return e==="application/x-integer"?"#,##0":"#,##0.##"},t.getNumberGroupSeparator=function(){var e=m(),t=h.numberGroupSeparator||e&&e.numberGroupSeparator||",";return t},t.getNumberDecimalSeparator=function(){var e=m(),t=h.numberDecimalSeparator||e&&e.numberDecimalSeparator||".";return t},t.setLocale=g,t.text=d,t.isCurrent=b,t.getDatetimeInfo=v,t.getCurrentLocale=function(){return s},t.getCurrentLocaleHash=function(){return s+"#"+c},t.setUserLocales=function(e){p={},e&&e.forEach(function(e){p[e.code]={shortDate:e.shortDate,shortTime:e.shortTime,longTime:e.longTime,numberDecimalSeparator:e.numberDecimalSeparator,numberGroupSeparator:e.numberGroupSeparator}})}}),define("syracuse-tablet/html/js/ui/modalDiagnoses",["require","exports","module","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/globals"),i=e("syracuse-tablet/html/js/helpers/locale"),s=' 	<div class="modal fade" id="modal-error" tabindex="-1" role="dialog"> 		<div class="modal-dialog s-m-modal-layout s-m-modal-diagnoses">			<header>				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&#215;</button> 			</header>			<section>				<div class="s-m-modal-content row">					<div class="col-md-3"></div>					<div class="col-md-1"> 						<a name="prev" href="#" class="glyphicon glyphicon-chevron-left" style="padding-top: 1em; font-size:30px;"></a> 					</div> 					<div class="col-md-4"> 						<header class="{{severity}}">{{title}}</header> 						{{#each diags}} 							<message id="s-m-msg-block-{{id}}" role="alert" style="display:{{this.display}}"> 								<label class="label label-{{this.severity}}">{{this.severityLabel}}</label> 								<div style="white-space: pre-line;">{{this.message}}</div> 								{{#if stack}} 									<a name="more" href="#">{{../../stackShow}}</a> 									<stack name="stack" style="display: none;">{{this.stack}}</stack> 								{{/if}} 							</message> 						{{/each}} 						<footer> 							<button type="button" class="btn btn-default pull-right" data-dismiss="modal">{{close}}</button> 						</footer> 					</div> 					<div class="col-md-1"> 						<a name="next" href="#" class="glyphicon glyphicon-chevron-right" style="padding-top: 1em; font-size:30px;"></a> 					</div> 					<div class="col-md-3"></div> 				</div> 			</section> 		</div> 	</div>';t.show=function(e,t,n){function o(){$("#s-m-msg-block-"+d,m).css("display","none"),d++,$("#s-m-msg-block-"+d,m).css("display","block"),f()}function u(){$("#s-m-msg-block-"+d,m).css("display","none"),d--,$("#s-m-msg-block-"+d,m).css("display","block"),f()}function a(){var e=$(this),t=$("[name=stack]",e.parent());t.css("display")==="none"?(t.css("display","block"),e.text(i.text("modal.diagnoses.btnstack_hide"))):(t.css("display","none"),e.text(i.text("modal.diagnoses.btnstack_show")))}function f(){d>=p-1?$("[name=next]",m).css("display","none"):$("[name=next]",m).css("display","block"),d<=0?$("[name=prev]",m).css("display","none"):$("[name=prev]",m).css("display","block"),p>1&&$(".s-m-modal-content header",m).text(e+" ("+(d+1)+"/"+p+")")}var l=r.getModal(),c={close:i.text("modal.btn.close"),stackShow:i.text("modal.diagnoses.btnstack_show"),severity:"info",diags:[]},h=Handlebars.compile(s),p=0,d=0;t.$diagnoses.forEach(function(e){var t;e.$severity==="success"||e.$severity==="info"||e.$severity==="warning"?t=e.$severity:(t="danger",c.severity="error"),c.diags.push({id:p,display:p===0?"block":"none",message:e.$message,severity:t,severityLabel:i.text("severity."+t),stack:e.$stackTrace}),p++}),e=e||(c.severity==="error"?i.text("modal.error.ttl"):i.text("modal.info.ttl")),c.title=e;var v=h(c),m=l.modal(v,n);return f(),$("[name=prev]",m).click(u),$("[name=next]",m).click(o),$("[name=more]",m).click(a),m}}),define("syracuse-tablet/html/js/ui/modal",["require","exports","module","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/notifications","syracuse-tablet/html/js/helpers/jsutils","syracuse-tablet/html/js/ui/modalDiagnoses"],function(e,t,n){var r=e("syracuse-tablet/html/js/ui/uiUtils"),i=e("syracuse-tablet/html/js/helpers/locale"),s=e("syracuse-tablet/html/js/helpers/globals"),o=e("syracuse-tablet/html/js/helpers/notifications"),u=e("syracuse-tablet/html/js/helpers/jsutils"),a=e("syracuse-tablet/html/js/ui/modalDiagnoses"),f=function(e){return e?e.replace(/\n/g,"<br>"):""},l={confirm:' 		<div class="modal fade" id="modal-confirm" tabindex="-1" role="dialog"> 			<div class="modal-dialog s-m-modal-layout">				<header>					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&#215;</button> 				</header>				<section>					<div class="s-m-modal-content row">						<div class="col-md-4"></div>						<div class="col-md-4">							<header>{{title}}</header>							<section>{{message}}</section>							<footer>								<button type="button" class="btn btn-default" data-action="yes">{{yes}}</button> 				                <button type="button" class="btn btn-default" data-action="no">{{no}}</button> 							</footer>						</div>					<div class="col-md-4"></div>				</div>				</section>			</div> 		</div>',error:' 		<div class="modal fade" id="modal-error" tabindex="-1" role="dialog"> 			<div class="modal-dialog s-m-modal-layout">				<header>					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&#215;</button> 				</header>				<section>					<div class="s-m-modal-content row">						<div class="col-md-4"></div>						<div class="col-md-4">							<header class="error">{{title}}</header>							<section>{{body}}</section>							<footer><button type="button" class="btn btn-default" data-dismiss="modal">{{close}}</button></footer>						</div>						<div class="col-md-4"></div>					</div>				</section>			</div> 		</div>',info:'		<div class="modal fade" id="modal-info" tabindex="-1" role="dialog"> 		    <div class="modal-dialog s-m-modal-layout">		    	<header>		    		<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&#215;</button> 		    	</header>		    	<section>		    		<div class="s-m-modal-content row">			    		<div class="col-md-4"></div>			    		<div class="col-md-4">			    			<header class="info">{{title}}</header>			    			<section>{{body}}</section>			    			<footer><button type="button" class="btn btn-default" data-dismiss="modal">{{close}}</button></footer>			    		</div>			    		<div class="col-md-4"></div>		    		</div>		    	</section>			</div> 		</div>',field:'		<div class="modal fade" id="modal-field" tabindex="-1" role="dialog"> 		    <div class="modal-dialog"> 				<div class="modal-content"> 				    <div class="modal-header"> 						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&#215;</button> 						<h4 class="modal-title" id="myModalLabel">{{title}}</h4> 				    </div> 				    <div class="modal-body"> 				       {{{body}}} 				    </div> 				    <div class="modal-footer"> 				        <button type="button" class="btn btn-default" data-dismiss="modal">{{close}}</button> 					</div> 				</div> 			</div> 		</div>',actionMessage:'		<div class="s-m-act-msg {{severityClass}} {{deviceType}}">			<a href="#"><span class="glyphicon glyphicon-remove"></span></a>			<header>				<div>{{title}}</div>			</header>			<section>				<article>{{message}}</article>			</section>			<footer></footer>		</div>'},c=function(e,t){var n=e+"compiled",r=l[n];return r||(r=l[n]=Handlebars.compile(l[e])),r(t)},h=function(e,t,n){if(!e||arguments.length==0)return;try{var e=arguments[0],r=Array.prototype.slice.call(arguments,1);e.apply(null,r)}catch(i){alert("Error calling modal callback\n"+JSON.stringify(i))}},p=function(e,t,n){var r;return r=u.convertToDiagnoses(e,t),d(e,r,n)},d=function(e,t,n){return a.show(e,t,n)},v=function(e,t,n){return a.show(e,{$diagnoses:[{$severity:"info",$message:t}]},n)},m=function(e,t){return E("confirm",{title:i.text("modal.confirm.ttl"),message:f(i.text("modal.confirm.msg",[e])),yes:i.text("yes"),no:i.text("no")},function(e,n,r){t&&(e==="yes"||e==="no")&&h(t,"yes"===e)})},g=function(e,t){return E("confirm",{message:f(e),yes:i.text("yes"),no:i.text("no")},function(e,n,r){t&&(e==="yes"||e==="no")&&h(t,"yes"===e)})},y=function(e,t,n){return E("field",{close:i.text("modal.btn.close"),title:e||"Warning",body:t},n)},b=function(e,t){var n=[],r=!0,i=!1,s="";t.$diagnoses.forEach(function(e){s=(s?s+"\n":"")+e.$message,["success","info","warning"].indexOf(e.$severity)<0&&(r=!1),e.$stackTrace&&(i=!0)});if(r||i===!1){var o=$(window).width()>480,u=o?"tablet":"phone",a=$(".s-m-act-msg-slot");a.length==0&&(a=$("<div>").addClass("s-m-act-msg-slot").addClass(u),(o?$("#s-m-app-id"):$("section.s-m-main-content")).prepend(a));var f={title:e,body:s,severityClass:r?"success":"error",deviceType:u,$$parentSlot:a};w(f)}else d(e,t)},w=function(e){function s(){r.toggleClass("show")}function o(){s(),setTimeout(function(){r.remove()},500)}var t=c("actionMessage",{title:e.title,message:e.body,severityClass:e.severityClass,deviceType:e.deviceType}),n,r=$(t);e.$$parentSlot.prepend(r);var i=r.find("a");i.bind("click",function(){o(),n=!0}),setTimeout(function(){s()},50);var u=setTimeout(function(){n||o()},5e3)},E=function(e,t,n){var r=c(e,t);return S(r,n)},S=function(e,t){r.waitWheelStop();var n=s.getApplication();n&&n.currentPage&&n.currentPage.waitWheelStop();var i=$(e).modal({keyboard:!1,backdrop:"static"}),u=$(window).height();$(".modal-body",i).css("max-height",u*.7);var a=!1;return i.on("hidden.bs.modal",function(){if(!a&&t)try{h(t,"hidden.bs.modal",i)}catch(e){alert("Modal close - call back error"+e.stack)}i.unbind(),i.remove(),o.publish("sm.modal.close")}),i.delegate("button[data-action]","click",function(e){var n=$(e.target),r=n.attr("data-action");r&&(a=!0,e.preventDefault(),e.stopPropagation(),h(t,r,i,n.attr("data-params"))),i.modal("hide")}),i};t.error=p,t.info=v,t.diagnoses=d,t.field=y,t.confirm=m,t.simpleConfirm=g,t.modal=S,t.actionResult=b}),define("syracuse-tablet/html/js/init/initStyles",["require","exports","module","syracuse-tablet/html/js/helpers/globals"],function(e,t,n){function i(e){var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",e),document.getElementsByTagName("head")[0].appendChild(t)}function s(){var e=/iphone|ipad|ipod|android|blackberry|mini|windows|palm/i.exec(navigator.userAgent.toLowerCase()),t={iphone:"ios",ipad:"ios",ipod:"ios",android:"android",windows:"windows"};return $.smUrlParam("forceLookAndFeel")||t[e||"windows"]||"windows"}function o(){return document.location.href.indexOf("index.html")>-1}var r=e("syracuse-tablet/html/js/helpers/globals");t.init=function(){var e=new $.Deferred,t=s(),n="./css/gen/"+t+(o()?".min":"")+".css";i(n);var u="./css/default.css";return i(u),e.resolve(),r.setLookAndFeel(t),e.promise()}}),define("syracuse-tablet/html/js/init/initLocale",["require","exports","module","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/locale");t.init=function(){var e="en_GB";return r.setLocale(e)}}),define("syracuse-tablet/html/js/application/appFactory",["require","exports","module","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/helpers/globals"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/logger").getLogger("factory"),i=e("syracuse-tablet/html/js/helpers/globals"),s={Application:function(){throw new Error("Not implemented")},DashoardPage:function(){throw new Error("Not implemented")},RegularPage:function(){throw new Error("Not implemented")},RowDetailPage:function(){throw new Error("Not implemented")},LookupPage:function(){throw new Error("Not implemented")},LoginPage:function(){throw new Error("Not implemented")},SettingsPage:function(){throw new Error("Not implemented")},AboutPage:function(){throw new Error("Not implemented")},DaoApp:function(){throw new Error("Not implemented")},DaoSdata:function(){throw new Error("Not implemented")}},o=function(e){var n=new s.Application(e,t);return n.init(),r&&r("Application","Create ok"),n},u=function(e,t,n){var o=null,u=t.type;n=n||{};var a=$.Deferred();try{if(u==="html"&&t.name==="login")o=new s.LoginPage(e,t,n);else if(u=="html"&&t.name==="settings")o=new s.SettingsPage(e,t,n);else if(u==="html"&&t.name==="about")o=new s.AboutPage(e,t,n);else if(u==="dashboard")i.getApplication().dao.getDashboardInfo(t.dashboardUuid).then(function(r){o=new s.DashoardPage(e,t,r.prototype,r.article,n),a.resolve(o)}).fail(function(e){a.reject(e)});else{if(u!=="regular"&&u!=="rowdetail")throw new Error("Unknown page type["+u+"]");var f=null;if(u==="rowdetail"){if(!n||!n.parentPage)throw new Error("rowdetail - unexpected null parent page");f=n.parentPage.prototype}i.getApplication().dao.getRegularPageInfo(t,f).then(function(r){r.prototype.isLookup()?o=new s.LookupPage(e,t,r.prototype,r.article,n):u==="rowdetail"?o=new s.RowDetailPage(e,t,r.prototype,r.article,n):o=new s.RegularPage(e,t,r.prototype,r.article,n),a.resolve(o)}).fail(function(e){a.reject(e)})}o&&a.resolve(o),r&&r("New Page","Create ok")}catch(l){a.reject(l)}finally{return a.promise()}},a=function(e){var t=new s.DaoApp(e);return r&&r("New DAO Application","Create ok"),t},f=function(e,t,n,i,o){var u;switch(e){case"representation":case"process":case"request":case"statistics":case"dashboardpage":case"externallink":u=new s.DaoSdata(t,n,i,o);break;default:throw new Error("Unknown DaoSdata type["+e+"]")}return r&&r("New DAO View","Create ok"),u};t.setImpl=function(e,t){s[e]=t},t.createApplication=o,t.createPage=u,t.createDaoApp=a,t.createDaoSdata=f}),define("syracuse-tablet/html/js/sdata/sdataUtils",["require","exports","module","syracuse-tablet/html/js/helpers/utils"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=/^(.*)\(\'(.*)\'\)$/i,s=function(e){var t=r.parseURL(e);if(t.query&&t.query.representation){t.representation=t.query.representation,t.facet=null;var n=t.representation.indexOf(".");n!=-1&&(t.facet=t.representation.substr(n+1),t.facet.charAt(0)=="$"&&(t.facet=t.facet.substr(1)),t.representation=t.representation.substr(0,n))}var s=t.directory.split("/");if(s.length<=4)throw new Error("Bad sdata url:"+e);t.dispatch=s[1],t.application=s[2],t.contract=s[3],t.dataset=s[4];if(s.length===4)return t;var o=i.exec(s[5]);return o&&o.length==3?(t.entity=o[1],t.id=o[2],t.id&&t.id.trim().Length===0&&(t.id=null)):(t.entity=s[5],t.id=null),s.length===5?t:t},o=function(e,t,n){var r=e;t&&(e=t.parseExpression(e));var i=s(e);if(i.query.representation||n===!0){var o=i.application+"."+i.contract+"."+i.dataset;return{page:o+(i.query.representation?"."+i.query.representation:""),sDataUrl:e}}if(i.entity==="$mobileDashboards")return{page:i.query.dashboard+".$mobileDashboard",parameters:i.query.parameters};throw new Error("getLinkInfo - Unexpected url"+e)},u=function(e,t){typeof e=="string"&&(e=o(e,t));if(e.type==="navig")return'data-nav="'+e.page+'" data-sdata-url="'+encodeURIComponent(e.sDataUrl)+'"';if(e.type==="act")return'data-action="'+e.action+'" data-params="'+encodeURIComponent(e.params||"")+'"';throw new Error("_getLinkAttrs - unknonwn type\n"+e.type)},a=function(e){return e.$stackTrace&&e.$stackTrace.indexOf("node_modulessyracuse-x3")>=0&&(e.$message&&e.$stackTrace.indexOf(e.$message)>=0?delete e.$stackTrace:e.$stackTrace=e.$stackTrace.split("\n")[0]),e},f=function(e){var t=[],n=[],r=function(e,i,s){s||(s=[]);if(n.indexOf(e)>=0)return;if(Array.isArray(e))n.push(e),i&&s.push(i),e.forEach(function(e,t){r(e,t+"",s)}),i&&s.pop(i);else if($.isPlainObject(e)){n.push(e);for(var o in e)o==="$diagnoses"?e[o].forEach(function(e){var n=[].concat(s);i&&n.push(i),o&&n.push(o),e=a($.extend({},e)),e.$path=n.join("."),t.push(e)}):(i&&s.push(i),r(e[o],o,s),i&&s.pop(i))}};return e?(r(e),t):null},l=function(e,t,n){n=n||{};var r=!0;t=t.value;var i=t.replace(/\{(\w*?)\}/g,function(e,t){var i=n[t];return i==null&&(r=!1),i!=null?i:""});return r&&(e=e+"&where="+i),e};t.parseSDataURL=s,t.getLinkInfo=o,t.getLinkAttrs=u,t.scanDiagnoses=f,t.addWhereClause=l}),define("syracuse-tablet/html/js/sdata/sdataHttp",["require","exports","module","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/ajax/ajax","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/sdata/sdataUtils"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/logger").getLogger("sDataHttp"),i=e("syracuse-tablet/html/js/ajax/ajax").getAjax().ajax,s=e("syracuse-tablet/html/js/helpers/globals"),o=e("syracuse-tablet/html/js/helpers/locale"),u=e("syracuse-tablet/html/js/sdata/sdataUtils"),a={noJsonParsing:!0},f=function(e){var t=$.Deferred(),e=e||{};e.options=$.extend(e.options||{},a),e.headers=e.headers||{},e.headers["Accept-Language"]=o.getCurrentLocale();try{r&&r("_httpSend - Begin - Method:"+e.method+"\n	"+e.url),i(e.method,e.url,e.send,e.headers,e.options).then(function(e){r&&r("_httpSend - End - status="+e.status+" - "+e.textStatus);var n=e.responseText?e.responseText.trim():"";n.length>0&&["{","["].indexOf(n.charAt(0))>=0?e.responseJSON=JSON.parse(n):e.responseJSON=null,t.resolve(e)}).fail(function(e){t.reject(e)})}catch(n){t.reject(n)}return t.promise()};t.fetchRemotePrototype=function(e){var t=$.Deferred(),n=this;try{var r=s.baseLocation(),a=e.split("."),f=a.slice(0,3).join("/"),l=a.slice(3,5).join("."),c=r.host+"/mobile1/"+f+"/$prototypes('"+l+"')",h={"Accept-Language":o.getCurrentLocale()};i("GET",c,null,h).then(function(n){var r=u.scanDiagnoses(n);if(!n.isSuccess||r.length!=0){var i="Http error status["+n.status+"] reading prototype id ["+e+"]";throw n.responseJSON&&(i+="\n"+JSON.stringify(n.responseJSON,null,2)),new Error(i)}t.resolve(n.responseJSON)}).fail(function(e){t.reject(e)})}catch(p){t.reject(p)}finally{return t.promise()}},t.send=f}),define("syracuse-tablet/html/js/sdata/sdataCommonResources",["require","exports","module","syracuse-tablet/html/js/sdata/sdataUtils","syracuse-tablet/html/js/sdata/sdataHttp","syracuse-tablet/html/js/ajax/ajax","syracuse-tablet/html/js/helpers/utils"],function(e,t,n){function p(e){function s(e){var o={method:"GET",url:e};o.parsedUrl=r.parseSDataURL(o.url),i.send(o).then(function(e){var r=e&&e.responseJSON;r&&r.$resources&&r.$resources.forEach(function(e){n.push(e)}),r&&r.$links&&r.$links.$next&&r.$links.$next.$url?s(r.$links.$next.$url):t.resolve(n)})}var t=$.Deferred(),n=[];return s(e),t.promise()}var r=e("syracuse-tablet/html/js/sdata/sdataUtils"),i=e("syracuse-tablet/html/js/sdata/sdataHttp"),s=e("syracuse-tablet/html/js/ajax/ajax").getAjax().ajax,o=e("syracuse-tablet/html/js/helpers/utils"),u="/sdata/syracuse/collaboration/syracuse/mobileApplications/$service/availableApplications",a="/sdata/syracuse/collaboration/syracuse/localePreferences?representation=localePreference.$bulk",f="/sdata/syracuse/collaboration/syracuse/userProfiles/$service/current",l="/sdata/syracuse/collaboration/syracuse/endPoints?representation=endPoint.$bulk",c="/sdata/syracuse/collaboration/syracuse/roles?representation=role.$bulk",h=function(e,t,n){var i=e;i+="\nStatus: "+t.status+" - "+t.descrHttpStatus,n&&(i+="\n"+n);var s=r.scanDiagnoses(t.responseJSON);throw s&&(i+="\n\nDetails\n-------\n",s.forEach(function(e){e.$severity&&(i+=e.$severity+": "),e.$message&&(i+=e.$message+"\n"),e.$stackTrace&&(i+="Stack: "+e.$stackTrace+"\n")})),new Error(i)};t.queryMyApplications=function(){var e=$.Deferred(),t={method:"GET",url:u};return t.parsedUrl=r.parseSDataURL(t.url),i.send(t).then(function(n){if(n.isSuccess&&n.responseJSON){var r=n.responseJSON.$resources;e.resolve(r)}else h("Loading application list error",n,t.url)}).fail(function(t){e.reject(t)}),e.promise()},t.queryMyApplicationDetail=function(e){var t=$.Deferred(),n={method:"GET",url:e.$metaDataUrl};return n.parsedUrl=r.parseSDataURL(n.url),i.send(n).then(function(r){if(r.isSuccess&&r.responseJSON){var i=r.responseJSON;t.resolve(i)}else h("Error oading lapplication detail - Name: "+e.applicationName,r,n.url)}).fail(function(e){t.reject(e)}),t.promise()},t.getUserProfile=function(){var e=$.Deferred(),t={method:"GET",url:f};return t.parsedUrl=r.parseSDataURL(t.url),i.send(t).then(function(n){if(n.isSuccess&&n.responseJSON){var r=n.responseJSON;e.resolve(r)}else h("Loading user profile error",n,t.url)}).fail(function(t){e.reject(t)}),e.promise()},t.queryLocalePreferences=function(){return p(a).then(function(e){var t=[];return e.forEach(function(e){t.push({$uuid:e.$uuid,code:e.code,description:e.description})}),t})},t.queryEndpoints=function(){return p(l)},t.queryRoles=function(){return p(c)},t.updateUserProfile=function(e){function t(){return $.smResolve().then(function(){var e=o.UUID(),t={method:"POST",url:"/sdata/syracuse/collaboration/syracuse/userProfiles/$template/$workingCopies?representation=userProfile.$edit&role=&trackingId="+e};return t.parsedUrl=r.parseSDataURL(t.url),i.send(t).then(function(e){return e.isSuccess&&e.responseJSON?$.smResolve(e.responseJSON):$.smReject()})})}function n(t){return $.smResolve().then(function(){var n=$.extend({},t,e),s={method:"PUT",url:t.$url,send:n};return s.parsedUrl=r.parseSDataURL(s.url),i.send(s).then(function(e){return e.isSuccess&&e.responseJSON?$.smResolve(e.responseJSON):$.smReject()})})}function s(e){return $.smResolve().then(function(){var t={method:"DELETE",url:e.$url};return t.parsedUrl=r.parseSDataURL(t.url),i.send(t).then(function(e){return $.smResolve()})})}return t().then(function(e){return n(e)}).then(function(e){return s(e).always(function(){return $.smResolve()})})}}),define("syracuse-tablet/html/js/helpers/base64",["require","exports","module"],function(e,t,n){var r=t.Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t="",n,i,s,o,u,a,f,l=0;e=r._utf8_encode(e);while(l<e.length)n=e.charCodeAt(l++),i=e.charCodeAt(l++),s=e.charCodeAt(l++),o=n>>2,u=(n&3)<<4|i>>4,a=(i&15)<<2|s>>6,f=s&63,isNaN(i)?a=f=64:isNaN(s)&&(f=64),t=t+this._keyStr.charAt(o)+this._keyStr.charAt(u)+this._keyStr.charAt(a)+this._keyStr.charAt(f);return t},decode:function(e){var t="",n,i,s,o,u,a,f,l=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(l<e.length)o=this._keyStr.indexOf(e.charAt(l++)),u=this._keyStr.indexOf(e.charAt(l++)),a=this._keyStr.indexOf(e.charAt(l++)),f=this._keyStr.indexOf(e.charAt(l++)),n=o<<2|u>>4,i=(u&15)<<4|a>>2,s=(a&3)<<6|f,t+=String.fromCharCode(n),a!=64&&(t+=String.fromCharCode(i)),f!=64&&(t+=String.fromCharCode(s));return t=r._utf8_decode(t),t},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");var t="";for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(r&63|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(r&63|128))}return t},_utf8_decode:function(e){var t="",n=0,r,i,s,o=r=i=0;while(n<e.length)o=e.charCodeAt(n),o<128?(t+=String.fromCharCode(o),n++):o>191&&o<224?(i=e.charCodeAt(n+1),t+=String.fromCharCode((o&31)<<6|i&63),n+=2):(i=e.charCodeAt(n+1),s=e.charCodeAt(n+2),t+=String.fromCharCode((o&15)<<12|(i&63)<<6|s&63),n+=3);return t},raw_decode:function(e){var t="",n,r,i,s,o,u,a,f=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(f<e.length)s=this._keyStr.indexOf(e.charAt(f++)),o=this._keyStr.indexOf(e.charAt(f++)),u=this._keyStr.indexOf(e.charAt(f++)),a=this._keyStr.indexOf(e.charAt(f++)),n=s<<2|o>>4,r=(o&15)<<4|u>>2,i=(u&3)<<6|a,t+=String.fromCharCode(n),u!=64&&(t+=String.fromCharCode(r)),a!=64&&(t+=String.fromCharCode(i));return t}};t.encode=function(e){return r.encode(e)}}),define("syracuse-tablet/html/js/application/authentication",["require","exports","module","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/ajax/ajax","syracuse-tablet/html/js/sdata/sdataCommonResources","syracuse-tablet/html/js/helpers/base64"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/logger").getLogger("app"),i=e("syracuse-tablet/html/js/helpers/globals"),s=e("syracuse-tablet/html/js/ajax/ajax").getAjax().ajax,o=e("syracuse-tablet/html/js/sdata/sdataCommonResources"),u=e("syracuse-tablet/html/js/helpers/base64"),a={svcLogin:"/auth/login/submit",svcLogout:"/logout",userProfile:"/sdata/syracuse/collaboration/syracuse/userProfiles/$service/current"},f=function(){var e=new $.Deferred,t=function(t,n){r&&r(n||"Check login request rejected",t),e.reject(t)};try{return s("GET",a.userProfile,null,null,{dontCatchHttp401:!0}).then(function(t){t.status===200?e.resolve({authenticated:!0}):e.resolve(!1)}).fail(function(e){t(e)})}catch(n){t(n,"Check login request exception")}finally{return e.promise()}},l=function(e,t,n){var i=new $.Deferred,f=function(e,t){r&&r(t||"Login request rejected",e),i.reject(e)};try{var l="Basic "+u.encode(e+":"+t);return s("POST",a.svcLogin,null,{Authorization:l,accept:"application/json"}).then(function(e){if(e.status!==200&&e.status!==401)i.resolve(!1,null,"Httpstatus: "+e.status+(e.descrHttpStatus?"["+e.descrHttpStatus+"]":""));else try{var t=e.responseJSON.$diagnoses[0].$links.$redirect.$url;t==="/auth/login/page"?i.resolve(!1,null,"Httpstatus: "+e.status+(e.descrHttpStatus?"["+e.descrHttpStatus+"]":"")):o.getUserProfile().then(function(t){i.resolve(!0,t,"Httpstatus: "+e.status+(e.descrHttpStatus?"["+e.descrHttpStatus+"]":""))}).fail(function(e){f(e)})}catch(n){f(n)}}).fail(function(e){f(e)})}catch(c){f(c,"Do login request exception")}finally{return i.promise()}},c=function(){var e=new $.Deferred,t=function(t,n){r&&r(n||"Logout request rejected",t),e.reject(t)};try{var n=i.baseLocation().host+a.svcLogout;return s("GET",n,{device:"phone"}).then(function(t){var n,r="";t.isSuccess||(r="Httpstatus: "+t.status+(t.descrHttpStatus?"["+t.descrHttpStatus+"]":""));var i=t.responseJSON?t.responseJSON.$diagnoses:null;i&&i.forEach(function(e){r+=(r.lengthj>0?"\n":"")+e.$message}),e.resolve(t.isSuccess,r)}).fail(function(e){t(e)})}catch(o){t(o,"Do logout request exception")}finally{return e.promise()}};t.check=f,t.login=l,t.logout=c}),define("syracuse-tablet/html/js/helpers/siteLayout",["require","exports","module","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/notifications"],function(e,t,n){function a(){var e=$(window).width(),t=$(window).height(),n=e/t,r;return n<1?r="portrait":r="landscape",r==o?!1:(o=r,!0)}function f(){var e=$(window).width(),t=$(window).height(),n=0,r=0,i=$("#s-m-auth-panel-right-id");i.is(":visible")&&(n=u.authPanelRight.width,r=u.authPanelRight.splitterWidth,l(e,t));var o=e-n-r,a=t,f=$("#s-m-app-id"),c=$(".s-m-page.s-m-full > header"),h=$(".s-m-page.s-m-full > section.s-m-main-content"),p=$(".s-m-page.s-m-full > footer"),d=o,v=a-u.header.height-u.footer.height;f.width(o),f.height(a),c.css({top:0,left:0,width:d,height:u.header.height}),h.css({top:u.header.height,left:0,width:d,height:v}),p.css({top:u.header.height+v,left:0,width:d,height:u.header.height}),s.publish("sm.main.layout.changed")}function l(e,t){var n=$("#s-m-auth-panel-right-id"),r=$("#s-m-auth-splitter-right-id");n.css({left:e-u.authPanelRight.width,top:0,width:u.authPanelRight.width,height:t}),r.css({left:e-u.authPanelRight.width-u.authPanelRight.splitterWidth,top:0,width:u.authPanelRight.splitterWidth,height:t})}var r=e("syracuse-tablet/html/js/helpers/globals"),i=e("syracuse-tablet/html/js/helpers/utils"),s=e("syracuse-tablet/html/js/helpers/notifications"),o=null,u={header:{height:50},footer:{height:50},authPanelRight:{width:300,splitterWidth:50}};t.updateLayout=function(e,t){(a()||i.isDesktop())&&f()},t.updateLayoutInternal=function(e,t){t&&t.layout&&(u=$.extend(!0,u,t.layout)),f()}}),define("syracuse-tablet/html/js/application/eventListener",["require","exports","module","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/ui/modal","syracuse-tablet/html/js/helpers/notifications","syracuse-tablet/html/js/helpers/siteLayout"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/logger").getLogger("evts"),i=e("syracuse-tablet/html/js/helpers/globals"),s=e("syracuse-tablet/html/js/helpers/utils"),o=e("syracuse-tablet/html/js/ui/modal"),u=e("syracuse-tablet/html/js/helpers/notifications"),a=e("syracuse-tablet/html/js/helpers/siteLayout"),f=function(e,t){var n=e.closest(".s-m-control"+(t||"")+"[id]");return n.length>0?l(n,"id"):null},l=function(e,t,n,i){var s=(e.attr(t)||"").trim();if(i===!0){s=decodeURIComponent(s);if(s.smStartsWith("{")&&s.smEndsWith("}"))try{var o=JSON.parse(s);return o}catch(u){r.console("Error reading JSON attribute "+t+"\n	"+s)}}return n&&s.length===0?null:s},c=function(e){var t=e.split("&"),n={};for(var r=0;r<t.length;r++){var i=t[r].split("=");n[i[0]]=i[1]}return n},h=function(e,t,n,u){var a=i.getApplication(),l=function(e){var n="_doAction["+t+"]"+(u?" CtrlId["+u+"]":"")+" error";r&&r(n,e),o.error(n,e)};try{if(a.currentPage==null)throw new Error("No current page");var c="_act"+$.camelCase("-"+t),h;u||(u=f(e,".s-m-array"));if(u){h=a.currentPage.getControl(u),h==null&&a.currentPage.getType()==="dashboard"&&(h=s.findCtrlInDashboard(e,u),h&&(h=h.control));if(h==null)throw new Error("Control not found")}else{var p=s.findParentVignette(e,!1);if(p)if(p[c])h=p;else{var d=p.getPage();d&&d[c]&&(h=d)}h==null&&a.currentPage[c]&&(h=a.currentPage),h==null&&(h=a)}if(!h[c])throw new Error("Method ["+c+"] not found in object/application/current page)");var v=[];n&&typeof n=="string"?(n=n.split(","),n.forEach(function(e,t){v.push(e.trim())})):v.push(n),$.when(h[c].apply(h,v)).then(function(e){e&&e.page&&i.getApplication().changePage(e.page)}).fail(function(e){l(e)})}catch(m){l(m)}},p=function(e,t){var n=i.getApplication(),r={},o;o=l(e,"data-sdata-url"),o.length>0&&(r["sdata-url"]=decodeURIComponent(o)),o=l(e,"data-sdata-method"),o.length>0&&(r["sdata-method"]=decodeURIComponent(o)),o=l(e,"data-nav-type"),o.length>0&&(r.type=o),o=l(e,"data-parent-id"),o.length>0&&(r.parentId=o),o=l(e,"data-control-id"),o.length>0&&(r.controlId=o),o=l(e,"data-params",!1,!0),r.dataParams=o||"",o=l(e,"data-nav-target");var a;t&&(o==="vignette"?a=s.findParentVignette(t,!0):o!=="application"&&n.$config("openLinkInVignette")&&(a=s.findParentVignette(t,!1))),a||(a=n);if(l(e,"data-nav-refresh")==="true")a.refreshPage(r);else if(o=l(e,"data-application-name"))u.publish("sm.switch.app",o);else{var f=decodeURIComponent(l(e,"data-nav"));o=l(e,"data-gadget-id"),o.length>0&&(r["gadget-id"]=o),o=l(e,"data-sdata-parameters"),o&&o.length>0&&(r.sdataParameters=c(o)),o=l(e,"data-nav-noback"),r.noHistoryBack=o==="true",a.changePage(f,r)}return},d=function(e){var t=function(e){var t="_bindActions error";r&&r(t,e),o.error(t,e)},n=e.$$elmt;if(!n)throw new Error("_bindActions - null $$elmt");n.delegate("[data-nav], [data-nav-refresh], [data-action], [data-params] ","click select change",function(n){try{if(e.hasModalOpen()){r&&r("!!! Tries to execute an action data-action with a MODAL open.\nAction is skipped");return}var i=$(n.target);n.preventDefault(),n.stopPropagation();var s=i.closest("[data-nav], [data-nav-refresh]");if(s.length>0){p(s,i);return}s=i.closest("[data-action]");if(s.length>0){n.preventDefault(),n.stopPropagation();var o;s.is("select")?o=$(this).val():o=l(s,"data-params",!1,!0);var u=l(s,"data-control-id",!0);h(i,l(s,"data-action"),o,u);return}}catch(a){t(a)}})},v=function(e){var t=function(e){var t="_bindControlEvents error";r&&r(t,e),o.error(t,e)},n=["click","blur","change"];n.forEach(function(n){e.$$elmt.delegate(".ctrl-evt-"+n,n,function(i){i.preventDefault(),i.stopPropagation();try{var o=$(i.target),u;o.hasClass("s-m-control")?u=l(o,"id"):(u=l(o,"data-control-id",!0),u||(u=f(o)));if(!e.currentPage)throw new Error("No current page");var a=e.currentPage.getControl(u);!a&&e.currentPage.getType()==="dashboard"&&(a=s.findCtrlInDashboard(o,u),a&&(a=a.control));if(!a)throw new Error("Control not found - ctrlid["+u+"] in currentpage or vignettes");var c="on"+n.smCapitalize();if(!a[c]){r&&r("!!! Method["+c+"] not found - ctrlid["+u+"]");return}a[c](i)}catch(h){t(h)}return})})},m=function(e){$(window).bind("popstate",function(t){var n=t.originalEvent.state;n&&e.historyPop(t)}),d(e),v(e),$(window).on("resize",a.updateLayout),$(window).on("resizeInternal",a.updateLayoutInternal)},g=function(e,t,n,r){if(!e)return;h(e,t,n,r)},y=function(e,t){var n=function(e){var t=e;this.attr=function(e){return t[e]}};p(new n(t),e)};t.bindEvents=m,t.triggerAction=g,t.triggerNavigation=y}),define("syracuse-tablet/html/js/application/gadget",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/globals"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/globals"),s=r.defineClass(function(e){var t=this;t._data=e},null,{destroy:function(){var e=this;e._data=null},isRequest:function(){return this._data.$type==="$request"},data:function(e){return this._data?this._data[e]:null},getEndPoint:function(){return this._data.endpoint||i.getEndpoint()},isDefaultEndpoint:function(){return!this._data.endpoint},getPageName:function(){var e=this;if(!e.isValid())return null;var t=e.isRequest()?e.getRequestRepresentation():e._data.representation;return e.getEndPoint()+"."+t+"."+e._data.facet},getSDataUrl:function(e){var t=this,n;switch(t._data.$type){case"$representation":["$details","$edit"].indexOf(t._data.action)>-1?n=e.data("$url",{$key:t._data.keyParameter}):["$create"].indexOf(t._data.action)>-1?(n=e.data("$url"),n=n.replace(/\((.*?)\)/,"/$template")):n=e.data("$url");break;case"$request":n=e.data("$baseUrl"),n=n+"/QUERY('"+t._data.requestName+"')?representation="+t.getRequestRepresentation()+".$query"}return n},getRequestRepresentation:function(){return"QUERY~"+this._data.requestName+"~"+this._data.requestLevel},getJSON:function(){return $.extend(!0,{},this._data)},isValid:function(){return this.getInvalidReason()==null},getInvalidReason:function(){var e=this._data.$type;return e==="$representation"||e==="$stats"||e==="$request"?this._data.$uuid.smStartsWith("test")?null:(this.getEndPoint()||"").trim().length==0?"No endpoint":null:null},getParameters:function(){return this._data.parameters||{}}});t.Klass=s}),define("syracuse-tablet/html/js/application/pageLoader",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/ui/modal","syracuse-tablet/html/js/application/gadget","syracuse-tablet/html/js/helpers/notifications"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/logger").getLogger("pageLoader"),s=e("syracuse-tablet/html/js/helpers/globals"),o=e("syracuse-tablet/html/js/ui/modal"),u=e("syracuse-tablet/html/js/application/gadget").Klass,a=e("syracuse-tablet/html/js/helpers/notifications"),f=r.defineClass(function(e){this.callerInterface=e,this.factory=s.getApplication().factory},null,{destroy:function(){this.callerInterface=null,this.factory=null},load:function(e,t){var n=$.Deferred(),r=this,s=function(t){r.waitStop(),r.loadingError(n,e,t)},o=function(i,s){r.waitStop(),t!==!0&&(e.options==null||e.options.noHistoryBack!==!0)&&r.historyPush(i.state),r.succeeded(i,s),n.resolve(i)};try{if(e===null||typeof e!="object")throw new Error("Bad state object");i&&i("_gotoPage","start","page: "+e.uuid);var u=r.getCurrentPage();if(u&&u.getProp("uuid")===e.uuid){i&&i("	Page is current -> Skip");return}var a=null,f=null;u&&u.isChild&&(a=u.getParentNotif()),r.waitStart();var l=$("#"+e.uuid).smPageController();if(l!=null){i&&i("	Page found in dom -> Activate");if(!l)throw new Error("Unexpected null page data");return l.isNew=!1,r._pageActivate(l,function(){l.destroySiblings(),o(l,a)},t),n.promise()}var c={};e.type==="rowdetail"&&(c.parentPage=u),r.factory.createPage(r.getRootElmt(),e,c).then(function(e){return l=e,l.isNew=!0,l.load(c)}).then(function(){r._pageActivate(l,function(){o(l,a)},t)}).fail(function(e){s(e)})}catch(h){s(h)}return n.promise()},_pageActivate:function(e,t,n){var r=this,i=r.getCurrentPage(),s=i&&(n===!0||i.getProp("cached")!==!0&&e.isChild!==!0);s&&n!==!0&&e.contextSave(i);var o=null;e.isNew&&(!n&&e.isVignette&&i==null?o=r.savedCtxVignette():n&&(o=i?i.savedContext:null)),e.activate(i,o,function(){r.setCurrentPage(i,e,s),t&&t()})},historyPush:function(e){this.callerInterface.historyPush(e)},waitStop:function(){this.callerInterface.waitStop()},waitStart:function(){this.callerInterface.waitStart()},getRootElmt:function(){return this.callerInterface.getRootElmt()},getCurrentPage:function(){return this.callerInterface.getCurrentPage()},savedCtxVignette:function(){var e=this.callerInterface.savedCtxVignette;return e?e():null},setCurrentPage:function(e,t,n){var r=this;e&&(n===!0?e.destroy():e.deactivate()),r.callerInterface.setCurrentPage(t)},loadingError:function(e,t,n){this.callerInterface.loadingError?this.callerInterface.loadingError(e,t,n):o.error("Loading page ["+t.name+"] error",n,function(){e.reject(n)})},succeeded:function(e,t){var n=this;a.publish("sm.page.loaded",n.getCurrentPage()),this.callerInterface.succeeded&&this.callerInterface.succeeded(e,t)}}),l=function(e){return!e||!e.options||!e.options.gadget?e:(e.options.gadget=e.options.gadget.getJSON(),e)},c=function(e){return!e||!e.options||!e.options.gadget?e:(e.options.gadget=new u(e.options.gadget),e)};t.stateSerialize=l,t.stateDeserialize=c,t.Klass=f}),define("syracuse-tablet/html/js/ui/modalSelectContext",["require","exports","module","syracuse-tablet/html/js/ui/modal","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){var r=e("syracuse-tablet/html/js/ui/modal"),i=e("syracuse-tablet/html/js/helpers/locale"),s='	<div class="modal fade" id="modal-endpoint" tabindex="-1" role="dialog">     <div class="modal-dialog"> 		<div class="modal-content"> 		    <div class="modal-header"> 				<h4 class="modal-title" id="myModalLabel">{{title}}</h4> 		    </div> 		    <div class="modal-body"> 				<div class="form-group"> 					<label>{{label_endpoints}}</label>					<select class="form-control" id="login-select-endpoint"> 					{{#each endpoints}}						<option value="{{this.application}}.{{this.contract}}.{{this.dataset}}" {{#if this.selected}}selected{{/if}}>						{{this.description}}						</option>					{{/each}}					</select>				</div> 			<div class="form-group"> 				<label>{{label_roles}}</label>				<select class="form-control" id="login-select-role"> 				{{#each roles}}					<option value="{{this.code}}" {{#if this.selected}}selected{{/if}}>					{{this.description}}					</option>				{{/each}}				</select>			</div> 			<div class="form-group"> 				<label>{{label_languages}}</label>				<select class="form-control" id="login-select-language"> 				{{#each languages}}					<option value="{{this.code}}" {{#if this.selected}}selected{{/if}}>					{{this.description}}					</option>				{{/each}}				</select>			</div> 			{{#if label_warning}}			<div class="alert alert-warning" role="alert">				{{label_warning}}			</div>			{{/if}}		    </div> 		    <div class="modal-footer"> 				<button type="button" class="btn pull-left" data-action="logout">{{label_logout}}</button> 		        <button type="button" class="btn" data-action="validate">{{label_ok}}</button>     			<button type="button" class="btn btn-default" data-action="cancel">{{label_cancel}}</button> 			</div> 		</div> 	</div> 	</div>',o=function(e,t,n,o,u){var a=$.Deferred();try{try{var f=Handlebars.compile(s),l={title:i.text("modal.context.title"),label_endpoints:i.text("modal.context.endpoints"),endpoints:t,label_roles:i.text("modal.context.roles"),roles:n,label_languages:i.text("modal.context.languages"),languages:o,label_logout:i.text("modal.context.logout"),label_ok:i.text("modal.context.ok"),label_cancel:i.text("modal.context.cancel"),label_warning:u&&i.text("modal.context.warning")};e&&(t.forEach(function(t){t.application+"."+t.contract+"."+t.dataset===e.endpoint?t.selected=!0:t.selected=!1}),n.forEach(function(t){t.code===e.role?t.selected=!0:t.selected=!1}),o.forEach(function(t){t.code===e.language?t.selected=!0:t.selected=!1})),f=f(l),r.modal(f,function(e,t){var n=t.find("#login-select-endpoint").val(),r=t.find("#login-select-role").val(),i=t.find("#login-select-language").val();e==="validate"?a.resolve({action:"ok",endpoint:n,role:r,language:i}):e==="cancel"?a.resolve({action:"cancel",endpoint:n,role:r,language:i}):e==="logout"&&a.resolve({action:"logout"})})}catch(c){a.reject(c)}}catch(c){a.reject(c)}finally{return a.promise()}};t.selectContext=o}),define("syracuse-tablet/html/js/storage/localStorage",["require","exports","module","syracuse-tablet/html/js/helpers/logger"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/logger").getLogger("sessstorage"),i=null,s=function(){if(i!==null)return i;i=!1;try{window.localStorage.setItem("__test_availability__","__test_availability__"),i=!0}catch(e){}return i},o=function(e,t){if(!s()){r&&r("local.unsupported.getItem("+e+"):"+n);return}var n=window.localStorage.getItem(e);return r&&r("local.getItem("+e+"):"+n),!0===t&&a(e),n},u=function(e,t){if(!s()){r&&r("local.unsupported.setItem("+e+"):"+t);return}return r&&r("local.setItem("+e+"):"+t),window.localStorage.setItem(e,t)},a=function(e){if(!s()){r&&r("local.unspported.removeItem("+e+")");return}return r&&r("local.removeItem("+e+")"),window.localStorage.removeItem(e)};t.removeItem=a,t.setItem=u,t.getItem=o}),define("syracuse-tablet/html/js/storage/storageInterface",["require","exports","module","syracuse-tablet/html/js/helpers/utils"],function(e,t,n){function s(){this.infoString="Interface only"}function u(e,t,n,r,i){var s={$status:e};return t&&(s.$data=t),i&&(s.$metaData=i),n&&(s.$message=n),r&&(s.$exception=r),s}function a(e,t){return u(i.ERROR,null,e,t)}var r=e("syracuse-tablet/html/js/helpers/utils"),i={OK:1,NOT_FOUND:2,ERROR:3},o=r.defineClass(s,null,{getInfo:function(){return this.infoString},init:function(){throw new Error("Not implemented!")},query:function(e){throw new Error("Not implemented!")},put:function(e){throw new Error("Not implemented!")},read:function(e){throw new Error("Not implemented!")},remove:function(e){throw new Error("Not implemented!")},clearCollection:function(){throw new Error("Not implemented!")}});t.StorageInterface=o,t.StatusCodes=i,t.buildResult=u,t.buildErrResult=a,t.databaseName="sage-tablet-db"}),define("syracuse-tablet/html/js/storage/storageWinJS",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/storage/storageInterface","syracuse-tablet/html/js/helpers/winjs"],function(e,t,n){function u(){this.infoString="WinJS storage interface"}var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/globals"),s=e("syracuse-tablet/html/js/storage/storageInterface"),o=e("syracuse-tablet/html/js/helpers/winjs"),a=r.defineClass(u,s.StorageInterface,{init:function(){var e=i.isTestEnvironment();return o.callWinJS("winjsDB","init",{useTestDatabase:e})},queryAppConfigs:function(){return o.callWinJS("winjsDB","queryAppConfigs",{})},createAppConfig:function(e){return o.callWinJS("winjsDB","createAppConfig",{app:e})},readAppConfig:function(e){return o.callWinJS("winjsDB","readAppConfig",{appid:e})},deleteAppConfig:function(e){return o.callWinJS("winjsDB","deleteAppConfig",{appid:e})}});t.StorageInterface=a,t.isAvailable=function(){return o.isAvailable()}}),define("syracuse-tablet/html/js/storage/storageWebSQL",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/storage/storageInterface","syracuse-tablet/html/js/helpers/logger"],function(e,t,n){function f(){this.infoString="WebSQL storage interface",this.databaseVersion=u,this.databaseName=s.databaseName,this.useTestDatabase=!1,this.databaseSize=2097152,this.db=null}function c(e,t){return"CODE: "+t.code+" MESSAGE: "+t.message}var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/globals"),s=e("syracuse-tablet/html/js/storage/storageInterface"),o=e("syracuse-tablet/html/js/helpers/logger").getLogger("webSQL"),u=16,a=["DROP TABLE IF EXISTS sdata_meta","CREATE TABLE sdata_meta ( key text, collection text, endpoint text, context text, id text, etag text, last_read text, last_updated text)","DROP INDEX IF EXISTS sdata_meta_pk","CREATE UNIQUE INDEX sdata_meta_pk ON sdata_meta (key, collection, endpoint, context)","DROP INDEX IF EXISTS sdata_meta_id","CREATE UNIQUE INDEX sdata_meta_id ON sdata_meta (id)","DROP TABLE IF EXISTS sdata_objects","CREATE TABLE sdata_objects ( id text, data text )","DROP INDEX IF EXISTS sdata_objects_pk","CREATE UNIQUE INDEX sdata_objects_pk ON sdata_objects (id)"],l=r.defineClass(f,s.StorageInterface,{init:function(){var e=$.Deferred(),t=this,n=i.isTestEnvironment();t.databaseName=s.databaseName+"-test",t.useTestDatabase=n;try{t._openDB().then(function(t){e.resolve(t)}).fail(function(t){e.reject(t)})}catch(r){e.reject(s.buildErrResult("error initializing database",r))}finally{return e.promise()}},put:function(e){var t=$.Deferred(),n=this;try{var i=n.db;o&&o("PUT: ",JSON.stringify(e));if(!e.$key||!e.$collection||!e.$endpoint||!e.$context)throw new Error("Insufficient parameters");var u=JSON.stringify(e.$context),a=[e.$key,e.$collection,e.$endpoint,u],f=function(r){n._executeSql("INSERT INTO sdata_objects (data, id) values (?, ?)",[JSON.stringify(e.$data),r.$id]).then(function(){t.resolve(s.buildResult(s.StatusCodes.OK,e.$data))}).fail(function(e){t.reject(e)})},l=function(r){n._executeSql("UPDATE sdata_objects set data = ? where id = ?",[JSON.stringify(e.$data),r.$id]).then(function(n){t.resolve(s.buildResult(s.StatusCodes.OK,e.$data))}).fail(function(e){t.reject(e)})};n._readMetaData(u,a).then(function(i){i&&i.$etag===e.$data.$etag?t.resolve(s.buildResult(s.StatusCodes.OK,e.$data)):i?(i.$etag=e.$data.$etag,i.$lastUpdated=r.getCurISODateTime(),n._writeMetaData(i).then(function(){l(i)}).fail(function(e){t.reject(e)})):(i={$key:e.$key,$collection:e.$collection,$endpoint:e.$endpoint,$context:e.$context,$etag:e.$data.$etag,$lastUpdated:r.getCurISODateTime()},n._writeMetaData(i).then(function(e){f(e)}).fail(function(e){t.reject(e)}))}).fail(function(e){t.reject(e)})}catch(c){t.reject(s.buildErrResult("error writing to database",c))}finally{return t.promise()}},read:function(e){var t=$.Deferred(),n=this;try{var r=n.db;o&&o("READ: ",JSON.stringify(e));if(!e.$key||!e.$collection||!e.$endpoint||!e.$context)throw new Error("Insufficient parameters");var i=JSON.stringify(e.$context),u=[e.$key,e.$collection,e.$endpoint,i];n._readMetaData(i,u).then(function(e){e?n._executeSql("SELECT * FROM sdata_objects where id = ?",[e.$id]).then(function(n){try{n.rows.length<=0?t.resolve(s.buildResult(s.StatusCodes.NOT_FOUND)):t.resolve(s.buildResult(s.StatusCodes.OK,JSON.parse(n.rows.item(0).data),null,null,{$lastRead:e.$lastRead,$lastUpdated:e.$lastUpdated}))}catch(r){t.reject(s.buildErrResult("error reading from database",r))}}).fail(function(e){t.reject(e)}):t.resolve(s.buildResult(s.StatusCodes.NOT_FOUND))}).fail(function(e){t.reject(e)})}catch(a){t.reject(s.buildErrResult("error reading from database",a))}finally{return t.promise()}},query:function(e){var t=$.Deferred(),n=this;try{var r=n.db;o&&o("QUERY: ",JSON.stringify(e));if(!e.$collection||!e.$endpoint||!e.$context)throw new Error("Insufficient parameters");var i=JSON.stringify(e.$context),u=[e.$collection,e.$endpoint,i];n._executeSql("SELECT o.*, m.last_read, m.last_updated FROM sdata_objects o INNER JOIN sdata_meta m ON (o.id = m.id and m.collection = ? and m.endpoint = ? and m.context = ?)",u).then(function(e){var n=[],r=[];try{for(var i=0;i<e.rows.length;i++){var o=e.rows.item(i);n.push(JSON.parse(o.data)),r.push({$lastRead:o.last_read,$lastUpdated:o.last_updated})}}catch(u){t.reject(s.buildErrResult("error reading from database",u));return}t.resolve(s.buildResult(s.StatusCodes.OK,n,null,null,r))}).fail(function(e){t.reject(e)})}catch(a){t.reject(s.buildErrResult("error reading from database",a))}finally{return t.promise()}},remove:function(e){var t=$.Deferred(),n=this;try{var r=n.db;o&&o("REMOVE: ",JSON.stringify(e));if(!e.$key||!e.$collection||!e.$endpoint||!e.$context)throw new Error("Insufficient parameters");var i=JSON.stringify(e.$context),u=[e.$key,e.$collection,e.$endpoint,i];n._removeMetaData(i,u).then(function(e){e?n._executeSql("DELETE FROM sdata_objects where id = ?",[e.$id]).then(function(){t.resolve(s.buildResult(s.StatusCodes.OK))}).fail(function(e){t.reject(e)}):t.resolve(s.buildResult(s.StatusCodes.NOT_FOUND))}).fail(function(e){t.reject(e)})}catch(a){t.reject(s.buildErrResult("error writing to database",a))}finally{return t.promise()}},clearCollection:function(e){var t=$.Deferred(),n=this;try{var r=n.db;o&&o("CLEAR: ",JSON.stringify(e));if(!e.$collection||!e.$context)throw new Error("Insufficient parameters");var i=JSON.stringify(e.$context),u=[i];n._executeSql("SELECT * FROM sdata_meta where context = ?",u).then(function(r){var i=[];try{for(var o=0;o<r.rows.length;o++){var u=r.rows.item(o);e.$collection.test(u.collection)&&i.push({$context:e.$context,$collection:u.collection,$endpoint:u.endpoint,$key:u.key})}i.forEachPromise(function(e){return n.remove(e)}).then(function(){t.resolve(s.buildResult(s.StatusCodes.OK))}).fail(function(e){t.reject(e)})}catch(a){t.reject(s.buildErrResult("error reading from database",a))}}).fail(function(e){t.reject(e)})}catch(a){t.reject(s.buildErrResult("error reading from database",a))}finally{return t.promise()}},_readMetaData:function(e,t,n){var r=$.Deferred(),i=this;try{var o=i.db;i._executeSql("SELECT * FROM sdata_meta where key = ? and collection = ? and endpoint = ? and context = ?",t).then(function(e){try{if(e.rows.length<=0)r.resolve(null);else{var t=e.rows.item(0),o={$key:t.key,$collection:t.collection,$endpoint:t.endpoint,$context:t.context,$id:t.id,$etag:t.etag,$lastRead:t.last_read,$lastUpdated:t.last_updated};n===!0?r.resolve(o):i._writeMetaData(o).then(function(){r.resolve(o)}).fail(function(e){r.reject(s.buildErrResult("error reading from database",e))})}}catch(u){r.reject(s.buildErrResult("error reading from database",u))}}).fail(function(e){r.reject(e)})}catch(u){r.reject(s.buildErrResult("error reading from database",u))}finally{return r.promise()}},_writeMetaData:function(e){var t=$.Deferred(),n=this;try{var i=n.db;e.$lastRead=r.getCurISODateTime(),e.$id?n._executeSql("UPDATE sdata_meta set etag = ?, last_read = ?, last_updated = ? where id = ?",[e.$etag,e.$lastRead,e.$lastUpdated,e.$id]).then(function(n){t.resolve(e)}).fail(function(e){t.reject(e)}):(e.$id=r.UUID(),n._executeSql("INSERT INTO sdata_meta (key, collection, endpoint, context, id, etag, last_read, last_updated) values (?, ?, ?, ?, ?, ?, ?, ?)",[e.$key,e.$collection,e.$endpoint,JSON.stringify(e.$context),e.$id,e.$etag,e.$lastRead,e.$lastUpdated]).then(function(){t.resolve(e)}).fail(function(e){t.reject(e)}))}catch(o){t.reject(s.buildErrResult("error writing meta data",o))}finally{return t.promise()}},_removeMetaData:function(e,t){var n=$.Deferred(),r=this;try{r._readMetaData(e,t,!0).then(function(e){e?r._executeSql("DELETE FROM sdata_meta where id = ?",[e.$id]).then(function(){n.resolve(e)}).fail(function(e){n.reject(e)}):n.resolve(null)}).fail(function(e){n.reject(e)})}catch(i){n.reject(s.buildErrResult("error reading from database",i))}finally{return n.promise()}},_executeSql:function(e,t){var n=$.Deferred(),r=this;try{r.db.transaction(function(r){try{o&&o("SQL: "+e),o&&o(t),r.executeSql(e,t,function(e,t){n.resolve(t)},function(e,t){n.reject(s.buildErrResult("error initializing database: "+c(e,t)))})}catch(i){n.reject(s.buildErrResult("error running SQL statement",i))}})}catch(i){n.reject(s.buildErrResult("error running SQL statement",i))}return n.promise()},_openDB:function(){var e=$.Deferred(),t=this;t.useTestDatabase===!1&&t.db&&e.resolve(s.buildResult(s.StatusCodes.OK));var n;try{o&&o("Open database, request version: "+t.databaseVersion),t.db=openDatabase(t.databaseName,7,"Database",t.databaseSize),t._readCurrentVersion().then(function(n){o&&o("Current version: "+n),n===t.databaseVersion&&t.useTestDatabase!==!0?e.resolve(s.buildResult(s.StatusCodes.OK)):t._createTables().then(function(e){return t._writeCurrentVersion()}).then(function(t){e.resolve(t)}).fail(function(t){e.reject(t)})}).fail(function(t){e.reject(t)})}catch(r){o&&o("Open database, exception",r),t.db=null,e.reject(s.buildErrResult("error initializing database",r))}return e.promise()},_readCurrentVersion:function(){var e=$.Deferred(),t=this;return t._executeSql("SELECT version FROM version",null).then(function(t){try{var n=t.rows.length;if(n===1){var r=t.rows.item(0).version;o&&o("Read version: "+r),e.resolve(+r)}e.resolve(-1)}catch(i){e.reject(s.buildErrResult("error reading database version",i))}}).fail(function(n){o&&o("Creating version table"),t._executeSql("CREATE TABLE version (version TEXT)").then(function(t){e.resolve(-1)}).fail(function(t){i.getModal().error("Error Creating version table",t,function(){e.reject(t)})})}),e.promise()},_writeCurrentVersion:function(){var e=$.Deferred(),t=this;return t._executeSql("DELETE FROM version",null).then(function(e){return t._executeSql("INSERT INTO version (version) values (?)",[u])}).then(function(t){e.resolve(s.buildResult(s.StatusCodes.OK))}).fail(function(t){e.reject(t)}),e.promise()},_createTables:function(){var e=$.Deferred(),t=this,n=[];for(var r=0;r<a.length;r++)n.push(t._executeSql(a[r]));return $.when.apply($,n).then(function(){e.resolve(s.buildResult(s.StatusCodes.OK))}).fail(function(t){e.reject(t)}),e.promise()}});t.StorageInterface=l,t.isAvailable=function(){return window.openDatabase!=null}}),define("syracuse-tablet/html/js/storage/storageIndexedDB",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/storage/storageInterface","syracuse-tablet/html/js/helpers/logger"],function(e,t,n){function v(){this.infoString="IndexedDB storage interface",this.databaseVersion=p,this.databaseName=s.databaseName,this.useTestDatabase=!1,this.db=null}function g(e){return JSON.stringify(e)}var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/globals"),s=e("syracuse-tablet/html/js/storage/storageInterface"),o=e("syracuse-tablet/html/js/helpers/logger").getLogger("indexedDB"),u=window.indexedDB||window.webkitIndexedDB,a=window.IDBTransaction||window.webkitIDBTransaction,f=window.IDBKeyRange||window.webkitIDBKeyRange,l=window.IDBDatabaseException||window.webkitIDBDatabaseException,c=a&&a.READ_ONLY||"readonly",h=a&&a.READ_WRITE||"readwrite",p=11,d={sdata:{options:{autoIncrement:!0},indexes:{read_write_one:{key:"key_collection_endpoint_context",options:{unique:!0}},read_write_all:{key:"collection_endpoint_context",options:{unique:!1}},read_write_ctx:{key:"context",options:{unique:!1}}}}},m=r.defineClass(v,s.StorageInterface,{init:function(e){e=e||"",o&&o("_INIT "+e);var t=$.Deferred(),n=this,r=i.isTestEnvironment();try{var a=function(){o&&o("DATABASE INIT!"),n._openDB().then(function(n){o&&o("_openDB OK "+e),t.resolve(n)}).fail(function(n){o&&o("_openDB KO "+e),t.resolve(n)})};if(r===!0){n.db&&(n.db.close(),n.db=null),n.useTestDatabase=!0,n.databaseName=s.databaseName+"-test",o&&o("DATABASE IN TEST MODE! "+e);var f=u.deleteDatabase(n.databaseName);f.onsuccess=function(){a()},f.onerror=function(n){o&&o("REQUEST ERROR! "+e),t.reject(s.buildErrResult("error deleting database"))},f.onblocked=function(n){o&&o("REQUEST BLOCKED! "+e),t.reject(s.buildErrResult("error deleting database (blocked)"))}}else n.db||a()}catch(l){o&&o("init ERROR "+e),t.reject(s.buildErrResult("error initializing database",l))}finally{return t.promise()}},put:function(e){var t=$.Deferred(),n=this;try{var i=n.db;o&&o("PUT: ",JSON.stringify(e));if(!e.$key||!e.$collection||!e.$endpoint||!e.$context)throw new Error("Insufficient parameters");var u=i.transaction(["sdata"],h),a=u.objectStore("sdata"),c=JSON.stringify(e.$context),p=[e.$key,e.$collection,e.$endpoint,c].join("_"),d=a.index("read_write_one"),v=f.only(p),m=d.openCursor(v),y=!0,b=r.getCurISODateTime(),w=function(){var n={context:c,collection:e.$collection,endpoint:e.$endpoint,key:e.$key,last_updated:b,last_read:b,key_collection_endpoint_context:p,collection_endpoint_context:[e.$collection,e.$endpoint,c].join("_"),data:e.$data},r=a.add(n);r.onerror=function(e){t.reject(s.buildErrResult("error writing to database: "+g(e)))},r.onsuccess=function(n){t.resolve(s.buildResult(s.StatusCodes.OK,e.$data))}};m.onsuccess=function(n){try{var r=n.target.result;if(r){if(e.$data.$etag){var i=r.value&&r.value.data.$etag;if(i===e.$data.$etag){t.resolve(s.buildResult(s.StatusCodes.OK,e.$data));return}}r["delete"](),r["continue"]()}else w()}catch(o){t.reject(s.buildErrResult("error writing to database",o))}},m.onerror=function(e){e.target.errorCode==l.NOT_FOUND_ERR?w():t.reject(s.buildErrResult("error writing to database: "+g(e)))}}catch(E){t.reject(s.buildErrResult("error writing to database",E))}finally{return t.promise()}},read:function(e){var t=$.Deferred(),n=this;try{var r=n.db;o&&o("READ: ",JSON.stringify(e));if(!e.$key||!e.$collection||!e.$endpoint||!e.$context)throw new Error("Insufficient parameters");var i=r.transaction(["sdata"],h),u=i.objectStore("sdata"),a=JSON.stringify(e.$context),c=[e.$key,e.$collection,e.$endpoint,a].join("_"),p=u.index("read_write_one"),d=f.only(c),v=p.openCursor(d);v.onsuccess=function(e){try{var n=e.target&&e.target.result&&e.target.result.value;n?t.resolve(s.buildResult(s.StatusCodes.OK,n.data,null,null,{$lastRead:n.last_read,$lastUpdated:n.last_updated})):t.resolve(s.buildResult(s.StatusCodes.NOT_FOUND))}catch(r){t.reject(s.buildErrResult("error reading from database",r))}},v.onerror=function(e){e.target.errorCode==l.NOT_FOUND_ERR?t.resolve(s.buildResult(s.StatusCodes.NOT_FOUND)):t.reject(s.buildErrResult("error reading from database: "+g(e)))}}catch(m){t.reject(s.buildErrResult("error reading from database",m))}finally{return t.promise()}},query:function(e){var t=$.Deferred(),n=this;try{var r=n.db;o&&o("QUERY: ",JSON.stringify(e));if(!e.$collection||!e.$endpoint||!e.$context)throw new Error("Insufficient parameters");var i=r.transaction(["sdata"],h),u=i.objectStore("sdata"),a=JSON.stringify(e.$context),c=[e.$collection,e.$endpoint,a].join("_"),p=u.index("read_write_all"),d=f.only(c),v=p.openCursor(d),m=[],y=[];v.onsuccess=function(e){try{var n=e.target.result;if(n){var r=n.value.data;m.push(r),y.push({$lastRead:n.last_read,$lastUpdated:n.last_updated}),n["continue"]()}else t.resolve(s.buildResult(s.StatusCodes.OK,m,null,null,y))}catch(i){t.reject(s.buildErrResult("error reading from database",i))}},v.onerror=function(e){e.target.errorCode==l.NOT_FOUND_ERR?t.resolve(s.buildResult(s.StatusCodes.OK,m,null,null,y)):t.reject(s.buildErrResult("error reading from database: "+g(e)))}}catch(b){t.reject(s.buildErrResult("error reading from database",b))}finally{return t.promise()}},remove:function(e){var t=$.Deferred(),n=this;try{var r=n.db;o&&o("REMOVE: ",JSON.stringify(e));if(!e.$key||!e.$collection||!e.$endpoint||!e.$context)throw new Error("Insufficient parameters");var i=r.transaction(["sdata"],h),u=i.objectStore("sdata"),a=JSON.stringify(e.$context),c=[e.$key,e.$collection,e.$endpoint,a].join("_"),p=u.index("read_write_one"),d=f.only(c),v=p.openCursor(d);v.onsuccess=function(e){try{var n=e.target.result;n?(n["delete"](),t.resolve(s.buildResult(s.StatusCodes.OK))):t.resolve(s.buildResult(s.StatusCodes.NOT_FOUND))}catch(r){t.reject(s.buildErrResult("error deleting from database",r))}},v.onerror=function(e){e.target.errorCode==l.NOT_FOUND_ERR?t.resolve(s.buildResult(s.StatusCodes.NOT_FOUND)):t.reject(s.buildErrResult("error reading from database: "+g(e)))}}catch(m){t.reject(s.buildErrResult("error deleting from database",m))}finally{return t.promise()}},clearCollection:function(e){var t=$.Deferred(),n=this;try{var r=n.db;o&&o("CLEAR: ",JSON.stringify(e));var i=r.transaction(["sdata"],h),u=i.objectStore("sdata"),a=JSON.stringify(e.$context),c=a,p=u.index("read_write_ctx"),d=f.only(c),v=p.openCursor(d),m=[],y=function(){m.forEachPromise(function(t){return n.remove({$context:e.$context,$collection:t.collection,$endpoint:t.endpoint,$key:t.key})}).then(function(){t.resolve()}).fail(function(e){t.reject(e)})};v.onsuccess=function(n){try{var r=n.target.result;r?(e.$collection.test(r.value.collection)&&m.push(r.value),r["continue"]()):y()}catch(i){t.reject(s.buildErrResult("error reading from database",i))}},v.onerror=function(e){e.target.errorCode==l.NOT_FOUND_ERR?y():t.reject(s.buildErrResult("error reading from database: "+g(e)))}}catch(b){t.reject(s.buildErrResult("error reading from database",b))}finally{return t.promise()}},_openDB:function(){var e=$.Deferred(),t=this;t.useTestDatabase===!1&&t.db&&e.resolve(s.buildResult(s.StatusCodes.OK));var n;try{o&&o("Open database, request version: "+t.databaseVersion),n=u.open(t.databaseName,t.databaseVersion),n.onupgradeneeded=function(e){o&&o("Open database, need upgrade"),t.db=e.target.result||e.target.source,t._createObjectStore()},n.onsuccess=function(n){o&&o("Open database, success");var r=n.target.result||n.target.source;if(!r.setVersion&&t.databaseVersion!=r.version){o&&o("Open database, versions missmatch: "+t.DatabaseVersion+" != "+r.version);var i=r.setVersion(t.databaseVersion);i.onsuccess=function(n){o&&o("Open database, setting version, success"),t.db=r,t._createObjectStore(),o&&o("Open database, opened"),e.resolve(s.buildResult(s.StatusCodes.OK))},i.onerror=function(n){o&&o("Open database, setting version, error",n),t.db=null,e.reject(s.buildErrResult("error initializing database: "+g(n)))}}else o&&o("Open database, opened"),t.db=r,e.resolve(s.buildResult(s.StatusCodes.OK))},n.onerror=function(n){o&&o("Open database, error",n),t.db=null,e.reject(s.buildErrResult("error initializing database: "+g(n)))}}catch(r){o&&o("Open database, exception",r),t.db=null,e.reject(s.buildErrResult("error initializing database",r))}return e.promise()},_createObjectStore:function(){var e=this,t=e.db;o&&o("Updating database"),Object.keys(d).forEach(function(e){var n=d[e];t.objectStoreNames.contains(e)&&(o&&o("Deleting objectStore: "+e),t.deleteObjectStore(e)),o&&o("Creating objectStore: "+e);var r=t.createObjectStore(e,n.options);Object.keys(n.indexes).forEach(function(e){var t=n.indexes[e];o&&o("Creating index: "+e),r.createIndex(e,t.key,t.options)})})}});t.StorageInterface=m,t.isAvailable=function(){return u!=null}}),define("syracuse-tablet/html/js/storage/storage",["require","exports","module","syracuse-tablet/html/js/storage/storageInterface","syracuse-tablet/html/js/storage/storageWinJS","syracuse-tablet/html/js/storage/storageWebSQL","syracuse-tablet/html/js/storage/storageIndexedDB"],function(e,t,n){function o(){return s?s:(i.some(function(e){if(e.isAvailable()){var t=e.StorageInterface;return s=new t,!0}return!1}),s)}var r=e("syracuse-tablet/html/js/storage/storageInterface"),i=[e("syracuse-tablet/html/js/storage/storageWinJS"),e("syracuse-tablet/html/js/storage/storageWebSQL"),e("syracuse-tablet/html/js/storage/storageIndexedDB")],s;t.getStorage=o,t.StatusCodes=r.StatusCodes}),define("syracuse-tablet/html/js/sdata/entities/clientContract",["require","exports","module"],function(e,t,n){function o(e,t,n){var r={$page:{},$cache:{}};return u(e,t,n,r.$page),r}function u(e,t,n,r){if(t==="$query"||t==="$lookup")r.$prototype={$properties:{$resources:{$type:"application/x-array",$item:a(e,t)}}},r.$prototype.$url="{$baseUrl}/"+e+"?representation="+e+"."+t,r.$prototype.$properties.$resources.$item.$key="{$uuid}",r.$prototype.$properties.$resources.$item.$value=n.$value,r.$prototype.$properties.$resources.$item.$links={$details:{$url:"{$baseUrl}/"+e+"('{$key}')?representation="+e+".$details",$title:"Details"},$edit:{$url:"{$baseUrl}/"+e+"('{$key}')?representation="+e+".$edit",$title:"Edit"}},r.$prototype.$links={$create:{$url:"{$baseUrl}/"+e+"('{$key}')?representation="+e+".$create",$title:"Create New"}},r.$prototype.$key="{$uuid}";else{r.$prototype=a(e,t),r.$prototype.$url="{$baseUrl}/"+e+"('{$key}')?representation="+e+"."+t,r.$prototype.$key="{$uuid}",r.$prototype.$links={};var i={$edit:{$url:"{$baseUrl}/"+e+"('{$key}')?representation="+e+".$edit",$title:"Edit"},$query:{$url:"{$baseUrl}/"+e+"?representation="+e+".$query",$title:"List"},$save:{$url:"{$baseUrl}/"+e+"('{$key}')?representation="+e+".$save",$title:"Save"},$details:{$url:"{$baseUrl}/"+e+"('{$key}')?representation="+e+".$details",$title:"Detail"}};switch(t){case"$create":r.$prototype.$links.$save=i.$save,r.$prototype.$links.$query=i.$query;break;case"$details":r.$prototype.$links.$edit=i.$edit,r.$prototype.$links.$query=i.$query;break;case"$edit":r.$prototype.$links.$save=i.$save,r.$prototype.$links.$details=i.$details,r.$prototype.$links.$query=i.$query;break;default:throw new Error(t?"facet "+t+" not handled yet":"No facet specified")}}var s=n.$articles&&n.$articles[t];s&&(r.$article=s),r.$prototype.$baseUrl="http://localhost:8124/mobile1/x3/erp/local",n.$prototype&&n.$prototype(r.$prototype,e,t)}function a(e,t){var n=i[e],r={$properties:{}};return Object.keys(n.$properties).forEach(function(e){var t=n.$properties[e],i=t.$type||"application/x-string",o=r.$properties[e]={$type:i};for(var u=0;u<s.length;u++){var a=s[u],f=t[a];f&&(o[a]=f)}}),r}var r={},i={},s=["$title","$isExcluded","$isHidden","$isMandatory","$isReadOnly","$isDisabled","$format","$x3Format","$unit","$value","$shortTitle","$capabilities","$item","$minimum","$maximum","$exclusiveMinimum","$exclusiveMaximum","$minItems","$maxItems","$isNullable","$isUnique","$pattern","$minLength","$maxLength","$precision","$scale","$enum"];t.getApps=function(){var e=[];return Object.keys(r).forEach(function(t){var n=r[t];e.push(n.$application)}),e},t.getAppDetail=function(e){return $.extend(!0,{},r[e])},t.registerApp=function(e){r[e.$application.applicationName]=e},t.registerEntity=function(e){i[e.$entityName]=e},t.getEntity=function(e){return i[e]},t.getPageInfo=function(e,t){var n=e.split(".");n.length===5&&(n=n.slice(3,5));if(n[0].smStartsWith("QUERY~")){var r=n[0].split("~");n[0]=r[1]}var s=i[n[0]];if(!s)return null;var o={home:!1,type:"regular",subtype:n[1]?n[1].substring(1):"unknown",cached:!1,refreshed:!1,changeHash:!1};return o.name=e,o},t.getRegularPageInfo=function(e){var t=e.split(".");t.length===5&&(t=t.slice(3,5));if(t[0].smStartsWith("QUERY~")){var n=t[0].split("~");t[0]=n[1]}var r=i[t[0]],s;return r&&(s=o(t[0],t[1],r)),$.smResolve(s)},t.getPrototype=function(e,t){return a(e,t)}}),define("syracuse-tablet/html/js/application/settings",["require","exports","module","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/storage/storage","syracuse-tablet/html/js/sdata/sdataCommonResources","syracuse-tablet/html/js/sdata/entities/clientContract"],function(e,t,n){function u(e){var t=$.Deferred(),n=r.getCacheCtx(),i=r.getStorage(),s=r.getCache().cachePrefix;return n={$user:"none",$role:"none",$lang:n.$lang},i.put({$context:n,$collection:s+"$settings",$endpoint:"$local",$key:"MyApps",$data:e}).then(function(n){t.resolve(e)}).fail(function(e){t.reject(e)}),t.promise()}function a(e){var t=$.Deferred(),n=r.getCacheCtx(),i=r.getStorage(),s=r.getCache().cachePrefix;return i.put({$context:n,$collection:s+"$settings",$endpoint:"$local",$key:"MyApp_"+e.$application.applicationName,$data:e}).then(function(n){t.resolve(e)}).fail(function(e){t.reject(e)}),t.promise()}var r=e("syracuse-tablet/html/js/helpers/globals"),i=e("syracuse-tablet/html/js/storage/storage"),s=e("syracuse-tablet/html/js/sdata/sdataCommonResources"),o=e("syracuse-tablet/html/js/sdata/entities/clientContract");t.getMyApplications=function(){function f(e){var t=o.getApps();t.forEach(function(t){e.push(t)})}var e=$.Deferred(),t=r.getCacheCtx(),n=r.getStorage(),a=r.getCache().cachePrefix;t={$user:"none",$role:"none",$lang:t.$lang};var l;return r.isDvlpMode()?l=$.smResolve({$status:i.StatusCodes.NOT_FOUND}):l=n.read({$context:t,$collection:a+"$settings",$endpoint:"$local",$key:"MyApps"}),l.then(function(t){if(t.$status===i.StatusCodes.OK){var n=t.$data;f(n),e.resolve(n)}else s.queryMyApplications().then(function(e){return u(e)},function(t){e.reject(t)}).then(function(t){f(t),e.resolve(t)}).fail(function(t){e.reject(t)})},function(t){e.reject(t)}),e.promise()},t.getMyApplicationDetail=function(e){var t=$.Deferred(),n=r.getCacheCtx(),u=r.getStorage(),f=r.getCache().cachePrefix;if(!e.$metaDataUrl){var l=o.getAppDetail(e.applicationName);l?t.resolve(l):t.reject("Application not found: "+e.applicationName)}else u.read({$context:n,$collection:f+"$settings",$endpoint:"$local",$key:"MyApp_"+e.applicationName}).then(function(n){n.$status===i.StatusCodes.OK?t.resolve(n.$data):s.queryMyApplicationDetail(e).then(function(e){return a(e)}).then(function(e){t.resolve(e)}).fail(function(e){t.reject(e)})},function(e){t.reject(e)});return t.promise()}}),define("syracuse-tablet/html/js/init/initContext",["require","exports","module","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/ui/modalSelectContext","syracuse-tablet/html/js/helpers/notifications","syracuse-tablet/html/js/sdata/sdataCommonResources","syracuse-tablet/html/js/storage/localStorage","syracuse-tablet/html/js/application/settings"],function(e,t,n){function l(e){return $.smResolve().then(function(){return c(e)}).then(function(){var e=$.Deferred();return o.publish("sm.context.changed",e),e.promise()}).then(function(){}).fail(function(e){r.getModal().error("context._contextChanged error",e)})}function c(e){return f.getMyApplications().then(function(t){var n={};return t.forEach(function(t){var i=!0;t.endpoints&&t.endpoints.length>0&&(i=i&&t.endpoints.some(function(t){return t.application+"."+t.contract+"."+t.dataset===e.endpoint}));var s=!0;r.isDvlpMode()?s=!0:t.roles&&t.roles.length>0&&i&&(s=s&&t.roles.some(function(t){return t.code===e.role})),s&&i&&(n[t.applicationName]=t)}),r.setApplicationsJson(n),e}).fail(function(e){r.getModal().error("context._initApplications error",e)})}function h(e,t,n,r,i){return u.getUserProfile().then(function(t){var s=!1,o={};return s=n.some(function(n){return n.application+"."+n.contract+"."+n.dataset===e.endpoint&&n.$uuid!==t.selectedEndpoint.$uuid?(o.selectedEndpoint={$uuid:n.$uuid},!0):!1})||s,s=r.forEach(function(n){return n.code===e.role&&n.$uuid!==t.selectedRole.$uuid?(o.selectedRole={$uuid:n.$uuid},!0):!1})||s,i.forEach(function(n){return n.code===e.languages&&n.$uuid!==t.selectedLocale.$uuid?(o.selectedLocale={$uuid:n.$uuid},!0):!1})||s,s?u.updateUserProfile(o).then(function(){return e}):$.smResolve(e)})}var r=e("syracuse-tablet/html/js/helpers/globals"),i=e("syracuse-tablet/html/js/helpers/locale"),s=e("syracuse-tablet/html/js/ui/modalSelectContext"),o=e("syracuse-tablet/html/js/helpers/notifications"),u=e("syracuse-tablet/html/js/sdata/sdataCommonResources"),a=e("syracuse-tablet/html/js/storage/localStorage"),f=e("syracuse-tablet/html/js/application/settings");t.getLastUsedContext=function(e){var t;try{var n=e+"_lastContext",r=a.getItem(n);r&&r.length>0&&(t=JSON.parse(r))}catch(i){}return t},t.setLastUsedContext=function(e,t){try{var n=e+"_lastContext",r=JSON.stringify(t);a.setItem(n,r)}catch(i){}},t.init=function(e,n){var o=[],a=[],f=[],c=r.getUserCtx(),p=c&&c.$user,d=r.getUserProfile(),v=t.getLastUsedContext(p);return u.queryEndpoints().then(function(e){return e.forEach(function(e){d.endpoints&&d.endpoints.some(function(t){return t.$uuid===e.$uuid})&&o.push(e)}),u.queryLocalePreferences()}).then(function(e){return f=e,u.queryRoles()}).then(function(e){e.forEach(function(e){d.roles&&d.roles.some(function(t){return t.$uuid===e.$uuid})&&a.push(e)})}).then(function(){var t=$.Deferred(),i=function(u){var l;e||u==null?l=s.selectContext(u,o,a,f,n):(u.action="ok",l=$.smResolve(u)),l.then(function(n){n&&n.action==="ok"?t.resolve(n):n&&n.action==="cancel"?v==null?(e=!0,i(n)):t.resolve(null):n&&n.action==="logout"&&r.getApplication().logout().always(function(){t.resolve(null)})}).fail(function(e){t.reject(e)})};return i(v),t.promise()}).then(function(e){return e&&(i.setLocale(e.language),r.setEndpoint(e.endpoint),r.setUserCtx({$user:c.$user,$role:e.role,$lang:e.language})),e}).then(function(e){return e?(t.setLastUsedContext(p,e),l(e)):e}).then(function(e){return e?h(e,p,o,a,f):e}).fail(function(e){r.getModal().error("context.sdataCommonResources error",e)})}}),define("syracuse-tablet/html/js/ui/iconList",["require","exports","module"],function(e,t,n){t.fontAwesomeIconNames=["fa-adjust","fa-adn","fa-ambulance","fa-anchor","fa-android","fa-angellist","fa-apple","fa-archive","fa-arrows","fa-asterisk","fa-at","fa-automobile","fa-backward","fa-ban","fa-bank","fa-barcode","fa-bars","fa-beer","fa-behance","fa-bell","fa-bicycle","fa-binoculars","fa-bitbucket","fa-bitcoin","fa-bold","fa-bolt","fa-bomb","fa-book","fa-bookmark","fa-briefcase","fa-btc","fa-bug","fa-building","fa-bullhorn","fa-bullseye","fa-bus","fa-cab","fa-calculator","fa-calendar","fa-camera","fa-car","fa-cc","fa-certificate","fa-chain","fa-check","fa-child","fa-circle","fa-clipboard","fa-close","fa-cloud","fa-cny","fa-code","fa-codepen","fa-coffee","fa-cog","fa-cogs","fa-columns","fa-comment","fa-comments","fa-compass","fa-compress","fa-copy","fa-copyright","fa-crop","fa-crosshairs","fa-css3","fa-cube","fa-cubes","fa-cut","fa-cutlery","fa-dashboard","fa-database","fa-dedent","fa-delicious","fa-desktop","fa-deviantart","fa-digg","fa-dollar","fa-download","fa-dribbble","fa-dropbox","fa-drupal","fa-edit","fa-eject","fa-empire","fa-envelope","fa-eraser","fa-eur","fa-euro","fa-exchange","fa-exclamation","fa-expand","fa-eye","fa-eyedropper","fa-facebook","fa-fax","fa-female","fa-file","fa-film","fa-filter","fa-fire","fa-flag","fa-flash","fa-flask","fa-flickr","fa-folder","fa-font","fa-forward","fa-foursquare","fa-gamepad","fa-gavel","fa-gbp","fa-ge","fa-gear","fa-gears","fa-gift","fa-git","fa-github","fa-gittip","fa-glass","fa-globe","fa-google","fa-group","fa-header","fa-headphones","fa-heart","fa-history","fa-home","fa-html5","fa-ils","fa-image","fa-inbox","fa-indent","fa-info","fa-inr","fa-instagram","fa-institution","fa-ioxhost","fa-italic","fa-joomla","fa-jpy","fa-jsfiddle","fa-key","fa-krw","fa-language","fa-laptop","fa-lastfm","fa-leaf","fa-legal","fa-link","fa-linkedin","fa-linux","fa-list","fa-lock","fa-magic","fa-magnet","fa-male","fa-maxcdn","fa-meanpath","fa-medkit","fa-microphone","fa-minus","fa-mobile","fa-money","fa-music","fa-navicon","fa-openid","fa-outdent","fa-pagelines","fa-paperclip","fa-paragraph","fa-paste","fa-pause","fa-paw","fa-paypal","fa-pencil","fa-phone","fa-photo","fa-pinterest","fa-plane","fa-play","fa-plug","fa-plus","fa-print","fa-qq","fa-qrcode","fa-question","fa-ra","fa-random","fa-rebel","fa-recycle","fa-reddit","fa-refresh","fa-remove","fa-renren","fa-reorder","fa-repeat","fa-reply","fa-retweet","fa-rmb","fa-road","fa-rocket","fa-rouble","fa-rss","fa-rub","fa-ruble","fa-rupee","fa-save","fa-scissors","fa-search","fa-send","fa-share","fa-shekel","fa-sheqel","fa-shield","fa-signal","fa-sitemap","fa-skype","fa-slack","fa-sliders","fa-slideshare","fa-sort","fa-soundcloud","fa-spinner","fa-spoon","fa-spotify","fa-square","fa-star","fa-steam","fa-stethoscope","fa-stop","fa-strikethrough","fa-stumbleupon","fa-subscript","fa-suitcase","fa-superscript","fa-support","fa-table","fa-tablet","fa-tachometer","fa-tag","fa-tags","fa-tasks","fa-taxi","fa-terminal","fa-th","fa-ticket","fa-times","fa-tint","fa-trash","fa-tree","fa-trello","fa-trophy","fa-truck","fa-try","fa-tty","fa-tumblr","fa-twitch","fa-twitter","fa-umbrella","fa-underline","fa-undo","fa-university","fa-unlink","fa-unlock","fa-unsorted","fa-upload","fa-usd","fa-user","fa-users","fa-vine","fa-vk","fa-warning","fa-wechat","fa-weibo","fa-weixin","fa-wheelchair","fa-wifi","fa-windows","fa-won","fa-wordpress","fa-wrench","fa-xing","fa-yahoo","fa-yelp","fa-yen","fa-youtube"]}),define("syracuse-tablet/html/js/ui/fontUtils",["require","exports","module","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/ui/iconList"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/logger").getLogger("app"),i=e("syracuse-tablet/html/js/ui/iconList"),s={$first:"glyphicon glyphicon-step-backward",$previous:"glyphicon glyphicon-chevron-left",$next:"glyphicon glyphicon-chevron-right",$last:"glyphicon glyphicon-step-forward",$more:"glyphicon glyphicon-refresh"},o=function(e){if(e==null)e=Math.random()*(i.fontAwesomeIconNames.length-1);else if(e<i.fontAwesomeIconNames.length)e=Math.abs(e);else{var t=Math.round(Math.abs(e)/i.fontAwesomeIconNames.length);e-=t*i.fontAwesomeIconNames.length}return"fa "+i.fontAwesomeIconNames[e]},u=function(e){switch(e){case"$edit":return"fa fa-pencil-square-o";case"$query":return"fa fa-list";case"$save":return"fa fa-floppy-o";case"$details":return"fa fa-level-down";case"$delete":return"fa fa-trash-o";case"$create":return"fa fa-plus-square";default:if(i.fontAwesomeIconNames.indexOf("fa-"+e)>-1)return"fa fa-"+e;return r&&r("Icon name="+e+" not implemented yet"),"fa fa-warning"}return!0};t.getIconByIdx=o,t.getIconByName=u,t.checkBoxIcon=function(e){return["glyphicon",e?"glyphicon-ok":"glyphicon-remove"]},t.dateFieldIcon=function(e){return e.indexOf("date")!=-1?["glyphicon","glyphicon-calendar"]:["glyphicon","glyphicon-time"]},t.refFieldIcon=function(){return["glyphicon","glyphicon-eye-open"]},t.binaryIcon=function(e,t){return e==="s-m-img"?"glyphicon "+(t==="default"?"glyphicon-picture":""):e==="s-m-binary"?"glyphicon "+(t==="default"?"glyphicon-file":""):""},t.paginationIcon=function(e){return s[e]},t.pageIcon=function(e){if(e==="clearCache")return"fa fa-history";if(e==="switchContext")return"fa fa-user";if(e==="search")return"fa fa-search";if(e==="sidePanelL")return"fa fa-caret-square-o-left";if(e==="sidePanelR")return"fa fa-caret-square-o-right";if(e==="home")return"fa fa-home";if(e==="designPage")return"fa fa-paint-brush";if(e==="back")return"fa fa-arrow-circle-o-left"},t.ctrlIcon=function(e){if(e==="editrow")return"fa fa-pencil-square-o";if(e==="detailrow")return"fa fa-hand-o-right";if(e==="delrow")return"fa fa-remove";if(e==="addrow")return"fa fa-plus"},t.vignetteIcons=function(e){if(e==="home")return"fa fa-home";if(e==="back")return"fa fa fa-arrow-circle-o-left";if(e==="refresh")return"fa fa-history"}}),define("syracuse-tablet/html/js/controls/ctrlFactory",["require","exports","module","syracuse-tablet/html/js/helpers/logger"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/logger").getLogger("factory"),i={},s={string:"application/x-string",password:"application/x-password",text:"text/plain",integer:"application/x-integer",real:"application/x-real",decimal:"application/x-decimal",quantity:"application/x-quantity",choice:"application/x-choice","boolean":"application/x-boolean",date:"application/x-date",time:"application/x-time",datetime:"application/x-datetime",reference:"application/x-reference",array:"application/x-array",image:"image",doc:"application/x-document",binary:"application/x-binary",soapObject:"application/x-object",textRtf:"text/rtf",textHtml:"text/html",textPlain:"text/plain",vignette:"tablet/x-vignette",layout:"tablet/x-layout",pageheader:"tablet/x-pageheader",pagefooter:"tablet/x-pagefooter",pageactionpanel:"tablet/x-pageactionpanel",navigationpanel:"tablet/x-navigationpanel",icon:"tablet/x-icon",button:"tablet/x-button",unfound:"tablet/x-unfound"},o=function(e,t,n,r,i){return i=i||{},i.isArrayChild=!0,i.isTableCell=!0,u(t,null,n,r,i)},u=function(e,t,n,r,o,u){if(!e)throw new Error("Control - null parent or controller");o=o||{};var a,f=r.data("$type");switch(f){case s.string:case s.password:switch(r.data("$format")){case"$phone":a=new i.PhoneField(e,n,r,o);break;case"$email":a=new i.EmailField(e,n,r,o);break;default:a=new i.Alphanum(e,n,r,o)}break;case s.integer:case s.real:case s.decimal:n.$gauge?a=new i.Gauge(e,n,r,o):a=new i.Numeric(e,n,r,o);break;case s.quantity:a=new i.Quantity(e,n,r,o);break;case s.choice:a=new i.Combo(e,n,r,o);break;case s.boolean:a=new i.CheckBox(e,n,r,o);break;case s.date:case s.time:case s.datetime:a=new i.Date(e,n,r,o);break;case s.reference:a=new i.Reference(e,n,r,o);break;case s.array:r.data("$cube")?a=new i.CubeChart(e,n,r,o):a=new i.Array(e,n,r,o);break;case s.vignette:a=new i.Vignette(e,n,r,o);break;case s.image:case s.doc:case s.binary:a=new i.Binary(e,n,r,o);break;case s.icon:a=new i.Icon(e,n,r,o);break;case s.button:a=new i.Button(e,n,r,o);break;case s.textRtf:case s.textHtml:case s.textPlain:a=new i.Text(e,n,r,o);break;case s.soapObject:throw new Error("not implemented");case s.unfound:a=new i.FieldUnfound(e,n,r,o);break;default:a=new i.TypeUnknown(e,n,r,o)}u&&a.setAuthoringPath(u);if(o.isTableCell!==!0){if(!t)throw new Error("Parent's control is mandatory");t.appendStructElmt(a),o.isArrayChild!==!0&&e.addControl(a)}return a},a=function(e,t,n,o,u){var a=n.$layoutType||"stack",f;if(a=="stack")f=i.LayoutStack;else if(a=="row")f=i.LayoutRow;else if(a=="tab")f=i.LayoutTab;else if(a=="hub")f=i.LayoutHub;else if(a=="hubGroup")f=i.LayoutHubGroup;else if(a=="tile")f=i.LayoutTile;else{if(a!="cell")return r&&r("layout type="+a+" is not implemented"),null;f=i.LayoutCell}var l=new f(e,s.layout,n,o);return l.setAuthoringPath(u),t?t.appendStructElmt(l):l.parent=e,l},f=function(e,t,n){var r;switch(e){case s.pageheader:r=new i.PageHeader(t,s.pageheader,n);break;case s.pagefooter:r=new i.PageFooter(t,s.pagefooter,n);break;case s.pageactionpanel:switch(t.state.type){case"dashboard":r=new i.DashboardActionPanel(t,s.pageactionpanel,n);break;case"regular":r=new i.RegularActionPanel(t,s.pageactionpanel,n);break;default:throw new Error("Unknown page type["+t.state.type+"]")}break;case s.navigationpanel:r=new i.NavigationPanel(t,s.navigationpanel,n);break;default:throw new Error("Unknown static control["+e+"]")}return r&&t.addControl(r),r};t.createControl=u,t.createLayout=a,t.createPageControl=f,t.createCellFieldCtrl=o,t.type=function(e){return s[e]},t.setImpl=function(e,t){i[e]=t}}),define("syracuse-tablet/html/js/helpers/articleParser",["require","exports","module","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/controls/ctrlFactory","syracuse-tablet/html/js/helpers/jsutils"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/logger").getLogger("articleParser"),i=e("syracuse-tablet/html/js/helpers/utils"),s=e("syracuse-tablet/html/js/helpers/globals"),o=e("syracuse-tablet/html/js/controls/ctrlFactory"),u=e("syracuse-tablet/html/js/helpers/jsutils"),a=function(e){return e.$item.$properties==null||e.$type=="application/x-reference"},f=function(e){if(!e)return null;var t;return $.isPlainObject(e)?t=e:e.isArray()?t=e.json:e.parent&&(t=e.parent.json),t==null||t.$type!=="application/x-array"?null:t},l=function(e,t){var n=f(e);if(!n)return t;t.$article={$items:[]},t.$display="table";var r,i;a(n)?(r={},r[s.SINGLEARRAYPROP]=n):r=n.$item.$properties;for(var o in r)o.smStartsWith("$")||(i=r[o],i.$isExcluded!==!0&&t.$article.$items.push({$bind:o}));return t},c=function(e,t,n){var r=$.extend({},{$bind:e},n);return l(t,r)},h=i.defineClass(function(e){var t=this;t.page=e},null,{_doParse:function(e,t,n,i,s,u){var a=this;u=u||"0";var f=0;if(e.$layoutType){var c=o.createLayout(a.page,n,e,i,u);return c&&e.$items&&(t.isQuery()&&(t=t.getPrototype("$resources")),e.$items.forEach(function(e){a._doParse(e,t,c,i,s,u+"-"+f),f++})),c}if(e.$bind){var h=t.getPrototype(e.$bind);h==null&&e.$isUnfound!==!0?s.push(e):(e.$isUnfound&&(h=t.create({$type:"tablet/x-unfound"})),h.$isExcluded||(h.isArray()&&e.$article==null&&l(h,e),o.createControl(a.page,n,e,h,i,u)))}else r&&r("$layoutType or $bind exspected")},parse:function(e,t,n,i){var s=this;try{if(!e||!t)throw new Error("Not empty article and prototype are expected");if(!e.$layoutType)throw new Error("$layoutType expected for root layout");var o=[],a=s._doParse(e,t,null,n,o,i);if(o.length>0){var e={$layoutType:"stack",$items:[]};o.forEach(function(t){e.$items.push($.extend(!0,t,{$isUnfound:!0}))}),s._doParse(e,t,a,n,null,i)}return a}catch(f){throw r&&r("article parser error",f),new Error("Error parsing article ["+f.message+"]\n"+u.cleanStack(f.stack))}}}),p=function(e,t,n,r,i){var s=new h(e);return s.parse(t,n,r,i)},d=function(e,t,n,r){var i=c(n,r);return o.createCellFieldCtrl(t,e.controller,i,r)},v=function(e,t){var n=e.article.$article.$card,r=e.article.$article.$cardsPerRow;return r=Math.min(12,Math.max(0,r==null?1:parseInt(r,10))),n||(n={$layoutType:"stack",$items:[]},e.article.$article.$items.forEach(function(e){n.$items.push(e)})),t=t||{},t.isArrayChild=!0,t.isTableCell=!1,p(e.controller,n,e.prototype.getPrototype("$item"),t)},m={skipblock:!0,skipsection:!0,include:["$category","$layoutType","$title","$bind"],exclude:["$items","$widths"],protoExclude:["application/x-array","application/json"]},g=function(e){var t=[];e=e.split(",");if(e.length===0)throw new Error("Number of cells/rows must be > 0");if(e.length>12)throw new Error("Number of cells/rows must be <= 12");var n=0;e.forEach(function(e){e=parseInt(e,10),e=Math.ceil(e/12),n+=e,t.push(e)});if(n>12){var r=n-12;t.sort();while(r>0)for(var i=t.length-1;i>=0;i--)r>0&&t[i]>1&&(t[i]=t[i]-1,r--)}else if(n<12){var r=12-n;t.sort();while(r>0)for(var i=0;i<t.length;i++)r>0&&(t[i]=t[i]+1,r--)}return t.join(",")},y=function(e,t){if(!e)return null;var n;e.$layout?n=y(e.$layout,t):n={};if(e.$layoutType){if(!e.$items)throw new Error("$items is missing");n.$items=[],e.$items.forEach(function(e){n.$items.push(y(e,t))})}for(var r in e)r==="$widths"?n[r]=g(e[r]):t.exclude.indexOf(r)===-1&&t.include.indexOf(r)>=0&&(n[r]=e[r]);return n},b=function(e,t,n){return n=$.extend({},m,n),y(e,n)};t.tableCell2Control=d,t.cardV2Controls=v,t.article2Controls=p,t.convertDesktop=b,t.createArticle=c,t.isSingleArray=a,t.getArrayJsonProto=f}),define("syracuse-tablet/html/js/helpers/prototype",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/application/gadget","syracuse-tablet/html/js/sdata/sdataUtils","syracuse-tablet/html/js/ui/fontUtils","syracuse-tablet/html/js/helpers/articleParser"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/globals"),s=e("syracuse-tablet/html/js/helpers/logger").getLogger("prototype"),o=e("syracuse-tablet/html/js/application/gadget").Klass,u=e("syracuse-tablet/html/js/sdata/sdataUtils"),a=e("syracuse-tablet/html/js/ui/fontUtils"),f=e("syracuse-tablet/html/js/helpers/articleParser"),l=function(e,t){e.icon=a.getIconByName(t);switch(t){case"$edit":e.title="Edit";break;case"$query":e.title="List";break;case"$save":e.title="Save";break;case"$details":e.title="Detail";break;case"$delete":e.title="Delete";break;case"$create":e.title="Create";break;default:s&&s("Facet "+t+" not implemented yet"),e.title="???"}},c={$isExcluded:!1,$isHidden:!1,isMandatory:!1,$isReadOnly:!1,$isDisabled:!1},h=null,p=/{[^}]+}/g,d=/[{}]/g,v=r.defineClass(function(e,t){var n=this;n.json=e||{},typeof n.json=="string"&&(n.json=JSON.parse(n.json)),n._children=null,t&&(t._appendChild(n),n.parent=t),n.init()},null,{init:function(){var e=this,t=e.json.$properties;if(!t)return;for(var n in t)t[n].$type==="application/x-reference"&&e.initRefField(t[n],n)},destroy:function(){var e=this;e.parent=null,e.json=null,e._children&&(e._children.forEach(function(e){e&&e.destroy()}),e._children=null)},_appendChild:function(e){var t=this;t._children||(t._children=[]),t._children.push(e)},data:function(e,t,n){var r=this;if(!e||e.length==0)return null;var i=r.json[e];return i==null?n!==!0&&r.parent?r.parent.data(e):i:r.resolveExpression(i,t)},property:function(e,t,n){var r=this;if(!e||e.length===0)return null;var i=r.json.$properties?r.json.$properties[e]:r.parent?r.parent.property(e):null;return!i||!t?i:r.resolveExpression(i[t],n)},isReference:function(e){var t=this.property(e);return t&&t.$type==="application/x-reference"},isArray:function(){return this.json.$type==="application/x-array"},resolveExpression:function(e,t){return e&&e.indexOf&&e.indexOf("{")>=0&&(e=r.parseExpression(e,t,this)),e},getMetaData:function(e){var t=this;if(e.smStartsWith("$"))throw new Error("getMetaData - Unexpected property name ["+e+"]");t._metaData||(t._metaData={});var n=t._metaData[e];return n?n:(n=t._metaData[e]=$.extend({},c,t.property(e)),n)},localization:function(e){var t=this,n=t.json.$localization||{};return n[e]?n[e]:t.parent?t.parent.localization(e):null},getPrototype:function(e,n){var r;if(e.indexOf(".")>0)r=this.getDataByPath(e);else if(e==="$item"){r=this.data(e);if(this.isSingleArray(!0)){var s={$properties:{},$type:"application/json"};s.$properties[i.SINGLEARRAYPROP]=r,r=s}}else r=this.property(e);return r?t.create($.extend(!0,{},r,n),this):null},isQuery:function(){if(this._isQuery!=null)return this._isQuery;var e=this.data("$url");return this._isQuery=e&&e.smEndsWith("$query")?!0:!1,this._isQuery},isLookup:function(){if(this._isLookup!=null)return this._isLookup;var e=this.data("$url");return this._isLookup=e&&e.smEndsWith("$lookup")?!0:!1,this._isLookup},formatDisplay:function(e,t){var n=this,r=n.property(e)},addProperty:function(e,t){var n=this;t&&n.json.$properties&&!n.json.$properties[e]&&(n.json.$properties[e]=t)},getPropTitle:function(e){var t=this,n=t.property(e);return n&&n.$title?t.resolveExpression(n.$title):""},getFieldNameForValue:function(e){var t=this.property(e),n=t&&t.$item;return n&&n.$refValue?n.$refValue:e},initRefField:function(e,t){var n=this;if(!e)throw new Error("Field proto expected["+t+"]");var r=e.$item;if(!r||r.$refValue)return;r.$refValue=t;if(r.$value&&typeof r.$value=="string"){var i=r.$value.match(p);if(i&&i.length==1){var o=i[0].replace(d,"").trim();r.$properties&&r.$properties[o]&&(r.$lookupvalue=o);if(r[o]){var u=r[o].replace(d,"").trim();n.property(u)&&(r.$refValue=u)}else r.$refValue=o}else s&&s("!!! _getRefenceValue - Only one value is expected")}if(r.$description&&r.$properties&&typeof r.$description=="string"){var a=r.$description.match(p);if(a&&a.length==1){var f=a[0].replace(d,"").trim();r.$properties[f]&&(r.$lookupdescr=f)}}return r.$refValue},getLookupValue:function(){return this.getDataByPath("$item.$lookupvalue")},getDataByPath:function(e){return r.getPropByPath(this.json,e,this)},getVignetteGadget:function(){var e=this.data("$gadget");return e?new o(e):null},getLinks:function(e,t,n){var r=this,i=[];if(!e)return[];n=n||{},t=t||"all";var o=e.getLinksStatus(r);return o&&Object.keys(o).length>0&&$.each(o,function(n,o){try{if(o==null||o.$isExcluded===!0)return;if(o.$type!=null&&o.$type.length!==0&&o.$type!=="application/json;vnd.sage=syracuse")return;var a=u.getLinkInfo(o.$url,e,n==="$save"),f=n.smStartsWith("$"),c=t==="all";if(c||t==="visible"&&f||t==="hidden"&&!f){var h=$.extend({},o);h.page=a.page,h.name=n,h.sdataurl=a.sDataUrl,f&&(c||t==="visible")?l(h,n):!f&&(c||t==="hidden")&&(h.title=r.resolveExpression(o.$title),h.icon=""),i.push(h)}}catch(p){o=o||{},s&&s("getLinks - invalid link - Title: "+r.resolveExpression(o.$title||"no title")+"\n	"+(o.$url||"no url"))}}),i},getUnitFieldInfo:function(){var e=this,n={};n.$unit=e.data("$unit");if(typeof n.$unit=="object")n.unitBindName="$unit",n.unitFieldProto=t.create($.extend({},e.$unit));else if(typeof n.$unit=="string"){n.unitBindName=n.$unit;var r=e.parent;while(r){var i=r.property(n.$unit);if(i){n.unitFieldProto=t.create($.extend({},i));break}r=r.parent}}return n},toArticle:function(){var e=this,t=e.data("$properties"),n={$layoutType:"stack",$items:[]},r=e.data("$url").indexOf(".$query")>0,i;for(var s in t){i=t[s];if(i.$isExcluded!==!0){var o=f.createArticle(s,i);r&&(o.$isTitleHidden=r),n.$items.push(o)}}return n},isSingleArray:function(e){if(this.$singleArray)return this.$singleArray;var t=f.getArrayJsonProto(this);if(t==null&&e)return!1;if(t==null)throw new Error("Unexpected parent array");return this.$singleArray=f.isSingleArray(t),this.$singleArray},create:function(e){return t.create($.extend(!0,{},e),this)}});t.getRowIdxProto=function(){return h?h:(h=t.create({$type:"application/x-integer"}),h)},t.create=function(e,t){return new v(e,t)}}),define("syracuse-tablet/html/js/application/pageHelper",["require","exports","module","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/sdata/entities/clientContract","syracuse-tablet/html/js/helpers/prototype"],function(e,t,n){function f(e){if(!e||!e.name)throw new Error("Bad page state");u[e.name]=e}function l(e,t){if(!e||e.length==0)throw new Error("Bad page name");var n={home:!1,type:"regular",subtype:"",cached:!1,refreshed:!1,changeHash:!1};return n.name=e,t&&(n.type=t),n}function c(){for(var e in a)f($.extend(!0,{},l(e),a[e]))}var r=e("syracuse-tablet/html/js/helpers/globals"),i=e("syracuse-tablet/html/js/helpers/utils"),s=e("syracuse-tablet/html/js/sdata/entities/clientContract"),o=e("syracuse-tablet/html/js/helpers/prototype"),u={},a={login:{isLogin:!0,type:"html",subtype:"login",disableAuthoring:!0}},h=function(e,t){var n;return n=u[e],n&&t===!0&&(n=$.extend(!0,{},n)),n},p=function(e,t,n){t=t||{};if(!n)throw new Error("Not null currentPage expected");if(!n.getControl)throw new Error("Unexpected currentPage object - getControl method not found");var i=n.getControl(t.controlId);if(!i)throw new Error("Array not found - id:"+t.controlId);var s=i.rowDetailGetPageName(n.state.name),o=h(s);if(o)return o;o=l(s,e),o.subtype=n.isEditMode()?"edit":"details",f(o);var u=i.rowDetailGetPrototype(),a=null;return r.registerAdditionalPage(s,u,a),o},d=function(e){if(!e.authoringName){var t=e.name.split("."),n;t.length===5?n=t[0]+"."+t[1]+"."+t[3]+"."+t[4]:n=e.name,t.length===2&&(n="syracuse.collaboration."+n),e.authoringName=n}return e},v=function(e,t,n){e=e||"";if(typeof e!="string")return e;var o=e.trim();t=t||{},e=s.getPageInfo(o,t),e||(o==="rowdetail"?e=p(o,t,n):e=h(o,!0)),e||(e=l(o));if(t){e.options=t?$.extend(!0,{},t):{};var u=t["gadget-id"];u&&(e.options.gadget=r.getApplication().dao.getGadget(u))}return e.transition||(e.transition=r.$config("transition")),e.uuid=i.readableuid("page",e.type,e.name),e},m=function(e,t){var n=l(e,"regular");if(t.$page&&t.$page.$prototype){var r=t.$page.$prototype.$type;r||(r=t.$page.$prototype.$url),n.subtype=r.substring(r.lastIndexOf(".$")+2);if(!n.subtype)throw new Error("unexpected facet for page "+e+"\n$url="+t.$page.$prototype.$url)}else n.subtype="unknown";return f(n),n},g=function(e,t,n){var i=$.extend(!0,{},l(r.getDashboardName(t.$dashboardName),"dashboard"),t.$pageInfo);n.$application.$homeDashboard.dashboardName===t.$dashboardName?(i.subtype=i.isWelcomePage?"welcome":"home",i.isHomeDashboard=!0):(i.isHomeDashboard=!1,i.subtype="std"),i.dashboardUuid=e,f(i)},y=function(e){u={},c();if(!e)return;if(e.$dashboards)for(var t in e.$dashboards)g(t,e.$dashboards[t],e);if(e.$pages)for(var t in e.$pages)m(t,e.$pages[t])},b=function(e){if(!e)return;e.jquery||(e=$(e));var t=Array.prototype.slice.call(arguments,1);e.children(".s-m-page").each(function(e){var n=$(this).smPageController();n&&Array.prototype.indexOf.call(t,n)==-1&&n.destroy()})};t.getPageInfo=function(e,t,n){return d(v(e,t,n))},t.registerPages=y,t.removeAllPages=b,t.registerRegularPage=m,c()}),define("syracuse-tablet/html/js/authoring/authoringSData",["require","exports","module","syracuse-tablet/html/js/sdata/sdataHttp"],function(e,t,n){function s(e,t){Object.keys(e).forEach(function(n){var r=e[n];n==="$diagnoses"?r.forEach(function(e){t.push(e)}):r&&typeof r=="object"&&s(r,t)})}var r=e("syracuse-tablet/html/js/sdata/sdataHttp"),i="mobile";t.getPageVariants=function(e){return $.smResolve().then(function(){e=$.extend(!0,{},{device:i},e);if(!e.application||!e.contract||!e.representation||!e.facet||!e.device)return $.smReject("Not all mandatory parameters present: "+JSON.stringify(e));var t=[e.application,e.contract,e.representation,e.facet,e.device].join("."),n={url:"/sdata/syracuse/collaboration/syracuse/pageDefs(code%20eq%20'"+t+"')?representation=pageDef.$details"};return r.send(n).then(function(e){return e&&e.isSuccess?e.responseJSON.variants||[]:e.status===404?[]:$.smReject("Unknown error")})})},t.deletePageVariants=function(e){return $.smResolve().then(function(){e=$.extend(!0,{},{device:i},e);if(!e.application||!e.contract||!e.representation||!e.facet||!e.device)return $.smReject("Not all mandatory parameters present: "+JSON.stringify(e));var t=[e.application,e.contract,e.representation,e.facet,e.device].join("."),n={url:"/sdata/syracuse/collaboration/syracuse/pageDefs(code%20eq%20'"+t+"')?representation=pageDef.$edit",method:"DELETE"};return r.send(n).then(function(e){if(e&&e.isSuccess)return;return $.smReject("Unknown error")})})},t.createPageDefinitionWC=function(e){var t={pageContext:[e.application,e.contract,e.representation,e.facet].join("."),device:i,representation:"pageAuth.$edit"},n="/sdata/syracuse/collaboration/syracuse/pageAuths"+(e.variant!=null?"('"+e.variant+"')":"/$template")+"/$workingCopies?"+Object.keys(t).map(function(e){return e+"="+t[e]}).join("&"),s={url:n,method:"POST"};return r.send(s).then(function(e){return e&&e.isSuccess?e.responseJSON:$.smReject("Unknown error")})},t.savePageDefinitionWC=function(e,t){var n={roles:e.roles,users:e.users,endpoints:e.endpoints,saveAsOption:e.saveAsOption,isFactory:!1,isModelRepresentation:!1,personalCopy:!1,variantCode:e.variantCode,variantTitle:e.variantTitle,variantDescription:e.variantDescription};switch(e.saveAsOption){case"factory_variant":n.isFactory=!0;break;case"personal_copy":n.personalCopy=!0;break;case"shared_copy":break;case"global_variant":}t.$actions={};var i;e.variant?(i=t.$actions.$save={},delete n.saveAsOption):i=t.$actions.saveAs={},i.$isRequested=!0,i.$parameters=n;var s={url:t.$url,method:"PUT",send:t};return r.send(s).then(function(e){return e&&e.isSuccess?e.responseJSON:$.smReject("Unknown error")})},t.savePageDefinition=function(e){return t.createPageDefinitionWC(e).then(function(n){var r=$.extend(!0,{},n);return r.content=r.content||{},r.content.$article=e.article,t.savePageDefinitionWC(e,r).then(function(e){var t=$.extend(!0,{},n,e),r=[];return s(t,r),{data:t,diags:r}}).fail(function(e){return $.smReject({data:null,diags:[{$severity:"error",$message:""+e}]})})})}}),define("syracuse-tablet/html/js/authoring/authoringHtml",["require","exports","module"],function(e,t,n){function s(e){var t=i[e];if(t)return t;var n=r[e];return t=Handlebars.compile(n),i[e]=t,t}var r={authPanelMainStructure:'		<div id="s-m-site-auth-panel-content"> 			<ul class="nav nav-pills" role="tablist"> 				<li><a href="#authPanelControl" role="tab" data-toggle="tab">{{label_control}}</a></li> 				<li class="active"><a href="#authPanelEdit" role="tab" data-toggle="tab">{{label_edit}}</a></li> 				<li><a href="#authPanelSave" role="tab" data-toggle="tab">{{label_save}}</a></li> 			</ul> 			<div class="tab-content"> 				<div id="authPanelControl" class="tab-pane panel-body active"> 		 			<div class="s-m-auth-prop-list"> 						<label class="control-label">{{label_control_title}}</label> 				    	<p class="form-control-static" id="authPanelControlTitle"> </p> 						<label class="control-label">{{label_control_type}}</label> 						<p class="form-control-static" id="authPanelControlType"> </p> 					</div> 					<div id="authPanelControlSimple"> 					</div> 				</div> 				<div id="authPanelEdit" class="tab-pane panel-body"> 					<label id="authEditName"></label> 					<textarea  id="authJSONPage" type="text"></textarea> 					<button type="button" id="authPanelBtnPageApply" class="btn pull-right">{{label_apply}}</button> 				</div> 				<div id="authPanelSave" class="tab-pane panel-body"> 					<label id="authPageName"></label> 					<div class="form-group"> 						<label>{{label_code}}</label> 						<input class="form-control" id="authCode" value="{{authCodeDefault}}" /> 					</div> 					<div class="form-group"> 						<label>{{label_title}}</label> 						<input class="form-control" id="authTitle" value="{{authTitleDefault}}" /> 					</div> 					<div class="form-group"> 						<label>{{label_description}}</label> 						<input class="form-control" id="authDescription" value="{{authDescriptionDefault}}"  /> 					</div> 					<label>{{label_saveas_option}}</label> 					<div class="btn-group btn-group-justified" data-toggle="buttons"> 						<div class="btn-group"> 							<label class="btn btn-primary"> 								<input type="radio" name="options" id="personal_copy" checked>{{label_personal}} 							</label> 						</div> 						<div class="btn-group"> 							<label class="btn btn-primary"> 								<input type="radio" name="options" id="global_variant"> {{label_global}} 							</label> 						</div> 						<div class="btn-group"> 							<label class="btn btn-primary active"> 								<input type="radio" name="options" id="factory_variant">{{label_factory}} 							</label> 						</div> 					</div> 					<button type="button" id="authPanelBtnSave" class="btn pull-right">{{label_save}}</button> 				</div> 			</div> 		</div>',authPanelPropertyGroup:' 		<div class="panel panel-primary s-m-panel-auth-prop"> 			<div class="panel-heading" role="tab" id="heading_{{id}}"> 				<h4 class="panel-title"> 					<a data-toggle="collapse" data-parent="#accordion" href="#collapse_{{id}}" {{#if expanded}} aria-expanded="true"{{/if}} aria-controls="collapse_{{id}}" {{#unless expanded}}class="collapsed"{{/unless}}>{{label}}</a> 				</h4> 			</div> 			<div id="collapse_{{id}}" class="panel-collapse collapse {{#if expanded}}in{{/if}}" role="tabpanel" aria-labelledby="heading_{{id}}"> 			</div> 		</div>',authPanelPropertyRadio:' 		<div class="btn-group" data-toggle="buttons" style="width: 100%;"> 			{{#each options}} 				<div class="btn-group" style="width: 100%; display: {{this.display}};" id="{{this.id}}"> 					<label class="s-m-auth-btn-radio-icon s-m-auth-btn-block" id="{{this.id}}_lab" data-s-m-auth-value="{{this.value}}"> 						<input type="radio" name="{{group}}" id="{{this.id}}">{{this.label}} 					</label> 				</div> 			{{/each}} 		</div>',authPanelPropertyRadioColor:' 		<div class="btn-group" data-toggle="buttons" style="width: 100%;"> 			{{#each options}} 				<div class="btn-group" style="width: 100%;"> 					<label class="s-m-auth-btn-radio-icon s-m-auth-btn-block" id="{{this.id}}_lab" data-s-m-auth-value="{{this.value}}"> 						<input type="radio" name="{{group}}" id="{{this.id}}">{{this.label}} 						<div class="s-m-auth-btn-radio-color s-m-bg-{{color}} "></div> 					</label> 				</div> 			{{/each}} 		</div>',authPanelPropertyInput:' 			<div class="form-group"> 				<input class="form-control" id="{{id}}" value="{{value}}" /> 			</div>',authPanelPropertyCellSize:' 		{{#each sizes}} 			<label class="{{class}}">{{this.label}}</label> 			<div class="btn-group x_btn-group-justified" data-toggle="buttons" style="width: 100%;"> 				{{#each ../values}} 					<div class="btn-group"> 						<label class="btn btn-default btn-lg" id="{{this.id}}_lab" data-s-m-auth-prop="{{../this.prop}}" data-s-m-auth-value="{{this}}"> 							<input type="radio" name="{{group}}" id="{{../this.prop}}={{this}}">{{this}} 						</label> 					</div> 				{{/each}} 			</div> 		{{/each}}',authPanelPropertyJSON:' 		<div class="form-group"> 			<textarea class="form-control" id="{{id}}" rows="10">{{value}}</textarea> 		</div>'},i={};t.execute=function(e,t){var n=s(e);return n(t)}}),define("syracuse-tablet/html/js/authoring/authoringVal",["require","exports","module","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){function o(e,t,n,r){Object.keys(s).forEach(function(i){n[i]!==undefined&&s[i](e,t,n,i,r)});var i;n.$items?i=n.$items:n.$article&&(i=[n.$article]),i&&i.forEach(function(t){o(e,n,t,r)})}function u(e,t,n,i,s){var o=n.$layoutType,u=t&&t.$layoutType,a=["stack","row","cell","hub","hubGroup","tile"];if(a.indexOf(o)<0){s.push(r.text("auth.err.unknown.layout",[o]));return}if(!e)return;switch(o){case"hub":t!=null&&s.push(r.text("auth.err.hub.notroot"));break;case"hubGroup":u!="hub"&&s.push(r.text("auth.err.hubgroup.nohub"));break;case"tile":u!="hubGroup"&&s.push(r.text("auth.err.tile.nohubgroup"))}}function a(e,t,n,i,s){var o=n[i];o.match(/^[0-9]+px$/)||s.push(r.text("auth.err.rowheight",[o]))}function f(e,t,n,s,o){var u=n[s],a=i.tileColor.values.map(function(e){return e.value});a.indexOf(u)<0&&o.push(r.text("auth.err.bgColor",[s,a.join(", "),u]))}function l(e,t,n,i,s){var o=+n[i];o>=1&&o<=12||s.push(r.text("auth.err.cellSize",[i,o]))}function c(e,t,n,s,o){var u=n[s],a=i.tileSize.values.map(function(e){return e.value});a.indexOf(u)<0&&o.push(r.text("auth.err.tileSize",[a.join(", "),u]))}var r=e("syracuse-tablet/html/js/helpers/locale"),i;t.setProperties=function(e){i=e},t.validate=function(e,t){var n=[];try{o(e,null,t,n)}catch(r){n.push(r.message)}return n};var s={$layoutType:u,$rowHeight:a,$bgColor:f,$size:c,$widthXs:l,$widthSm:l,$widthMd:l,$widthLg:l}}),define("syracuse-tablet/html/js/authoring/authoringProperties",["require","exports","module","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/authoring/authoringHtml","syracuse-tablet/html/js/helpers/notifications","syracuse-tablet/html/js/authoring/authoringVal"],function(e,t,n){function c(e,t,n){var r=m(a.labelPosition,e,t),i=$.extend(!0,{},a.labelAlign);return i.values.forEach(function(e){r==="left"&&e.value==="center"?e.isHidden=!0:e.isHidden=!1}),i}function h(e,t){var n=m(a.arrayDisplay,e,t);return n!=="cardV"?v(a.arrayCardsPerRow,!0):v(a.arrayCardsPerRow,!1)}function p(e,t){var n=m(a.arrayDisplay,e,t);return n!=="cardH"?v(a.arrayCardsPerLine,!0):v(a.arrayCardsPerLine,!1)}function d(e,t){var n=m(a.arrayDisplay,e,t);return n==="table"?v(a.arrayDisplayEmptyCells,!0):v(a.arrayDisplayEmptyCells,!1)}function v(e,t){var n=$.extend(!0,{},e);return n.values.forEach(function(e){e.isHidden=t}),n}function m(e,t,n){var r=n.articleSelection&&n.articleSelection[e.key];return r=r!=null?r:e["default"],r}function g(e,t,n,r){n.articleSelection[e.key]=r}function y(e,t,n,r){var s={group:"auth_opt_"+t.name,options:[]},o=m(t,n,r),u=!0;t.values.forEach(function(e){s.options.push({id:s.group+"_"+e.value,value:""+e.value,label:e.label,display:e.isHidden?"none":"block"}),u=u&&e.isHidden});var a=i.execute("authPanelPropertyRadio",s),f=$(a);$("label[data-s-m-auth-value='"+(""+o)+"']",f).eq(0).button("toggle"),$("label",f).on("click",function(i){var s=$(i.currentTarget),o=s.attr("data-s-m-auth-value");s.eq(0).button("toggle"),o==="true"?o=!0:o==="false"&&(o=!1),g(t,n,r,o),T(e,n,r)}),e.append(f),u?e.parent(".s-m-panel-auth-prop").hide():e.parent(".s-m-panel-auth-prop").show()}function b(e,t,n,r){var i=!0;t.values.forEach(function(n){var r="auth_opt_"+t.name+"_"+n.value,s=$("#"+r,e),o=n.isHidden?"none":"block";s.css("display",o),i=i&&n.isHidden}),i?e.parent(".s-m-panel-auth-prop").hide():e.parent(".s-m-panel-auth-prop").show()}function w(e,t,n,r){var s={group:"auth_opt_"+t.name,options:[]},o=m(t,n,r);t.values.forEach(function(e){s.options.push({id:s.group+"_"+e.value,value:""+e.value,label:e.label,color:e.value})});var u=i.execute("authPanelPropertyRadioColor",s),a=$(u);$("label[data-s-m-auth-value='"+(""+o)+"']",a).eq(0).button("toggle"),$("label",a).on("click",function(i){var s=$(i.currentTarget),o=s.attr("data-s-m-auth-value");s.eq(0).button("toggle"),o==="true"?o=!0:o==="false"&&(o=!1),g(t,n,r,o),T(e,n,r)}),e.append(a)}function E(e,t,n,r){var s=m(t,n,r),o=i.execute("authPanelPropertyInput",{id:"auth_opt_"+t.name,value:s}),u=$(o);$("input",u).blur(function(){var i=$(this).val();g(t,n,r,i),T(e,n,r)}),e.append(u)}function S(e,t,n,s){var o=["1","2","3","4","5","6","7","8","9","10","12"],u=[{prop:"widthXs",label:r.text("auth.cellSize.$widthXs"),"class":"s-m-auth-highlight-xs"},{prop:"widthSm",label:r.text("auth.cellSize.$widthSm"),"class":"s-m-auth-highlight-sm"},{prop:"widthMd",label:r.text("auth.cellSize.$widthMd"),"class":"s-m-auth-highlight-md"},{prop:"widthLg",label:r.text("auth.cellSize.$widthLg"),"class":"s-m-auth-highlight-lg"}],a=i.execute("authPanelPropertyCellSize",{id:"auth_opt_"+t.name,sizes:u,values:o}),f=$(a),l="12";u.forEach(function(e){var t=s.articleSelection&&s.articleSelection["$"+e.prop];t=t||l,l=t,$("label[data-s-m-auth-prop='"+e.prop+"'][data-s-m-auth-value='"+t+"']",f).button("toggle")}),$("label",f).on("click",function(t){var r=$(t.currentTarget);r.eq(0).button("toggle"),u.forEach(function(e){r=f.find("label.active[data-s-m-auth-prop='"+e.prop+"']");if(r.length>0){var t=r.attr("data-s-m-auth-value");s.articleSelection["$"+e.prop]=t}}),T(e,n,s)}),e.append(f)}function x(e,t,n,r){var s=u.toSortedJSON(r.articleSelection),a=i.execute("authPanelPropertyJSON",{id:"auth_opt_"+t.name,value:s}),f=$(a);$("textarea",f).blur(function(){var t=$(this).val(),i=u.validateJSON(!1,t);i&&(u.injectJSON(r,i),o.validate(true,u.toSortedJSON(r.articlePage))!=null&&T(e,n,r))}),e.append(f)}function T(e,t,n){var r=$("textarea#auth_opt_JSON");r.val(u.toSortedJSON(n.articleSelection)),s.publish(["sm.auth.change.prop.ui"],t,n)}var r=e("syracuse-tablet/html/js/helpers/locale"),i=e("syracuse-tablet/html/js/authoring/authoringHtml"),s=e("syracuse-tablet/html/js/helpers/notifications"),o=e("syracuse-tablet/html/js/authoring/authoringVal"),u,a={isTitleHidden:{key:"$isTitleHidden","default":!1,values:[{value:!0},{value:!1}],createMarkup:y},labelPosition:{key:"$labelPosition","default":"left",values:[{value:"left"},{value:"top"}],createMarkup:y},labelAlign:{key:"$labelAlign","default":"left",values:[{value:"left"},{value:"center",isHidden:!0},{value:"right"}],createMarkup:y,refreshMarkup:b},theme:{key:"$theme","default":"a",values:[{value:"a"},{value:"b"},{value:"c"}],createMarkup:y},refDescPosition:{key:"$refDescPosition","default":"right",values:[{value:"bottom"},{value:"right"},{value:"left"},{value:"top"},{value:"none"}],createMarkup:y},refDescFormat:{key:"$refDescFormat","default":"desc",values:[{value:"desc"},{value:"title"},{value:"desctitle"},{value:"titledesc"}],createMarkup:y},tileColor:{key:"$bgColor","default":"lime",values:[{value:"transparent"},{value:"purple"},{value:"magenta"},{value:"teal"},{value:"brown"},{value:"lime"},{value:"pink"},{value:"orange"},{value:"blue"},{value:"red"},{value:"green"}],createMarkup:w},tileSize:{key:"$size","default":"medium",values:[{value:"small"},{value:"medium"},{value:"wide"},{value:"large"},{value:"full"}],createMarkup:y},layoutTitle:{key:"$title","default":"",createMarkup:E},rowHeight:{key:"$rowHeight","default":"200px",createMarkup:E},cellSize:{"default":4,createMarkup:S},arrayDisplay:{key:"$display","default":"table",values:[{value:"table"},{value:"cardV"},{value:"cardH"}],createMarkup:y},arrayCardsPerRow:{key:"$cardsPerRow","default":"1",values:[{value:"1"},{value:"2"},{value:"3"}],createMarkup:y,refreshMarkup:b},arrayCardsPerLine:{key:"$cardsPerLine","default":"1",values:[{value:"1"},{value:"2"},{value:"3"}],createMarkup:y,refreshMarkup:b},arrayDisplayEmptyCells:{key:"$displayEmptyCells","default":!0,values:[{value:!0},{value:!1}],createMarkup:y,refreshMarkup:b},JSON:{key:"$JSON",createMarkup:x}},f;t.initProperties=function(e){if(f)return;u=e;var t="auth";Object.keys(a).forEach(function(e){var n=t+"."+e,i=a[e];i.label=r.text(n),i.name=e,i.values&&i.values.forEach(function(e){var t=n+"."+(""+e.value);e.label=r.text(t)})}),o.setProperties(a),f=!0};var l={stack:[],row:[a.rowHeight],"hub-group":[a.layoutTitle],tile:[a.tileColor,a.tileSize],cell:[a.tileColor,a.cellSize]};t.getProperties=function(e,t,n){var r=e.$$elmt,i=[];if(r.hasClass("s-m-layout"))Object.keys(l).some(function(e){var t="s-m-"+e;return r.hasClass(t)?(l[e].forEach(function(e){i.push(e)}),!0):!1}),i.push(a.JSON);else if(r.hasClass("s-m-field")){var s=c(e,t,n),i=[a.isTitleHidden,a.labelPosition,s,a.theme];t.type==="reference"&&(i.push(a.refDescFormat),i.push(a.refDescPosition)),i.push(a.JSON)}else if(r.hasClass("s-m-array")){var s=c(e,t,n),o=h(e,t,n),u=p(e,t,n),f=d(e,t,n),i=[a.isTitleHidden,a.labelPosition,s,a.theme,a.arrayDisplay,o,u,f];i.push(a.JSON)}return i},t.properties=a}),define("syracuse-tablet/html/js/authoring/authoringHelpers",["require","exports","module","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/authoring/authoringSData","syracuse-tablet/html/js/ui/modal","syracuse-tablet/html/js/authoring/authoringProperties","syracuse-tablet/html/js/authoring/authoringVal","syracuse-tablet/html/js/authoring/authoringHtml","syracuse-tablet/html/js/helpers/notifications"],function(e,t,n){function d(e){$(".s-m-auth-hover").removeClass("s-m-auth-hover"),$(".s-m-auth-selected").removeClass("s-m-auth-selected");var n=$(this);n.addClass("s-m-auth-selected");var r=t.getSelection(),i=t.getSelectionData(r);return(!i||!i.articleSelection)&&n.removeClass("s-m-auth-selected"),e!==!1&&l.publish(["sm.auth.change.selection"],r),!1}function v(e){var t=r.getApplication(),n,i=e.attr("id");if(!i)return null;if(t.currentPage.getType()==="dashboard"){var s=e.closest(".s-m-control.s-m-vignette").attr("id");if(!s)return null;var o=t.currentPage.getControl(s);if(!o)return null;n=o.getPageControl(i)}else n=t.currentPage.getControl(i);return n}var r=e("syracuse-tablet/html/js/helpers/globals"),i=e("syracuse-tablet/html/js/helpers/locale"),s=e("syracuse-tablet/html/js/authoring/authoringSData"),o=e("syracuse-tablet/html/js/ui/modal"),u=e("syracuse-tablet/html/js/authoring/authoringProperties"),a=e("syracuse-tablet/html/js/authoring/authoringVal"),f=e("syracuse-tablet/html/js/authoring/authoringHtml"),l=e("syracuse-tablet/html/js/helpers/notifications"),c,h=[],p=[".s-m-vignette",".s-m-hub",".s-m-array .s-m-control",".s-m-array .s-m-layout"];t.enableAuthCss=function(){$(".s-m-control").addClass("s-m-auth"),$(".s-m-layout").addClass("s-m-auth"),p.forEach(function(e){$(e).removeClass("s-m-auth")}),$(".s-m-auth").on("click",d),$(".s-m-auth").mouseover(function(e){var t=$(e.currentTarget);return c&&c.removeClass("s-m-auth-hover"),t.addClass("s-m-auth-hover"),c=t,!1}),$(".s-m-auth").mouseout(function(e){var t=$(e.currentTarget);t.removeClass("s-m-auth-hover")})},t.disableAuthCss=function(){$(".s-m-auth").off("click",d),$(".s-m-auth").removeClass("s-m-auth")},t.selectElement=function(e,t){$(".s-m-auth-selected").removeClass("s-m-auth-selected");var n=$("[data-layout-path='"+e.layoutPath+"']"),r=n[0];r&&d.apply(r,[t])},t.getSelection=function(){var e=$(".s-m-auth-selected");if(e.length!==1)return null;var t={$$elmt:e,layoutPath:e.attr("data-layout-path")};return t},t.getSelectionData=function(e){if(!e||!e.layoutPath)return null;var t=r.getApplication(),n=$.extend(!0,{},t.currentPage.article),s={$items:[n]},o=e.layoutPath.split("-");while(o.length>0){var u=+o.shift(),a;s&&s.$items?a=s.$items:s.$article&&(a=[s.$article]),s=a&&a[u]}var f,l,c=v(e.$$elmt);return c?(f=c.prototype&&c.prototype.data("$title")+" ("+c.$bind+")",l=c.typeName):(f=i.text("auth.label_layout"),l=e.$$elmt.attr("id"),l=l.replace(/\d/g,"")),{articlePage:n,articleSelection:s,title:f,type:l,control:c}},t.createPropertyPanel=function(e,t,n){var r=u.getProperties(t,n);if(!r)return;var i=$('<div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">'),s,o=0,a=t.articleSelection;r.forEach(function(e){s="auth_prop_"+e.name;var r=h.indexOf("collapse_"+s)>-1,u=$(f.execute("authPanelPropertyGroup",{id:s,expanded:r,label:e.label})),a=$("#collapse_"+s,u);e.createMarkup(a,e,t,n),i.append(u),o++}),e.append(i)},t.refreshPropertyPanels=function(e,t){var n=u.getProperties(e,t);if(!n)return;n.forEach(function(n){if(n.refreshMarkup){var r="#collapse_auth_prop_"+n.name,i=$(r);n.refreshMarkup(i,n,e,t)}})},t.destroyPropertyPanel=function(e){e.empty()},t.savePanelStates=function(){var e,t=$(".panel-collapse.collapse.in","#authPanelControlSimple");h=[];for(e=0;e<t.length;e++)h.push(t[e].id)},t.saveAuthoring=function(e,t){var n=e.split("."),r={application:n[0],contract:n[1],representation:n[2],facet:n[3],roles:[],users:[],endpoints:[],saveAsOption:t.saveAs,variantCode:t.code,variantTitle:t.title,variantDescription:t.description,article:t.article};return s.getPageVariants({application:n[0],contract:n[1],representation:n[2],facet:n[3]}).then(function(e){e&&e.some(function(e){var n=e.title===t.title&&e.code===t.code&&e.description===t.description;t.saveAs==="factory_variant"&&e.isFactory!==!0?n=!1:t.saveAs==="global_variant"&&e.isFactory===!0?n=!1:t.saveAs==="personal_copy"&&e.isFactory===!0&&(n=!1),n&&(r.variant=e.$uuid)})}).then(function(){return s.savePageDefinition(r)}).then(function(e){o.diagnoses(i.text("auth.panel.save_ok_title"),{$diagnoses:e.diags})}).fail(function(e){o.diagnoses(i.text("auth.panel.save_error_title"),e)})},t.validateJSON=function(e,t){var n;try{n=JSON.parse(t);var r=a.validate(e,n);if(!(r.length>0))return n;var s="\n"+r.join("\n");o.info(i.text("auth.panel.save_error_title"),i.text("auth.panel.save_error_json")+s)}catch(u){o.info(i.text("auth.panel.save_error_title"),i.text("auth.panel.save_error_json"))}},t.toSortedJSON=function(e){var t=function(){var e=this,t={},n,r;return Object.keys(e).forEach(function(i){i==="$items"?n=e[i]:i==="$article"?r=e[i]:t[i]=e[i]}),r&&(t.$article=r),n&&(t.$items=n),t};JSON.stringify(e,function(n,r){return $.isPlainObject(r)&&(r.toJSON=t),r});var n=JSON.stringify(e,null," ");return n},t.injectJSON=function(e,t){Object.keys(e.articleSelection).forEach(function(t){delete e.articleSelection[t]}),Object.keys(t).forEach(function(n){e.articleSelection[n]=t[n]})}}),define("syracuse-tablet/html/js/authoring/authoring",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/helpers/notifications","syracuse-tablet/html/js/authoring/authoringHelpers","syracuse-tablet/html/js/ui/modal","syracuse-tablet/html/js/authoring/authoringProperties","syracuse-tablet/html/js/authoring/authoringHtml","syracuse-tablet/html/js/ui/uiUtils"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/globals"),s=e("syracuse-tablet/html/js/helpers/locale"),o=e("syracuse-tablet/html/js/helpers/notifications"),u=e("syracuse-tablet/html/js/authoring/authoringHelpers"),a=e("syracuse-tablet/html/js/ui/modal"),f=e("syracuse-tablet/html/js/authoring/authoringProperties"),l=e("syracuse-tablet/html/js/authoring/authoringHtml"),c=e("syracuse-tablet/html/js/ui/uiUtils"),h;t.startDesignPage=function(){h||(h=new p),h.showAuthoringPanel()};var p=r.defineClass(function(){var e=this;e.$$authPanel=null,e.$$pageContent=$(".s-m-page.s-m-full > section.s-m-main-content")},null,{showAuthoringPanel:function(){var e=this;e._isVisible()?e._hideAuthPanel():(e._showAuthPanel(),e._displayAuth(i.getApplication().currentPage))},notifPageLoaded:function(e){var t=this;if(!t._isVisible())return;if(e&&e.state&&e.state.disableAuthoring){u.disableAuthCss(),t._hideAuthPanel();return}e&&!e.isVignette&&(t._displayAuth(e),t._elementSelectionChanged()),t._hookDOMEvents()},notifMainLayoutChanged:function(){var e=this;e.$$authPanelRight.find(".tab-content").css({height:e.$$authPanelRight.height()-100})},notifAuthChangePropUi:function(e,t){var n=this,r=u.toSortedJSON(t.articlePage),i=u.toSortedJSON(t.articleSelection);n.$$authJSONPage.val(r),n._updateLayoutPage(e)},notifAuthChangeSelection:function(e){var t=this;t._elementSelectionChanged(e)},_hookDOMEvents:function(){var e=this;u.disableAuthCss(),u.enableAuthCss()},_initJSONArticles:function(){var e=this;e.$$authJSONPage.val(""),e.$$authPanelControlTitle.text(""),e.$$authPanelControlType.text(""),u.destroyPropertyPanel(e.$$authPanelControlSimple)},_displayAuth:function(e){var t=this;t.currentPageName=e.state.authoringName,t.$$authPageName.text(t.currentPageName),t.$$authJSONPage.val(u.toSortedJSON(e.article))},_showAuthPanel:function(){var e=this;e._ensureAuthPanel(),e.$$authPanelRight.show(),e.$$authSplitterRight.show(),$(".btn",e.$$authPanelSave).eq(0).button("toggle"),$('.nav-pills a[href="#authPanelControl"]').tab("show"),e._hookDOMEvents(),e._initJSONArticles(),e.$$pageContent.css({right:e.$$authPanelRight.width()+10}),f.initProperties(u),c.triggerResizeInternal()},_hideAuthPanel:function(){var e=this;e._ensureAuthPanel();var t=e.$$authPanelRight.width();e.$$authPanelRight.hide(),e.$$authSplitterRight.hide(),e.$$pageContent.css({right:0}),$("#s-m-app-id").css("padding-right","0px"),u.disableAuthCss(),c.triggerResizeInternal()},_ensureAuthPanel:function(){var e=this;if(this.$$authPanel)return;var t={label_control:s.text("auth.panel.label_control"),label_edit:s.text("auth.panel.label_page"),label_save:s.text("auth.panel.label_save"),label_close:s.text("auth.panel.label_close"),label_apply:s.text("auth.panel.label_apply"),label_simple:s.text("auth.panel.label_simple"),label_expert:s.text("auth.panel.label_expert"),label_code:s.text("auth.panel.label_code"),label_title:s.text("auth.panel.label_title"),label_description:s.text("auth.panel.label_description"),label_saveas_option:s.text("auth.panel.label_saveas_option"),label_personal:s.text("auth.panel.label_personal"),label_global:s.text("auth.panel.label_global"),label_factory:s.text("auth.panel.label_factory"),label_control_title:s.text("auth.panel.label_control_title"),label_control_type:s.text("auth.panel.label_control_type"),authCodeDefault:s.text("auth.panel.authCodeDefault"),authTitleDefault:s.text("auth.panel.authTitleDefault"),authDescriptionDefault:s.text("auth.panel.authDescriptionDefault")};e.$$authPanelRight=$("#s-m-auth-panel-right-id"),e.$$authPanel=$(l.execute("authPanelMainStructure",t)),e.$$authPanelRight.append(e.$$authPanel),e._getDomObjects(),e._initSplitter(),$("#authPanelBtnSave").on("click",e._onSave.bind(e)),$("#authPanelBtnPageApply").on("click",e._onApplyPage.bind(e)),o.subscribe(e,["sm.page.loaded"]),o.subscribe(e,["sm.main.layout.changed"]),o.subscribe(e,["sm.auth.change.selection"]),o.subscribe(e,["sm.auth.change.prop.ui"])},_getDomObjects:function(){var e=this;e.$$authJSONPage=$("#authJSONPage"),e.$$authPanelControlSimple=$("#authPanelControlSimple"),e.$$authPanelControlExpert=$("#authPanelControlExpert"),e.$$authPageName=$("#authPageName"),e.$$authCode=$("#authCode"),e.$$authTitle=$("#authTitle"),e.$$authDescription=$("#authDescription"),e.$$authPanelControlTitle=$("#authPanelControlTitle"),e.$$authPanelControlType=$("#authPanelControlType"),e.$$authPanelEdit=$("#authPanelEdit"),e.$$authPanelSave=$("#authPanelSave")},_elementSelectionChanged:function(e){var t=this;t.$$authPanelControlTitle.text(""),t.$$authPanelControlType.text(""),u.savePanelStates(),u.destroyPropertyPanel(t.$$authPanelControlSimple);if(!e)return;var n=u.getSelectionData(e);t.$$authPanelControlTitle.text(n.title),t.$$authPanelControlType.text(n.type);var r=n&&n.articleSelection;r&&u.createPropertyPanel(t.$$authPanelControlSimple,e,n)},_updateLayoutPage:function(e){var t=this,n=i.getApplication().currentPage,r=t.$$authJSONPage.val(),s=u.validateJSON(!0,r);if(!s)return;u.savePanelStates(),n.updateLayout(s).then(function(){t._hookDOMEvents();if(e){u.selectElement(e,!1);var n=u.getSelectionData(e);u.refreshPropertyPanels(e,n)}}).fail(function(e){a.error("Error",e)})},_onSave:function(){var e=this,t=e.$$authJSONPage.val(),n=u.validateJSON(!0,t);if(!n)return;u.saveAuthoring(e.currentPageName,{code:e.$$authCode.val(),title:e.$$authTitle.val(),description:e.$$authDescription.val(),saveAs:$("input:radio:checked",e.$$authPanelSave)[0].id,article:n})},_onApplyPage:function(){var e=this;e._updateLayoutPage()},_onClose:function(){var e=this;e._hideAuthPanel()},_isVisible:function(){var e=this;return e.$$authPanelRight&&e.$$authPanelRight.is(":visible")},_initSplitter:function(){var e=this;e.$$authSplitterRight=$("#s-m-auth-splitter-right-id"),e.$$authSplitterRight.draggable({axis:"x",stop:function(e,t){var n=$(this),r=n.position(),i=n.width(),s=$(window).width()-r.left-i;c.triggerResizeInternal({layout:{authPanelRight:{width:s}}})}})}})}),define("syracuse-tablet/html/js/application/application",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/ui/modal","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/helpers/notifications","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/application/authentication","syracuse-tablet/html/js/application/eventListener","syracuse-tablet/html/js/application/pageLoader","syracuse-tablet/html/js/init/initContext","syracuse-tablet/html/js/application/settings","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/application/pageHelper","syracuse-tablet/html/js/authoring/authoring"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/ui/modal"),s=e("syracuse-tablet/html/js/helpers/logger").getLogger("app"),o=e("syracuse-tablet/html/js/helpers/notifications"),u=e("syracuse-tablet/html/js/helpers/globals"),a=e("syracuse-tablet/html/js/application/authentication"),f=e("syracuse-tablet/html/js/application/eventListener"),l=e("syracuse-tablet/html/js/application/pageLoader"),c=e("syracuse-tablet/html/js/init/initContext"),h=e("syracuse-tablet/html/js/application/settings"),p=e("syracuse-tablet/html/js/ui/uiUtils"),d=e("syracuse-tablet/html/js/application/pageHelper"),v=e("syracuse-tablet/html/js/authoring/authoring"),m={transition:null,openLinkInVignette:!1},g=function(e){o.subscribe(e,["sm.context.changed","sm.switch.app","sm.modal.open","sm.modal.close","sm.main.layout.changed"],1)},y=r.defineClass(function(e,t){var n=this;n.$$elmt=e,n.currentPage=null,n._$config=$.extend(!0,{},m),n.factory=t,n._pageLoader=null,n._nbModals=0,n._wait=p.waitWheelCreate(e),n.homePageId=null,n.uuid="root",n.history=[],n.pushState=!0},null,{init:function(){var e=this;f.bindEvents(e),e.dao=e.factory.createDaoApp(e),g(e),e.$$elmt.show()},destroy:function(){var e=this;e._wait&&p.waitWheelDestroy(e._wait),o.unsubscribe(),d.removeAllPages(e.$$elmt),e.currentPage=null,e._pageLoader==null&&(e._pageLoader.destroy(),e._pageLoader=null),r.unbindObj(e),r.unbindObj(e.$$elmt),$(window).unbind()},isWelcomeApplication:function(){return this.uuid==="$welcomeApplication"},getTitle:function(){return this.dao.getApplicationName()},gotoHome:function(){var e=this;setTimeout(function(){e.changePage(e.homePageId)})},$config:function(e){return r.getPropByPath(this._$config,e,this._$config)},notifContextChanged:function(e){this.gotoWelcomeApplication(e)},notifModalOpen:function(){this._nbModals++,s&&s("notifModalOpen nbModals="+this._nbModals)},notifModalClose:function(){this._nbModals=Math.max(this._nbModals-1,0),s&&s("notifModalClose nbModals="+this._nbModals)},notifMainLayoutChanged:function(){var e=this;e.currentPage&&e.currentPage.onResize()},hasModalOpen:function(){return s&&s("_nbModals="+this._nbModals),this._nbModals>0},_actGotoWelcomeApplication:function(){this.gotoWelcomeApplication()},_actHistoryBack:function(){window.history.back()},_actSwitchContext:function(){var e=this;c.init(!0,!0).then(function(e){}).fail(function(e){i.error("Swicth context error",e)})},_actClearCache:function(){var e=this,t=$.Deferred();return i.confirm("clearCache",function(n){n?(e.waitWheelStart(),u.getCache().clearCache().then(function(n){e.waitWheelStop(),t.resolve(null)}).fail(function(n){setTimeout(function(){i.error("Clear cache error",n,function(){e.waitWheelStop(),t.resolve(null)})},10)})):t.resolve(null)}),t.promise()},_actDesignPage:function(){v.startDesignPage()},notifSwitchApp:function(e){this._setCurrentApplication(u.getApplicationJson(e))},gotoWelcomeApplication:function(e){u.isLoggedIn()?this._setCurrentApplication(u.getWelcomeAppJson(),e):(e&&e.resolve(),this.gotoLogin())},gotoLogin:function(e){var t=this;t.historyReset(),setTimeout(function(){t.changePage("login",{reason:e||"Authentication is required"})},0)},_setCurrentApplication:function(e,t){var n=this,r=function(e,r){n.waitWheelStop(),t?t.reject(r):i.error(e,r,function(){n.currentPage&&n.currentPage.activate()})},o=function(e){try{n.waitWheelStop();if(!e.$application.$uuid)throw new Error("No application $uuid - "+e.applicationName);n.uuid!==e.$application.$uuid&&(n.dao.setApplication(e),n.homePageId=n.dao.getHomeDashboard(),n.uuid=e.$application.$uuid),n.gotoHome(),t&&t.resolve()}catch(i){r("Error loading new application",i)}};try{if(!e)throw new Error("Null appInfo");s&&s("Switch to Syracuse Mobile Application "+e.applicationName),n.currentPage&&n.currentPage.deactivate(),n.waitWheelStart(),h.getMyApplicationDetail(e).then(function(e){o(e)}).fail(function(e){r("Error loading application",e)})}catch(u){r("Error switching application",u)}},_gotoPage:function(e,t){var n=this;n._pageLoader||(n._pageLoader=new l.Klass({waitStop:function(){n.waitWheelStop()},getRootElmt:function(){return n.$$elmt},waitStart:function(){n.waitWheelStart()},getCurrentPage:function(){return n.currentPage},setCurrentPage:function(e){n.currentPage=e,n.isWelcomeApplication()||e.state.isLogin===!0?n.historyReset(e):e.state.name===n.homePageId&&(s&&s("Home page "+n.homePageId+" - Destroy all pages except current"),d.removeAllPages(n.$$elmt,e))},historyPush:function(e){n.history.push(e),n.pushState?window.history.pushState({x:new Date},r.UUID(),null):window.history.replaceState({x:new Date},r.UUID(),null)},succeeded:function(e,t){s&&s("succeeded - win="+window.history.length+" - app="+n.history.length),p.triggerResizeInternal(),t&&t.notifId&&(e.id===t.parentId?o.publish(t.notifId,t.notifData,t.controlId):i.error("Child page notification warning","Parent page is not the current page"))}})),e.isLogin===!1&&!u.isLoggedIn()?n.gotoLogin("Authentication is required"):n._pageLoader.load(e,t)},historyReset:function(e){var t=this;d.removeAllPages(t.$$elmt,e),t.history=[]},historyPop:function(e){try{var t=this;s&&s("History pop before - win="+window.history.length+" - app="+t.history.length);if(t._nbModals>0){e.preventDefault();return}if(t.uuid==="root"||t.history.length===0){window.history.back();return}var n=t.history.length>0?t.history.pop():null;if(n.isWelcomePage||n.isLogin){window.history.back();return}n=t.history.length>0?t.history[t.history.length-1]:null,e.preventDefault(),t.pushState=!0,setTimeout(function(){n.isWelcomePage?t.gotoWelcomeApplication():t._gotoPage(n,!0)},0)}catch(r){i.error("historyPop error",r)}},changePage:function(e,t){var n=this;if(typeof e!="string")throw new Error("changePage - string expected");return n._gotoPage(d.getPageInfo(e,t,n.currentPage))},logout:function(){var e=$.Deferred(),t=this,n=function(){s&&s("User Logged out"),u.setUserCtx(null),e.resolve(),t.gotoLogin("You have been logged out")};return t.waitWheelStart(),a.logout().then(function(e,r){t.waitWheelStop(),e?n():i.error(r,function(){n()})}).fail(function(e){t.waitWheelStop(),i.error("Logout error",e,function(){n()})}),e.promise()},refreshPage:function(e){var t=this;if(!t.currentPage)throw new Error("No current page");t.currentPage.refresh(e).then(function(){}).fail(function(e){t.modalError("Refresh page",e)})},waitWheelStart:function(){p.waitWheelStart(this._wait)},waitWheelStop:function(){p.waitWheelStop(this._wait)},modalError:function(e,t,n){i.error(e,t,n)}});t.Application=y}),define("syracuse-tablet/html/js/pages/page",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/helpers/articleParser","syracuse-tablet/html/js/controls/ctrlFactory","syracuse-tablet/html/js/helpers/notifications"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/logger").getLogger("page"),s=e("syracuse-tablet/html/js/ui/uiUtils"),o=e("syracuse-tablet/html/js/helpers/articleParser"),u=e("syracuse-tablet/html/js/controls/ctrlFactory"),a=e("syracuse-tablet/html/js/helpers/notifications"),f={fullpage:'		<section class="s-m-page s-m-full {{type}} {{subtype}}" id="{{pageid}}" {{#if parentId}}data-parent-id="{{parentId}}"{{/if}} class="ctrl-event-click" style=""> 			<header></header> 			<section class="s-m-main-content"></section> 			<footer></footer> 			<div class="s-m-side-panel-dismiss" data-action="sidePanel" data-params="close"></div> 		</section> 	',vignette:'<section class= "s-m-page s-m-nested {{type}} {{subtype}}" id="{{pageid}}"></section>',leftpanel:'<section class="s-m-panel s-m-left"></section>',rightpanel:'<section class="s-m-panel s-m-right"></section>'},l=function(e,t){var n=e+"compiled",r=f[n];return r||(r=f[n]=Handlebars.compile(f[e])),r(t||{})},c={leftpanel:"tablet/x-navigationpanel",rightpanel:"tablet/x-pageactionpanel",header:"tablet/x-pageheader",footer:"tablet/x-pagefooter"},h={};for(var p in c)h[c[p]]=p;var d=function(){var e={};this.addPanel=function(t,n){var r;t.indexOf("panel")>=0?r=$(l(t)).appendTo(n.$$elmt):r=n.$$elmt.find(t),r.length>0&&(e[t]={$$parent:r,ctrlType:c[t]})},this.hasPanels=function(){return e["leftpanel"]!=null||e["rightpanel"]!=null},this.destroy=function(){if(!e)return;for(var t in e)e[t].control&&e[t].control.destroy();e=null},this.create=function(t){if(!e)return;for(var n in e)e[n].control=t.createStaticControl(e[n].ctrlType)},this.buildHtml=function(t,n){if(!e)return;var r;for(var i in e)r=e[i],r.control.buildHtml(r.$$parent,t,n)},this.afterRender=function(t,n){if(!e)return;var r;for(var i in e)r=e[i],r.control.afterRender(r.$$parent,t,n)},this.get=function(t){return(e[t]||{}).control},this.doSidePanelAction=function(t,n,r){var i=n+"panel",s=e[i];if(!s)return;return s.control.toggle(r,function(r){if(n==="left"){var i=[t.$$contentElmt];e.header&&i.push(e.header.$$parent.find(".navbar")),e.footer&&i.push(e.footer.$$parent.find(".navbar")),i.forEach(function(e){e.css("left",r)})}var s=t.$$elmt.children(".s-m-side-panel-dismiss");s[r>0?"addClass":"removeClass"](n),s.css(n,r)}),s},this.addToControlMap=function(t){for(var n in e)t.addControl(e[n].control)}},v=r.defineClass(function(t,n,r,i,s){var o=this;n.options=n.options||{},o.prototype=r,o.article=i,o.rootLayout=null,o._staticControls=null,o._$$parent=t,o.state=n,o.id=n.uuid,o.controlsMap={},o.dao=null,o.isVignette=n.options.vignette===!0,o.isChild=n.options.parentId!=null,o.isChild&&(o.state.cached=!0),o._initRootElmt(t),a.subscribe(o,["sm.action.link"],1),o.$activity="read",o.isNew=!1,o.lastSelectedRow=null},null,{_initRootElmt:function(e){var t=this,n=t.state.type,r,i={pageid:t.id,type:n,subtype:t.state.subtype,parentId:t.getParentId()};t.isVignette?t.$$contentElmt=t.$$elmt=$(l("vignette",i)):t.state.type==="html"?(t.$$elmt=$(l("fullpage",i)),t.$$contentElmt=t.$$elmt.find("section.s-m-main-content")):(t.$$elmt=$(l("fullpage",i)),t.$$contentElmt=t.$$elmt.find("section.s-m-main-content"),t._initStaticControls()),t.$$elmt.hide(),t.$$elmt.appendTo(e),t.$$elmt.smPageController(t)},_initStaticControls:function(){var e=this;if(e.isVignette||e.state.type==="html")return;e._staticControls=new d(e),["header","footer","leftpanel","rightpanel"].forEach(function(t){e.addPanel(t)}),e._staticControls.hasPanels()&&a.subscribe(e,["sm.side.panel.ready"],1)},addPanel:function(e){return this._staticControls.addPanel(e,this)},createStaticControl:function(e){return u.createPageControl(e,this)},destroy:function(){var e=this;i&&i("destroy page "+e.state.name),e.dao&&(e.dao.destroy(),e.dao=null),e.$$elmt&&(r.unbindObj(e.$$elmt),e.$$elmt=null),e._staticControls&&(a.unsubscribe(e,["sm.side.panel.ready"]),e._staticControls.destroy(),e._staticControls=null),e._waiting&&(s.waitWheelDestroy(e._waiting),e._waiting=null),e.rootLayout&&(e.rootLayout.destroy(),e.rootLayout=null),e.prototype&&(e.prototype.destroy(),e.prototype=null),e.controlsMap={},r.unbindObj(e),e.article=null,e.prototype=null,e._$$parent=null},destroySiblings:function(){var e=this;if(e.$$elmt){i&&i("Page destroySiblings","destroySiblings");var t=e.$$elmt.siblings(function(e){var t=$(this).smPageController();t&&t.destroy()})}},getType:function(){return this.state.type},getProp:function(e){return r.getPropByPath(this.state,e)},openLinkInVignette:function(){return this.state.options.openLinkInVignette===!0},setDao:function(e){var t=this;t.dao&&t.dao.destroy&&t.dao.destroy(),t.dao=e},refresh:function(e,t){throw new Error("Not implemeneted")},refreshControls:function(e,t){var n=this,r;e&&e.length>0?e.forEach(function(e){r=n.controlsMap[e],r&&r.refresh(n.dao,t)}):Object.keys(n.controlsMap).forEach(function(e){r=n.controlsMap[e],r&&r.refresh(n.dao,t)})},load:function(e){var t=this;e=e||{};var n=$.Deferred();try{t.loadStructure().then(function(){return e.dontLoadData?$.smResolve():t.loadData()}).then(function(){return t.render()}).then(function(){return t.afterRender()}).then(function(){n.resolve()}).fail(function(e){n.reject(e)})}catch(r){n.reject(r)}finally{return n.promise()}},loadStructure:function(){var e=$.Deferred(),t=this;try{if(!t.article||!t.prototype)throw new Error("loadStructure - NULL article or prototype");t._staticControls&&t._staticControls.create(t),t.rootLayout=o.article2Controls(t,t.article,t.prototype,{},t.state.options.layoutPath),e.resolve()}catch(n){e.reject(n)}finally{return e.promise()}},loadData:function(){var e=$.Deferred(),t=this;try{t.setDao(null),e.resolve()}catch(n){e.reject(n)}finally{return e.promise()}},render:function(){var e=this;try{if(!e.rootLayout)throw new Error("buildHtml - NULL rootLayout");var t=e.buildHtmlOption();e._staticControls&&e._staticControls.buildHtml(e.dao,t),e.$$contentElmt&&(e._beforeAddContent(),e.rootLayout.buildHtml(e.$$contentElmt,e.dao,t))}catch(n){return $.smReject(n)}return $.smResolve()},buildHtmlOption:function(){var e=this;return{makeFullHeight:e.isVignette,header:{showAuthoring:e.state.disableAuthoring!==!0,isChild:e.isChild}}},updateLayout:function(e){var t=this;return t.article=e,t.rootLayout.destroy(),t.controlsMap={},t.$$contentElmt.empty(),t.load({dontLoadData:!0}).then(function(){t._staticControls.addToControlMap(t),s.triggerResizeInternal()})},onResize:function(e){var t=this;t.rootLayout&&t.rootLayout.onResize&&t.rootLayout.onResize(e)},afterRender:function(){var e=this;if(e.controlsMap)for(var t in e.controlsMap)e.controlsMap[t].afterRender()},isEditMode:function(){return!1},_beforeAddContent:function(){},addTitle:function(e,t){var n=this,r="";e&&(r="<header><h3>"+e+"</h3></header>"),t&&(r+="<p>"+t+"<p>"),r.length>0&&$(r).prependTo(n.$$contentElmt)},addControl:function(e){if(!e)return;this.controlsMap[e.id]=e},getControl:function(e){return this.controlsMap&&this.controlsMap[e]},activate:function(e,t,n){var r=this;r._show(e,function(){n&&n(),t?(r.savedContext=t.parent,r.savedCtxRestore(t.current)):r.lastSelectedRow&&r._hilightLastSelectedRow(r.lastSelectedRow)})},deactivate:function(e){this._hide(e)},contextSave:function(e){var t=this;if(!e)return;t.savedContext={parent:e.savedContext,current:e.savedCtxCreate()}},savedCtxCreate:function(){return{scrollLeft:this.$$contentElmt.scrollLeft(),scrollTop:this.$$contentElmt.scrollTop(),lastSelectedRow:this.lastSelectedRow}},savedCtxRestore:function(e){if(!e)return;this.$$contentElmt.scrollLeft(e.scrollLeft),this.$$contentElmt.scrollTop(e.scrollTop),this._hilightLastSelectedRow(e.lastSelectedRow)},_hilightLastSelectedRow:function(e,t){var n=this,r=function(e,t){var r=Object.keys(n.controlsMap)[e.arrayKeyIdx];r&&n.controlsMap[r].selectLastSelectedRow(e.rowId,t)};t&&r(t,!1),e&&r(e,!0)},_show:function(e,t){var n=this,r=n.getProp("transition");if(e){e._hide(function(){n.$$elmt.show(r||0,function(){t&&t()})});return}n.$$elmt.show(r==null?0:r,t)},_hide:function(e){var t=this;if(!t.$$elmt){e&&e();return}t._actSidePanel("close","all");var n=t.getProp("transition");t.$$elmt.hide(n==null?0:n,e)},isActive:function(){var e=this;return e.$$elmt&&e.$$elmt.is(":visible")},isLookup:function(){return this.prototype&&this.prototype.isLookup()},getParentNotif:function(){throw new Error("not implemented")},getParentId:function(){return this.isChild?this.state.options.parentId:null},getOpenLinkAttrs:function(){return{"data-nav":this.state.name}},_actTest:function(e){var t=$('<h5 style="color:red">Action test succeeded</h5>').prependTo(this.$$elmt);window.setTimeout(function(){t.remove()},2e3)},_actSidePanel:function(e,t){var n=this;if(n._staticControls){t=t||"all";var t=t==="all"?["left","right"]:[t];t.forEach(function(t){var r=n._staticControls.doSidePanelAction(n,t,e)})}},notifSidePanelReady:function(e){var t=this;if(!t.isActive())return;if(!t._staticControls)return;var n=t._staticControls.get("footer");if(!n)return;n.enablePanel(h[e])},waitWheelStart:function(e){var t=this;if(e){var n=t.controlsMap[e];n&&n.waitStart&&n.waitStart();return}t._waiting||(t._waiting=s.waitWheelCreate(t.$$elmt)),s.waitWheelStart(t._waiting)},waitWheelStop:function(e){var t=this;if(e){var n=t.controlsMap[e];n&&n.waitStop&&n.waitStop();return}t._waiting&&s.waitWheelStop(t._waiting)},notifActionLink:function(e,t){throw new Error("not implemented")},notifSelectRow:function(e,t,n,r){var i=this.lastSelectedRow;this.lastSelectedRow={arrayKeyIdx:Object.keys(this.controlsMap).indexOf(e),rowId:t},r&&this._hilightLastSelectedRow(this.lastSelectedRow,i)},goBack:function(){window.history.back()}});t.Page=v}),define("syracuse-tablet/html/js/pages/pageDashboard",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/pages/page","syracuse-tablet/html/js/helpers/logger"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/pages/page").Page,s=e("syracuse-tablet/html/js/helpers/logger").getLogger("page"),o=r.defineClass(function(t,n,r,s){var o=this;i.call(o,t,n,r,s),o.vignettes=[]},i,{destroy:function(){var e=this;i.prototype.destroy.call(e),e.vignettes=null},loadData:function(){return null},_beforeAddContent:function(){var e=this;e.addTitle(e.prototype.data("$title"),e.prototype.data("$description"))},addControl:function(e){var t=this;i.prototype.addControl.call(t,e),e&&e.isVignette()&&t.vignettes.push(e)},findVignetteControl:function(e){var t=this;if(!t.vignettes)return null;var n,r;for(var i=0;i<t.vignettes.length;i++){r=t.vignettes[i],n=r.getPageControl(e);if(n)return{control:n,vignette:r}}return null},afterRender:function(){var e=this,t=$.Deferred(),n=function(e){s&&s("Error loading vignettes",e),t.reject(e)};try{i.prototype.afterRender.call(e);var r=[];e.vignettes.forEach(function(t){var n={sdataParameters:e.state.options&&e.state.options.sdataParameters||{}};t.load(null,n)}),t.resolve()}catch(o){n(o)}finally{return t.promise()}},savedCtxCreate:function(){var e=this,t=i.prototype.savedCtxCreate.call(e);return t.vignettes=[],e.vignettes&&e.vignettes.forEach(function(e){e.getPage()&&t.vignettes.push(e.getPage().savedCtxCreate())}),t},savedCtxRestore:function(e){i.prototype.savedCtxRestore.call(this,e),this._savedVignetteContext=e.vignettes},savedCtxVignette:function(e){var t=this;if(e==null||this._savedVignetteContext==null)return e;var n=t.vignettes.indexOf(e);return n==-1||n>this._savedVignetteContext.length-1?null:{current:this._savedVignetteContext[n]}}});t.Page=o}),define("syracuse-tablet/html/js/sdata/sdatawhere/operator",["require","exports","module","syracuse-tablet/html/js/helpers/utils"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils");t.Operator=function(e,t,n,r,i,s,o){var u=this;u.code=e,u.text=t,u.precedence=n,u.isPrefix=r,u.isInfix=i,u.isAssociative=s,u.isPredicate=o},r.defineClass(t.Operator,null,{toString:function(){return this.text}}),t.operators=new function(){function n(n,r,i,s,o,u,a){var f=new t.Operator(n||r,r,i,s,o,u,a);e.operators[f.text]=f}function r(){n(null,".",1,!1,!0,!0,!1),n(null,"not",2,!0,!1,!1,!1),n("*","mul",3,!1,!0,!0,!1),n("/","div",3,!1,!0,!0,!1),n("%","mod",3,!1,!0,!0,!1),n(null,"+",4,!1,!0,!0,!1),n(null,"-",4,!0,!0,!0,!1),n("=","eq",5,!1,!0,!1,!0),n("<>","ne",5,!1,!0,!1,!0),n("<","lt",5,!1,!0,!1,!0),n("<=","le",5,!1,!0,!1,!0),n(">","gt",5,!1,!0,!1,!0),n(">=","ge",5,!1,!0,!1,!0),n(null,"between",5,!1,!0,!1,!0),n(null,"in",5,!1,!0,!1,!0),n(null,"like",5,!1,!0,!1,!0),n(null,"and",6,!1,!0,!0,!0),n(null,"or",7,!1,!0,!0,!0),n(null,"(",8,!0,!1,!1,!1),n(null,")",8,!1,!1,!1,!1),n(null,",",8,!1,!1,!1,!1)}var e=this;return e.operators={},r(),e}}),define("syracuse-tablet/html/js/sdata/sdatawhere/token",["require","exports","module","syracuse-tablet/html/js/helpers/utils","./operator"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("./operator");t.tokenType={identifier:"identifier",operator:"operator",literal:"literal"},t.Token=function(e,t,n,r,i){var s=this;s.type=e,s.value=i;var o=t,u=n,a=r;s.getRemainingText=function(){return o.substring(u,o.length)}},r.defineClass(t.Token,null,{matches:function(e){return this.value instanceof i.Operator&&this.value.code==e}})}),define("syracuse-tablet/html/js/sdata/sdatawhere/tokenizer",["require","exports","module","./token","./operator"],function(e,t,n){var r=e("./token"),i=e("./operator");t.Tokenizer=new function(){function t(e,t){while(t<e.length&&e[t]===" ")t++;return t}function n(e){return(new RegExp("[0-9]")).test(e)}function s(e){return(new RegExp("[$a-zA-Z%']")).test(e)}function o(e){return(new RegExp("[$a-zA-Z0-9_%']")).test(e)}function u(e,t,i,s){var o=i+1;while(o<t.length&&n(t[o]))o++;var u;if(o<t.length&&t[o]==="."){o++;while(o<t.length&&n(t[o]))o++;u=parseFloat(e.substring(i,o))}else u=parseInt(e.substring(i,o),10);return s.push(new r.Token(r.tokenType.literal,e,i,o-i,u)),o}function f(e,t,n,s){var u=n+1;while(u<t.length&&o(t[u]))u++;var f=t.substr(n,u-n),l=i.operators.operators[f.toLowerCase()];if(l!=null)s.push(new r.Token(r.tokenType.operator,e,n,u-n,l));else{var c;(c=a[f])!==undefined?s.push(new r.Token(r.tokenType.literal,e,n,u-n,c)):s.push(new r.Token(r.tokenType.identifier,e,n,u-n,f))}return u}function l(e,t,n,i){var s=t[n],o=n+1,u=0,a="";while(o<t.length){if(t[o]===s){o++;if(o===t.length||t[o]!==s)return i.push(new r.Token(r.tokenType.literal,e,n,o-n,a)),o}a+=t[o++]}throw new Error("quoted string not terminated: "+e.substring(n))}function c(e,t,n,s){var o=i.operators.operators[t];return s.push(new r.Token(r.tokenType.operator,e,n,1,o)),n+1}function h(e,t,n,i){var s=n+1,o=t.length;while(s<o){if(t[s]=="@")break;s++}if(s===t.length)throw new Error("Where parser: date constant not terminated:"+e.substring(n,e.length));var u=t.substr(n+1,s-n-1),a=new Date(u);if(a!=null){var f=new r.Token(r.tokenType.literal,e,n,s+1-n,a);f.dataType="datetime",f.svalue=u,i.push(f)}return s+1}var e=this,a={"true":!0,"false":!1,"null":null};return e.tokenize=function(e){var r=[],i=0;while(i<e.length){i=t(e,i);var o=e[i];switch(o){case"@":i=h(e,e,i,r);break;case'"':case"'":i=l(e,e,i,r);break;case".":case"-":case"+":case"(":case")":case",":i=c(e,o,i,r);break;default:if(s(o))i=f(e,e,i,r);else{if(!n(o))throw new Error("invalid character: "+e.substring(i));i=u(e,e,i,r)}}}return r},e}}),define("syracuse-tablet/html/js/sdata/sdatawhere/expression",["require","exports","module","syracuse-tablet/html/js/helpers/utils"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils");t.Expression=function(e){var t=this;t.children=null,e.operator?(t.type="operator",t.value=e.operator,t.children=[],e.expression1&&t.children.push(e.expression1),e.expression2&&t.children.push(e.expression2)):e.expressionType&&(t.type=e.expressionType,t.value=e.value,t.svalue=e.svalue,t.dataType=e.dataType,t.type==="function"&&(t.children=[]))},r.defineClass(t.Expression,null,{isPredicate:function(){switch(this.type){case"operator":return this.value.isPredicate;case"identifier":return!0;case"function":return!0;case"literal":return!1;default:throw new Error("invalid expression type: "+this.type)}},toString:function(){if(this.children==null)return this.value.toString();var e=[];e.push("["+this.value.toString());for(var t=0;t<this.children.length;t++)e.push(" "+this.children[t].toString());return e.push("]"),e.join("")}})}),define("syracuse-tablet/html/js/sdata/sdatawhere/parser",["require","exports","module","./token","./operator","./tokenizer","./expression"],function(e,t,n){var r=e("./token"),i=e("./operator"),s=e("./tokenizer"),o=e("./expression");t.Parser=new function(){function n(e,t,n,r){if(t[0]==e.length||!e[t[0]].matches("and"))throw new Error("invalid expression: expected 'and' after "+e[t[0]-1].getRemainingText());t[0]++;var i=u(e,t,r);n.children.push(i)}function u(e,t,r){var s=a(e,t);while(t[0]<e.length){var l=e[t[0]],c=l.value instanceof i.Operator?l.value:null;if(c==null||!c.isInfix||c.precedence>r)break;t[0]++;if(c.code=="in"){if(t[0]===e.length||!e[t[0]].matches("("))throw new Error("invalid expression: '(' expected after "+l.getRemainingText());t[0]++,s=new o.Expression({operator:c,expression1:s}),f(e,l,t,s.children)}else{var h=u(e,t,c.precedence-1);s=new o.Expression({operator:c,expression1:s,expression2:h}),c.code=="between"&&n(e,t,s,c.precedence)}if(!c.isAssociative&&c.precedence==r)return s}return s}function a(e,t){if(t[0]==e.length)throw new Error("premature end of expression");var n=e[t[0]];switch(n.type){case r.tokenType.identifier:return t[0]++,t[0]<e.length&&e[t[0]].matches("(")?c(e,n,t):new o.Expression({expressionType:"identifier",value:n.value});case r.tokenType.literal:return t[0]++,new o.Expression({expressionType:"literal",value:n.value,svalue:n.svalue,dataType:n.dataType});case r.tokenType.operator:var i=n.value;if(!i.isPrefix)throw new Error("invalid expression: expected beginning of term at "+n.getRemainingText());return t[0]++,l(e,i,t);default:throw new Error("internal error: bad token type "+n.type)}}function f(e,n,r,i){if(r[0]<e.length&&e[r[0]].matches(")")){r[0]++;return}while(r[0]<e.length){var s=u(e,r,t);i.push(s);if(r[0]<e.length&&e[r[0]].matches(")")){r[0]++;return}if(r[0]==e.length||!e[r[0]].matches(","))throw new Error("invalid expression: expected ',' or ')' at "+e[r[0]].getRemainingText());r[0]++}throw new Error("invalid function call syntax: argument missing after "+n.getRemainingText())}function l(e,t,n){var r;switch(t.code){case"-":case"not":return r=u(e,n,1),new o.Expression({operator:t,expression1:r});case"(":r=u(e,n,t.precedence);if(n[0]==e.length||!e[n[0]].matches(")"))throw new Error("invalid expression: expected ')' after "+e[n[0]-1].getRemainingText());return n[0]++,r;default:throw new Error("internal error: bad prefix operator "+t.code)}}function c(e,t,n){n[0]++;var r=new o.Expression({expressionType:"function",value:t.value});return f(e,t,n,r.children),r}var e=this,t=8;return e.parse=function(e){if(e==null||e.length==0)return null;var n=s.Tokenizer.tokenize(e),r=[];r[0]=0;var i=u(n,r,t);if(r[0]!=n.length)throw new Error("invalid expression: unexpected token at "+n[r[0]].getRemainingText());return i},e}}),define("syracuse-tablet/html/js/sdata/sdatawhere/whereUtils",["require","exports","module"],function(e,t,n){function r(e,t,n){if(t.type=="identifier"){t.property=e[t.value];var i=n&&n.$properties&&n.$properties.$resources?n.$properties.$resources.$item:null;i&&i.$properties&&i.$properties[t.value]&&i.$properties[t.value].$type==="application/x-boolean"&&(t.property=t.property===!0?2:1)}else if(t.type=="literal")t.property=t.dataType=="datetime"?t.svalue:t.value;else if(t.children){var s=null;if(t.type=="operator")switch(t.value.code){case"and":t.children.forEach(function(t){r(e,t,n)}),t.property=t.children[0].property&&t.children[1].property;break;case"or":t.children.forEach(function(t){r(e,t,n)}),t.property=t.children[0].property||t.children[1].property;break;case"between":t.children.forEach(function(t){r(e,t,n)}),t.property=t.children[0].property>=t.children[1].property&&t.children[0].property<=t.children[2].property;break;case">=":t.children.forEach(function(t){r(e,t,n)}),t.property=t.children[0].property>=t.children[1].property;break;case">":t.children.forEach(function(t){r(e,t,n)}),t.property=t.children[0].property>t.children[1].property;break;case"<=":t.children.forEach(function(t){r(e,t,n)}),t.property=t.children[0].property<=t.children[1].property;break;case"<":t.children.forEach(function(t){r(e,t,n)}),t.property=t.children[0].property<t.children[1].property;break;case"like_s":t.children.forEach(function(t){r(e,t,n)}),t.property=t.children[0].property.toUpperCase().indexOf(t.children[1].property.toUpperCase())===0;break;case"like":t.children.forEach(function(t){r(e,t,n)});var o=t.children[1].property.toUpperCase().replace(/%/g,"");t.property=t.children[0].property.toUpperCase().indexOf(o)>=0;break;case"=":t.children.forEach(function(t){r(e,t,n)}),t.children[0].property=="0000-00-00"&&t.children[1].dataType==="datetime"&&(t.children[0].property=""),t.children[1].property=="0000-00-00"&&t.children[0].dataType==="datetime"&&(t.children[1].property=""),t.property=t.children[0].property==t.children[1].property;break;case"<>":t.children.forEach(function(t){r(e,t,n)}),t.children[0].property=="0000-00-00"&&t.children[1].dataType==="datetime"&&(t.children[0].property=""),t.children[1].property=="0000-00-00"&&t.children[0].dataType==="datetime"&&(t.children[1].property=""),t.property=t.children[0].property!=t.children[1].property;break;case".":r(e,t.children[0],n),r(t.children[0].property,t.children[1],n),t.property=t.children[1].property;break;default:t.property=s,t.children.forEach(function(t){r(e,t,n),t.type=="literal"&&(t.property=s)})}else if(t.type=="function")throw new Error("exp.type == 'function' not implemented")}}t.execWhere=function(e,t,n){return t==null?!0:(r(e,t,n),t.property)}}),define("syracuse-tablet/html/js/sdata/sdataDispatcherLocal",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/sdata/entities/clientContract","syracuse-tablet/html/js/sdata/sdatawhere/parser","syracuse-tablet/html/js/sdata/sdatawhere/whereUtils"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/sdata/entities/clientContract"),s=e("syracuse-tablet/html/js/sdata/sdatawhere/parser").Parser,o=e("syracuse-tablet/html/js/sdata/sdatawhere/whereUtils");t.Dispatcher=r.defineClass(function(){},null,{getEntity:function(e){var t=e&&e.split(".");return t&&t[0]&&t[0].smStartsWith("QUERY~")?t=t[0].split("~")[1]:t=t&&t[0],t&&i.getEntity(t)},accept:function(e,t){var n=this,r=$.Deferred();return r.resolve(n.getEntity(e.$representation)!=null),r.promise()},prototype:function(e,t){var n=$.Deferred();return n.reject("Dispatcher should never request for prototypes since they are cached in the application model on client side"),n.promise()},"new":function(e,t){var n=this,r=n.getEntity(e.$representation);return r.$services.$new(e,t)},read:function(e,t){var n=this,r=n.getEntity(e.$representation);return r.$services.$read(e,t)},query:function(e,t){var n=this,r=n.getEntity(e.$representation),u=r.$services.$query(e,t);if(e.$where){var a=$.Deferred();return u.then(function(t){var n=t.$resources,r=s.parse(e.$where),u=e.$representation&&e.$representation.split("."),f=i.getPrototype(u[0],u[1]),l=[];n.forEach(function(e,t){o.execWhere(e,r,f)&&l.push(e)}),a.resolve({$resources:l})}).fail(function(e){a.reject(e)}),a.promise()}return u},save:function(e,t){var n=this,r=n.getEntity(e.$representation);return r.$services.$save(e,t)},"delete":function(e,t){var n=this,r=n.getEntity(e.$representation);return r.$services.$delete(e,t)},service:function(e,t){var n=this,r=n.getEntity(e.$representation);return r.$services[e.$service](e,t)}})}),define("syracuse-tablet/html/js/sdata/sdataDispatcherHttp",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/sdata/sdataHttp"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/locale"),s=e("syracuse-tablet/html/js/helpers/globals"),o=e("syracuse-tablet/html/js/helpers/logger").getLogger("sdataDispatcher"),u=e("syracuse-tablet/html/js/sdata/sdataHttp");t.Dispatcher=r.defineClass(function(){},null,{accept:function(){var e=$.Deferred();return e.resolve(!0),e.promise()},_useCache:function(e,t){var n=e.$parsedUrl&&e.$parsedUrl.query&&e.$parsedUrl.query.nocache;return n?!1:!0},prototype:function(e,t){var n=$.Deferred();return n.reject("Dispatcher should never request for prototypes since they are cached in the application model on client side"),n.promise()},"new":function(e,t){var n=this,i=$.Deferred();try{n._newGetCache(e,t).then(function(i){return i?(o&&o("Read template from cache: "+e.$representation),i.$uuid=r.UUID(),i):n._newDoHttp(e,t).then(function(t){if(t.isSuccess){var r=t.responseJSON;return n._newPutCache(e,r).then(function(){return r})}throw new Error("Error reading $template: "+JSON.stringify(t))}).fail(function(e){return $.smReject(e)})}).then(function(e){i.resolve(e)}).fail(function(e){i.reject(e)})}catch(s){i.reject(s)}return i.promise()},_newGetCache:function(e){var t=this;if(t._useCache(e,null,"read")){var n=s.getCache();return o&&o("Reading template from cache: "+e.$representation),n.read({$representation:"$templates",$endpoint:e.$endpoint,$key:e.$representation})}return o&&o("Disabled reading template from cache : "+e.$representation),$.smResolve()},_newDoHttp:function(e,t){var n={method:"GET",url:e.$link.$url};return u.send(n)},_newPutCache:function(e,t){var n=this;if(n._useCache(e,t,"write")){o&&o("Writing template to cache: "+e.$representation);var r=s.getCache();return r.put({$representation:"$templates",$key:e.$representation,$endpoint:e.$endpoint,$data:t})}return o&&o("Disabled writing template to cache : "+e.$representation),$.smResolve()},read:function(e,t){var n=this,r=$.Deferred();try{n._readGetCache(e,t).then(function(r){return r?(o&&o("Read data from cache: "+e.$representation),r):n._readDoHttp(e,t).then(function(t){if(t.isSuccess){var r=t.responseJSON;return n._readPutCache(e,r).then(function(){return r})}throw new Error("Error reading data: "+JSON.stringify(t))}).fail(function(e){return $.smReject(e)})}).then(function(e){r.resolve(e)}).fail(function(e){r.reject(e)})}catch(i){r.reject(i)}return r.promise()},_readGetCache:function(e){var t=this;if(t._useCache(e,null,"read")){var n=s.getCache();return o&&o("Reading data from cache: "+e.$representation),n.read({$representation:e.$representation,$endpoint:e.$endpoint,$key:e.$key})}return o&&o("Disabled reading data from cache : "+e.$representation),$.smResolve()},_readDoHttp:function(e,t){var n={method:"GET",url:e.$link.$url};return u.send(n)},_readPutCache:function(e,t){var n=this;if(n._useCache(e,t,"write")){o&&o("Writing data to cache: "+e.$representation);var r=s.getCache();return r.put({$representation:e.$representation,$key:e.$key,$endpoint:e.$endpoint,$data:t})}return o&&o("Disabled writing data to cache : "+e.$representation),$.smResolve()},query:function(e,t){var n=this,r=$.Deferred();try{n._queryGetCache(e,t).then(function(r){if(r&&r.length>0){o&&o("Queried data from cache: "+e.$representation);var i={};n._queryCutAndAddLinks(e,t,r,i);if(i.$resources.length>0)return i}return n._queryDoHttp(e,t).then(function(t){if(t.isSuccess){var r=t.responseJSON;return n._queryPutCache(e,r).then(function(){return r})}throw new Error("Error querying data: "+JSON.stringify(t,null,2))}).fail(function(e){return $.smReject(e)})}).then(function(e){r.resolve(e)}).fail(function(e){r.reject(e)})}catch(i){r.reject(i)}return r.promise()},_queryCutAndAddLinks:function(e,t,n,r){var i=this,o=e.$parsedUrl.source.split("?")[0],u="",a,f=30;e.$parsedUrl.query&&e.$parsedUrl.query.where&&(u+="&where="+e.$parsedUrl.query.where),a=e.$parsedUrl.query&&e.$parsedUrl.query.key;var l,c,h=r.$resources=[],p=!1,d=!1,v,m=e.$endpoint+"."+e.$representation,g=s.getPrototype(m),y,b;g=g.$properties&&g.$properties.$resources&&g.$properties.$resources.$item||g;var w;g.$key?w=g.$key.replace(/{/g,"").replace(/}/g,""):w="$uuid";var E=g.$properties[w],S=E&&E.$type&&E.$type!=="application/x-string";if(a&&a.smStartsWith("gt")){y=S?0+a.substr(3):""+a.substr(3);for(v=0;v<n.length;v++){b=i._calculateKey(g,n[v]),b=S?+b:""+b;if(b>y){h.push(n[v]);if(h.length>f)break}else d=!0}h.length>0&&(h.length>f&&(h.pop(),p=!0),l=i._calculateKey(g,h[0]),c=i._calculateKey(g,h[h.length-1]))}else if(a&&a.smStartsWith("lt")){if(a.length>3){y=S?+a.substr(3):""+a.substr(3);for(v=n.length-1;v>=0;v--){b=i._calculateKey(g,n[v]),b=S?0+b:""+b;if(b<y){h.push(n[v]);if(h.length>f)break}else p=!0}h.length>f&&(d=!0,h.pop())}else for(v=n.length-1;v>=0;v--){h.push(n[v]);if(h.length>f)break}h.length>0&&(h.length>f&&(d=!0,h.pop()),r.$resources=h=h.reverse(),l=i._calculateKey(g,h[0]),c=i._calculateKey(g,h[h.length-1]))}else{for(v=0;v<n.length;v++){h.push(n[v]);if(h.length>f)break}h.length>0&&(h.length>f&&(p=!0,h.pop()),l=i._calculateKey(g,h[0]),c=i._calculateKey(g,h[h.length-1]))}var x=r.$links={};a&&(x.$first={$url:o+"?representation="+e.$representation+u}),a&&l&&d&&a!=="gt"&&(x.$previous={$url:o+"?representation="+e.$representation+u+"&key=lt."+l}),a!=="lt"&&c&&p&&(x.$next={$url:o+"?representation="+e.$representation+u+"&key=gt."+c}),a!=="lt"&&(x.$last={$url:o+"?representation="+e.$representation+u+"&key=lt"}),x.$more={$url:e.$parsedUrl.source+"&nocache=true"}},_queryGetCache:function(e){var t=this;if(t._useCache(e,null,"read")){var n=s.getCache();o&&o("Querying data from cache: "+e.$representation);var r=e.$endpoint+"."+e.$representation,i=s.getPrototype(r);return i?(t._checkQueryPrototype(e,i),n.query({$proto:i,$endpoint:e.$endpoint,$where:e.$where})):u.fetchRemotePrototype(e).then(function(r){return t._checkQueryPrototype(e,r),n.query({$proto:r,$endpoint:e.$endpoint,$where:e.$where}).fail(function(e){return $.smReject(e)})})}return o&&o("Disabled querying data from cache : "+e.$representation),$.smResolve()},_queryDoHttp:function(e,t){var n={method:"GET",url:e.$link.$url};return u.send(n)},_queryPutCache:function(e,t){var n=this;if(n._useCache(e,t,"write")){o&&o("Writing data to cache: "+e.$representation);var r=s.getCache(),i=e.$endpoint+"."+e.$representation,u=s.getPrototype(i);return u=u.$properties&&u.$properties.$resources&&u.$properties.$resources.$item||u,t.$resources.forEachPromise(function(t){var i=n._calculateKey(u,t);return r.put({$representation:e.$representation,$key:i,$endpoint:e.$endpoint,$data:t})})}return $.smResolve(t)},save:function(e,t){var n=this,r=$.Deferred();try{n._saveDoHttp(e,t).then(function(t){if(t.isSuccess){var i=t.responseJSON;return n._savePutCache(e,i).then(function(){return i})}r.reject(t)}).then(function(e){r.resolve(e)}).fail(function(e){r.reject(e)})}catch(i){r.reject(i)}return r.promise()},_saveDoHttp:function(e,t){var n={method:e.$link.$method,url:e.$link.$url,send:t};return u.send(n)},_savePutCache:function(e,t){var n=this;try{if(n._useCache(e,t,"write")){o&&o("Writing data to cache: "+e.$representation);var r=s.getCache(),i=e.$key;if(!i){var u=e.$endpoint+"."+e.$representation,a=s.getPrototype(u);a=a.$properties&&a.$properties.$resources&&a.$properties.$resources.$item||a,i=n._calculateKey(a,t)}return r.put({$representation:e.$representation,$key:i,$endpoint:e.$endpoint,$data:t})}return o&&o("Disabled writing data to cache : "+e.$representation),$.smResolve()}catch(f){return $.smReject(f)}},"delete":function(e,t){var n=this,r=$.Deferred();try{n._deleteDoHttp(e,t).then(function(t){if(t.isSuccess){var r=t.responseJSON;return n._deleteRemoveCache(e,r).then(function(){return r})}return $.smReject(t)}).then(function(e){r.resolve(e)}).fail(function(e){r.reject(e)})}catch(i){r.reject(i)}return r.promise()},_deleteDoHttp:function(e,t){var n={method:e.$link.$method,url:e.$link.$url};return u.send(n)},_deleteRemoveCache:function(e,t){var n=this;if(n._useCache(e,t,"write")){o&&o("Deleting data from cache: "+e.$representation);var r=s.getCache();return r.remove({$representation:e.$representation,$key:e.$key,$endpoint:e.$endpoint})}return o&&o("Disabled deleting data from cache : "+e.$representation),$.smResolve()},service:function(e,t){if(r.isOnline()){var n={method:e.$link.$method,url:e.$link.$url,data:t};return u.send(n)}return $.smResolve({$diagnoses:[{$severity:"error",$message:i.text("error.service.offline")}]})},_calculateKey:function(e,t){var n;return e.$key?n=e.$key.replace(/\{(.*?)\}/g,function(e,n){return t[n]}):n=t.$uuid,n},_checkQueryPrototype:function(e,t){e.$representation.smStartsWith("QUERY~")&&t.$properties.$resources.$item&&!t.$properties.$resources.$item.$type&&(t.$properties.$resources.$item.$type="{$baseType}."+e.$representation)}})}),define("syracuse-tablet/html/js/sdata/sdataDispatcher",["require","exports","module","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/sdata/sdataUtils","syracuse-tablet/html/js/sdata/sdataDispatcherLocal","syracuse-tablet/html/js/sdata/sdataDispatcherHttp"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/logger").getLogger("sdataDispatcher"),i=e("syracuse-tablet/html/js/sdata/sdataUtils"),s=e("syracuse-tablet/html/js/sdata/sdataDispatcherLocal").Dispatcher,o=e("syracuse-tablet/html/js/sdata/sdataDispatcherHttp").Dispatcher,u=[new s,new o];t.dispatch=function(e,n,i){var s=$.Deferred();try{r&&r("Dispatch: "+e.$method+": "+e.$url);var o=t.parseLink(e),a;u.forEachPromise(function(e){return e.accept(o,n)},function(e,t){return t===!0?(a=e,!0):!1});var f=a[o.$operation](o,n);if(!f)throw new Error("Could not dispatch: "+e.$method+": "+e.$url+" ("+o.$operation+")");f.then(function(e){s.resolve(e)}).fail(function(e){s.reject(e)})}catch(l){s.reject(l)}return s.promise()},t.parseLink=function(e){var t=e.$url,n={$link:e,$parsedUrl:i.parseSDataURL(e.$url)},r=/\('(.*?)'\)/;n.$endpoint=n.$parsedUrl.application+"."+n.$parsedUrl.contract+"."+n.$parsedUrl.dataset;var s=n.$parsedUrl.directory,o;if(e.$method==="GET"){if(t.indexOf("$prototypes")>-1)n.$operation="prototype",n.$representation=/\$prototypes\('(.*?)'\)/.exec(t)[1];else if(s.indexOf("$template")>-1)n.$operation="new",n.$representation=n.$parsedUrl.query&&n.$parsedUrl.query.representation;else if((o=s.indexOf("/$services/"))>-1){var u=s.substring(o+11);n.$operation="service",n.$service=u,n.$representation=n.$parsedUrl.query&&n.$parsedUrl.query.representation}else{var a=r.exec(s),f=s.indexOf("/QUERY(")>-1;a&&!f?(n.$operation="read",n.$key=a[1],n.$representation=n.$parsedUrl.query&&n.$parsedUrl.query.representation):(n.$operation="query",n.$representation=n.$parsedUrl.query&&n.$parsedUrl.query.representation)}n.$parsedUrl.query&&n.$parsedUrl.query.where&&(n.$where=n.$parsedUrl.query.where)}else if((o=s.indexOf("/$services/"))>-1){var u=s.substring(o+11);n.$operation="service",n.$service=u,n.$representation=n.$parsedUrl.query&&n.$parsedUrl.query.representation}else if(e.$method==="DELETE"){var a=r.exec(s);n.$operation="delete",n.$key=a[1],n.$representation=n.$parsedUrl.query&&n.$parsedUrl.query.representation}else{var a=r.exec(s);a?(n.$operation="save",n.$key=a[1],n.$representation=n.$parsedUrl.query&&n.$parsedUrl.query.representation):(n.$operation="save",n.$representation=n.$parsedUrl.query&&n.$parsedUrl.query.representation)}return n}}),define("syracuse-tablet/html/js/pages/pageRegular",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/pages/page","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/sdata/sdataDispatcher","syracuse-tablet/html/js/application/appFactory","syracuse-tablet/html/js/sdata/sdataUtils","syracuse-tablet/html/js/ui/modal","syracuse-tablet/html/js/helpers/notifications"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/logger").getLogger("page"),s=e("syracuse-tablet/html/js/pages/page").Page,o=e("syracuse-tablet/html/js/helpers/globals"),u=e("syracuse-tablet/html/js/sdata/sdataDispatcher"),a=e("syracuse-tablet/html/js/application/appFactory"),f=e("syracuse-tablet/html/js/sdata/sdataUtils"),l=e("syracuse-tablet/html/js/ui/modal"),c=e("syracuse-tablet/html/js/helpers/notifications"),h=["$more"],p=r.defineClass(function(e,t,n,r){var i=this;s.call(i,e,t,n,r),i.gadget=i.state.options.gadget,i._initSdataInfo(i.state.options["sdata-url"],i.state.options["sdata-method"]),c.subscribe(i,["sm.lookup.selection"],1),i.prototype.data("$url")&&(i.$facet=f.parseSDataURL(i.prototype.data("$url")).facet,i.$activity=i.$facet==="edit"?"edit":i.$facet==="create"?"create":"read")},s,{_initSdataInfo:function(e,t){var n=this;e||(n.gadget?e=n.gadget.getSDataUrl(n.prototype):e=n.prototype.data("$url"));if(n.gadget){var r=n.gadget.getParameters();r.where&&(e=f.addWhereClause(e,r.where,n.state.options.sdataParameters))}if(!e)throw new Error("$url (sDataUrl) is expected");n.state.options["sdata-url"]=n.sDataUrl=e,n.sDataMethod=t||"GET"},destroy:function(){var e=this;s.prototype.destroy.call(e),e.gadget=null},isEditMode:function(){var e=this.prototype.data("$url");return this.$activity==="edit"||this.$activity==="create"},_beforeAddContent:function(){var e=this;if(!e.isVignette){var t=e.prototype.data("$title");e.addTitle(o.getApplication().getTitle()+(t?" - "+t:""))}},getOpenLinkAttrs:function(){var e=this,t=s.prototype.getOpenLinkAttrs.call(e);return t["data-sdata-url"]=e.sDataUrl,t["data-sdata-method"]=e.sDataMethod,t["data-gadget-id"]=e.gadget.data("$uuid"),t},refresh:function(e,t){var n=this,r=$.Deferred(),i=e["sdata-url"],s=e.controlId,o=function(r){var i=s?h.indexOf(e.type)>=0:!1;if(t){var o="wait"+r.smCapitalize();t[o]&&t[o](i?s:null);return}n["waitWheel"+r.smCapitalize()].call(n,i?s:null)};try{var u=function(){o("stop"),n.refreshControls(s?[s]:null,e),n.$$elmt.scrollTop(0).scrollLeft(0),r.resolve()};i?(o("start"),n._initSdataInfo(i),n.loadData().then(function(){u()}).fail(function(e){o("stop"),r.reject(e)})):u()}catch(a){r.reject(a)}finally{return r.promise()}},loadData:function(){var e=$.Deferred(),t=this,n=function(t){i&&i("loadData failed",t),e.reject(t)};try{u.dispatch({$url:t.sDataUrl,$method:t.sDataMethod}).then(function(n){return t.updateDao(n),e.resolve()}).fail(function(e){n(e)})}catch(r){n(r)}finally{return e.promise()}},updateDao:function(e,t){var n=this;n.setDao(a.createDaoSdata("representation",e,n.prototype,null,t||{}))},notifLookupSelection:function(e,t){var n=this;if(!n.isActive())return;try{var r=n.getControl(t);if(!r)throw new Error("Control not found '"+t+"'");r.setLookupValue(e)}catch(i){l.error("notifLookupSelection failed",i)}},notifActionLink:function(e,t,n){var r=this;if(!r.isActive())return;try{r._displayActionMsg(e,t.name,n);switch(t.name){case"$save":break;case"$delete":break;default:}}catch(i){l.error("notifActionLink failed",i)}},_displayActionMsg:function(e,t,n,r){var i,s=f.scanDiagnoses(n);s.length>0?i={$diagnoses:s}:i={$diagnoses:[{$message:"Action: "+t+" "+(e?"succeeded":"failed"),$severity:e?"success":"error",$stackTrace:JSON.stringify(n)}]},l.actionResult("Action: "+t,i)}});t.Page=p}),define("syracuse-tablet/html/js/pages/pageRowDetail",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/notifications","syracuse-tablet/html/js/pages/pageRegular"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/globals"),s=e("syracuse-tablet/html/js/helpers/notifications"),o=e("syracuse-tablet/html/js/pages/pageRegular").Page,u=r.defineClass(function(e,t,n,r,i){var s=this;s.parentPage=i?i.parentPage:null;if(!s.parentPage)throw new Error("rowdetail page - Unexpected empty parent page");s.rowDao=null,o.call(s,e,t,n,r,i),s.$activity=s.parentPage.$activity},o,{_initSdataInfo:function(e,t){},addPanel:function(e){return e==="rightpanel"||e==="leftpanel"?null:e==="footer"&&!this.parentPage.isEditMode()?null:o.prototype.addPanel.call(this,e)},destroy:function(){var e=this;o.prototype.destroy.call(e),e.rowDao&&(e.rowDao.destroy(),e.rowDao=null),e.parentPage=null},isEditMode:function(){return this.parentPage&&this.parentPage.isEditMode()},buildHtmlOption:function(){var e=this,t=o.prototype.buildHtmlOption.call(e);return t.header.title="Row detail page",t},loadData:function(e){var t=this,n=t.parentPage.getControl(t.state.options.controlId);if(!n)throw new Error("rowdetail page - Array datasource not found");var r=n.rowDetailGetDao();if(!r)throw new Error("rowdetail page - Row data not found");return t.setDao(r),$.smResolve()},_actValidate:function(e){var t=this},getParentNotif:function(){return null}});t.Page=u}),define("syracuse-tablet/html/js/pages/pageLookup",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/pages/pageRegular","syracuse-tablet/html/js/application/eventListener"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/pages/pageRegular").Page,s=e("syracuse-tablet/html/js/application/eventListener"),o=r.defineClass(function(e,t,n,r){i.call(this,e,t,n,r),this.selectedRowJson=null},i,{addPanel:function(e){return e=="footer"||e=="rightpanel"||e=="leftpanel"?null:i.prototype.addPanel.call(this,e)},destroy:function(){i.prototype.destroy.call(this),this.selectedRowJson=null},notifSelectRow:function(e,t,n){if(!n)return;this.selectedRowJson=$.extend(!0,{},n.data),this.isVignette?s.triggerAction(this.$$elmt,"vignetteBack"):this.goBack()},buildHtmlOption:function(){var e=i.prototype.buildHtmlOption.call(this);return e.header.title="Lookup page",e},getParentNotif:function(){return this.selectedRowJson?{parentId:this.state.options.parentId,controlId:this.state.options.controlId,notifId:"sm.lookup.selection",notifData:this.selectedRowJson}:null}});t.Page=o}),define("syracuse-tablet/html/js/pages/pageLogin",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/pages/page","syracuse-tablet/html/js/application/authentication","syracuse-tablet/html/js/helpers/notifications","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/helpers/jsutils"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/pages/page").Page,s=e("syracuse-tablet/html/js/application/authentication"),o=e("syracuse-tablet/html/js/helpers/notifications"),u=e("syracuse-tablet/html/js/helpers/locale"),a=e("syracuse-tablet/html/js/helpers/jsutils"),f='	<div class="container">		<div class="row">			<div class="col-md-3"></div>			<div class="col-md-6">				<div class="panel panel-default">					<div class="panel-heading s-m-login-header"><span class="s-m-signin">{{label_signin}} </span> <span class="s-m-brand">{{label_brand}}</span> <span class="s-m-product">{{label_product}}</span></div>					<div class="panel-body s-m-login-body">						<br>						<div class="form-group">							<input type="text" value="" class="form-control s-m-login-form-input" placeholder="{{label_user}}"	id="login-user">						</div>						<br>						<div class="form-group">							<input type="password" class="form-control s-m-login-form-input" placeholder="{{label_password}}" id="login-password">						</div>						<br>						<br>						<button id="login-login" data-action="login" type="button" class="btn btn-primary s-m-signin-btn">{{act_login}}</button>					</div>				</div>			</div>		</div>		<div class="row">			<div class="col-md-3"></div>			<div class="col-md-6">				<div id="login-reason" style="display: none" class="alert alert-info" role="alert"></div>				<div id="login-success" style="display: none" class="alert alert-success" role="alert"></div>				<div id="login-fail" style="display: none" class="alert alert-danger" role="alert"></div>			</div>		</div>	</div>',l,c=r.defineClass(function(e,t){var n=this;i.call(n,e,t)},i,{loadStructure:function(){return $.smResolve()},render:function(){var e=this,t=$.Deferred(),n={label_user:u.text("login.label.user"),label_password:u.text("login.label.password"),act_login:u.text("login.label.signinaction"),label_signin:u.text("login.label.signin"),label_brand:u.text("login.label.brand"),label_product:u.text("login.label.product")},r=Handlebars.compile(f);return e.$$contentElmt.html(r(n)),e.state.options.reason&&e.$$contentElmt.find("#login-reason").text(e.state.options.reason).show(),t.resolve(),t.promise()},_actLogin:function(){var e=this,t=$.Deferred(),n=!1;try{e.$$elmt.find("#login-reason").remove();var r=e.$$elmt.find("#login-success").hide(),i=e.$$elmt.find("#login-fail").hide(),u=e.$$elmt.find("#login-user").val(),f=e.$$elmt.find("#login-password").val(),l=e.$$elmt.find("#login-locale").val(),c=null;e.waitWheelStart(),s.login(u,f).then(function(e,t,n){return e?(c=t,$.smResolve()):$.smReject(n)}).then(function(){e.waitWheelStop();var t=$.Deferred();return o.publish("sm.login",c,t),t.promise()}).then(function(e){}).fail(function(t){var n,r;a.isError(t)?(r=t.message,n=a.cleanStack(t.stack,3,!0)):r=t,i.show().html("Login failed<p>"+r+"</p>"+(n?n:"")),e.waitWheelStop()})}catch(h){t.reject(h)}finally{return t.promise()}}});t.Page=c}),define("syracuse-tablet/html/js/helpers/dashboardUtils",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/prototype"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/prototype"),s=function(e,t){var n={$title:e.$title,$description:e.$description,$properties:{}},s=Object.keys(e.$vignettes||[]);for(var o=0;o<s.length;o++){var u=s[o],a=$.extend({},e.$vignettes[u]),f=a.$uuid;a.$gadget=t.getGadgetData(f),a.$gadget?(a.$gadget=$.extend({},a.$gadget),a.$gadget.$uuid=f,a.$uuid=u,a.$type="tablet/x-vignette",a.domId=r.readableuid("vgnt",a.$gadget.$type)):(a.$gadget={$uuid:f,$type:"$gadgetMissing"},a.$uuid=u,a.$type="tablet/x-vignette",a.domId=r.readableuid("vgnt",a.$gadget.$type)),n.$properties[u]=a}return i.create(n)},o=function(e){var t=Object.keys(e.$vignettes||[]);if(t.length===0)throw new Error("Dashboard "+e.$dashboardName+" has no vignette");return e.$article||(e.$article={$layoutType:"hub",$items:[{$layoutType:"hubGroup",$title:"",$items:[]}]},t.forEach(function(t){e.$article.$items[0].$items.push({$layoutType:"tile",$size:"medium",$items:[{$bind:t}]})})),e.$article};t.getDashboardArticle=o,t.getDashboardProto=s}),define("syracuse-tablet/html/js/application/daoApp",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/prototype","syracuse-tablet/html/js/helpers/dashboardUtils","syracuse-tablet/html/js/application/pageHelper","syracuse-tablet/html/js/sdata/entities/clientContract","syracuse-tablet/html/js/application/gadget","syracuse-tablet/html/js/sdata/sdataHttp"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/globals"),s=e("syracuse-tablet/html/js/helpers/prototype"),o=e("syracuse-tablet/html/js/helpers/dashboardUtils"),u=e("syracuse-tablet/html/js/application/pageHelper"),a=e("syracuse-tablet/html/js/sdata/entities/clientContract"),f=e("syracuse-tablet/html/js/application/gadget").Klass,l=e("syracuse-tablet/html/js/sdata/sdataHttp"),c=r.defineClass(function(e){var t=this;t._appli=e,t.appMetaData=null},null,{destroy:function(){var e=this;e._appli=null},isApplicationLoaded:function(){var e=this;return e.appMetaData!=null},setApplication:function(e){var t=this;e&&(t.appMetaData=$.extend(!0,{},e),u.registerPages(t.appMetaData))},getApplicationName:function(){var e=this;return e.appMetaData&&e.appMetaData.$application.applicationName||""},getHomeDashboard:function(){var e=this,t;if(e.appMetaData&&e.appMetaData.$dashboards)for(var n in e.appMetaData.$dashboards){var r=e.appMetaData.$dashboards[n];r.$dashboardName===e.appMetaData.$application.$homeDashboard.dashboardName&&(t=i.getDashboardName(r.$dashboardName))}return t},getRegularPageInfo:function(e,t){var n=this;e.options=e.options||{};var r=$.Deferred(),i;try{a.getRegularPageInfo(e.name).then(function(t){return t!=null?(i=!0,t):n.getPageMetaData(e.name)}).then(function(t){return!t||!t.$page||!t.$page.$prototype?(i=!0,l.fetchRemotePrototype(e.name).then(function(t){return n.registerAdditionalPage(e.name,t,null)})):t}).then(function(t){if(!t)throw new Error("Page not found - PageId="+e.name);if(!t.$page)throw new new Error("Bad page description - PageId="+e.name);if(!t.$page.$prototype)throw new new Error("Prototype is NULL - PageId="+e.name);return t}).then(function(n){if(i){var o=u.registerRegularPage(e.name,n);for(var a in o)if(e[a]==null||e[a]!==o[a])e[a]=o[a]}var f=n.$page.$prototype;if(!$.isPlainObject(f))throw new Error("JSON proto expected");f=s.create(f,t);var l=e.options.article;if(l&&Object.keys(l).length===0){var c=f.toArticle();Object.keys(c).forEach(function(e){l[e]=c[e]})}else l=l||n.$page.$article||f.toArticle();r.resolve({article:l,prototype:f})}).fail(function(e){r.reject(e)})}catch(o){r.reject(o)}finally{return r.promise()}},getPageMetaData:function(e){var t=this;return t.appMetaData.$pages?$.smResolve(t.appMetaData.$pages[e]):$.smResolve(null)},getDashboardInfo:function(e){var t=this;return $.smResolve().then(function(){var n=t.appMetaData.$dashboards[e];if(!n)throw new Error("Dashboard not found "+e);return n}).then(function(e){return e&&e.$update?e.$update(e,t.appMetaData):e}).then(function(e){var n=e.$article;return n||(n=o.getDashboardArticle(e)),{article:$.extend({},n),prototype:o.getDashboardProto(e,t)}})},getGadgetData:function(e){var t=this,n=t.appMetaData.$gadgets&&t.appMetaData.$gadgets[e];if(!n)throw Error("Gadget data not found - id["+e+"]");return n.$uuid||(n.$uuid=e),n},getGadget:function(e){var t=this,n=t.getGadgetData(e);return new f(n)},getPrototype:function(e){var t=this;if(t.appMetaData==null)throw new Error("Get page prototype error - No application metadata");var n=t.appMetaData.$pages[e];if(n==null||n.$page==null)throw new Error("Get page prototype error - Page not found["+e+"]");return n.$page.$prototype},registerAdditionalPage:function(e,t,n){var r=this;if(!t||$.isEmptyObject(t))throw new Error("Unexpected empty prototype");r.appMetaData||(r.appMetaData={}),r.appMetaData.$pages||(r.appMetaData.$pages={});var i=r.appMetaData.$pages[e]=r.appMetaData.$pages[e]||{};return i.$cache=i.$cache||{cacheType:"$auto"},i.$page=i.$page||{},i.$page.$prototype=i.$page.$prototype||($.isPlainObject(t)?t:t.json),i.$page.$article=i.$page.$article||n,i}});t.Dao=c}),define("syracuse-tablet/html/js/application/daoSdata",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/notifications"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/globals"),s=e("syracuse-tablet/html/js/helpers/notifications"),o=function(e){switch(e.$type){case"application/x-password":case"application/x-string":return"";case"application/x-quantity":return 0;case"application/x-decimal":case"application/x-real":return 0;case"application/x-integer":return 0;case"application/x-boolean":return!1;case"application/x-date":return"";case"application/x-datetime":return"";case"application/x-time":return"";case"application/x-choice":return e.$value.$enum[0].$value;default:return null}},u=["$isMandatory","$isReadOnly","$isHidden","$isExcluded","$isDisabled","$actions","$format"],a=function(e){var t={$properties:{}};if(!e.isSingleArray()){var n=e.getDataByPath("$item.$properties");for(var r in n)if(!r.smStartsWith("$")){var i=n[r];t[r]=o(i);var s=t.$properties[r]={};u.forEach(function(e){i[e]!=null&&(s[e]=i[e])})}}return t},f=function(e,t){var n;return e.isSingleArray()?n=a(e):n=a(e),new l(n,e,null,null,t)},l=r.defineClass(function(e,t,n,r,i){var s=this;s.$bind=i||"",s.options=r||{},s.data=e||{};if(!t)throw new Error("Prototype is mandatory");if(!e)throw new Error("jsonData is mandatory");s.prototype=t,s._cache={metaData:{},queryData:null},s.parent=n},null,{destroy:function(){var e=this;e.parent=null,e.data=null,e.prototype=null},setValue:function(e,t,n){var r=this;return r.data[e]!==t?(r.data[e]=t,n===!0&&s.publish("sm.dao.updated",r,e,t),!0):!1},getValue:function(e,t){var n=this;if(!e||e.length===0)return t;var r=n.data[e];if(r!=null&&n.prototype.isReference(e)&&typeof r=="object"&&r.$value==null){var s=n.prototype.getFieldNameForValue(e);return s!=e?r.$value=n.getValue(s,t):r.$value=r,r}return r!=null?r:n.parent?n.parent.getValue(e,t):t},getDisplayValue:function(e,t){var n=this,r=n.getValue(e,t),i=n.getMetaData(e);return typeof r=="object"&&(r=r.$value||r.$title||r.$description),(r||"").toString()},getMetaData:function(e){var t=this,n=t._cache.metaData[e];return n?n:(n=t._cache.metaData[e]=$.extend({},t.prototype.getMetaData(e),t.data.$properties?t.data.$properties[e]:null),n)},getFieldInfo:function(e){var t=this;return{meta:t.getMetaData(),value:t.getValue()}},getArrayData:function(e,t){var n=this,r={$resources:[]},s=n.getValue(e)||[];return t.isSingleArray()?s.forEach(function(s){var o={};o[i.SINGLEARRAYPROP]=s;var u=t.getPrototype("$item");if(u.property(i.SINGLEARRAYPROP).$type==="application/x-reference"){var a=u.getFieldNameForValue(i.SINGLEARRAYPROP);a&&(o[a]=s[a])}r.$resources.push(new l(o,u,n,null,e))}):s.forEach(function(i){r.$resources.push(new l(i,t,n,null,e))}),r},getQueryData:function(e){var t=this,n={$itemsPerPage:t.getValue("$itemsPerPage"),$resources:[],$links:t.getValue("$links")};if(!e)throw new Error("getQueryData - Prototype Array is mandatory");var r=e.getPrototype("$item"),i="$resources",s=t.getValue(i);return s.forEach(function(e){n.$resources.push(new l(e,r,t,null,i))}),n},getLookupData:function(e){return this.getQueryData(e)},getQueryResources:function(){var e=this,t=e.getValue("$resources");return t},parseExpression:function(e){var t=this;return r.parseExpression(e,t,t.prototype)},setRowIndex:function(e){this.setValue(i.ROWIDXPROP,e,!1)},getLinksStatus:function(e){var t=this;return e=e||t.prototype,$.extend(!0,{},e.data("$links"),t.getValue("$links"))},getActionPayload:function(e){var t=this;switch(e.name){case"$save":case"$edit":return $.extend({},t.data);default:return null}},clone:function(){return new l($.extend(!0,{},this.data),this.prototype,this.parent,this.options,this.$bind)}});t.Dao=l,t.emptyDao=function(e,t,n){return new l({$properties:{}},e,t,n)},t.getArrayEmptyRow=f}),define("syracuse-tablet/html/js/application/appFactoryDeps",["require","exports","module","syracuse-tablet/html/js/application/application","syracuse-tablet/html/js/pages/pageDashboard","syracuse-tablet/html/js/pages/pageRegular","syracuse-tablet/html/js/pages/pageRowDetail","syracuse-tablet/html/js/pages/pageLookup","syracuse-tablet/html/js/pages/pageLogin","syracuse-tablet/html/js/application/daoApp","syracuse-tablet/html/js/application/daoSdata","syracuse-tablet/html/js/application/appFactory"],function(e,t,n){var r=e("syracuse-tablet/html/js/application/application").Application,i=e("syracuse-tablet/html/js/pages/pageDashboard").Page,s=e("syracuse-tablet/html/js/pages/pageRegular").Page,o=e("syracuse-tablet/html/js/pages/pageRowDetail").Page,u=e("syracuse-tablet/html/js/pages/pageLookup").Page,a=e("syracuse-tablet/html/js/pages/pageLogin").Page,f=e("syracuse-tablet/html/js/application/daoApp").Dao,l=e("syracuse-tablet/html/js/application/daoSdata").Dao,c=e("syracuse-tablet/html/js/application/appFactory");t.init=function(){c.setImpl("Application",r),c.setImpl("DashoardPage",i),c.setImpl("RegularPage",s),c.setImpl("RowDetailPage",o),c.setImpl("LookupPage",u),c.setImpl("LoginPage",a),c.setImpl("DaoApp",f),c.setImpl("DaoSdata",l)}}),define("syracuse-tablet/html/js/controls/structElmt",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/helpers/logger"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/ui/uiUtils"),s=e("syracuse-tablet/html/js/helpers/logger").getLogger("ctrls",!1),o={},u=/-|\//g,a=r.defineClass(function(t,n,r,i){var s=this;s.options=i||{},s.controller=t,s.$type=n,s.typeName=o[n];if(!s.typeName){var a=n.split(u);s.typeName=o[n]=a[a.length-1]}s.article=r||{},s.children=null,s.parent=null,s.initReuseProperties()},null,{initReuseProperties:function(){this.$$elmt=null,this.id=this.createId(this.typeName)},destroy:function(){var e=this;e.controller=null,e.parent=null,r.unbindObj(e.$$elmt),r.unbindObj(e),e.children&&(e.children.forEach(function(e){e&&e.destroy()}),e.children=null),e.$$elmt&&(e.$$elmt.remove(),e.$$elmt=null)},generateHtml:function(e,t,n,r){var i=this,s=i.options;r&&(s.htmlRootCtrl=r),s.isHtmlGenerator=!0,i.buildHtml(e,t,s);var o=i.$$elmt;return i.$$elmt=null,n===!0&&i.destroy(),o},buildHtml:function(e,t,n){var r=this;n.isHtmlGenerator===!0&&(r._needReuse?r.initReuseProperties():r._needReuse=!0)},getAuthoring:function(e,t){var n=this;if(!e||!n.article)return t;if(typeof e=="string")e=e.split(".");else if(!Array.isArray(e))throw new Error("Unexpected path type");var r=n.article;for(var i=0;i<e.length;i++){r=r[e[i]];if(r==null)return t;if(!$.isPlainObject(r)==null)return s&&s("Unexpected non-plainobject"),t}return r!=null?r:t},appendStyleAuthoring:function(e,t){e=e||[];if(!t)return e;if($.isPlainObject(t))var n=t;else var n=this.getAuthoring(t);if(!n)return e;for(var r in n)["$theme","$fontStyle","$fontSize"].indexOf(r)>=0&&e.push(n[r]);return e},empty:function(){var e=this;e.children&&e.children.forEach(function(e){e&&e.empty()}),e.$$elmt&&e.$$elmt.empty()},isLayout:function(){return this.typeName==="layout"},isVignette:function(){return this.typeName==="vignette"},isControl:function(){return this.isLayout()&&!this.isVignette()},createId:function(e){return r.readableuid(e)},appendStructElmt:function(e){var t=this;if(!e)return;t.children||(t.children=[]),e.parent=t,t.children.push(e)},getNbChilds:function(){return this.children&&this.children.length>0},afterRender:function(){},refresh:function(e,t){throw new Error("not implemented")},createRootElement:function(e,t){var n=this,r=n.setRootElement(i.createDomElement("div",e,null,n.options.isHtmlGenerator===!0?null:{id:n.id}),t);return r},setRootElement:function(e,t){var n=this,r=e,i=t;if(!e)return null;if(typeof e=="string"||!e.jquery)e=$(e);return n.$$elmt=e,t&&(t.jquery||(t=$(t)),e.appendTo(t)),n.options.isHtmlGenerator!==!0&&e.attr("data-layout-path",n.getAuthoringPath()),e},log:function(){s&&s.apply(null,arguments)},setAuthoringPath:function(e){this.layoutPath=e},getAuthoringPath:function(){return this.layoutPath}});t.Klass=a}),define("syracuse-tablet/html/js/controls/ctrlBase",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/structElmt"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/structElmt").Klass,s=function(e,t,n,r){var i=this;n=n||{};var s=[],o=e.data("$url"),u=n.tag||"a",a=n.css||"a";if(o&&o.length)s.push("<"),s.push(u),s.push(' href="'+o+'"'),a&&s.push(' class="'+a+'"'),s.push(">");else{var f=e.data("$action")||i.prototype.data("$navigation");if(f){s.push("<"),s.push(u),s.push(' href="*"');for(var l in f){var c=t?t.parseExpression(f[l]):f[l];s.push(" "+l+'="'+encodeURIComponent(c)+'"')}a&&s.push(' class="'+a+'"'),s.push(">")}}return r&&r(s),s.length>1&&(s.push("</"),s.push(u),s.push(">")),s.join("")},o=r.defineClass(function(t,n,r,s){var o=this;s=s||{},o.prototype=r,o.$bind=n.$bind,i.call(o,t,r.data("$type"),n,s),o.$isEditMode=t.isEditMode()&&n.$isEditMode!==!1&&s.isTableCell!==!0,o._dao=null},i,{destroy:function(){var e=this;i.prototype.destroy.call(e),e.prototype&&(e.prototype.destroy(),e.prototype=null),e._dao=null},createId:function(e){return r.readableuid(this.$bind,e.substr(0,3))},buildHtml:function(e,t,n,r){var s=this;i.prototype.buildHtml.call(s,e,t,n),s._dao=t;var o=["s-m-control"];r&&o.push(r.join(" ")),s.createRootElement(o,e)},getDao:function(){return this._dao?this._dao:this.controller.dao},refresh:function(e,t){var n=this;n._dao=e,this.applyMetaData(this.getMetaData())},getMetaData:function(){return this.getDao().getMetaData(this.$bind)},getTitle:function(){return this.article&&this.article.$title||this.prototype.data("$title")||this.prototype.getPropTitle(this.$bind)},applyMetaData:function(e){var t=this;if(e==null)return;if(t.$isEditMode){var n=t.$$elmt.find(".s-m-meta");n.length>0&&(n.is("input")&&!n.is(".btn")?(n[e.$isReadOnly===!0?"attr":"removeAttr"]("readonly",""),n[e.$isDisabled===!0?"attr":"removeAttr"]("disabled","")):n[e.$isReadOnly===!0||e.$isDisabled===!0?"attr":"removeAttr"]("disabled",""))}t.$$elmt.toggle(e.$isHidden!==!0)},getValue:function(){return this.getDao().getValue(this.$bind)},setValue:function(e){this.getDao().setValue(this.$bind,e)}});t.genHtmlCtrlLink=s,t.Klass=o}),define("syracuse-tablet/html/js/helpers/types/date",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){function o(e,t,n){e=e?e.toString():"";if(!n||n.length==0)n=" ";while(e.length<t)e=n+e;return e}function f(e){this._value=e}function l(e,t){return t?s().abbreviatedDayNames[e]:s().dayNames[e]}function c(e,t){return t?s().abbreviatedMonthNames[e-1]:s().monthNames[e-1]}function h(e){var t=e.toString();return t.length==1?"0"+t:t}function p(e){var t=e.year,n=e.month,r=e.day,i=n<=2?t-1:t,s=Math.floor(i/4)-Math.floor(492.5),o=Math.floor(i/100)-Math.floor(19.7),a=Math.floor(i/400)-Math.floor(4.925),f=s-o+a;return(t-1970)*365+f+u[n-1]+r-1}function d(e){var t=2440588+e,n=t+68569,r=Math.floor(4*n/146097);n-=Math.floor((146097*r+3)/4);var i=Math.floor(4e3*(n+1)/1461001);n=n-Math.floor(1461*i/4)+31;var s=Math.floor(80*n/2447),o=n-Math.floor(2447*s/80);n=Math.floor(s/11);var u=s+2-12*n,a=100*(r-49)+i+n;return new f(a*1e4+u*100+o)}function v(e,t,n){return new f(e*1e4+t*100+n)}function m(e){return e%4===0&&(e%100!==0||e%400===0)}function g(e,t){return t==2?m(e)?29:28:a[t-1]}function y(e){return e!=0&&e!=6}function b(){return s().amDesignator||"AM"}function w(){return s().pmDesignator||"PM"}function E(e,t){function i(t){var n=e[t],r=1;while(e[t+r]===n)r++;return r}var n=0,r=e.length;while(n<r){var s=e[n];switch(s){case"'":n++;var o="";for(;n<r;n++)if(e[n]==="'"){n++;if(e[n]!=="'")break;o+="'"}else o+=e[n];t.literal(o);break;case"d":case"M":case"y":var u=i(n);t[s](u),n+=u;break;default:t.literal(s),n++}}}function S(e,t){function f(t){if(!/\d/.test(e[a]))throw new Error(i.text("date.notNumber",e.substring[a]));var n=a++;while(a<n+t&&/\d/.test(e[a]))a++;return parseInt(e.substring(n,a),10)}function l(t){for(var n=0;n<t.length;n++){var r=t[n],s=r.length;if(e.substring(a,a+s).toUpperCase()==r.toUpperCase())return a+=s,n}throw new Error(i.text("date.unknown",e.substring(a)))}var n,r,o,u,a=0;return E(t,{literal:function(t){if(e.substring(a,a+t.length)!==t)throw new Error(i.text("date.wrongFormat",t,e.substring(a)));a+=t.length},d:function(e){switch(e){case 1:case 2:n=f(2);break;case 3:r=l(s().abbreviatedDayNames);break;case 4:r=l(s().dayNames);break;default:throw new Error(i.text("date.badDay",t.substring(a)))}},M:function(e){switch(e){case 1:case 2:o=f(2);break;case 3:o=l(s().abbreviatedMonthNames)+1;break;case 4:o=l(s().monthNames)+1;break;default:throw new Error(i.text("date.badDay",t.substring(a)))}},y:function(e){switch(e){case 2:u=f(2),u=u<40?2e3+u:1900+u;break;case 4:u=f(4),u=u>99?u:u<40?2e3+u:1900+u;break;default:throw new Error(i.text("date.badYear",t.substring(a)))}}}),v(u,o,n)}var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/locale"),s=i.getDatetimeInfo;t.validate=function(e,t,n){if(e==null){if(t.$isMandatory)return n.push(i.text("date.valMan"));if(!t.$isNullable)return n.push(i.text("date.valNull"));return}if(!(e instanceof f)){n.push(i.text("date.valDate"));return}if(!(e.month>=1&&e.month<=12)){n.push(i.text("date.invMonth"));return}if(!(e.day>=1&&e.day<=g(e.year,e.month))){n.push(i.text("date.invDay"));return}};var u=[0,31,59,90,120,151,181,212,243,273,304,334],a=[31,28,31,30,31,30,31,31,30,31,30,31];t.amDesignator=b,t.pmDesignator=w,r.defineClass(f,null,{year:{get:function(){return Math.floor(this._value/1e4)}},month:{get:function(){return Math.floor(this._value/100)%100}},day:{get:function(){return this._value%100}},weekDay:{get:function(){return(2440589+p(this))%7}},yearDay:{get:function(){var e=this.month,t=e>2&&m(this.year)?1:0;return u[e-1]+t+this.day}},week:{get:function(){var e=v(this.year,1,4).begOfWeek(1);return Math.floor((7+p(this)-p(e))/7)}},valueOf:function(){return this.toString()},compare:function(e){return this._value-e._value},equals:function(e){return this._value===e._value},between:function(e,t){return e._value<=this._value&&this._value<=t._value},isLeapYear:function(){return m(this.year)},isWorkDay:function(){return y(this.weekDay)},daysInMonth:function(){return g(this.year,this.month)},begOfYear:function(){return v(this.year,1,1)},endOfYear:function(){return v(this.year,12,31)},begOfQuarter:function(){return v(this.year,Math.floor((this.month-1)/3)*3+1,1)},endOfQuarter:function(){return this.begOfQuarter().addMonths(2).endOfMonth()},begOfMonth:function(){return v(this.year,this.month,1)},endOfMonth:function(){return v(this.year,this.month,this.daysInMonth())},sameMonth:function(e){return e=Math.min(e,this.daysInMonth()),v(this.year,this.month,e)},pastDay:function(e,t){var n=e-this.day;return n>0||n==0&&!t?this.addMonths(-1).sameMonth(e):this.sameMonth(e)},futureDay:function(e,t){var n=e-this.day;return n<0||n==0&&!t?this.addMonths(1).sameMonth(e):this.sameMonth(e)},pastMonth:function(e,t){var n=this.month-e;return n=n==0?t?0:12:n>0?n:n+12,this.addMonths(-n)},futureMonth:function(e,t){var n=e-this.month;return n=n==0?t?0:12:n>0?n:n+12,this.addMonths(n)},begOfWeek:function(e){var t=this.weekDay-(e||0);return t==0?this:t>0?this.addDays(-t):this.addDays(-t-7)},endOfWeek:function(e){return this.begOfWeek(e).addDays(6)},sameWeek:function(e,t){return this.begOfWeek(t).futureWeekDay(e,!0)},pastWeekDay:function(e,t){var n=this.begOfWeek(e);return!t&&n.equals(this)?this.addWeeks(-1):n},futureWeekDay:function(e,t){return this.pastWeekDay(e,!t).addWeeks(1)},addYears:function(e){if(e==0)return this;var t=this.year+e,n=this.month,r=Math.min(this.day,g(t,n));return v(t,n,r)},addMonths:function(e){if(e==0)return this;var t=this,n=t.day,r=t.month-1,i=t.year;r+=e,i+=Math.floor(r/12);var s=(r+12e4)%12+1,o=g(i,s);return n=n<o?n:o,v(i,s,n)},addWeeks:function(e){return this.addDays(7*e)},addDays:function(e){return e==0?this:d(p(this)+e)},daysDiff:function(e){return p(this)-p(e)},add:function(e){return this.addYears(e.years||0).addMonths(e.months||0).addWeeks(e.weeks||0).addDays(e.days||0)},toString:function(e){var t=this;if(e==null){var n=t._value.toString();return n=o(n,8,"0"),n.substring(0,4)+"-"+n.substring(4,6)+"-"+n.substring(6,8)}var r="";return E(e,{literal:function(e){r+=e},d:function(e){switch(e){case 1:r+=t.day.toString();break;case 2:r+=h(t.day);break;case 3:r+=l(t.weekDay,!0);break;case 4:r+=l(t.weekDay);break;default:throw new Error(i.text("date.formatd",e))}},M:function(e){switch(e){case 1:r+=t.month.toString();break;case 2:r+=h(t.month);break;case 3:r+=c(t.month,!0);break;case 4:r+=c(t.month);break;default:throw new Error(i.text("date.formatM",e))}},y:function(e){switch(e){case 2:r+=t.year.toString().substring(2,4);break;case 4:r+=t.year.toString();break;default:throw new Error(i.text("date.formatM",e))}}}),r},at:function(e,t){throw new Error(i.text("date.notInstalled"))},toJsDate:function(e){return e?new Date(Date.UTC(this.year,this.month-1,this.day)):new Date(this.year,this.month-1,this.day)},isNull:function(){return this._value==0}}),t.monthName=c,t.monthFromName=function(e){var t=s().monthNames,n=s().abbreviatedMonthNames,r=e.toLowerCase();for(var i=0;i<t.length;i++)if(t[i].toLowerCase()==r||n[i].toLowerCase()==r)return i+1;return-1},t.dayName=l,t.weekDayFromName=function(e){var t=s().dayNames,n=s().abbreviatedDayNames,r=s().shortestDayNames,i=e.toLowerCase();for(var o=0;o<t.length;o++)if(t[o].toLowerCase()==i||n[o].toLowerCase()==i)return o;return-1},t.isLeap=m,t.daysInMonth=g,t.today=function(e){return t.fromJsDate(new Date,e)},t.parse=function(e,t){if(e==null)throw new Error(i.text("date.dateNull"));if(t==null){if(e.length!=10)throw new Error(i.text("date.badFormat",e));var n=parseInt(e.replace(/-/g,""),10);return new f(n)}return S(e,t)},t.walkFormat=E,t.fromJsDate=function(e,t){return t?v(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate()):v(e.getFullYear(),e.getMonth()+1,e.getDate())},t.fromInternalValue=function(e){return new f(e)},t.makeInWeek=function(e,t,n){var r=n?n-1:6;return v(e,1,4).begOfWeek(1).addDays(7*(t-1)+r)},t.isDate=function(e){return e instanceof f},t.sunday=0,t.Sunday=0,t.monday=1,t.Monday=1,t.tuesday=2,t.Tuesday=2,t.wednesday=3,t.Wednesday=3,t.thursday=4,t.Thursday=4,t.friday=5,t.Friday=5,t.saturday=6,t.Saturday=6,t.make=v}),define("syracuse-tablet/html/js/helpers/types/time",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){function o(e){e=(e+31536e7)%86400,this._value=e}function u(e){var t=e.toString();return t.length==1?"0"+t:t}function a(e,t,n){return parseInt(e.substring(t,n),10)}function f(e,t,n){return new o(e*3600+(t||0)*60+(n||0))}function l(){return s().amDesignator||"AM"}function c(){return s().pmDesignator||"AM"}function h(e,t){function i(t){var n=e[t],r=1;while(e[t+r]===n)r++;return r}var n=0,r=e.length;while(n<r){var s=e[n];switch(s){case"'":n++;var o="";for(;n<r;n++)if(e[n]==="'"){n++;if(e[n]!=="'")break;o+="'"}else o+=e[n];t.literal(o);break;case"H":case"h":case"m":case"s":case"t":var u=i(n);t[s](u),n+=u;break;default:t.literal(s),n++}}}function p(e,t){function v(t){if(!/\d/.test(e[d]))throw new Error(i.text("time.noNumber",e.substring[d]));var n=d++;while(d<n+t&&/\d/.test(e[d]))d++;return parseInt(e.substring(n,d),10)}function m(t){for(var n=0;n<t.length;n++){var r=t[n],s=r.length;if(e.substring(d,d+s).toUpperCase()==r.toUpperCase())return d+=s,n}throw new Error(i.text("time.unknown",e.substring(d)))}function g(e,t){switch(e[t]){case e[0]:n=n===12?0:n;break;case e[1]:n>=1&&n<=11&&(n+=12)}}var n,r,s,o,u,a=[l(),c()],p=[a[0].substring(0,1),a[1].substring(0,1)],d=0;h(t,{literal:function(t){if(e.substring(d,d+t.length)!==t)throw new Error(i.text("time.wrongFormat",t,e.substring(d)));d+=t.length},H:function(e){switch(e){case 1:case 2:n=v(2);break;default:throw new Error(i.text("time.badHour",t.substring(d)))}},h:function(e){switch(e){case 1:case 2:n=v(2);break;default:throw new Error(i.text("time.badHour",t.substring(d)))}},m:function(e){switch(e){case 2:r=v(2);break;default:throw new Error(i.text("time.badMin",t.substring(d)))}},s:function(e){switch(e){case 2:s=v(2);break;default:throw new Error(i.text("time.badSec",t.substring(d)))}},t:function(e){switch(e){case 1:u=m(p);break;case 2:o=m(a);break;default:throw new Error(i.text("time.badMarker",t.substring(d)))}}});if(o!=null||u!=null){if(n>12)throw new Error(i.text("time.badHourVal",n,o));var y=o!=null?a:p,b=o!=null?o:u;g(y,b)}return f(n,r,s)}var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/locale"),s=i.getDatetimeInfo;t.validate=function(e,t,n){if(e==null){if(t.$isMandatory)return n.push(i.text("time.valMan"));if(!t.$isNullable)return n.push(i.text("time.valNull"));return}if(!(e instanceof o)){n.push(i.text("time.valTime"));return}},r.defineClass(o,null,{hour:{get:function(){return Math.floor(this._value/3600)}},minute:{get:function(){return Math.floor(this._value/60)%60}},second:{get:function(){return this._value%60}},value:{get:function(){return this._value}},valueOf:function(){return this.toString()},compare:function(e){return this._value-e._value},equals:function(e){return this._value===e._value},between:function(e,t){return e._value<=this._value&&this._value<=t._value},begOfDay:function(){return f(0,0,0)},endOfDay:function(){return f(23,59,59)},begOfHour:function(){return f(this.hour,0,0)},endOfHour:function(){return f(this.hour,59,59)},begOfMinute:function(){return f(this.hour,this.minute,0)},endOfMinute:function(){return f(this.hour,this.minute,59)},toString:function(e){var t=this;if(e==null)return u(t.hour)+":"+u(t.minute)+":"+u(t.second);var n="";return h(e,{literal:function(e){n+=e},H:function(e){switch(e){case 1:n+=t.hour;break;case 2:n+=u(t.hour);break;default:throw new Error(i.text("time.formatH",e))}},h:function(e){switch(e){case 1:var r=t.hour;r===0?n+=12:n+=r>12?r-12:r;break;case 2:var r=t.hour;r===0?n+=12:n+=r>12?u(r-12):u(r);break;default:throw new Error(i.text("time.formath",e))}},m:function(e){switch(e){case 2:n+=u(t.minute);break;default:throw new Error(i.text("time.formatm",e))}},s:function(e){switch(e){case 2:n+=u(t.second);break;default:throw new Error(i.text("time.formats",e))}},t:function(e){switch(e){case 1:n+=t.hour<12?l().substring(0,1):c().substring(0,1);break;case 2:n+=t.hour<12?l():c();break;default:throw new Error(i.text("time.formata",e))}}}),n},secondsDiff:function(e){return this._value-e._value},addHours:function(e){return e==0?this:new o(this._value+e*3600)},addMinutes:function(e){return e==0?this:new o(this._value+e*60)},addSeconds:function(e){return e==0?this:new o(this._value+e)},add:function(e){return this.addHours(e.hours||0).addMinutes(e.minutes||0).addSeconds(e.seconds||0)},isNull:function(){return this._value==0}}),t.make=f,t.fromSeconds=function(e){return new o(e)},t.fromJsDate=function(e,t){return t?f(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds()):f(e.getHours(),e.getMinutes(),e.getSeconds())},t.now=function(e){return t.fromJsDate(new Date,e)},t.parse=function(e,t){if(e==null)throw new Error(i.text("time.isNull"));if(t==null){if(e.length!=5&&e.length!=8)throw new Error(i.text("time.badFormat",e));var n=e.length==8?a(e,0,2)*3600+a(e,3,5)*60+a(e,6,8):a(e,0,2)*3600+a(e,3,5)*60;return new o(n)}return p(e,t)},t.amDesignator=l,t.pmDesignator=c}),define("syracuse-tablet/html/js/helpers/types/datetime",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/types/date","syracuse-tablet/html/js/helpers/types/time","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){function a(e){var t=e.toString();return t.length==1?"0"+t:t}function f(e){var t=e.toString();switch(t.length){case 1:return"00"+t;case 2:return"0"+t;default:return t}}function l(e,t){this._value=e,t!=null&&(this._tzOffset=t)}function c(e){return(e._value+63072e9)%1e3}function h(e){var t=e._utc;if(!t){var n=new Date(e._value);t=n.getUTCFullYear()*1e4*1e5+(n.getUTCMonth()+1)*100*1e5+n.getUTCDate()*1e5+n.getUTCHours()*3600+n.getUTCMinutes()*60+n.getUTCSeconds(),n._utc=t}return t}function p(e){var t=e._local;if(!t){var n=new Date(e._value);t=n.getFullYear()*1e4*1e5+(n.getMonth()+1)*100*1e5+n.getDate()*1e5+n.getHours()*3600+n.getMinutes()*60+n.getSeconds(),n._local=t}return t}function d(e,t){var n="-";e<0&&(n="+",e=-e);var r=Math.round(e/60),i=e-r*60;return n+=t>1?a(r):r,n+=t>2||i?":"+(t>1?a(i):i):"",n}function v(e){var t=0,n=0,r=0,i=0,s=0,u=0,a=0,f=0,c=!0,h=/(\d{4})-(\d{2})-(\d{2})([T\s]?)(\d{2})?(:)?(\d{2})?(:)?(\d{2})?(\.(\d{3}))?(Z)?(([+-])(\d{2}))?(.*$)/.exec(e);if(h){c=!1,t=+h[1],n=h[2]-1,r=+h[3],i=+(h[5]||0),s=+(h[7]||0),u=+(h[9]||0),a=+(h[11]||0);if(h[12]==="Z"){h[14]==="-"?f=(h[15]||0)*60:h[14]==="+"&&(f=-(h[15]||0)*60);var p=Date.UTC(t,n,r,i,s+f,u,a);return new l(p)}var d=new Date(t,n,r,i,s+f,u,a);return new l(d.getTime(),d.getTimezoneOffset())}if(c)throw new Error(o.text("datetime.noParse",e))}function m(e,t,n,r,i,s,o){var u=new Date(e,t-1,n,r||0,i||0,s||0,o||0);return new l(u.getTime(),u.getTimezoneOffset())}function g(e,t,n,r,i,s,o){var u=new Date(Date.UTC(e,t-1,n,r||0,i||0,s||0,o||0));return new l(u.getTime(),u.getTimezoneOffset())}function y(e,t){function i(t){var n=e[t],r=1;while(e[t+r]===n)r++;return r}var n=0,r=e.length;while(n<r){var s=e[n];switch(s){case"'":n++;var o="";for(;n<r;n++)if(e[n]==="'"){n++;if(e[n]!=="'")break;o+="'"}else o+=e[n];t.literal(o);break;case"H":case"h":case"m":case"s":case"S":case"t":case"d":case"M":case"y":var u=i(n);t[s](u),n+=u;break;default:t.literal(s),n++}}}function b(e,t){function w(t){if(!/\d/.test(e[b]))throw new Error(o.text("datetime.noNumber",e.substring[b]));var n=b++;while(b<n+t&&/\d/.test(e[b]))b++;return parseInt(e.substring(n,b),10)}function E(t){for(var n=0;n<t.length;n++){var r=t[n],i=r.length;if(e.substring(b,b+i).toUpperCase()==r.toUpperCase())return b+=i,n}throw new Error(o.text("datetime.unknown",e.substring(b)))}function S(e,t){switch(e[t]){case e[0]:f=f===12?0:f;break;case e[1]:f>=1&&f<=11&&(f+=12)}}var n,r,s,a,f,l,c,h,p,d,v=[i.amDesignator(),i.pmDesignator()],g=[v[0].substring(0,1),v[1].substring(0,1)],b=0;y(t,{literal:function(t){if(e.substring(b,b+t.length)!==t)throw new Error(o.text("datetime.formatMis",t,e.substring(b)));b+=t.length},d:function(e){switch(e){case 1:case 2:n=w(2);break;case 3:r=E(u().abbreviatedDayNames);break;case 4:r=E(u().dayNames);break;default:throw new Error(o.text("datetime.badDay",t.substring(b)))}},M:function(e){switch(e){case 1:case 2:s=w(2);break;case 3:s=E(u().abbreviatedMonthNames)+1;break;case 4:s=E(u().monthNames)+1;break;default:throw new Error(o.text("datetime.badDay",t.substring(b)))}},y:function(e){switch(e){case 2:a=w(2),a=a<40?2e3+a:1900+a;break;case 4:a=w(4),a=a>99?a:a<40?2e3+a:1900+a;break;default:throw new Error(o.text("datetime.badYear",t.substring(b)))}},H:function(e){switch(e){case 1:case 2:f=w(2);break;default:throw new Error(o.text("datetime.badHour",t.substring(b)))}},h:function(e){switch(e){case 1:case 2:f=w(2);break;default:throw new Error(o.text("datetime.badHour",t.substring(b)))}},m:function(e){switch(e){case 2:l=w(2);break;default:throw new Error(o.text("datetime.badMin",t.substring(b)))}},s:function(e){switch(e){case 2:c=w(2);break;default:throw new Error(o.text("datetime.badSec",t.substring(b)))}},t:function(e){switch(e){case 1:d=E(g);break;case 2:p=E(v);break;default:throw new Error(o.text("datetime.badMarker",t.substring(b)))}}});if(p!=null||d!=null){if(f>12)throw new Error(o.text("datetime.badHourVal",f,p));var x=p!=null?v:g,T=p!=null?p:d;S(x,T)}return m(a,s,n,f,l,c,h)}function w(e){function r(t){var n=e[t],r=1;while(e[t+r]===n)r++;return r}var t=0,n=e.length;while(t<n){var i=e[t];if(i==="'"){t++;var s="";for(;t<n;t++)if(e[t]==="'"){t++;if(e[t]!=="'")break;s+="'"}else s+=e[t]}else{if(i==="Z")return t;t++}}}var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/types/date"),s=e("syracuse-tablet/html/js/helpers/types/time"),o=e("syracuse-tablet/html/js/helpers/locale"),u=o.getDatetimeInfo;t.validate=function(e,t,n){if(e==null){if(t.$isMandatory)return n.push(o.text("datetime.valMand"));if(!t.$isNullable)return n.push(o.text("datetime.valNull"));return}if(!(e instanceof l)){n.push(o.text("datetime.valDT"));return}if(!(e.month>=1&&e.month<=12)){n.push(o.text("datetime.valMon"));return}if(!(e.day>=1&&e.day<=i.daysInMonth(e.year,e.month))){n.push(o.text("datetime.valDay"));return}},t.Datetime=r.defineClass(l,null,{date:{get:function(){return i.fromInternalValue(Math.floor(p(this)/1e5))}},time:{get:function(){return s.fromSeconds(p(this)%1e5)}},year:{get:function(){return this.date.year}},month:{get:function(){return this.date.month}},day:{get:function(){return this.date.day}},weekDay:{get:function(){return this.date.weekDay}},yearDay:{get:function(){return this.date.yearDay}},hour:{get:function(){return this.time.hour}},minute:{get:function(){return this.time.minute}},second:{get:function(){return this.time.second}},millisecond:{get:function(){return c(this)}},utcDate:{get:function(){return i.fromInternalValue(Math.floor(h(this)/1e5))}},utcTime:{get:function(){return s.fromSeconds(h(this)%1e5)}},utcYear:{get:function(){return this.utcDate.year}},utcMonth:{get:function(){return this.utcDate.month}},utcDay:{get:function(){return this.utcDate.day}},utcWeekDay:{get:function(){return this.utcDate.weekDay}},utcYearDay:{get:function(){return this.utcDate.yearDay}},utcHour:{get:function(){return this.utcTime.hour}},utcMinute:{get:function(){return this.utcTime.minute}},utcSecond:{get:function(){return this.utcTime.second}},utcMillisecond:{get:function(){return c(this)}},value:{get:function(){return this._value}},timezoneOffset:{get:function(){return this._tzOffset==null&&(this._tzOffset=this.toJsDate().getTimezoneOffset()),this._tzOffset}},compare:function(e){return this._value-e._value},equals:function(e){return this._value===e._value},between:function(e,t){return e._value<=this._value&&this._value<=t._value},addYears:function(e){return this.date.addYears(e).at(this.time,this.millisecond)},addMonths:function(e){return this.date.addMonths(e).at(this.time,this.millisecond)},addWeeks:function(e){return this.date.addWeeks(e).at(this.time,this.millisecond)},addDays:function(e){return this.date.addDays(e).at(this.time,this.millisecond)},addHours:function(e){return new l(this._value+e*3600*1e3)},addMinutes:function(e){return new l(this._value+e*60*1e3)},addSeconds:function(e){return new l(this._value+e*1e3)},addMilliseconds:function(e){return new l(this._value+e)},addDayFractions:function(e){return new l(this._value+e*86400*1e3)},millisDiff:function(e){return this._value-e._value},begOfMonth:function(){return m(this.year,this.month,1)},begOfWeek:function(e){var t=this.weekDay-(e||0);return t==0?this:t>0?this.addDays(-t):this.addDays(-t-7)},add:function(e){return this.addYears(e.years||0).addMonths(e.months||0).addWeeks(e.weeks||0).addDays(e.days||0).addHours(e.hours||0).addMinutes(e.minutes||0).addSeconds(e.seconds||0).addMillis(e.millis||0)},toString:function(e){var t=this;if(e==null)return(new Date(this._value)).toISOString();var n=w(e),r=n?t.utcDate:t.date,s=n?t.utcTime:t.time,l="";return y(e,{literal:function(e){l+=e},H:function(e){switch(e){case 1:l+=s.hour.toString();break;case 2:l+=a(s.hour);break;default:throw new Error(o.text("datetime.formatH",e))}},h:function(e){switch(e){case 1:l+=s.hour<13?s.hour:s.hour-12;break;case 2:l+=a(s.hour<13?s.hour:s.hour-12);break;default:throw new Error(o.text("datetime.formath",e))}},m:function(e){switch(e){case 2:l+=a(s.minute);break;default:throw new Error(o.text("datetime.formatm",e))}},s:function(e){switch(e){case 2:l+=a(t.second);break;default:throw new Error(o.text("datetime.formats",e))}},t:function(e){switch(e){case 1:l+=t.hour<12?u().amDesignator.substring(0,1):u().pmDesignator.substring(0,1);break;case 2:l+=t.hour<12?u().amDesignator:u().pmDesignator;break;default:throw new Error(o.text("datetime.formata",e))}},d:function(e){switch(e){case 1:l+=r.day.toString();break;case 2:l+=a(r.day);break;case 3:l+=i.dayName(r.weekDay,!0);break;case 4:l+=i.dayName(r.weekDay);break;default:throw new Error(o.text("datetime.formatd",e))}},M:function(e){switch(e){case 1:l+=r.month.toString();break;case 2:l+=a(r.month);break;case 3:l+=i.monthName(r.month,!0);break;case 4:l+=i.monthName(r.month);break;default:throw new Error(o.text("datetime.formatM",e))}},y:function(e){switch(e){case 2:l+=r.year.toString().substring(2,4);break;case 4:l+=r.year.toString();break;default:throw new Error(o.text("datetime.formaty",e))}},S:function(e){e===3?l+=f(t.millisecond):new Error(o.text("datetime.formatS",e))}}),l},toJsDate:function(){return new Date(this._value)},withoutTimezoneOffset:function(){return new l(this._value)},isNull:function(){return this._value==0}}),t.now=function(e){var t=new Date,n=t.getTime();return e||(n=Math.floor(n/1e3)*1e3),new l(n,t.getTimezoneOffset())},t.parse=function(e,t){if(e==null)throw new Error(o.text("datetime.isNull"));return t==null?v(e):b(e,t)},t.fromJsDate=function(e){return new l(e.getTime(),e.getTimezoneOffset())},t.isDatetime=function(e){return e instanceof l},t.fromInternalValue=function(e){return new l(e)},t.dayName=function(e,t){return t?u().abbreviatedDayNames[e]:u().dayNames[e]},t.monthName=function(e,t){return t?u().abbreviatedMonthNames[e-1]:u().monthNames[e-1]},t.make=m,t.makeUtc=g,i.make(1,1,1).constructor.prototype.at=function(e,n){return t.make(this.year,this.month,this.day,e.hour,e.minute,e.second,n)},t.sunday=0,t.Sunday=0,t.monday=1,t.Monday=1,t.tuesday=2,t.Tuesday=2,t.wednesday=3,t.Wednesday=3,t.thursday=4,t.Thursday=4,t.friday=5,t.Friday=5,t.saturday=6,t.Saturday=6,t.walkFormat=y}),define("syracuse-tablet/html/js/helpers/types/numberFormat",["require","exports","module","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){function i(e,t,n){this.prefix=e,this.postfix=t,this.properties=n}function s(e,t){var n=new i(t.prefix,t.postfix,t.properties),r,s,o=e.indexOf("."),u=e.indexOf(",");n.properties.hasDecimalSeparator=r=o>-1,n.properties.hasGroupSeparator=s=u>-1;if(r){var a=e.substring(o+1);n.properties.mandatoryAfter=a.indexOf("0")>-1?a.match(/0/g).length:0,n.properties.maxAfter=a.length}s&&(n.properties.groupSize=r?o-u-1:e.substring(u+1).length);var f=r?e.substring(0,o):e;return n.properties.mandatoryBefore=f.indexOf("0")>-1?f.match(/0/g).length:0,n.properties.directive=e,n.properties.hasPercent=e.indexOf("%")>-1,n.properties.hasPermil=e.indexOf("‰")>-1,n.properties.hasSignFormat=e.indexOf("+")>-1&&e.indexOf("+")===0,n}function o(e,t){function s(t){var n=e[t],r=1;while(i.indexOf(e[t+r])>-1)r++;return r}var n=0,r=e.length,i="0#.,%‰+";while(n<r){var o=e[n];switch(o){case"'":n++;var u="";for(;n<r;n++)if(e[n]==="'"){n++;if(e[n]!=="'")break;u+="'"}else u+=e[n];t.literal(u);break;case"0":case"#":case".":case"%":case"‰":case"+":var a=s(n);t.directive(n,n+a),n+=a;break;case";":t.listSeparator(),n++;break;default:t.literal(o),n++}n===r&&t.listSeparator()}}function u(e,t,n){var r="",i=e.length,s="",o=0;for(var u=i-1;u>=0;u--)s=e[u],r+=s,++o,o%n===0&&u>0&&(r+=t);return r.split("").reverse().join("")}function a(e,t){var n,u,a=0,c=[],h=!1,p=new i("","",{});o(t,{literal:function(e){h?p.postfix+=e:p.prefix+=e},directive:function(e,n){var r=t.substring(e,n);p=s(r,p),h=!0},listSeparator:function(){h=!1,c.push(p),p=new i("","",{}),n="",u=""}});var d=c.length;switch(d){case 1:return l(e,c[0]);case 2:case 3:return e===0?f(c[2]):e<0?l(e.toString().substring(1),c[1]):l(e,c[0]);default:throw new Error(d===0?r.text("numberFormat.noFormat"):r.text("numberFormat.manyFormat"))}}function f(e){return e.prefix}function l(e,t){var n="",i=r.getNumberGroupSeparator(),s=r.getNumberDecimalSeparator(),o=t.properties.directive;e=t.properties.hasPercent?e*100:e,e=t.properties.hasPermil?e*1e3:e;if(t.properties.hasDecimalSeparator){var a="",f=t.properties.maxAfter,l=o.substr(o.indexOf(".")+1,f),c=e%1,h=""+c.toFixed(f);h=h.substring(h.indexOf(".")+1);for(var p=0;p<f;p++){var d=l.charAt(p),v=h.charAt(p);if(d==="0")a+=v;else if(d==="#"&&v!=="0")a+=v;else if(d==="#"&&v==="0"){var m=h.substring(p);if(!m.match("[1-9]"))break;a+=v}}n=a?s+a:n}else e=Math.round(e);var g=e<0?""+Math.ceil(e):""+Math.floor(e);g=g.replace(/[^\d]+/g,"");var y=o.indexOf(".")===-1?o:o.substring(0,o.indexOf("."));if(g.length<t.properties.mandatoryBefore){var b=t.properties.mandatoryBefore-g.length,w="";for(var p=0;p<b;p++)w+="0";g=w+g}return t.properties.hasGroupSeparator&&t.properties.groupSize<g.length&&(g=u(g,i,t.properties.groupSize)),g=parseInt(g,10)===0&&t.properties.mandatoryBefore===0?"":g,g=g&&e<0?"-"+g:g,n=g+n,n=t.properties.hasSignFormat&&e>0?"+"+n:n,n+=t.properties.hasPercent?"%":"",n+=t.properties.hasPermil?"‰":"",t.prefix+n+t.postfix}function c(e,t){var n,r,u=0,a=[],f=!1,l=new i("","",{});return o(t,{literal:function(e){f?l.postfix+=e:l.prefix+=e},directive:function(e,n){var r=t.substring(e,n);l=s(r,l),f=!0},listSeparator:function(){f=!1,a.push(l),l=new i("","",{}),n="",r=""}}),h(e,a)}function h(e,t,n){var i=t.length,s,o=r.getNumberGroupSeparator(),u=r.getNumberDecimalSeparator();switch(i){case 1:var a=t[0],f=e,l,c,p=a.prefix,d=a.postfix;f=p?f.substring(p.length):f,f=d?f.substring(0,f.length-d.length):f;var v=f.split(u);if(v.length>2)throw new Error(r.text("numberFormat.oneSep",f));l=v[0]?v[0].match(/[0-9]/g).join(""):"0",c=v.length>1?v[1].match(/[0-9]/g).join(""):"",s=parseFloat(c?l+"."+c:l),s=f.charAt(0)==="-"?parseFloat("-"+s):s,s=a.properties.hasPercent?s/100:s,s=a.properties.hasPermil?s/1e3:s,s=n?parseFloat("-"+s):s;break;case 2:case 3:var m="1234567890"+u+o+"%‰-+",g=t.length,y=e.length;for(var b=0;b<g;b++){var w=t[b],p=w.prefix,d=w.postfix,E=p?!0:!1,S=d?!0:!1,x,T;x=E?e.substring(0,p.length):"",T=S?e.substring(y-d.length):"";if(E&&!S&&x.indexOf(p)>-1||E&&S&&x.indexOf(p)>-1&&T.indexOf(d)>-1||!E&&S&&T.indexOf(d)>-1||!E&&!S&&m.indexOf(e.charAt(0))>-1&&m.indexOf(e.charAt(y-1))>-1)break}var N=[];N.push(t[b]);switch(b){case 0:s=h(e,N);break;case 1:s=h(e,N,!0);break;case 2:s=0;break;default:throw new Error(r.text("numberFormat.cannotParse"))}break;default:throw new Error(i===0?r.text("numberFormat.noFormat"):r.text("numberFormat.manyFormats"))}return s}var r=e("syracuse-tablet/html/js/helpers/locale");t.format=function(e,t){if(isNaN(e))throw new Error(r.text("numberFormat.notNumber",e));if(t==null){e=e.toString();var n=e.indexOf("."),i=n>-1,s=i?e.substring(0,n):e,o=i?e.substring(n+1):"",f=r.getNumberGroupSeparator()||"",l=i?r.getNumberDecimalSeparator()||".":"";return u(s,f,3)+l+o}return a(e,t)},t.parse=function(e,t){return e?t==null?parseFloat(e):c(e,t):0}}),define("syracuse-tablet/html/js/helpers/formatApi",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/helpers/types/date","syracuse-tablet/html/js/helpers/types/datetime","syracuse-tablet/html/js/helpers/types/time","syracuse-tablet/html/js/helpers/types/numberFormat"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/locale"),s=e("syracuse-tablet/html/js/helpers/types/date"),o=e("syracuse-tablet/html/js/helpers/types/datetime"),u=e("syracuse-tablet/html/js/helpers/types/time"),a=e("syracuse-tablet/html/js/helpers/types/numberFormat"),f={},l;t.getFormatter=function(e,t){var n=m[e];if(!n)return null;var r=i.getCurrentLocaleHash();r!==l&&(l=r,f={});var s=f[e];s||(s=f[e]={});var o=t||"noformat",u=s[o];return u?u:(u=new n(e,t),s[o]=u,u)};var c=r.defineClass(function(e,t){this.$format=t,this.$type=e},null,{_isEmpty:function(e){return e==null?!0:(e=""+e,e=e.trim(),e===""?!0:!1)},formatValue:function(e){return e},formatValueEdit:function(e){return e},parseValue:function(e,t){t.push("No parser for this type, return this dummy error to not override value by null")},getFormat:function(){return this.format}}),h=r.defineClass(function(e,t){c.call(this,e,t),this.format=i.getDateFormat(),this.twoDigitYearSwitch=40},c,{_isEmpty:function(e){return e==null?!0:(e=""+e,e=e.trim(),e===""?!0:e==="0000-00-00"?!0:!1)},_checkShortYear:function(e){if(e.year){var t=e.year;t<100&&e.add({years:t<this.twoDigitYearSwitch?2e3:1900})}else e=e>99?e:e<this.twoDigitYearSwitch?2e3+e:1900+e;return e},formatValue:function(e){if(this._isEmpty(e))return"";var t=e.split(/[^\d]+/),n;if(t.length>=3){t[0]=this._checkShortYear(+t[0]);var r=s.make(+t[0],+t[1],+t[2]);n=r.toString(this.format)}else n=e;return n},parseValue:function(e,t){var n;if(this._isEmpty(e))return"";try{n=s.parse(e,this.format),n=this._checkShortYear(n)}catch(r){return t.push(i.text("field.invalidInput",[this.format])),e}return n.toString("yyyy-MM-dd")}}),p=r.defineClass(function(e,t){h.call(this,e,t),this.format=i.getDateTimeFormat()},h,{_isEmpty:function(e){return e==null?!0:(e=""+e,e=e.trim(),e===""?!0:e==="0000-00-00T00:00:00Z"?!0:!1)},formatValue:function(e){if(this._isEmpty(e))return o.now().toString(this.format);var t=e.split(/[^\d]+/),n;if(t.length>=6){t[0]=this._checkShortYear(+t[0]);var r=o.make(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]);n=r.toString(this.format)}else n=e;return n},parseValue:function(e,t){var n;if(this._isEmpty(e))return"";try{n=o.parse(e,this.format),n=this._checkShortYear(n)}catch(r){return t.push(i.text("field.invalidInput",[this.format])),e}return n.toString("yyyy-MM-ddTHH:mm:ss.SSS")+"Z"}}),d=r.defineClass(function(e,t){c.call(this,e,t),this.$format==="TT"?this.format=i.getTimeFormat():this.format=i.getTimeFormatShort()},c,{formatValue:function(e){if(this._isEmpty(e))return"";var t=e.split(/[^\d]+/),n;if(t.length>=2){var r=u.make(+t[0],+t[1],+t[2]);n=r.toString(this.format)}else n=e;return n},parseValue:function(e,t){if(this._isEmpty(e))return"";var n=e.split(/[^\d]+/);if(n.length>=1){var r=u.make(+n[0],+n[1],+n[2]);return r.toString("HH:mm:ss")}}}),v=r.defineClass(function(e,t){c.call(this,e,t),this.format=this.$format||i.getNumberFormat(this.$type)},c,{formatValue:function(e){if(this._isEmpty(e))return"";var t=a.format(e,this.format);return t},parseValue:function(e,t){if(this._isEmpty(e))return"";try{var n=a.parse(e,this.format)}catch(r){return t.push(i.text("field.invalidInput",[this.format])),e}return n}}),m={"application/x-integer":v,"application/x-decimal":v,"application/x-real":v,"application/x-date":h,"application/x-time":d,"application/x-datetime":p}}),define("syracuse-tablet/html/js/controls/validator",["require","exports","module","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/locale"),i={validate:function(e,t,n,s){var o=e.prototype,u=!0;for(var a=0;a<s.length;a++){var f=s[a],l=o&&o.data(f);if(l!=null){var c=i[f];c?u=c(t,n,l)&&u:(n.push(r.text("field.unknownConstraint",[f])),u=!1)}}return u},$isMandatory:function(e,t,n){if(n&&e==null||e=="")return t.push(r.text("field.valMand")),!1},$pattern:function(e,t,n){var i=this;if(e&&n){var s=new RegExp(n);if(!s.test(e))return t.push(r.text("field.patternError",[n])),!1}return!0},$minimum:function(e,t,n){var i=this;return e!=null&&e<n?(t.push(r.text("field.minimum",[n])),!1):!0},$maximum:function(e,t,n){var i=this;return e!=null&&e>n?(t.push(r.text("field.maximum",[n])),!1):!0},$exclusiveMinimum:function(e,t,n){var i=this;return e!=null&&e<=n?(t.push(r.text("field.exclusiveMinimum",[n])),!1):!0},$exclusiveMaximum:function(e,t,n){var i=this;return e!=null&&e>=n?(t.push(r.text("field.exclusiveMaximum",[n])),!1):!0},$minLength:function(e,t,n){var i=this;return!e||e.length<n?(t.push(r.text("field.minLength",[n])),!1):!0},$maxLength:function(e,t,n){var i=this;return e&&e.length>n?(t.push(r.text("field.maxLength",[n])),!1):!0},$precision:function(e,t,n){var i=this;if(e){var s=(""+e).split(".").join("");if(s.length>n)return t.push(r.text("field.precision",[n])),!1}return!0},$scale:function(e,t,n){var i=this;if(e){var s=(""+e).split(".");s=s&&s[1]||"";if(s.length>n)return t.push(r.text("field.scale",[n])),!1}return!0}};t.Validator=i}),define("syracuse-tablet/html/js/controls/field/ctrlFieldBase",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/ctrlBase","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/helpers/formatApi","syracuse-tablet/html/js/controls/validator","syracuse-tablet/html/js/authoring/authoringProperties","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/ctrlBase").Klass,s=e("syracuse-tablet/html/js/ui/uiUtils"),o=e("syracuse-tablet/html/js/helpers/formatApi"),u=e("syracuse-tablet/html/js/controls/validator").Validator,a=e("syracuse-tablet/html/js/authoring/authoringProperties").properties,f=e("syracuse-tablet/html/js/helpers/locale"),l=r.defineClass(function(t,n,r,s){var o=this;i.call(o,t,n,r,s),o.formatter=o.initFormatter(),o.cssType=null},i,{initFormatter:function(){return o.getFormatter(this.$type,this.prototype.data("$format"))},initReuseProperties:function(){i.prototype.initReuseProperties.call(this),this.domInput=null,this.$$message=null},destroy:function(){var e=this;i.prototype.destroy.call(e),e.formatter=null},buildHtml:function(e,t,n){var r=this,s=["s-m-field"];r.cssType&&s.push(r.cssType),r.getAuthoring("$value.$valueFirst",!1)&&s.push("s-m-valueFirst"),i.prototype.buildHtml.call(r,e,t,n,s);var o=r.$$elmt.get(0);r.buildFieldTitle(o,n),r.buildFieldValue(o,n),this._applyLabelAuthoring(),this._applyThemeAuthoring()},_applyThemeAuthoring:function(){var e=this,t=e.getAuthoring("$theme");if(t){var n=a.theme.values.map(function(e,t,n){return e.value});$.each(n,function(t,n){e.$$elmt.toggleClass("s-m-control-"+n,!1)}),e.$$elmt.toggleClass("s-m-control-"+t)}},_applyLabelAuthoring:function(){var e=this,t=e.getAuthoring("$labelPosition");t&&e.setLabelPosition(t);var n=e.getAuthoring("$labelAlign");n&&e.setLabelAlign(n)},setLabelPosition:function(e){if(e){var t=this,n=t.$$elmt.find("div.s-m-title"),r=t.$$elmt.find("div.s-m-value"),i;switch(e){case"top":i=[n,r],$.each(i,function(e,t){t.css("float","none").css("width","inherit")});break;default:n.css("float","left").css("width","30%")}}},setLabelAlign:function(e){var t=this,n=t.$$elmt.find("div.s-m-title");n.css("text-align",e||"inherit")},afterRender:function(){var e=this;i.prototype.afterRender.call(e),e.applyMetaData(e.getMetaData())},createMainInput:function(e,t,n){var r=this;n=n||"text";var i=["s-m-meta"],o={type:n};return"text"===n?(i.push("form-control"),i.push("ctrl-evt-blur"),o.value=t):"checkbox"===n&&i.push("ctrl-evt-click"),r.domInput=s.createDomElement("input",i,null,o,e),"checkbox"===n&&(r.domInput.checked=t),r.domInput},buildFieldTitle:function(e,t){var n=this;if(n.getAuthoring("$isTitleHidden")!==!0&&t.isTableCell!==!0){var r=(n.getTitle()||"").trim();if(r.length>0)return n.getMetaData("$isMandatory")===!0&&(r+="*"),s.createDomElement("div",["s-m-title"],r,null,e)}return null},buildFieldValue:function(e,t){return s.createDomElement("div",["s-m-value"],null,null,e)},appendTextValue:function(e,t){if(e==null||t==null)return;typeof t!="string"&&(t=t.toString?t.toString():"??Can't display??"),t=t.trim(),t.length>0&&s.appendTextNode(e,t)},validateValue:function(e,t){return u.validate(this,e,t,["$isMandatory"])},parseValue:function(e,t){return this.formatter?this.formatter.parseValue(e,t):e},showInputErrors:function(e){var t=this;t.$$message||(t.$$message=$('<span class="s-m-error"/>').appendTo(t.$$elmt)),t.$$message.empty(),e&&e.forEach(function(e){t.$$message.append($("<p>").text(e))})},clearInputErrors:function(){this.showInputErrors(null)},getFormattedValue:function(e){return this.formatter?this.formatter.formatValue(e):e||""},setFieldValue:function(e){var t=this;t.setDisplayValue(t.getFormattedValue(e)),t.setValue(e)},onBlur:function(){var e=this;if(!e.domInput)return;var t=e.domInput.value,n=[];t=e.parseValue(t,n);if(n.length>0){e.showInputErrors(n);return}e.setDisplayValue(e.getFormattedValue(t)),e.validateValue(t,n),n.length>0?e.showInputErrors(n):(e.clearInputErrors(),e.setValue(t))},setDisplayValue:function(e){this.domInput&&(this.domInput.value=e)}});t.Klass=l}),define("syracuse-tablet/html/js/controls/field/ctrlAlphanum",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/field/ctrlFieldBase","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/controls/validator"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/field/ctrlFieldBase").Klass,s=e("syracuse-tablet/html/js/ui/uiUtils"),o=e("syracuse-tablet/html/js/controls/validator").Validator,u=r.defineClass(function(t,n,r,s){var o=this;i.call(o,t,n,r,s)},i,{validateValue:function(e,t){var n=this,r=i.prototype.validateValue.call(n,e,t);return r&&o.validate(n,e,t,["$pattern","$minLength","$maxLength"])},buildFieldValue:function(e,t){var n=this,r=i.prototype.buildFieldValue.call(n,e,t),s=n.getFormattedValue(n.getValue());n.$isEditMode?n.createMainInput(r,s):n.appendTextValue(r,s)}}),a=r.defineClass(function(t,n,r,i){var s=this;u.call(s,t,n,r,i),s.cssType="s-m-phone"},u,{buildFieldValue:function(e,t){var n=this;if(n.$isEditMode)u.prototype.buildFieldValue.call(n,e,t);else{var r=n.getFormattedValue(n.getValue()),i=s.createDomElement("a",[],r,{href:"phoneto:"+r});i.appendChild(s.createDomElement("span",["badge","pull-left"])),e.appendChild(i)}}}),f=r.defineClass(function(t,n,r,i){var s=this;u.call(s,t,n,r,i),s.cssType="s-m-email"},u,{buildFieldValue:function(e,t){var n=this;if(n.$isEditMode)u.prototype.buildFieldValue.call(n,e,t);else{var r=n.getFormattedValue(n.getValue()),i=s.createDomElement("a",[],r,{href:"mailto:"+r});i.appendChild(s.createDomElement("span",["badge","pull-left"])),e.appendChild(i)}}});t.Klass=u,t.PhoneField=a,t.EmailField=f}),define("syracuse-tablet/html/js/controls/field/ctrlProgress",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/controls/field/ctrlFieldBase"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/ui/uiUtils"),s=e("syracuse-tablet/html/js/controls/field/ctrlFieldBase").Klass,o={$valueMin:0,$valueMax:100},u=r.defineClass(function(t,n,r){var i=this;s.call(i,t,n,r)},s,{buildFieldValue:function(e,t){var n=this,r=s.prototype.buildFieldValue.call(n,e,t),u=n.getValue(),a=i.createDomElement("div",["progress"]),f=i.createDomElement("div",["progress-bar"],u,{role:"progressbar","aria-valuenow":u,"aria-valuemin":n.article.$valueMin||o.$valueMin,"aria-valuemax":n.article.$valueMax||o.$valueMax,style:"width:"+u+"%;"})}});t.Klass=u}),define("syracuse-tablet/html/js/controls/field/ctrlNumeric",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/field/ctrlFieldBase","syracuse-tablet/html/js/controls/validator","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/field/ctrlFieldBase").Klass,s=e("syracuse-tablet/html/js/controls/validator").Validator,o=e("syracuse-tablet/html/js/helpers/locale"),u=r.defineClass(function(t,n,r,s){var o=this;i.call(o,t,n,r,s)},i,{buildFieldValue:function(e,t){var n=this,r=i.prototype.buildFieldValue.call(n,e,t),s=n.getFormattedValue(n.getValue());n.$isEditMode?n.createMainInput(r,s):n.appendTextValue(r,s)},parseValue:function(e,t){var n=this;if(n.formatter){var r=n.formatter.getFormat();if(r){var s=o.getNumberGroupSeparator(),u=o.getNumberDecimalSeparator();r.indexOf(",")<0&&s&&s.length>0&&(e=e.replace(new RegExp("\\"+s,"g"),u)),r.indexOf(",")>0&&r.indexOf(".")>0&&s&&s.length>0&&e.indexOf(s)>-1&&e.indexOf(u)<0&&(e=e.replace(new RegExp(s,"g"),u))}}return i.prototype.parseValue.call(n,e,t)},validateValue:function(e,t){var n=this,r=i.prototype.validateValue.call(n,e,t);return r=s.validate(n,e,t,["$minimum","$maximum","$exclusiveMinimum","$exclusiveMaximum","$precision"])&&r,n.$type!=="application/x-integer"&&(r=s.validate(n,e,t,["$scale"])&&r),r}});t.Klass=u}),define("syracuse-tablet/html/js/controls/field/ctrlQuantity",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/field/ctrlFieldBase","syracuse-tablet/html/js/helpers/formatApi","syracuse-tablet/html/js/controls/ctrlFactory"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/field/ctrlFieldBase").Klass,s=e("syracuse-tablet/html/js/helpers/formatApi"),o=e("syracuse-tablet/html/js/controls/ctrlFactory"),u=r.defineClass(function(t,n,r,s){var o=this;i.call(o,t,n,r,s),o.unitFieldInfo=r.getUnitFieldInfo(),o.displayUnit=!s.isTableCell&&o.unitFieldInfo&&o.unitFieldInfo.unitFieldProto&&!o.unitFieldInfo.unitFieldProto.data("$isExcluded"),o.unitCtrl=null},i,{initFormatter:function(){var e=this.prototype.data("$value");return s.getFormatter(e.$type,e.$format)},destroy:function(){var e=this;i.prototype.destroy.call(e),e.unitCtrl&&(e.unitCtrl.destroy(),e.unitCtrl=null)},buildHtml:function(e,t,n){var r=this;i.prototype.buildHtml.call(r,e,t,n),r.$$elmt.addClass("s-m-qty"),r.displayUnit&&(r.unitCtrl=o.createControl(r.controller,r,{$bind:r.unitFieldInfo.unitBindName},r.unitFieldInfo.unitFieldProto,{isUnit:!0}),r.unitCtrl.buildHtml(r.$$elmt,t,n))},buildFieldValue:function(e,t){var n=this,r=i.prototype.buildFieldValue.call(n,e,t),s=n.getFormattedValue(n.getValue());n.$isEditMode?n.createMainInput(r,s):n.appendTextValue(r,s)}});t.Klass=u}),define("syracuse-tablet/html/js/controls/field/ctrlCheckBox",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/field/ctrlFieldBase","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/ui/fontUtils"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/field/ctrlFieldBase").Klass,s=e("syracuse-tablet/html/js/ui/uiUtils"),o=e("syracuse-tablet/html/js/ui/fontUtils"),u=r.defineClass(function(t,n,r,s){var o=this;i.call(o,t,n,r,s)},i,{buildHtml:function(e,t,n){var r=this;i.prototype.buildHtml.call(r,e,t,n)},buildFieldValue:function(e,t){var n=this,r=i.prototype.buildFieldValue.call(n,e,t),u=n.getValue();u=u===!0,n.$isEditMode?n.createMainInput(r,u,"checkbox"):r.appendChild(s.createDomElement("span",o.checkBoxIcon(u)))},onClick:function(e){var t=this;setTimeout(function(){t.domInput.checked=!t.domInput.checked,t.setValue(t.domInput.checked)},50)}});t.Klass=u}),define("syracuse-tablet/html/js/controls/field/ctrlCombo",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/controls/field/ctrlFieldBase"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/ui/uiUtils"),s=e("syracuse-tablet/html/js/controls/field/ctrlFieldBase").Klass,o=r.defineClass(function(t,n,r,i){var o=this;s.call(o,t,n,r,i)},s,{initReuseProperties:function(){s.prototype.initReuseProperties.call(this),this.radioItemList=null,this.choiceList=null},buildFieldValue:function(e,t){var n=this,r=s.prototype.buildFieldValue.call(n,e,t);n.choiceList=n.prototype.data("$value").$enum;if(n.$isEditMode){var o=n.prototype.data("$format");if(o&&o!="$radios"&&o!="$combo")throw new Error("Choice can only have formats '$radios' or '$combo'");var u=n.currentValue=n.getValue(),a;if(n.choiceList.length>0)if(o=="$radios")n.radioItemList=[],$.each(n.choiceList,function(e,t){var s=i.createDomElement("div",["s-m-field-radio-item"]),o=i.createDomElement("input",["s-m-field-choice-radio","ctrl-evt-click","s-m-meta"],null,{type:"radio",value:e,name:"s-m-radio-"+n.id});u&&t.$value==u&&o.setAttribute("checked",!0);var a=i.createDomElement("div",["s-m-field-choice-radio-title"],t.$title);n.radioItemList.push({inputDom:o,titleDom:a}),r.appendChild(o),r.appendChild(a)});else{var f=i.createDomElement("select",["form-control ctrl-evt-change","s-m-meta"]);$.each(n.choiceList,function(e,t){var r=n.prototype.resolveExpression(t.$title),s=i.createDomElement("option",null,r,{value:t.$value},f);(t.$value==u||!u&&e==0)&&s.setAttribute("selected",!0)}),r.appendChild(f)}}else n.choiceList.length>0&&n.appendTextValue(r,n._getChoiceTitle(u))},_getChoiceTitle:function(e){var t=this,n;return $.each(t.choiceList,function(t,r){n=r.$value==e?r.$title:n;if(n)return!1}),n},_getChoiceValue:function(e){var t=this,n;return $.each(t.choiceList,function(t,r){n=r.$title==e?r.$value:n;if(n)return!1}),n},setDisplayValue:function(e,t,n){var r=this;r.$isEditMode&&r.prototype.data("$format")=="$radios"&&e!=r.currentValue&&$.each(r.radioItemList,function(n,i){setTimeout(function(){t?i.inputDom.checked=t==n:i.inputDom.checked=r.choiceList[n].$value==e},5)})},setFieldValue:function(e,t,n){var r=this;r.setDisplayValue(e,t,n),r.currentValue=e,r.setValue(e)},onClick:function(e){var t=this;t.prototype.data("$format")=="$radios"&&t.setFieldValue(t._getChoiceValue(e.target.nextElementSibling.textContent),$(e.target.parentNode).index())},onChange:function(e){this.setFieldValue(e.target.value,e.target.selectedIndex,e.target.options[e.target.options.selectedIndex].textContent)}});t.Klass=o}),define("syracuse-tablet/html/js/ui/datetimeSelectors/monthChoice",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/types/date"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/types/date"),s=r.defineClass(function(){},null,{create:function(e,t,n){this.parent=e,this.handler=n,this.domItem=document.createElement("nav"),this.domItem.className="s-calendar-quick-list",this._dateValue=t;var r=document.createElement("table");r.className="s-calendar-month-choice";var s=document.createElement("tbody");for(var o=0;o<6;o++){var u=document.createElement("tr");u.appendChild(this.drawCell(o+1,i.monthName(o+1,!0),this._dateValue.month)),u.appendChild(this.drawCell(o+7,i.monthName(o+7,!0),this._dateValue.month)),s.appendChild(u)}r.appendChild(s),this.domItem.appendChild(r),this.parent.appendChild(this.domItem),this.bindEvents(!0)},drawCell:function(e,t,n){var r=document.createElement("td");return r.className="s-calendar-my-item",r.syraOnClick="onMonthClick",r.syraValue=e,r.textContent=t,e==n&&(r.className+=" s-calendar-select",this.selectedCell=r),r},toggle:function(e){e?this.domItem.style.display="":this.domItem.style.display="none"},onMonthClick:function(e){this.selectedCell&&(this.selectedCell.className="s-calendar-my-item"),(this.selectedCell=e).className="s-calendar-my-item s-calendar-select",this._selectedMonth=e.syraValue;var t=this._selectedMonth?this._selectedMonth:this._dateValue.month;this._currentDate=this._dateValue=i.fromJsDate(new Date(this._dateValue.year,t-1,this._dateValue.day)),this.handler.onEvent("onCalendarUpdate",this)},bindEvents:function(e){var t=this;e?$(t.domItem).delegate("td","click",function(e){t.onClick(e),e.preventDefault(),e.stopPropagation()}):$(t.domItem).undelegate()},onClick:function(e){var t=this;while(e.target){if(e.target.syraOnClick){this[e.target.syraOnClick](e.target,e);return}e.target=e.target.parentNode}},destroy:function(){this.bindEvents(!1),this.domItem=this._dateValue=this.selectedCell=null}});t.MonthChoice=s}),define("syracuse-tablet/html/js/ui/datetimeSelectors/yearChoice",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/helpers/types/date"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/locale"),s=e("syracuse-tablet/html/js/helpers/types/date"),o=r.defineClass(function(){},null,{create:function(e,t,n){this.parent=e,this.domItem=document.createElement("nav"),this.domItem.className="s-calendar-quick-list",this.handler=n,this._dateValue=t,this._selectedYear=this._dateValue.year;var r=document.createElement("table");r.className="s-calendar-year-choice";var i=document.createElement("tbody");this.rows=[];for(var s=0;s<6;s++){var o=document.createElement("tr");if(s==0)this.addPrevNextCell(o,!0),this.addPrevNextCell(o,!1);else{var u=this._dateValue.year+s-4;o.appendChild(this.drawCell(u,u)),o.appendChild(this.drawCell(u+5,u+5))}i.appendChild(o),this.rows.push(o)}r.appendChild(i),this.domItem.appendChild(r),this.parent.appendChild(this.domItem),this.bindEvents(!0)},addPrevNextCell:function(e,t){var n=document.createElement("td");n.className="s-calendar-my-link-cell";var r=document.createElement("a");r.className=(r.syraIsPrev=t)?"s-calendar-prev-year":"s-calendar-next-year",r.textContent=(r.syraIsPrev=t)?i.text("date.month.label.prev"):i.text("date.month.label.next"),r.syraOnClick="onChangeYear",n.appendChild(r),e.appendChild(n)},drawCell:function(e,t){var n=document.createElement("td");return n.className="s-calendar-my-item",n.syraOnClick="onSelectYear",n.syraValue=e,n.textContent=t,e==this._selectedYear&&(n.className+=" s-calendar-select",this.selectedCell=n),n},toggle:function(e){e?this.domItem.style.display="":this.domItem.style.display="none"},_refreshYearCell:function(e,t){e.syraValue+=t,e.textContent=e.syraValue,e.syraValue==this._selectedYear&&(e.className+=" s-calendar-select",this.selectedCell=e)},onChangeYear:function(e){var t=e.syraIsPrev?-10:10;for(var n=1,r=this.rows.length;n<r;n++){var i=this.rows[n].childNodes;this._refreshYearCell(i[0],t),this._refreshYearCell(i[1],t)}},onSelectYear:function(e){this.selectedCell&&(this.selectedCell.className="s-calendar-my-item"),(this.selectedCell=e).className="s-calendar-my-item s-calendar-select",this._selectedYear=e.syraValue;var t=this._selectedYear?this._selectedYear:this._dateValue.year;this._currentDate=this._dateValue=s.fromJsDate(new Date(t,this._dateValue.month,this._dateValue.day)),this.handler.onEvent("onCalendarUpdate",this)},bindEvents:function(e){var t=this;e?$(t.domItem).delegate("td","click",function(e){t.onClick(e),e.preventDefault(),e.stopPropagation()}):$(t.domItem).undelegate()},onClick:function(e){var t=this;while(e.target){if(e.target.syraOnClick){this[e.target.syraOnClick](e.target,e);return}e.target=e.target.parentNode}},destroy:function(){this.bindEvents(!1),this.rows=this.domItem=this._dateValue=this.selectedCell=null}});t.YearChoice=o}),define("syracuse-tablet/html/js/ui/datetimeSelectors/dateSelector",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/helpers/types/date","syracuse-tablet/html/js/ui/datetimeSelectors/monthChoice","syracuse-tablet/html/js/ui/datetimeSelectors/yearChoice"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/ui/uiUtils"),s=e("syracuse-tablet/html/js/helpers/locale"),o=e("syracuse-tablet/html/js/helpers/types/date"),u=e("syracuse-tablet/html/js/ui/datetimeSelectors/monthChoice").MonthChoice,a=e("syracuse-tablet/html/js/ui/datetimeSelectors/yearChoice").YearChoice,f=r.defineClass(function(){},null,{onClick:function(e){var t=this,n;while(e.target&&e.target!=t.handler.parentSlot){if(e.target.getAttribute("data-s-syraOnClick")){n=this[e.target.getAttribute("data-s-syraOnClick")](e.target,e),n&&this.handler.closeContainer();return}e.target=e.target.parentNode}},onTodayClick:function(){return this._currentDate=o.today(),this.field.setFieldValue(o.fromInternalValue(this._currentDate._value).toString()),!0},onDayClick:function(e){return this.field.setFieldValue(o.fromInternalValue(e.getAttribute("data-s-syraValue")).toString()),!0},onChangePeriode:function(e){e.getAttribute("data-s-syraPeriod")=="month"?this._currentDate=this._currentDate.addMonths(e.getAttribute("data-s-syraIsPrev")?-1:1):e.getAttribute("data-s-syraPeriod")=="year"?this._currentDate=this._currentDate.addYears(e.getAttribute("data-s-syraIsPrev")?-1:1):this._currentDate=this._currentDate.addDays(e.getAttribute("data-s-syraIsPrev")?-7:7),this.handler.onEvent("onCalendarUpdate",this)},onMonthClick:function(){this.handler.onEvent("onMonthClick",this)},onYearClick:function(){this.handler.onEvent("onYearClick",this)},getValueForSelector:function(e){return e.getValue()&&e.getValue().slice(0,10)},create:function(e,t){this.domItem=document.createElement("div"),this.domItem.className="s-calendar";var n=this.getValueForSelector(e)||"";return this._selectedDate=n?o.parse(n):o.today(),this._selectedDate=this._selectedDate._value==0?o.today():this._selectedDate,this._currentDate=t._currentDate||o.fromInternalValue(this._selectedDate._value),this.field=e,this.handler=t,this._table=document.createElement("table"),this._table.setAttribute("cellspacing",0),this._table.className="s-calendar-content",this._table.appendChild(this._appendHead()),this._table.appendChild(this.body=document.createElement("tbody")),this._table.appendChild(this._appendFoot()),this.domItem.appendChild(this._table),this._drawBody(),this.domItem},_appendHead:function(){var e=document.createElement("thead"),t=document.createElement("tr"),n=document.createElement("th");n.setAttribute("colspan",8),n.className="s-calendar-month-year";var r=document.createElement("div");r.className="s-calendar-month-year-slot",n.appendChild(r);var i=document.createElement("a");i.setAttribute("data-s-syraOnClick","onChangePeriode"),i.setAttribute("data-s-syraIsPrev",!0),i.setAttribute("data-s-syraPeriod","year"),i.className="s-calendar-prev s-calendar-prev-year glyphicon glyphicon-fast-backward",r.appendChild(i),i=document.createElement("a"),i.setAttribute("data-s-syraOnClick","onChangePeriode"),i.setAttribute("data-s-syraIsPrev",!0),i.setAttribute("data-s-syraPeriod","month"),i.className="s-calendar-prev s-calendar-prev-month glyphicon glyphicon-step-backward",r.appendChild(i),this._monthLink=document.createElement("a"),this._monthLink.className="s-month s-calendar-month-year-link",r.appendChild(this._monthLink).setAttribute("data-s-syraOnClick","onMonthClick"),this._yearLink=document.createElement("a"),this._yearLink.className="s-year s-calendar-month-year-link",r.appendChild(this._yearLink).setAttribute("data-s-syraOnClick","onYearClick"),i=document.createElement("a"),i.setAttribute("data-s-syraOnClick","onChangePeriode"),i.setAttribute("data-s-syraPeriod","month"),i.className="s-calendar-next s-calendar-next-month glyphicon glyphicon-step-forward",r.appendChild(i),i=document.createElement("a"),i.setAttribute("data-s-syraOnClick","onChangePeriode"),i.setAttribute("data-s-syraPeriod","year"),i.className="s-calendar-next s-calendar-next-year glyphicon glyphicon-fast-forward",r.appendChild(i),t.appendChild(n),e.appendChild(t),t=document.createElement("tr");var n=document.createElement("th");n.className="s-calendar-week-day",t.appendChild(n);var s=[1,2,3,4,5,6,0];for(var u=0,a=s.length;u<a;u++){var n=document.createElement("th");n.className="s-calendar-week-day",n.title=o.dayName(s[u]),n.textContent=o.dayName(s[u],!0),t.appendChild(n)}return e.appendChild(t),e},_appendFoot:function(){var e=document.createElement("tr"),t=document.createElement("td");t.setAttribute("colspan",3),t.className="s-calendar-foot-week";var n=document.createElement("a");n.setAttribute("data-s-syraOnClick","onChangePeriode"),n.setAttribute("data-s-syraPeriod","week"),n.className="s-calendar-prev s-calendar-prev-week glyphicon glyphicon-chevron-left",n.setAttribute("data-s-syraIsPrev",!0),t.appendChild(n);var r=document.createElement("label");r.className="s-calendar-foot-week-title",r.textContent=s.text("date.label.week"),t.appendChild(r),this._weekNumber=document.createElement("label"),this._weekNumber.className="s-calendar-foot-week-title-num",t.appendChild(this._weekNumber),n=document.createElement("a"),n.setAttribute("data-s-syraOnClick","onChangePeriode"),n.setAttribute("data-s-syraPeriod","week"),n.className="s-calendar-next s-calendar-next-week glyphicon glyphicon-chevron-right",t.appendChild(n),e.appendChild(t),t=document.createElement("td"),t.setAttribute("colspan",3),t.className="s-calendar-foot-today",n=document.createElement("a"),n.className="s-calendar-today-link",n.setAttribute("data-s-syraOnClick","onTodayClick"),n.textContent=s.text("date.label.today"),t.appendChild(n),e.appendChild(t),t=document.createElement("td"),t.setAttribute("colspan",2),e.appendChild(t);var i=document.createElement("tfoot");return i.appendChild(e),i},_drawBody:function(){var e=this._currentDate.month||9,t=o.monthName(e);this._monthLink.textContent=t,this._yearLink.textContent=this._currentDate.year||2014,i.empty(this.body);var n=o.fromInternalValue(this._currentDate._value),r=n=n.begOfMonth();n=n.begOfWeek(1);for(var s=0;s<6;s++){var u=document.createElement("tr"),a=s==0?r:n,f=document.createElement("td");f.className="s-calendar-week-num",u.appendChild(f),f.textContent=a.week;for(var l=0;l<7;l++){var f=document.createElement("td");f.className="s-calendar-day-link",f.setAttribute("data-s-syraOnClick","onDayClick"),f.setAttribute("data-s-syraValue",n._value);var c=document.createElement("a");c.textContent=n.day,e!=n.month&&(f.className+=" s-calendar-other-month"),this._currentDate.equals(n)&&(f.className+=" s-calendar-select",c.className="s-calendar-select"),f.appendChild(c),u.appendChild(f),n=n.addDays(1)}this.body.appendChild(u)}this._weekNumber.textContent=this._currentDate.week},bindEvents:function(e){var t=this,n=t.handler.getParentSlot();e?$(n).delegate("td, a","click",function(e){t.onClick(e),e.preventDefault(),e.stopPropagation()}):($(n).undelegate(),t._month&&t._month.bindEvents(!1),t._year&&t._year.bindEvents(!1))},destroy:function(){this.bindEvents(!1),this._currentDate=this.field=this._currentDate=this.quickList=this._month=this._year=this._selectedDate=this._monthLink=this._yearLink=this._weekNumber=this._quick=this.body=this.domItem=null}});t.Klass=f}),define("syracuse-tablet/html/js/ui/datetimeSelectors/timeSelector",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/types/time","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/types/time"),s=e("syracuse-tablet/html/js/helpers/locale"),o=r.defineClass(function(){},null,{onClick:function(e){var t=this,n;while(e.target){if(e.target.getAttribute("data-s-syraOnClick")){n=this[e.target.getAttribute("data-s-syraOnClick")](e.target,e),n&&this.handler.closeContainer();return}e.target=e.target.parentNode}},setContainer:function(e){this.$$modalElmt=e},create:function(e,t,n){this.domItem=document.createElement("div"),this.domItem.className="s-time-choice";var r=r||{};this.columns=r.columns||2,this.interval=r.interval||60,this.field=e,this.handler=t,this.cb=n,this.curTime=i.now();var o=1440/this.interval,u=o/this.columns,a=document.createElement("table");a.className="s-time-choice-table",a.setAttribute("cellspacing","0"),a.setAttribute("cellpadding","0");var f,l,c=0,h=i.parse("00:00:00");for(var p=0;p<u;p++){f=document.createElement("tr");for(var d=0;d<this.columns;d++){l=document.createElement("td"),l.className="s-time-choice-td";if(c<o){var v=document.createElement("a");v.className="s-time-choice-a",v.setAttribute("data-s-syraOnClick","onTimeClick"),h.hour==this.curTime.hour&&(v.className+=" s-time-select"),v.textContent=h.toString(s.getTimeFormat()),l.appendChild(v)}f.appendChild(l),h=h.addMinutes(this.interval),c++}a.appendChild(f)}return this.domItem.appendChild(a),this.domItem},onTimeClick:function(e){var t=this,n=i.parse(e.textContent,s.getTimeFormat()).toString();if(!this.cb)return t.field.setFieldValue(n),!0;t.cb(n,t.handler)},bindEvents:function(e){var t=this,n=t.handler.getParentSlot();e?$(n).delegate("a","click",function(e){t.onClick(e),e.preventDefault(),e.stopPropagation()}):$(n).undelegate()},destroy:function(){this.bindEvents(!1),this.domItem=this.field=this.selectedLink=null}});t.Klass=o}),define("syracuse-tablet/html/js/ui/datetimeSelectors/selectorSwitchHandler",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/ui/datetimeSelectors/monthChoice","syracuse-tablet/html/js/ui/datetimeSelectors/yearChoice","syracuse-tablet/html/js/ui/datetimeSelectors/dateSelector","syracuse-tablet/html/js/ui/datetimeSelectors/timeSelector"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/ui/uiUtils"),s=e("syracuse-tablet/html/js/ui/datetimeSelectors/monthChoice").MonthChoice,o=e("syracuse-tablet/html/js/ui/datetimeSelectors/yearChoice").YearChoice,u=e("syracuse-tablet/html/js/ui/datetimeSelectors/dateSelector").Klass,a=e("syracuse-tablet/html/js/ui/datetimeSelectors/timeSelector").Klass,f=r.defineClass(function(e){this.field=e},null,{onEvent:function(e,t){this[e](t)},setContainer:function(e){this.$$container=e},setParentSlot:function(e){this.parentSlot=e},getParentSlot:function(){return this.parentSlot},onMonthClick:function(e){var t=this,n=e._currentDate;i.empty(t.parentSlot),e.destroy();var r=new s;r.create(this.parentSlot,n,t)},onYearClick:function(e){var t=this,n=e._currentDate;i.empty(t.parentSlot),e.destroy();var r=new o;r.create(t.parentSlot,n,t)},onOpenTime:function(e){var t=this;t.dateValue=e.dateValue,i.empty(t.parentSlot),e.destroy();var n=new a,r=n.create(t.field,t,t.onSelectTime);t.parentSlot.appendChild(r),n.bindEvents(!0)},onCalendarUpdate:function(e){var t=this;t._currentDate=e._currentDate,i.empty(t.parentSlot),e.destroy();var n=new u,r=n.create(t.field,t);t.parentSlot.appendChild(r),n.bindEvents(!0)},onSelectTime:function(e,t){var n=t;n.field.setFieldValue(n.dateValue+" "+e),n.closeContainer()},closeContainer:function(){this.$$container.modal("hide")}});t.Klass=f}),define("syracuse-tablet/html/js/ui/datetimeSelectors/datetimeSelector",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/types/date","syracuse-tablet/html/js/ui/datetimeSelectors/dateSelector"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/types/date"),s=e("syracuse-tablet/html/js/ui/datetimeSelectors/dateSelector").Klass,o=r.defineClass(function(){},s,{onTodayClick:function(){this._currentDate=i.today(),this.dateValue=i.fromInternalValue(this._currentDate._value).toString(),this.handler.onEvent("onOpenTime",this)},onDayClick:function(e){this.dateValue=i.fromInternalValue(e.getAttribute("data-s-syraValue")).toString(),this.handler.onEvent("onOpenTime",this)}});t.Klass=o}),define("syracuse-tablet/html/js/ui/datetimeSelectors/selectorFactory",["require","exports","module","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/ui/modal","syracuse-tablet/html/js/ui/datetimeSelectors/selectorSwitchHandler","syracuse-tablet/html/js/ui/datetimeSelectors/dateSelector","syracuse-tablet/html/js/ui/datetimeSelectors/datetimeSelector","syracuse-tablet/html/js/ui/datetimeSelectors/timeSelector"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/globals"),i=e("syracuse-tablet/html/js/ui/modal"),s=e("syracuse-tablet/html/js/ui/datetimeSelectors/selectorSwitchHandler").Klass,o={date:{windows:null,android:null,ios:null,"default":e("syracuse-tablet/html/js/ui/datetimeSelectors/dateSelector").Klass},datetime:{windows:null,android:null,ios:null,"default":e("syracuse-tablet/html/js/ui/datetimeSelectors/datetimeSelector").Klass},time:{windows:null,android:null,ios:null,"default":e("syracuse-tablet/html/js/ui/datetimeSelectors/timeSelector").Klass}},u=function(e){var t;switch(e){case"application/x-date":t="date";break;case"application/x-datetime":t="datetime";break;case"application/x-time":t="time"}var n=r.getLookAndFeel(),i=o[t];i&&(i=i[n]||i["default"]);if(!i)throw new Error("Expected date/time/datetime type. Got "+e);return new i},a=function(e){var t=new s(e),n=u(e.$type),r=n.create(e,t),o=i.field(e.getTitle(),r.outerHTML,function(e,r){e=="shown.bs.modal"?(t.setContainer(r),t.setParentSlot(r.find(".modal-body")[0]),n.bindEvents(!0)):n.destroy()})};t.createSelector=a}),define("syracuse-tablet/html/js/controls/field/ctrlDate",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/field/ctrlFieldBase","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/ui/datetimeSelectors/selectorFactory","syracuse-tablet/html/js/ui/fontUtils"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/field/ctrlFieldBase").Klass,s=e("syracuse-tablet/html/js/ui/uiUtils"),o=e("syracuse-tablet/html/js/ui/datetimeSelectors/selectorFactory"),u=e("syracuse-tablet/html/js/ui/fontUtils"),a=r.defineClass(function(t,n,r,s){var o=this;i.call(o,t,n,r,s)},i,{initReuseProperties:function(){i.prototype.initReuseProperties.call(this),this.picker=null},buildFieldValue:function(e,t){var n=this,r=i.prototype.buildFieldValue.call(n,e,t),a=n.getFormattedValue(n.getValue());if(n.$isEditMode){var f=s.createDomElement("div",["input-group"],null,null,r);n.createMainInput(f,a);var l=s.createDomElement("span",["input-group-btn"],null,null,f);n.picker=s.createDomElement("button",["btn","btn-default","s-m-meta"],null,null,l),s.createDomElement("span",u.dateFieldIcon(n.$type),null,null,n.picker),$(n.picker).click(function(){o.createSelector(n)})}else n.appendTextValue(r,a)},setFieldValue:function(e){this.$type.indexOf("datetime")>-1&&e.length<=10&&(e+="T00:00:00.0Z"),i.prototype.setFieldValue.call(this,e)},getFieldFormat:function(){return this.formatter.format}});t.Klass=a}),define("syracuse-tablet/html/js/controls/array/builderBase",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/ui/fontUtils","syracuse-tablet/html/js/sdata/sdataUtils"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/ui/uiUtils"),s=e("syracuse-tablet/html/js/ui/fontUtils"),o=e("syracuse-tablet/html/js/sdata/sdataUtils"),u=["application/x-password"],a=["$first","$previous","$next","$last","$more"],f=r.defineClass(function(e,t){var n=this;n.options=t||{};if(e==null)throw new Error("Null control");n.control=e,n.$article=e.article.$article,n.$articleArray=e.article,n.$itemProto=e.prototype.getPrototype("$item"),n.displayRowIdx=n.$article.$rowIdx===!0},null,{initReuseProperties:function(){this.$$value=null,this.$$elmt=null},destroy:function(){var e=this;e.control=null,e.$itemProto&&(e.$itemProto.destroy(),e.$itemProto=null),e.$$elmt=null,e.$$value=null},buildHtml:function(e,t,n){var r=this;(!r.$article||!r.$article.$items)&&r.insertError("<b>No $article found for array "+r.control.$bind+"<b>"),r.$$value=r.control.$$value,r.$$elmt=r.control.$$elmt},insertError:function(e){var t=['<div class="s-m-error">'];t.push(e),t.push("</div>"),$(t.join("")).appendTo(this.$$elmt)},buildPagingLinks:function(e,t){var n=this,r=function(e,t,n){$(i.createDomElement("a",["s-m-link",s.paginationIcon(t)],null,n)).appendTo(e)};t=t||{};var u=t.bottom?$(i.createDomElement("div",["s-m-array-links"])).appendTo(n.$$value):null,f=t.top?$(i.createDomElement("div",["s-m-array-links"])).prependTo(n.$$value):null;e.$links&&a.forEach(function(t){var i=e.$links[t];if(i){var s=o.getLinkInfo(i.$url),a={"data-nav-refresh":!0,"data-nav-type":t,"data-sdata-url":i.$url,"data-control-id":n.control.id};n.control.controller.isVignette&&(a["data-nav-target"]=n.control.controller.openLinkInVignette()?"vignette":"application"),u&&r(u,t,a),f&&r(f,t,a)}})},buildDetailLink:function(e,t){if(t==null)throw new Error("Null options");var n=this,r=t.attrs||{};if(n.control.prototype.isLookup())return r.href="#",r["data-action"]="select",r["data-params"]=e.getValue("$uuid"),i.createDomElement(t.tag,t.css,t.title,r,t.parent);var s=n.$itemProto.data("$links"),o=(s&&s.DASHBOARD||s&&s.$details)!=null;o&&(r["data-action"]="select",r["data-params"]=encodeURIComponent(e.getValue("$uuid")));if(o||t.createIfNoLink){var u=null;return t.css&&(u=[t.css]),i.createDomElement(t.tag,u,t.title,r,t.parent)}return null},isExcluded:function(e){return e==null||e.$isExcluded===!0||u.indexOf(e.$type)>=0},getId:function(){var e=this;return arguments.length>0?e.control.id+" - "+Array.prototype.join.call(arguments,"-"):e.control.id},selectLastSelectedRow:function(e,n,r){var i=this;r='tbody [data-params="'+e+'"]';var s=i.$$elmt.find(r);s.attr("data-action")===t.ACTROWDETAIL&&(s=s.closest("tr")),s[n?"addClass":"removeClass"]("s-m-last-selected")},callGenerateHtml:function(e,t,n,r,i){var s=i.htmlRootCtrl||this.control;e.generateHtml(t,n,r,s)}});t.Klass=f,t.ACTROWDETAIL="rowDetail"}),define("syracuse-tablet/html/js/controls/array/builderTable",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/controls/array/builderBase","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/helpers/prototype","syracuse-tablet/html/js/ui/modal","syracuse-tablet/html/js/application/daoSdata","syracuse-tablet/html/js/controls/ctrlFactory","syracuse-tablet/html/js/helpers/articleParser"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/globals"),s=e("syracuse-tablet/html/js/controls/array/builderBase"),o=s.Klass,u=e("syracuse-tablet/html/js/ui/uiUtils"),a=e("syracuse-tablet/html/js/helpers/prototype"),f=e("syracuse-tablet/html/js/ui/modal"),l=e("syracuse-tablet/html/js/application/daoSdata"),c=e("syracuse-tablet/html/js/controls/ctrlFactory"),h=e("syracuse-tablet/html/js/helpers/articleParser"),p=["application/json","application/x-array","application/x-document","application/x-binary"],d="$ADDROW",v={$activity:"create",$type:"tablet/x-button",$icon:"addrow",$bind:d,$text:"Add row"},m=[{$type:"tablet/x-icon",css:["s-m-icon"],$activity:"edit",$icon:"editrow",$bind:"$EDITROW"},{$type:"tablet/x-icon",css:["s-m-icon"],$activity:"edit",$icon:"delrow",$bind:"$DELETEROW",$action:"delrow"},{$type:"tablet/x-icon",css:["s-m-icon"],$activity:"display",$icon:"detailrow",$bind:"$DETAILROW"}],g=r.defineClass(function(e,t){var n=this;n._columnInfo=null,o.call(n,e,t)},o,{destroy:function(){var e=this;o.prototype.destroy.call(e),e._columnInfo&&e._columnInfo.forEach(function(e){e.control&&e.control.destroy()})},buildHtml:function(e,t){var n=this;o.prototype.buildHtml.call(n,e,t);if(!n.$article)return;if(n._createColumnInfo(t).length>0){var r=$(u.createDomElement("table",["table table-hover table-condensed"],null,null,n.$$value));n._buildTableHead(r,t),n._buildTableBody(r,e,t),n._buildTableFoot(r,t),n.buildPagingLinks(e,{top:!0,bottom:!0})}else n.$$value.addClass("empty")},_createColumnInfo:function(e){var t=this;if(t._columnInfo)return t._columnInfo;t._columnInfo=[],t.displayRowIdx&&t._columnInfo.push({$bind:i.ROWIDXPROP,proto:a.getRowIdxProto(),css:"s-m-rowidx"});var n,r=0,s=[],o;t.$article.$items.forEach(function(e,i){n=t.$itemProto.property(e.$bind),n?(r++,t.isExcluded(e,n)||(o={$bind:e.$bind,proto:t.$itemProto.create(n),article:e},o.article.$isTitleHidden===!0?o.title="":o.article.$title!=null?o.title=t.$itemProto.resolveExpression(o.article.$title)||"":o.title=o.proto.data("$title")||"",t._columnInfo.push(o))):s.push(e)});var u=t.control.controller.isEditMode(),f=t._columnInfo.length!=r;m.forEach(function(e){(u&&e.$activity==="edit"||!u&&f&&e.$activity==="display")&&t._columnInfo.push($.extend(!0,{},e))});if(s.length>0){var l=["Field(s) not found<ul>"];s.forEach(function(e){l.push("<li><b>"+e.$bind+"</b></li>")}),l.push("</ul>"),t.insertError(l.join(""))}return t._columnInfo},isExcluded:function(e,t){var n=this;return o.prototype.isExcluded.call(n,t)?!0:p.indexOf(t.$type)>=0||e.$isAdvanced===!0},_buildTableHead:function(e,t){var n=this,r=u.createDomElement("thead",null,null,null,e),i=u.createDomElement("tr",null,null,null,r),s,o;n._columnInfo.forEach(function(e){s=u.createDomElement("th",e.css,e.title,null,i),e.article&&(o={},e.article.$width!=null&&(o["max-width"]=o.width=e.article.$width),$(s).css(o))})},_buildTableFoot:function(e,t){var n=this;if(n.control.controller.isEditMode()){var r=$('<tfoot><tr><td colspan="'+n._columnInfo.length+'"></td></tr></tfoot>').appendTo(e).find("td"),i=n._getOtherColProto(v,""),s=h.tableCell2Control(n.control,r,v.$bind,i);n.callGenerateHtml(s,r,l.emptyDao(i),!0,t)}},_buildTableBody:function(e,t,n){var r=this,i=u.createDomElement("tbody",null,null,null,e);for(var s=0;s<t.$resources.length;s++)r._buildTableRow(i,t.$resources[s],s,n)},_buildTableRow:function(e,t,n,r){var s=this,o;s.displayRowIdx&&t.setRowIndex(n);var a=t.getValue("$uuid"),f=s.buildDetailLink(t,{tag:"tr",parent:e,createIfNoLink:!0,css:a===s.control.controller.lastSelectedRowId?"s-m-selected":undefined}),l,c,p;s._columnInfo.forEach(function(e,n){c=s.displayRowIdx&&e.$bind===i.ROWIDXPROP,l=$(u.createDomElement("td",c?e.css:null,null,null,f)),p=e.$activity!=null?s._getOtherColProto(e,a,t,r):e.proto,e.control||(e.control=h.tableCell2Control(s.control,l,e.$bind,p)),e.control.generateHtml(l,t,!1)})},_getOtherColProto:function(e,t,n,i){var o=this,u=e.$action||s.ACTROWDETAIL,f,l={pathBind:[],isCreate:!1};if(n){var t=n.getValue("$uuid"),c=n;l.pathId=[],l.pathId.unshift(t),l.pathBind.unshift(c.$bind);while(c.parent&&c.parent.prototype.isArray())l.pathId.unshift(c.parent.getValue("$uuid")),l.pathBind.unshift(c.parent.$bind),c=c.parent;f="{$uuid}"}else{l.isCreate=!0;var c=o.control.getDao();l.pathBind=c.$bind.length===0?[o.control.$bind]:(c.$bind+"."+o.control.$bind).split("."),t=r.UUID(),f=t}var h=i&&i.htmlRootCtrl?i.htmlRootCtrl:o.control;h.rowDetailAdd(t,l);var p={$action:{"data-action":u,"data-params":f}};return["$type","$icon","$text"].forEach(function(t){t!=null&&t!="$activity"&&(p[t]=e[t])}),a.create(p)}});t.Klass=g}),define("syracuse-tablet/html/js/controls/array/builderCardV",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/array/builderBase","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/helpers/articleParser"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/array/builderBase").Klass,s=e("syracuse-tablet/html/js/ui/uiUtils"),o=e("syracuse-tablet/html/js/helpers/articleParser"),u=r.defineClass(function(e,t){var n=this;i.call(n,e,t),n._layoutRoot=null},i,{destroy:function(){var e=this;i.prototype.destroy.call(e),e._layoutRoot&&(e._layoutRoot.destroy(),e._layoutRoot=null)},buildHtml:function(e,t){var n=this;i.prototype.buildHtml.call(n,e,t);if(!n.$article)return;var r=n.$articleArray.$cardsPerRow;r=Math.min(20,Math.max(0,r==null?1:parseInt(r,10))),n._layoutRoot||(n._layoutRoot=o.cardV2Controls(n.control));var s=$("<table/>").appendTo(n.$$value),u=Math.round(100/r),a=100-u*r,f=$("<thead><tr>").appendTo(s).children(":first-child");for(var l=0;l<r;l++)$("<th>").css({width:(l===r-1?u+a:u)+"%"}).appendTo(f);var f=$("<tbody>").appendTo(s),c=0,h,p;e.$resources.forEach(function(e,i){c=i%r,c===0&&(h=$("<tr>").appendTo(f)),p=$(n.buildDetailLink(e,{tag:"td",parent:h,createIfNoLink:!0})),n.callGenerateHtml(n._layoutRoot,p,e,!1,t)});var d=n.$articleArray.$displayEmptyCells;d=d==null?!0:d;if(d)for(var l=0;l<c;l++)n.callGenerateHtml(n._layoutRoot,$('<td class="s-m-empty">').appendTo(h),null,!1,t)}});t.Klass=u}),define("syracuse-tablet/html/js/controls/array/builderCardH",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/array/builderBase","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/array/builderBase","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/helpers/articleParser"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/array/builderBase").Klass,s=e("syracuse-tablet/html/js/ui/uiUtils"),r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/array/builderBase").Klass,s=e("syracuse-tablet/html/js/ui/uiUtils"),o=e("syracuse-tablet/html/js/helpers/articleParser"),u=r.defineClass(function(e,t){var n=this;i.call(n,e,t),n._layoutRoot=null},i,{destroy:function(){var e=this;i.prototype.destroy.call(e),e._layoutRoot&&(e._layoutRoot.destroy(),e._layoutRoot=null)},buildHtml:function(e,t){var n=this;i.prototype.buildHtml.call(n,e,t);if(!n.$article)return;var r=n.$articleArray.$cardsPerLine;r=Math.min(20,Math.max(0,r==null?1:parseInt(r,10))),n._layoutRoot||(n._layoutRoot=o.cardV2Controls(n.control));var s=$("<table/>").appendTo(n.$$value),u=Math.round(100/r),a=100-u*r,f=$("<thead><tr>").appendTo(s).children(":first-child");for(var l=0;l<r;l++)$("<th>").css({width:(l===r-1?u+a:u)+"%"}).appendTo(f);var f=$('<tbody data-bind="'+n.control.$bind+'">').appendTo(s),c=0,h,p;e.$resources.forEach(function(e,i){c=i%r,c===0&&(h=$("<tr>").appendTo(f)),p=$(n.buildDetailLink(e,{tag:"td",parent:h,createIfNoLink:!0})),n.callGenerateHtml(n._layoutRoot,p,e,!1,t)});var d=n.$articleArray.$displayEmptyCells;d=d==null?!0:d;if(d)for(var l=0;l<c;l++)n.callGenerateHtml(n._layoutRoot,$('<td class="s-m-empty">').appendTo(h),null,!1,t)}}),a=r.defineClass(function(e,t){var n=this;i.call(n,e,t),n.pageContentHeightSubstraction=190,n.minLandscapeHeight=550,n._itemWidth=140,n._itemHeight=140,n._itemSpacing=10,n.recordItems={}},i,{destroy:function(){var e=this;i.prototype.destroy.call(e),e.recordItems=null},buildHtml:function(e,t){var n=this;i.prototype.buildHtml.call(n,e,t,["s-m-card s-m-horizontal"]),n.$$domItems=$(s.createDomElement("div",["s-m-grid-items s-m-horizontal"],null,{id:n.getId("items")})).appendTo(n.$$elmt),e.$resources.forEach(function(e,t){var r=s.createDomElement("div",["s-m-grid-item"],null,null,n.$$domItems);n.recordItems[e.getValue("$uuid")]=r,n._buildRecord(e,r,t)}),n.onResizeWindow(),n.buildPagingLinks(e,{top:!0})},_buildRecord:function(e,t,n){var r=this,i=r.$itemProto.data("$value",e)||"Rank;"+(n+1),s=r.buildDetailLink(e,{tag:"a",parent:t,title:i,css:"s-m-link"})},onResizeWindow:function(){var e=this,t=e.control.getArrayData();if(!t)return;var n=window.innerWidth,r=window.innerHeight;r-=e.pageContentHeightSubstraction,e._maxItemHeight=r,e.$$domItems.height(e._maxItemHeight-20);var i=0,s=0;t.$resources.forEach(function(t){s+e._itemHeight>e._maxItemHeight&&(s=0,i+=e._itemWidth+e._itemSpacing);var n=e.recordItems[t.getValue("$uuid")];if(n){var r=n.style;r.left=i+"px",r.top=s+"px",r.width=e._itemWidth+"px",r.height=e._itemHeight+"px",s+=e._itemHeight+e._itemSpacing}})}});t.Klass=u}),define("syracuse-tablet/html/js/controls/array/ctrlArray",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/controls/ctrlBase","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/ui/modal","syracuse-tablet/html/js/application/eventListener","syracuse-tablet/html/js/sdata/sdataUtils","syracuse-tablet/html/js/application/daoSdata","syracuse-tablet/html/js/controls/array/builderTable","syracuse-tablet/html/js/controls/array/builderCardV","syracuse-tablet/html/js/controls/array/builderCardH"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/globals"),s=e("syracuse-tablet/html/js/controls/ctrlBase").Klass,o=e("syracuse-tablet/html/js/ui/uiUtils"),u=e("syracuse-tablet/html/js/ui/modal"),a=e("syracuse-tablet/html/js/application/eventListener"),f=e("syracuse-tablet/html/js/sdata/sdataUtils"),l=e("syracuse-tablet/html/js/application/daoSdata"),c={table:e("syracuse-tablet/html/js/controls/array/builderTable").Klass,cardV:e("syracuse-tablet/html/js/controls/array/builderCardV").Klass,cardH:e("syracuse-tablet/html/js/controls/array/builderCardH").Klass},h=function(e){return!e||!e.$resources?null:(e.$resources.forEach(function(e){e&&e.destroy()}),null)},p=r.defineClass(function(e,t,n,r){var i=this;s.call(i,e,t,n,r);if(!t.$article)throw new Error("$article is expected");var o=c[t.$display];if(!o)throw new Error("Unknown $article.$display ["+t.$display+"]");i.builder=new o(i,r),i._arrayData=null,i._rowDetailCache={},i._rowDetailInfo=null},s,{initReuseProperties:function(){s.prototype.initReuseProperties.call(this),this._arrayData&&(this._arrayData=h(this._arrayData)),this.builder&&this.builder.initReuseProperties()},destroy:function(){var e=this;e._rowDetailInfo=null,e._rowDetailCache=null,s.prototype.destroy.call(e),e.prototype=null,e.builder&&(e.builder.destroy(),e.builder=null),e._arrayData=h(e._arrayData),e._waiting&&(o.waitWheelDestroy(e._waiting),e._waiting=null)},buildHtml:function(e,t,n){var r=this;if(r.builder==null)throw new Error("Null builder");var i=r.article.$display||"table",o="s-m-";i==="cardV"?o+="card s-m-V":i==="cardH"?o+="card s-m-H":o+=i,s.prototype.buildHtml.call(r,e,t,n,["s-m-array",o]),r._setArrayData(t),r._displayArray()&&r.builder.buildHtml(r._arrayData,n)},_actSelect:function(e){var t=this,n=t._getRowById(e);if(!n)return;n=n.row,t.controller.notifSelectRow(t.id,e,n,!1);if(!t.prototype.isLookup()){var i=t.builder.$itemProto.data("$links"),s=i&&i.DASHBOARD||i&&i.$details;if(s){var o={},u=f.getLinkInfo(s.$url,n);o["data-nav"]=u.page,o["data-nav-target"]=t.controller.openLinkInVignette()?"vignette":"application",u.sDataUrl&&(o["data-sdata-url"]=u.sDataUrl);if(u.parameters){var l=r.parseExpression(u.parameters,n);o["data-sdata-parameters"]=l}a.triggerNavigation(t.$$elmt,o)}}},_actRowDetail:function(e){var t=this;try{var n=t._rowDetailCache[e];if(!n)throw new Error("rowDetailGetDao - Unexpected null row info");var r=t.getDao();while(r.parent)r=r.parent;var s=t.prototype;while(s.parent)s=s.parent;var o=n.isCreate?null:n.pathId,u=n.pathBind,f=r,c,h=["$properties"];for(var p=0;p<u.length;p++){h.push(u[p]),s=s.getPrototype(h.join("."));if(!n.isCreate){f=f.getArrayData(u[p],s),c=t._getRowById(o[p],f);if(!c)throw new Error("rowDetailGetDao - Row not found "+u[p]+"."+o[p]);f=c.row}h=["$item.$properties"]}s=s.getPrototype("$item",{$url:"",$typ:"rowdetail"}),u=n.pathBind.join("."),t._rowDetailInfo={pathBind:u,dao:n.isCreate?l.getArrayEmptyRow(s,u):f.clone(),proto:s};var d={"data-control-id":t.id,"data-parent-id":t.controller.id,"data-nav":"rowdetail","data-params":e};t.controller.isVignette&&(d["data-nav-target"]="vignette"),t.controller.notifSelectRow(t.id,e,null,!0),a.triggerNavigation(t.$$elmt,d)}catch(v){i.getModal().error("Error loading row detail page",v)}},rowDetailAdd:function(e,t){this._rowDetailCache[e]=t},rowDetailGetDao:function(e){return this._rowDetailInfo.dao},rowDetailGetPrototype:function(){return this._rowDetailInfo.proto},rowDetailGetPageName:function(e){if(!this._rowDetailInfo)throw new Error("rowDetailGetPageName - Null details row data");return e+"."+this._rowDetailInfo.pathBind},_actDelrow:function(e){u.simpleConfirm("Do you want to delete this row ?\n\nId="+e,function(e){e})},selectLastSelectedRow:function(e,t){this.builder.selectLastSelectedRow(e,t)},refresh:function(e,t){var n=this;if(n.builder==null)throw new Error("Null builder");n.builder.buildHtml(n._setArrayData(e),t)},readArrayData:function(e){var t=this;return t.prototype.isQuery()?e.getQueryData(t.prototype):t.prototype.isLookup()?e.getLookupData(t.prototype):e.getArrayData(t.$bind,t.prototype)},_setArrayData:function(e){var t=this;t.empty(),t.$$value=$(o.createDomElement("div",["s-m-value"],null,null,t.$$elmt)),h(t._arrayData),t._arrayData=t.readArrayData(e);if(t._arrayData==null)throw new Error("Null arrayData");t.isEmpty=t._arrayData.$resources.length===0;var n=t.getTitle(),r=t.$$elmt.children(".s-m-title");return t._displayTitle(n)&&r.length>0?$(o.createDomElement("div",["s-m-title"])).text(n).appendTo(t.$$elmt):r.empty(),t._arrayData},_displayTitle:function(e){return e==null||e.trim().length===0?!1:this.getAuthoring("$isTitleHidden")===!0?!1:this._displayArray()},_displayArray:function(){return this.controller.isEditMode()===!0||this.isEmpty!==!0||this.getAuthoring("$displayHeaderIfEmpty")===!0},getArrayData:function(){return this._arrayData},waitStart:function(){var e=this;e._waiting||(e._waiting=o.waitWheelCreate(e.$$elmt.parent()),e._waiting.$$bckg.css({position:"absolute"}),e._waiting.$$wheel.css({position:"absolute"})),o.waitWheelStart(e._waiting)},waitStop:function(){var e=this;e._waiting&&o.waitWheelStop(e._waiting)},_getRowById:function(e,t){var n=this,r=null;t=t||n._arrayData;if(!t)return r;var i=0;return t.$resources.some(function(t){if(t.getValue("$uuid")===e)return r=t,!0;i++}),r?{row:r,idx:i}:null}});t.Klass=p}),define("syracuse-tablet/html/js/controls/field/ctrlReference",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/sdata/sdataUtils","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/controls/field/ctrlFieldBase","syracuse-tablet/html/js/ui/fontUtils"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/sdata/sdataUtils"),s=e("syracuse-tablet/html/js/ui/uiUtils"),o=e("syracuse-tablet/html/js/controls/field/ctrlFieldBase").Klass,u=e("syracuse-tablet/html/js/ui/fontUtils"),a=r.defineClass(function(t,n,r,i){var s=this;o.call(s,t,n,r,i),s.isUnit=s.options.isUnit===!0,s.isUnit?(s.$isEditMode=!1,s.cssType="s-m-unit"):s.cssType="s-m-ref"},o,{initReuseProperties:function(){o.prototype.initReuseProperties.call(this),this.picker=null},getValue:function(e){var t=o.prototype.getValue.call(this);return t?t[e||"$value"]||"":""},buildFieldTitle:function(e,t){var n=this;return n.isUnit?null:o.prototype.buildFieldTitle.call(n,e,t)},buildFieldValue:function(e,t){var n=this,r=o.prototype.buildFieldValue.call(n,e),i=n.getValue();if(n.$isEditMode)n.buildEditValue(r,n.getValue());else{var s=(n.getValue("$description")||"").trim(),u=(n.getValue("$title")||"").trim();n.isUnit?n.buildUnitValue(r,i,s,u):n.buildDetailValue(r,i,s,u)}},buildEditValue:function(e,t){var n=this,r=s.createDomElement("div",["input-group"],null,null,e);n.createMainInput(r,n.getFormattedValue(t));var o=n.prototype.getDataByPath("$item.$links.$lookup");if(!o)throw new Error("ctrlReference - Expected $lookup link");var a=s.createDomElement("span",["input-group-btn"],null,null,r),f=n._getLinkAttrs(i.getLinkInfo(o.$url,n.getDao()),{"data-param":n.id,"data-parent-id":n.controller.id,"data-control-id":n.id,title:n.prototype.resolveExpression(o.$title)||"Lookup"});n.picker=s.createDomElement("a",["btn","btn-default","s-m-meta"],null,f,a),s.createDomElement("span",u.refFieldIcon(),null,null,n.picker)},buildDetailValue:function(e,t,n,r){var i=this,s=i.addLink(e);if(t.length>0){var o,u=i.getAuthoring("$refDescFormat");switch(u){case"title":o=r;break;case"desctitle":o=i._combineTexts(n,r);break;case"titledesc":o=i._combineTexts(r,n);break;default:o=n}var a=i.getAuthoring("$refDescPosition"),f=$("<div>").addClass("s-m-ref-val").text(t),l=$("<div>").addClass("s-m-descr").text(o),c;switch(a){case"bottom":$(s).append(f).append(l);break;case"left":$(s).append(l).append(f),c=[f,l],$.each(c,function(e,t){t.css("display","inline-block")}),l.css("padding-right","5px");break;case"top":$(s).append(l).append(f);break;case"none":$(s).append(f);break;case"right":default:c=[f,l],$(s).append(f).append(l),$.each(c,function(e,t){t.css("display","inline-block")}),l.css("padding-left","5px")}}},buildUnitValue:function(e,t,n,r){var i=this,o=n.length>0?n:r.length>0?r:t;o=t||"",o&&o.toLowerCase&&(o=o.toLowerCase().smCapitalize()),s.createDomElement("span",["s-m-descr"],o,null,i.addLink(e))},addLink:function(e){var t=this;if(t.options.isArrayChild===!0)return e;var n=t.prototype.getDataByPath("$item.$links.$details");return n?s.createDomElement("a",null,null,t._getLinkAttrs(i.getLinkInfo(n.$url,t.getDao()),{title:t.prototype.resolveExpression(n.$title)||"Detail"}),e):e},setLookupValue:function(e){var t=this,n=t.prototype.getLookupValue();if(n){var r=e[n];r!=null&&(t.setFieldValue(r),$(t.domInput).focus())}},_getLinkAttrs:function(e,t){var n=this,r={href:"#","data-nav":e.page,"data-sdata-url":e.sDataUrl};n.controller.isVignette&&(r["data-nav-target"]=n.controller.openLinkInVignette()?"vignette":"application");if(t)for(var i in t)r[i]=t[i];return r},_combineTexts:function(e,t){var n;return n=e&&t?e===t?e:e+"-"+t:e||t||"",n}});t.Klass=a}),define("syracuse-tablet/html/js/controls/layout/layoutBase",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/structElmt","syracuse-tablet/html/js/ui/uiUtils"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/structElmt").Klass,s=e("syracuse-tablet/html/js/ui/uiUtils"),o=r.defineClass(function(t,n,r,s){var o=this;i.call(o,t,n,r,s),o.title=r.$title},i,{initReuseProperties:function(){i.prototype.initReuseProperties.call(this),this.$$header=null},destroy:function(){var e=this;i.prototype.destroy.call(e)},createId:function(e){var t=this;return r.readableuid(e,t.article.$layoutType)},buildHtml:function(e,t,n){var r=this;i.prototype.buildHtml.call(r,e,t,n),r.createRootElement(["s-m-layout"],e),r.article.$title&&(n==null||n.noTitle)&&r.buildTitle()},onResize:function(e){this.children.forEach(function(t){t.onResize&&t.onResize(e)})},buildTitle:function(e,t,n,r){this.$$header=$(s.createDomElement("header",null,this.article.$title,null,this.$$elmt))}});t.Klass=o}),define("syracuse-tablet/html/js/controls/layout/layoutRow",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/layout/layoutBase"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/layout/layoutBase").Klass,s=r.defineClass(function(t,n,r,s){var o=this;i.call(o,t,n,r,s)},i,{buildHtml:function(e,t,n){var r=this;i.prototype.buildHtml.call(r,e,t,n),r.$$elmt.addClass("s-m-row"),r.$$elmt.addClass("row"),r._setHeight(),$.each(r.children,function(e,i){i.buildHtml(r.$$elmt,t,n)})},_setHeight:function(){var e=this;e.article.$rowHeight&&e.$$elmt.css("height",e.article.$rowHeight)}});t.Klass=s}),define("syracuse-tablet/html/js/controls/layout/layoutStack",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/layout/layoutBase"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/layout/layoutBase").Klass,s=r.defineClass(function(t,n,r,s){var o=this;i.call(o,t,n,r,s)},i,{buildHtml:function(e,t,n){var r=this;i.prototype.buildHtml.call(r,e,t,n),r.$$elmt.addClass("s-m-stack"),n&&n.makeFullHeight===!0&&r.$$elmt.height("100%"),$.each(r.children,function(e,i){i.buildHtml(r.$$elmt,t,n)})}});t.Klass=s}),define("syracuse-tablet/html/js/controls/layout/layoutTab",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/layout/layoutBase","syracuse-tablet/html/js/ui/uiUtils"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/layout/layoutBase").Klass,s=e("syracuse-tablet/html/js/ui/uiUtils"),o=r.defineClass(function(t,n,r,s){var o=this;i.call(o,t,n,r,s)},i,{buildHtml:function(e,t,n){var r=this;i.prototype.buildHtml.call(r,e,t,n),r.$$elmt.addClass("s-m-tabs");var o=s.createDomElement("div",[r.article.$layoutType]);$.each(r.children,function(e,r){r.isTabSection=!0;var i=s.createDomElement("div",["s-m-layout-cell"],null,{style:"display:"+(e!=0?"none":"")},o);r.buildHtml($(i),t,n)})},buildTitle:function(){}});t.Klass=o}),define("syracuse-tablet/html/js/controls/layout/layoutHubGroup",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/layout/layoutBase","syracuse-tablet/html/js/ui/uiUtils"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/layout/layoutBase").Klass,s=e("syracuse-tablet/html/js/ui/uiUtils"),o=["small","medium","wide","large","full"],u={landscapeBaseSize:90,landscapePadX:5,landscapePadY:5,portraitPadX:5,portraitPadY:5,portraitWideMinWidth:768};t.minLandscapeHeigth=u.landscapeBaseSize*4+u.landscapePadY*5+40;var a=r.defineClass(function(t,n,r,s){var o=this;i.call(o,t,n,r,s)},i,{buildHtml:function(e,t,n){var r=this;i.prototype.buildHtml.call(r,e,t,n),r.$$elmt.addClass("s-m-hub-group"),r._buildCellStructure(t,n)},_buildCellStructure:function(e,t){var n=this;n.cells=[];var r=null;n.children.forEach(function(i){var u=i.article&&i.article.$size||"medium";o.indexOf(u)<0&&(u=o[1],i.article=i.article||{},i.article.$size=u),r||(r=n._createCell(u),r.domItem=s.createDomElement("div",null,null,null,n.$$elmt),n.cells.push(r)),u==="small"?(i.buildHtml($(r.domItem),e,t),r.children.push(i),r.children.length===4&&(r=null)):(r.children.length>0&&(r=n._createCell(u),r.domItem=s.createDomElement("div",null,null,null,n.$$elmt),n.cells.push(r)),i.buildHtml($(r.domItem),e,t),r.children.push(i),r=null)})},_createCell:function(e){var t=this;e=e==="small"?"medium":e;var n={size:e,children:[]};return n},onResize:function(e,t){this.calculateLayout(t),i.prototype.onResize.call(this,e)},calculateLayout:function(e){var t=this,n;t._headerSpace=t.$$header&&t.$$header.height()||0,t._width=0,t._height=0,t.hubGroupOptions=e,t.hubGroupOptions.orientation==="landscape"?t._calculateLayoutHorizontal():t._calculateLayoutVertical(),t.cells.forEach(function(e){n=e.size,e.domItem.style.left=e.x+"px",e.domItem.style.top=e.y+t._headerSpace+"px",e.domItem.style.width=t._sizes[n].width+"px",e.domItem.style.height=t._sizes[n].height+"px",e.domItem.style.position="absolute",e.x+t._sizes[n].width>t._width&&(t._width=e.x+t._sizes[n].width),e.y+t._sizes[n].height>t._height&&(t._height=e.y+t._sizes[n].height);var r=0,i=0;e.children.forEach(function(e){n=e.article&&e.article.$size||"medium";var s=e.$$elmt[0];s.style.left=r+"px",s.style.top=i+"px",s.style.width=t._sizes[n].width+"px",s.style.height=t._sizes[n].height+"px",s.style.position="absolute",r!==0?(r=0,i+=t._sizes[n].height+t.hubGroupOptions.padY):r+=t._sizes[n].width+t.hubGroupOptions.padX})});var r=t.$$elmt.get(0).style;t.hubGroupOptions.orientation==="landscape"?(r.top="0px",r.left=t.hubGroupOptions.posX+"px",r.width=t._width+u.landscapePadX+"px",r.height=t.hubGroupOptions.maxHeight-t._headerSpace+"px"):(r.top=t.hubGroupOptions.posY+"px",r.left="0px",t._width=t._width+u.portraitPadX,r.width=t._width+"px",t._height+=t._headerSpace+u.portraitPadY,r.height=t._height+"px")},_calculateLayoutHorizontal:function(){var e=this;e.hubGroupOptions.baseSize=u.landscapeBaseSize,e.hubGroupOptions.padX=u.landscapePadX,e.hubGroupOptions.padY=u.landscapePadY,e.hubGroupOptions.maxGroupHeight=e.hubGroupOptions.maxHeight-e._headerSpace,e.hubGroupOptions.maxGroupWidth=4*e.hubGroupOptions.baseSize+3*e.hubGroupOptions.padX,e.hubGroupOptions.maxFullTileHeight=Math.floor((e.hubGroupOptions.maxGroupHeight+e.hubGroupOptions.padY)/(e.hubGroupOptions.baseSize+e.hubGroupOptions.padY)/2)*(e.hubGroupOptions.baseSize+e.hubGroupOptions.padY)*2-e.hubGroupOptions.padY,e._sizes={small:{width:e.hubGroupOptions.baseSize,height:e.hubGroupOptions.baseSize},medium:{width:e.hubGroupOptions.baseSize*2+e.hubGroupOptions.padX,height:e.hubGroupOptions.baseSize*2+e.hubGroupOptions.padY},wide:{width:e.hubGroupOptions.baseSize*4+e.hubGroupOptions.padX*3,height:e.hubGroupOptions.baseSize*2+e.hubGroupOptions.padY},large:{width:e.hubGroupOptions.baseSize*4+e.hubGroupOptions.padX*3,height:e.hubGroupOptions.baseSize*4+e.hubGroupOptions.padY*3},full:{width:e.hubGroupOptions.baseSize*4+e.hubGroupOptions.padX*3,height:e.hubGroupOptions.maxFullTileHeight}};var t=0,n=0,r=0,i=0;e.cells.forEach(function(n){n.w=e._sizes[n.size].width,n.h=e._sizes[n.size].height;if(i+n.h>e.hubGroupOptions.maxGroupHeight||i!==0&&n.size==="full")i=0,t+=e.hubGroupOptions.maxGroupWidth+e.hubGroupOptions.padX,r=t;n.size==="medium"?(r-t+n.w>e.hubGroupOptions.maxGroupWidth&&(r=t,i+=n.h+e.hubGroupOptions.padY),i+n.h>e.hubGroupOptions.maxGroupHeight&&(i=0,t+=e.hubGroupOptions.maxGroupWidth+e.hubGroupOptions.padX,r=t),n.x=r,n.y=i,r+=n.w+e.hubGroupOptions.padX):(r!==t&&(r=t,i+=e._sizes.medium.height+e.hubGroupOptions.padY),i+n.h>e.hubGroupOptions.maxGroupHeight&&(i=0,t+=e.hubGroupOptions.maxGroupWidth+e.hubGroupOptions.padX,r=t),n.x=r,n.y=i,i+=n.h+e.hubGroupOptions.padY)})},_calculateLayoutVertical:function(){var e=this;e.hubGroupOptions.maxWidth>=u.portraitWideMinWidth?(e.hubGroupOptions.padX=u.portraitPadX,e.hubGroupOptions.padY=u.portraitPadY,e.hubGroupOptions.baseSize=Math.floor((e.hubGroupOptions.maxWidth-9*e.hubGroupOptions.padX)/80)*10,e.hubGroupOptions.maxGroupWidth=8*e.hubGroupOptions.baseSize+7*e.hubGroupOptions.padX,e.hubGroupOptions.maxGroupHeight=e.hubGroupOptions.maxHeight-e._headerSpace,e.hubGroupOptions.maxFullTileHeight=e.hubGroupOptions.maxGroupHeight-e.hubGroupOptions.padY):(e.hubGroupOptions.padX=u.portraitPadX,e.hubGroupOptions.padY=u.portraitPadY,e.hubGroupOptions.baseSize=Math.floor((e.hubGroupOptions.maxWidth-5*e.hubGroupOptions.padX)/40)*10,e.hubGroupOptions.maxGroupWidth=4*e.hubGroupOptions.baseSize+3*e.hubGroupOptions.padX,e.hubGroupOptions.maxGroupHeight=e.hubGroupOptions.maxHeight-e._headerSpace,e.hubGroupOptions.maxFullTileHeight=e.hubGroupOptions.maxGroupHeight-e.hubGroupOptions.padY),e._sizes={small:{width:e.hubGroupOptions.baseSize,height:e.hubGroupOptions.baseSize},medium:{width:e.hubGroupOptions.baseSize*2+e.hubGroupOptions.padX,height:e.hubGroupOptions.baseSize*2+e.hubGroupOptions.padY},wide:{width:e.hubGroupOptions.baseSize*4+e.hubGroupOptions.padX*3,height:e.hubGroupOptions.baseSize*2+e.hubGroupOptions.padY},large:{width:e.hubGroupOptions.baseSize*4+e.hubGroupOptions.padX*3,height:e.hubGroupOptions.baseSize*4+e.hubGroupOptions.padY*3},full:{width:e.hubGroupOptions.baseSize*4+e.hubGroupOptions.padX*3,height:e.hubGroupOptions.maxFullTileHeight}};var t=0,n=0,r=0;e.cells.forEach(function(i){i.w=e._sizes[i.size].width,i.h=e._sizes[i.size].height,i.x=t,i.y=n,t+i.w>e.hubGroupOptions.maxGroupWidth?(t=0,n+=r+e.hubGroupOptions.padY,i.x=t,i.y=n,r=i.h,t+=i.w+e.hubGroupOptions.padX):(t+=i.w+e.hubGroupOptions.padX,r=i.h>r?i.h:r)})},getWidth:function(){return this._width},getHeight:function(){return this._height}});t.Klass=a}),define("syracuse-tablet/html/js/controls/layout/layoutHub",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/layout/layoutBase","syracuse-tablet/html/js/controls/layout/layoutHubGroup"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/layout/layoutBase").Klass,s=e("syracuse-tablet/html/js/controls/layout/layoutHubGroup"),o=r.defineClass(function(t,n,r,s){var o=this;i.call(o,t,n,r,s)},i,{destroy:function(){i.prototype.destroy.call(this)},buildHtml:function(e,t,n){var r=this;n=n||{},n.noTitle=!0,i.prototype.buildHtml.call(r,e,t,n),r.$$elmt.addClass("s-m-hub"),r.children.forEach(function(e){e.buildHtml(r.$$elmt,t,n)})},onResize:function(e){var t=this,n=t.$$elmt.parent(),r=t.$$elmt.position(),i=n.width(),o=n.height()-r.top,u=i/o,a=u>1.2&&o>=s.minLandscapeHeigth?"landscape":"portrait";t.$$elmt.height(o);var f=0,l=0,c;this.children.forEach(function(t){c={posX:f,posY:l,maxHeight:o,maxWidth:i,orientation:a},t.onResize(e,c),a==="landscape"?f+=t.getWidth()+10:l+=t.getHeight()+10})}});t.Klass=o}),define("syracuse-tablet/html/js/controls/layout/layoutTile",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/layout/layoutBase"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/layout/layoutBase").Klass,s=r.defineClass(function(t,n,r,s){var o=this;i.call(o,t,n,r,s)},i,{buildHtml:function(e,t,n){var r=this;i.prototype.buildHtml.call(r,e,t,n),r.$$elmt.addClass("s-m-tile"),r._setCellColorClass(),$.each(r.children,function(e,i){i.buildHtml(r.$$elmt,t,n)})},_setCellColorClass:function(){var e=this,t=e.article.$bgColor;t||(t="lime"),e.$$elmt.addClass("s-m-bg-"+t)}});t.Klass=s}),define("syracuse-tablet/html/js/controls/layout/layoutCell",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/layout/layoutBase","syracuse-tablet/html/js/ui/uiUtils"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/layout/layoutBase").Klass,s=e("syracuse-tablet/html/js/ui/uiUtils"),o=r.defineClass(function(t,n,r,s){var o=this;i.call(o,t,n,r,s)},i,{initReuseProperties:function(){i.prototype.initReuseProperties.call(this),this.$$cell=null},buildHtml:function(e,t,n){var r=this;i.prototype.buildHtml.call(r,e,t,n),r.$$elmt.addClass("s-m-cell"),r.$$cell=$(s.createDomElement("div",["cell"],null,null,r.$$elmt)),r._setCellColorClass(),r._setCellSizeClasses(),$.each(r.children,function(e,i){i.buildHtml(r.$$cell,t,n)})},_setCellColorClass:function(){var e=this,t=e.article.$bgColor;t||(t="lime"),e.$$cell.addClass("s-m-bg-"+t)},_setCellSizeClasses:function(){var e=this,t=[{$prop:"$widthXs",$prefix:"col-xs-"},{$prop:"$widthSm",$prefix:"col-sm-"},{$prop:"$widthMd",$prefix:"col-md-"},{$prop:"$widthLg",$prefix:"col-lg-"}],n=12;t.forEach(function(t){var r=e.article[t.$prop];r!=null&&r>0&&r<=12?n=r:r=n;var i=t.$prefix+r;e.$$elmt.addClass(i)})}});t.Klass=o}),define("syracuse-tablet/html/js/controls/vignetteBase",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/controls/ctrlBase","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/ui/fontUtils","syracuse-tablet/html/js/application/pageLoader","syracuse-tablet/html/js/application/pageHelper","syracuse-tablet/html/js/ui/modal","syracuse-tablet/html/js/helpers/notifications","syracuse-tablet/html/js/helpers/logger"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/globals"),s=e("syracuse-tablet/html/js/controls/ctrlBase").Klass,o=e("syracuse-tablet/html/js/ui/uiUtils"),u=e("syracuse-tablet/html/js/ui/fontUtils"),a=e("syracuse-tablet/html/js/application/pageLoader").Klass,f=e("syracuse-tablet/html/js/application/pageHelper"),l=e("syracuse-tablet/html/js/ui/modal"),c=e("syracuse-tablet/html/js/helpers/notifications"),h=e("syracuse-tablet/html/js/helpers/logger").getLogger("app"),p={className:"waiting-blocks",elements:5,auto:!0,speed:200},d={main:'		<section/>		<footer style="display:none"/> 		<div class="s-m-waiting bckg" style="display:none"/> 		<div class="s-m-waiting wheel" style="display:none"/> 	',iframe:'		<br><iframe src="{{url}}" style="position: absolute; top: 0px; left: 0px; height: 100vh; width: 100vh;"/>	',refreshbtn:'		<a href="#" data-action="vignetteRefresh" class="'+u.vignetteIcons("refresh")+'" style="float:right"></a>	',navbtns:'		<a href="#" data-action="vignetteBack" class="'+u.vignetteIcons("back")+'" style="display:none"></a>		<a href="#" data-action="vignetteHome" class="'+u.vignetteIcons("home")+'" style="display:none"></a>	',vignetteError:'		<a href="#" data-action="vignetteError">{{text}}</a>	',linkPage:'<a href="{{href}}" data-nav-target="application" data-nav="{{data-nav}}" data-gadget-id="{{data-gadget-id}}" data-application-name="{{data-application-name}}" class="s-m-link-page">{{title}}</a>'},v=function(e,t){var n=e+"compiled",r=d[n];return r||(r=d[n]=Handlebars.compile(d[e])),r(t)},m=r.defineClass(function(e,t,n,r){var o=this;t.$article=t.$article||{},s.call(o,e,t,n,r),o._currentPage=null,o._pageLoader=null,o._$$wait=null,o._stateStack=[],o._error=null,o.displayStyle=n.data("$displayStyle"),o.openLinkInVignette=i.$config("openLinkInVignette"),o.enableRefresh=!0},s,{destroy:function(){var e=this;e._error=null,e.clearContent(),o.waitPluginDestroy(e._$$wait);if(e._pageLoader=null)e._pageLoader.destroy(),e._pageLoader=null;e._stateStack=[],s.prototype.destroy.call(e)},getPageControl:function(e){return this._currentPage&&this._currentPage.getControl?this._currentPage.getControl(e):null},getPage:function(){return this._currentPage},onResize:function(e){this._loaded&&this._currentPage&&this._currentPage.state.options.$displayStyle==="$full"?(h&&h("vignette onResize "+this.id),this._currentPage.onResize(e)):h&&h("vignette onResize skipped "+this.id)},changePage:function(e,t){t=t||{},t.openLinkInVignette=this._linkInside(),t.$displayStyle="$full",this._loadPage(e,t)},refreshPage:function(e){var t=this;if(!t._currentPage)throw new Error("No current page");t._error&&this._removeError(),t._currentPage.refresh(e,{waitStart:function(e){t.waitStart()},waitStop:function(e){t.waitStop()}}).then(function(){}).fail(function(e){l.error("Refresh page on vignette",e)})},hasBtnsBar:function(){return this._linkInside()||this.enableRefresh},clearContent:function(){var e=this;e._$$content&&(f.removeAllPages(e._$$content),e._$$content.empty()),e._currentPage&&(e._currentPage=null)},_linkInside:function(e){if(this.openLinkInVignette===!0)return!0;var t;return e==null?t=this._currentPage?this._currentPage.state.name:null:$.isPlainObject(e)?t=e.name:t=e,t==="rowdetail"&&(this.openLinkInVignette=!0),this._currentPage&&this._currentPage.isChild&&(this.openLinkInVignette=!0),this.openLinkInVignette},_loadPage:function(e,t,n){var r=this;r._loaded=!1,r._error=null,!r._linkInside(e)&&r._stateStack.length>0&&r.clearContent(),r._pageLoader||(r._pageLoader=new a({waitStop:function(){r.waitStop()},waitStart:function(){r.waitStart()},getRootElmt:function(){return r._$$content},getCurrentPage:function(){return r._currentPage},setCurrentPage:function(e){r._currentPage=e},historyPush:function(e){r._stateStack.push(e)},succeeded:function(e,t){r.hasBtnsBar()&&r.refreshBtnsBar(),t&&t.notifId&&(e.id===t.parentId?c.pageNotify(t.notifId,r._currentPage,t.notifData,t.controlId):l.error("Child page notification warning","Parent page is not the current page")),r._loaded=!0,h&&h("vignette loaded"+r.id),r.onResize(null)},loadingError:function(e,t,n){r._displayError("Loading page ["+t.name+"] error",n),e.resolve()},savedCtxVignette:function(){return r.controller.savedCtxVignette(r)}}));try{var i,s;if(typeof e=="string")t=t||{},t.vignette=!0,s=t.article,i=f.getPageInfo(e,t,r._currentPage);else{if(n!=="back"&&n!=="home")throw new Error("Unexpected object state");i=e}s&&i.options&&(i.options.article=s);if(i.options&&i.options.$displayStyle==="$full")return r._pageLoader.load(i,n==="back");if(t.gadget){var o=$.Deferred();return r._addPicker({"data-nav":i.name,"data-gadget-id":t.gadget.data("$uuid"),title:t.gadget.data("$title")}),o.resolve(),o.promise()}throw new Error("Unexpected vignette page")}catch(u){r._displayError("Loading page error",u)}},_loadRepresentation:function(e,t,n){var r=this,t=t||e.getPageName();return n=$.extend({},n),n.openLinkInVignette=r._linkInside(t),n.$displayStyle=r.displayStyle,n.gadget=e,n.article=r.article.$article,n.layoutPath=r.getAuthoringPath()+"-0",r._loadPage(t,n)},_displayError:function(e,t){var n=this;n._loaded=!0,n._error={message:e,detail:t},n._$$content.hide(),n.$$elmt.addClass("s-m-error"),n.$$elmt.prepend(v("vignetteError",{text:"Loading failed"})),n.refreshBtnsBar()},_removeError:function(){this.$$elmt.children('a[data-action="vignetteError"]').remove(),this.$$elmt.removeClass("s-m-error"),this._$$content.show(),this._error=null},buildHtml:function(e,t,n){var r=this;r._stateStack.length>0||(s.prototype.buildHtml.call(r,e,t,n,["s-m-vignette"]),r.$$elmt.html(v("main",{})),r._$$content=r.$$elmt.children("section"),r.$$footer=r.$$elmt.children("footer"),r._$$wait=o.waitPluginCreate(r.$$elmt.children(".s-m-waiting.wheel"),p),r._$$waitBckg=r.$$elmt.children(".s-m-waiting.bckg"))},load:function(e,t){var n=this;t=t||{};var r=$.Deferred(),i=function(){r.resolve()},s=function(e){n._displayError(e),i()};try{var o=n.prototype.getVignetteGadget();if(o&&o.isValid())switch(o.data("$type")){case"$representation":case"$stats":case"$request":n._loadRepresentation(o,e,t).then(function(){i()}).fail(function(e){s(e)});break;case"$dashboard":n._loadDashboard(o);break;case"$application":n._loadApplication(o);break;case"$external":n._loadExternal(o);break;case"$gadgetMissing":n._displayError("Referenced gadget does not exist: "+o.data("$uuid"));break;default:n._displayError("Unsupported gadget type: "+o.data("$type"))}else n._displayError("Invalid gadget"+(o?" ["+o.getInvalidReason()+"]":""),o?o.getJSON():"Null gadget");i()}catch(u){s(u)}finally{return r.promise()}},_loadDashboard:function(e){this._addPicker({"data-nav":i.getDashboardName(e.data("dashboardName")),"data-gadget-id":e.data("$uuid"),title:e.data("$title")})},_loadApplication:function(e){this._addPicker({"data-nav":e.data("applicationName")+".$application","data-application-name":e.data("applicationName"),title:e.data("$title")})},_loadExternal:function(e){var t=this,n=e.data("externalUrl");t._addPicker({href:n,title:e.data("$title")});if(t.displayStyle!=="$link"){var r=v("iframe",{url:n});$(r).appendTo(t.$$elmt)}},_addPicker:function(e){e.href||(e.href="#"),$(v("linkPage",e)).appendTo(this.$$elmt)},waitStart:function(){o.waitPluginEnable(this._$$wait),this._$$waitBckg.show()},waitStop:function(){o.waitPluginDisable(this._$$wait),this._$$waitBckg.hide()},refreshBtnsBar:function(){var e=this,t=!1;if(e._linkInside()){e.$$icnBack||(e.$$footer.prepend(v("navbtns")),e.$$icnBack=e.$$footer.children("[data-action=vignetteBack]"),e.$$icnHome=e.$$footer.children("[data-action=vignetteHome]"));var n=e._stateStack.length;e.$$icnBack.toggle(n>1),e.$$icnHome.toggle(n>2),t=e._stateStack.length>1}e.enableRefresh&&(e.$$refresh||(e.$$footer.prepend(v("refreshbtn")),e.$$refresh=e.$$footer.children("[data-action=vignetteRefresh]")),t=!0),e.$$footer.toggle(t),e.$$elmt.toggleClass("footer",t)},_actVignetteHome:function(){var e=this;if(e._stateStack.length==0)return;var t=e._stateStack[0];e._stateStack=[],e._loadPage(t,null,"home")},_actVignetteBack:function(){var e=this;if(e._stateStack.length<=1)return;e._stateStack.pop(),e._loadPage(e._stateStack[e._stateStack.length-1],null,"back")},_actVignetteError:function(){var e=this;l.error("Vignette load error",e._error)},_actVignetteRefresh:function(){this.refreshPage({})}});t.Klass=m}),define("syracuse-tablet/html/js/controls/page/ctrlPageHeader",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/sdata/sdataUtils","syracuse-tablet/html/js/controls/structElmt","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/ui/fontUtils","syracuse-tablet/html/js/helpers/logger"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/sdata/sdataUtils"),s=e("syracuse-tablet/html/js/controls/structElmt").Klass,o=e("syracuse-tablet/html/js/helpers/globals"),u=e("syracuse-tablet/html/js/ui/fontUtils"),a=e("syracuse-tablet/html/js/helpers/logger").getLogger("pageHeader"),f={main:'		<div id="{{ctrlId}} class="s-m-control"> 			<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">				<div class="container-fluid">					<div class="navbar-header">						<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#header-collapse-{{ctrlId}}">					        <span class="icon-bar"></span>					        <span class="icon-bar"></span>					        <span class="icon-bar"></span>						</button>						{{#if showHome}} 							<ul class="nav navbar-nav">								<li>									<a href="#" data-action="historyBack">										<span class="'+u.pageIcon("back")+'" />									</a>								</li>								<li>									<a href="#" data-action="gotoWelcomeApplication">										<span class="'+u.pageIcon("home")+'" />									</a>								</li>							</ul>						{{/if}} 						<span class="navbar-brand">{{title}}</span>					</div>					<div class="collapse navbar-collapse" id="header-collapse-{{ctrlId}}">						<ul class="nav navbar-nav">							<li></li>						</ul>						<ul class="nav navbar-nav navbar-right">							{{#if showAuthoring}} 								<li> 									<a href="#" data-action="designPage">										<span class="'+u.pageIcon("designPage")+'" />									</a>								</li> 							{{/if}} 							{{#if showLinks}} 								<li>									<a href="#" data-action="clearCache">										<span class="'+u.pageIcon("clearCache")+'" />									</a>								</li>								<li>									<a href="#" data-action="switchContext"> 										<span class="'+u.pageIcon("switchContext")+'" /><span class="s-m-nav-text">{{user}}</span>									</a>								</li>							{{/if}} 						</ul>						<form style="display:none" class="navbar-form navbar-right" role="search">							<div class="form-group input-group-sm"">								<input type="text" class="form-control" placeholder="Search">							</div>							<button type="submit" class="btn btn-success">								<span class="'+u.pageIcon("search")+'"></span>							</button>						</form>					</div>				</div>			</nav> 		</div>'},l=function(e,t){var n=e+"compiled",r=f[n];return r||(r=f[n]=Handlebars.compile(f[e])),r(t)},c=r.defineClass(function(e,t){var n=this;s.call(n,e,t)},s,{destroy:function(){var e=this;s.prototype.destroy.call(e)},buildHtml:function(e,t,n){var s=this;n=n.header||{};var u={title:n.title||"Sage ERP X3 - Mobile",user:o.getUserName(),ctrlId:s.id,showAuthoring:!n.isChild&&n.showAuthoring,showLinks:!n.isChild,showHome:!n.isChild&&!o.getApplication().isWelcomeApplication()};s.setRootElement(l("main",u),e);var f=s.controller.prototype.data("$links");if(f&&Object.keys(f).length>0){var c=[];$.each(f,function(e,n){try{var o=i.getLinkInfo(n.$url,t);c.push({"data-nav":o.page,"data-sdata-url":o.sDataUrl,title:r.parseExpression(n.$title,null,s.controller.prototype)||s.getLinkTitle(e)})}catch(u){n=n||{},a&&a("invalid link"+(n.$title||"no title")+"\n	"+(n.$url||"no url"))}})}},getLinkTitle:function(e){switch(e){case"$edit":return"Edit";case"$query":return"List";case"$save":return"Save";case"$details":return"Detail";default:throw new Error("Facet "+e+" not implemented yet")}}});t.Klass=c}),define("syracuse-tablet/html/js/controls/page/actionManager",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/sdata/sdataUtils","syracuse-tablet/html/js/ui/modal","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/sdata/sdataDispatcher","syracuse-tablet/html/js/sdata/sdataUtils","syracuse-tablet/html/js/ui/fontUtils","syracuse-tablet/html/js/helpers/notifications","syracuse-tablet/html/js/helpers/jsutils"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/sdata/sdataUtils"),s=e("syracuse-tablet/html/js/ui/modal"),o=e("syracuse-tablet/html/js/helpers/globals"),u=e("syracuse-tablet/html/js/sdata/sdataDispatcher"),i=e("syracuse-tablet/html/js/sdata/sdataUtils"),a=e("syracuse-tablet/html/js/ui/fontUtils"),f=e("syracuse-tablet/html/js/helpers/notifications"),l=e("syracuse-tablet/html/js/helpers/jsutils"),c=function(e,t,n){t===null&&(t="");if(l.isError(t))t=t.message;else if(typeof t!="string"){var r=i.scanDiagnoses(t);if(r.length>0){var o=[];r.forEach(function(e){o.push(e.$message)}),t=o.join("\n")}else t=JSON.stringify(t,null,2)}s.info(e,t,n)},h=r.defineClass(function(e){var t=this;t.options=e||{},t.options.$links=t.options.$links||[],t.options.$links.forEach(function(e,t){e.css=[],e.$isHidden===!0&&e.css.push("hidden"),e.$isDisabled===!0&&e.css.push("disabled"),e.css=e.css.join(" "),e.icon||(e.icon=a.getIconByIdx(20+t)),e.$uuid||(e.$uuid=r.UUID())})},null,{destroy:function(){var e=this;e.options=null},getLinks:function(){return this.options.$links},triggerLink:function(e,t){var n=$.Deferred();try{var r=this,i=null;if(r.getLinks().some(function(t){if(t.$uuid===e)return i=t,!0}))if(i.$confirm)s.simpleConfirm(i.$confirm,function(e){e&&r._doLinkAction(i,t).then(function(e){n.resolve(e)}).fail(function(e){n.reject(e)})});else if(i.sdataurl&&(i.$isAction===!0||i.sdataurl.indexOf("$services")>0))r._doLinkAction(i,t).then(function(e){n.resolve(e)}).fail(function(e){n.reject(e)});else if(i.page){var u={"sdata-url":i.sdataurl,"sdata-method":i.$method};r.options.noRedirection===!0?n.resolve({gotoPage:{name:i.page,options:u}}):o.getApplication().changePage(i.page,u)}else c("Unexpected link type",i,function(){n.resolve()})}catch(a){n.reject(a)}finally{return n.promise()}},_doLinkAction:function(e,t){var n=this,r=$.Deferred();try{var i=t?t.controller.dao.getActionPayload(e):null;u.dispatch({$url:e.sdataurl,$method:e.$method||"GET"},i).then(function(t){n._notify(r,!0,e,t,n.options)}).fail(function(t){!l.isError(t)&&$.isPlainObject(t)?n._notify(r,!1,e,t,n.options):c("Action '"+e.title+"' failed",t,function(){r.reject(t)})})}catch(s){c("Action '"+e.title+"' javascript exception",s,function(){r.reject(s)})}finally{return r.promise()}},_notify:function(e,t,n,r){f.publish("sm.action.link",t,n,r),e.resolve(r)}});t.Klass=h}),define("syracuse-tablet/html/js/controls/page/ctrlPageFooter",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/sdata/sdataUtils","syracuse-tablet/html/js/controls/structElmt","syracuse-tablet/html/js/ui/modal","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/sdata/sdataDispatcher","syracuse-tablet/html/js/sdata/sdataUtils","syracuse-tablet/html/js/controls/page/actionManager","syracuse-tablet/html/js/ui/fontUtils","syracuse-tablet/html/js/helpers/jsutils"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/sdata/sdataUtils"),s=e("syracuse-tablet/html/js/controls/structElmt").Klass,o=e("syracuse-tablet/html/js/ui/modal"),u=e("syracuse-tablet/html/js/helpers/globals"),a=e("syracuse-tablet/html/js/sdata/sdataDispatcher"),i=e("syracuse-tablet/html/js/sdata/sdataUtils"),f=e("syracuse-tablet/html/js/controls/page/actionManager").Klass,l=e("syracuse-tablet/html/js/ui/fontUtils"),c=e("syracuse-tablet/html/js/helpers/jsutils"),h={leftpanel:'		<li style="display:none">			<a href="#" data-action="sidePanel" data-params="toggle,left">				<span class="'+l.pageIcon("sidePanelL")+'"/>			</a>		</li>',rightpanel:'		<li style="display:none">			<a href="#" data-action="sidePanel" data-params="toggle,right">				<span class="'+l.pageIcon("sidePanelR")+'"/>			</a>		</li>',main:'		<div id="{{ctrlId}} class="s-m-control"> 			<nav class="navbar navbar-inverse navbar-fixed-bottom" role="navigation">				<div class="container-fluid">					<ul class="nav navbar-nav navbar-left">					</ul>					<ul class="nav navbar-nav navbar-right">						{{#each links}}							<li>								<a href="#" class="{{css}}" data-action="footerLink" data-params="{{$uuid}}" data-control-id="{{../ctrlId}}">									<i class="{{icon}}"/>									<span class="s-m-nav-text">{{title}}</span>								</a>							</li>						{{/each}}					</ul>				</div>			</nav> 		</div>'},p=function(e,t){var n=e+"compiled",r=h[n];return r||(r=h[n]=Handlebars.compile(h[e])),r||alert("footer template "+e+" not found"),r(t)},d=r.defineClass(function(e,t,n){var r=this;s.call(r,e,t,n)},s,{destroy:function(){var e=this;e.actionManager&&e.actionManager.destroy(),e.actionManager=null,s.prototype.destroy.call(e)},buildHtml:function(e,t,n){var r=this;r.actionManager=new f({$links:r.controller.prototype.getLinks(t,"visible"),noMessage:!1}),r.setRootElement(p("main",{ctrlId:r.id,links:r.actionManager.getLinks()}),e)},enablePanel:function(e){var t=this;if(!t.$$elmt||!e)return;e=e.indexOf("left")>=0?"left":"right";var n=e+"panel";$(p(n)).appendTo(t.$$elmt.find(".navbar-"+e)).show()},_actFooterLink:function(e){var t=this;t.actionManager.triggerLink(e,t).then(function(){}).fail(function(e){c.isError(e)&&o.error("Footer action error",e)})}});t.Klass=d}),define("syracuse-tablet/html/js/controls/page/ctrlSidePanel",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/structElmt","syracuse-tablet/html/js/application/eventListener","syracuse-tablet/html/js/helpers/notifications"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/structElmt").Klass,s=e("syracuse-tablet/html/js/application/eventListener"),o=e("syracuse-tablet/html/js/helpers/notifications"),u={main:'			<div id="{{ctrlId}}" class="s-m-control" style="display:none"> 				<nav class="navbar s-m-side-panel {{side}} navbar-inverse ctrl-evt-click" role="navigation">					<div class="container-fluid">						<div class="navbar-header">							<span class="navbar-brand" href="#"><span>{{title}}</span></a>						</div>					</div>					<ul class="nav navbar-nav">						{{{actionsHtml}}}					</ul>					<div class="s-m-side-panel-options">						<a href="#" data-action="resize" data-control-id="{{ctrlId}}"><i class="fa fa-2x fa-bars"></i></a>					</div>				</nav>			</div>'},a=r.defineClass(function(e,t,n,r){var s=this;if(["left","right"].indexOf(n)<0)throw new Error("side panel - Unexpected side");s.side=n,i.call(s,e,t,r)},i,{buildHtml:function(e,t){var n=this;t.ctrlId=n.id,t.side=n.side;var r=Handlebars.compile(u.main);n.setRootElement(r(t),e),n.$$panel=n.$$elmt.find(".s-m-side-panel")},_actResize:function(){var e=this;e.$$panel.toggleClass("closed"),s.triggerAction(e.$$elmt,"sidePanel","resize,"+e.side)},publishReady:function(){o.publish("sm.side.panel.ready",this.$type)},toggle:function(e,t){var n=this,r=n.$$elmt;if(!r||!n.$$panel)return;var i=n.$$panel.width();r.toggle(e==="close"?!1:e==="resize"?!0:e==="toggle"?undefined:undefined),t&&t(r.is(":visible")===!0?i:0)},onClick:function(e){var t=this;s.triggerAction(t.$$elmt,"sidePanel","close,"+t.side)}});t.Klass=a}),define("syracuse-tablet/html/js/controls/page/regularActionPanel",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/page/ctrlSidePanel","syracuse-tablet/html/js/controls/page/actionManager"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/page/ctrlSidePanel").Klass,s=e("syracuse-tablet/html/js/controls/page/actionManager").Klass,o={actionLink:'		{{#each links}}			<li>				<a href="#" class="{{css}}" data-action="actionLink" data-params="{{$uuid}}" data-control-id="{{../ctrlId}}">					<i style="font-size: large" class="{{icon}}"/>					<span>{{title}}</span>				</a>			</li>		{{/each}}'},u=function(e,t){var n=e+"compiled",r=o[n];return r||(r=o[n]=Handlebars.compile(o[e])),r(t)},a=r.defineClass(function(e,t,n){var r=this;i.call(r,e,t,"right",n)},i,{buildHtml:function(e,t,n){var r=this;r.actionManager=new s({$links:r.controller.prototype.getLinks(t,"hidden"),noMessage:!1});var o={title:"Actions",actionsHtml:u("actionLink",{ctrlId:r.id,links:r.actionManager.getLinks()})};i.prototype.buildHtml.call(r,e,o)},afterRender:function(){var e=this;e.actionManager.getLinks().length>0&&e.publishReady()},_actActionLink:function(e){var t=this;t.actionManager.triggerLink(e).then(function(){}).fail(function(){})}});t.Klass=a}),define("syracuse-tablet/html/js/controls/page/dashboardActionPanel",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/page/ctrlSidePanel"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/page/ctrlSidePanel").Klass,s='    <li class="active"><a href="#"><i class="fa fa-1x fa-home"></i> <span>RIGHT DASHBOARD</span></a></li>',o=r.defineClass(function(e,t){var n=this;i.call(n,e,t,"right",{})},i,{buildHtml:function(e,t,n){var r=this,o={title:"Actions",actionsHtml:s};i.prototype.buildHtml.call(r,e,o)}});t.Klass=o}),define("syracuse-tablet/html/js/controls/page/navigationPanel",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/page/ctrlSidePanel","syracuse-tablet/html/js/application/settings","syracuse-tablet/html/js/helpers/notifications","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/ui/fontUtils"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/page/ctrlSidePanel").Klass,s=e("syracuse-tablet/html/js/application/settings"),o=e("syracuse-tablet/html/js/helpers/notifications"),u=e("syracuse-tablet/html/js/ui/uiUtils"),a=e("syracuse-tablet/html/js/helpers/globals"),f=e("syracuse-tablet/html/js/ui/fontUtils"),l={navigLink:'<li class=""><a href="#" data-action="switchApp" data-params="{{appName}}" data-control-id="{{ctrlId}}"><i class="{{icon}}"></i>&nbsp;<span>{{title}}</span></a></li>'},c=function(e,t){var n=e+"compiled",r=l[n];return r||(r=l[n]=Handlebars.compile(l[e])),r(t)},h=function(e){a.getModal().error("Error loading applications",e)},p=r.defineClass(function(e,t,n){var r=this;r._$$wait=null,i.call(r,e,t,"left",n),r.appCount=0},i,{destroy:function(){var e=this;i.prototype.destroy.call(e),u.waitPluginDestroy(e._$$wait),e._$$wait=null},buildHtml:function(e,t,n){var r=this,s=a.getApplication(),o;try{var u=[];a.forEachApplicationJson(function(e,t){s.uuid!=t.$uuid?(u.push(c("navigLink",{title:t.title||t.description||t.applicationName,icon:t.iconName&&f.getIconByName(t.iconName)||f.getIconByName("briefcase"),appName:t.applicationName,ctrlId:r.id})),r.appCount++):o=t.title||t.applicationName});var l={title:o||"Navigation",actionsHtml:u.join("")};i.prototype.buildHtml.call(r,e,l)}catch(p){h(p)}},afterRender:function(){this.publishReady()},_actSwitchApp:function(e){var t=this;o.publish("sm.switch.app",e)}});t.Klass=p}),define("syracuse-tablet/html/js/controls/ctrlTypeUnknown",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/ctrlBase"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/ctrlBase").Klass,s=r.defineClass(function(t,n,r){i.call(this,t,n,r)},i,{buildHtml:function(e,t,n){i.prototype.buildHtml.call(this,e,t,n,["s-m-unknown"]),this.$$elmt.html('<div class="s-m-value">Field '+this.$bind+" - Unknown type: "+this.$type+"</div>")}});t.Klass=s}),define("syracuse-tablet/html/js/controls/ctrlUnfound",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/ctrlBase"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/ctrlBase").Klass,s=r.defineClass(function(t,n,r){i.call(this,t,n,r)},i,{buildHtml:function(e,t,n){var r=this;i.prototype.buildHtml.call(r,e,t,n,["s-m-unfound"]),r.$$elmt.html('<div class="s-m-value">Field <b>'+r.$bind+"</b> unfound</div>")}});t.Klass=s}),define("syracuse-tablet/html/js/controls/chart/ctrlCubeChartTheme",["require","exports","module"],function(e,t,n){var r={colors:["#BF7070","#BFB730","#7ABF30","#7373FF","#BF7730","#BF3080","#30BF9F","#FF7373","#FFF773","#85FF00","#3030BF","#FF9F40","#FF40BC","#1699A6","#FF0000","#FFF100","#00FF00","#0000FF","#FF7F00","#FF00A6","#00FFC6","#A60000","#A69C00","#56A600","#90B2FF","#A65200","#A6006C","#00A681","#FF4040","#FFF440","#A3FF40","#3673FF","#FFB873","#FF76CE","#73FFED"],chart:{borderRadius:"0",spacingTop:10,backgroundColor:"#fff",borderColor:"#ccc",borderWidth:1,className:"dark-container",resetZoomButton:{theme:{fill:"white",stroke:"#dddddd",r:0,states:{hover:{fill:"#00a1de",style:{color:"white"}}}},position:{x:-50,y:5},relativeTo:"chart"}},title:{style:{color:"#464646",font:'bold 16px "Trebuchet MS", Verdana, sans-serif'}},subtitle:{style:{color:"#464646",font:'bold 12px "Trebuchet MS", Verdana, sans-serif'}},xAxis:{gridLineColor:"rgba(0, 0, 0, 0.05)",gridLineDashStyle:"longdash",gridLineWidth:1,labels:{style:{color:"#A0A0A0"}},lineColor:"rgba(0, 0, 0, 0.2)",tickColor:"rgba(0, 0, 0, 0.2)",title:{style:{color:"#464646",fontWeight:"normal",fontSize:"20px",fontFamily:"arial"}}},yAxis:{minorGridLineColor:"rgba(0, 0, 0, 0.05)",minorTickInterval:"auto",gridLineWidth:2,gridLineColor:"rgba(0, 0, 0, 0.07)",labels:{align:"left",x:0,y:12,style:{color:"#A0A0A0"}},lineColor:"rgba(0, 0, 0, 0.07)",title:{style:{color:"#CCC",fontSize:"16px",fontFamily:"Georgia, Verdana, sans-serif",fontStyle:"italic"}}},tooltip:{backgroundColor:"#464646",borderRadius:"0",style:{color:"#fff",fontSize:"12px",padding:"5px",whiteSpace:"nowrap"}},toolbar:{itemStyle:{color:"silver"}},plotOptions:{series:{marker:{lineWidth:2,lineColor:null,radius:4,states:{hover:{radius:8,lineColor:null}}}},area:{fillOpacity:.15},areaspline:{fillOpacity:.15},line:{dataLabels:{color:"#CCC"},marker:{lineColor:"#FFFFFF"}},spline:{marker:{lineColor:"#FFFFFF"}},scatter:{marker:{lineColor:"#FFFFFF"}},candlestick:{lineColor:"#FFFFFF",animation:{duration:2e3,easing:"easeOutBounce"}},pie:{allowPointSelect:!0,cursor:"pointer",borderColor:"rgba(250,250,250,0.3)",borderWidth:.5,dataLabels:{enabled:!0,connectorWidth:2,color:"#464646",style:{fontWeight:"bold"}}}},legend:{borderRadius:0,borderWidth:1,backgroundColor:"white",itemMarginTop:8,itemStyle:{color:"#464646",fontFamily:'"arial"',fontWeight:"bold",fontSize:"8pt "},itemHoverStyle:{color:"#00a1de"},itemHiddenStyle:{color:"#555"},title:{style:{color:"#464646",fontWeight:"bold",fontSize:"8pt",fontFamily:"arial"}}},credits:{enabled:!1,style:{color:"#666"}},labels:{style:{color:"#CCC"}},exporting:{buttons:{drillUp:{symbolStroke:"#fff",symbolFill:"rgba(250,250,250,0.5)",hoverSymbolStroke:"#fff",hoverSymbolFill:"rgba(250,250,250,0.5)"},exportButton:{symbolStroke:"#fff",symbolFill:"rgba(250,250,250,0.5)",hoverSymbolStroke:"#fff",hoverSymbolFill:"rgba(250,250,250,0.5)"},printButton:{symbolStroke:"#fff",symbolFill:"rgba(250,250,250,0.5)",hoverSymbolStroke:"#fff",hoverSymbolFill:"rgba(250,250,250,0.5)"}}},rangeSelector:{buttonTheme:{fill:{linearGradient:[0,0,0,20],stops:[[.4,"#888"],[.6,"#555"]]},stroke:"#000000",style:{color:"#CCC",fontWeight:"bold"},states:{hover:{fill:{linearGradient:[0,0,0,20],stops:[[.4,"#BBB"],[.6,"#888"]]},stroke:"#000000",style:{color:"white"}},select:{fill:{linearGradient:[0,0,0,20],stops:[[.1,"#000"],[.3,"#333"]]},stroke:"#000000",style:{color:"yellow"}}}},inputStyle:{backgroundColor:"#333",color:"silver"},labelStyle:{color:"silver"}},navigator:{handles:{backgroundColor:"#666",borderColor:"#AAA"},outlineColor:"#CCC",maskFill:"rgba(16, 16, 16, 0.5)",series:{color:"#7798BF",lineColor:"#A6C7ED"}},scrollbar:{barBackgroundColor:{linearGradient:[0,0,0,20],stops:[[.4,"#888"],[.6,"#555"]]},barBorderColor:"#CCC",buttonArrowColor:"#CCC",buttonBackgroundColor:{linearGradient:[0,0,0,20],stops:[[.4,"#888"],[.6,"#555"]]},buttonBorderColor:"#CCC",rifleColor:"#FFF",trackBackgroundColor:{linearGradient:[0,0,0,10],stops:[[0,"#000"],[1,"#333"]]},trackBorderColor:"#666"},legendBackgroundColor:"rgba(0, 0, 0, 0.5)",legendBackgroundColorSolid:"rgb(35, 35, 70)",dataLabelsColor:"#444",textColor:"#C0C0C0",maskColor:"rgba(255,255,255,0.3)"},i=r.colors;r.orgChart={node:{textColor:"black ",borderColor:i[1],borderWidth:2,backgroundColor:"white ",fontWeight:"normal ",hover:{backgroundColor:i[3],textColor:"white "}},junction:{lineColor:i[3],lineWidth:2},dropMarker:{borderColor:i[1],borderWidth:0,backgroundColor:i[4],backgroundOpacity:1},tooltip:{backgroundColor:i[1],backgroundOpacity:1,borderWidth:2,borderRadius:0,borderColor:i[2],style:{color:"#fff",fontSize:"12px",padding:"5px",whiteSpace:"nowrap"}}},r.version=Highcharts.version.split(".").map(function(e){return parseInt(e,10)}),r.version[0]!==2&&r.version[0]===3&&(r.navigation={buttonOptions:{symbolStroke:"#DDDDDD",hoverSymbolStroke:"#FFFFFF",theme:{fill:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[.4,"#606060"],[.6,"#333333"]]},stroke:"#000000"}}},delete r.exporting),t.theme=r}),define("syracuse-tablet/html/js/controls/chart/ctrlCubeChartBase",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/ctrlBase","syracuse-tablet/html/js/helpers/formatApi","syracuse-tablet/html/js/controls/chart/ctrlCubeChartTheme","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){function h(e,t){return!!(e&&e.$hierarchies&&t.$axes&&t.$axes.length>0&&t.$axes[0].$hierarchies&&t.$axes[0].$hierarchies.length>0)}var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/ctrlBase").Klass,s=e("syracuse-tablet/html/js/helpers/formatApi"),o=e("syracuse-tablet/html/js/controls/chart/ctrlCubeChartTheme").theme,u=e("syracuse-tablet/html/js/helpers/locale"),a=Highcharts.merge,f=function(e){return $.extend({},e)};Highcharts.theme=o,Highcharts.setOptions(Highcharts.theme);var l=Highcharts.theme.colors,c=function(e){var t={xy:"line",point:"scatter",stick:"column",radar:"spiderweb"};return e&&(t[e]||e)},p=r.defineClass(function(e,t,n,r){var s=this;i.call(s,e,t,n,r),s.itemProto=n.getPrototype("$item")},i,{_mergeMetaData:function(e){var t={};return e&&e.$cube&&(t.$cube=e.$cube),e&&e.$axes&&(t.$axes=e.$axes),e&&e.$style&&(t.$style=e.$style),e&&e.$color&&(t.$color=e.$color),e&&e.$isLegendHidden&&(t.$isLegendHidden=e.$isLegendHidden),e&&e.$isXLabelHidden&&(t.$isXLabelHidden=e.$isXLabelHidden),e&&e.$isYLabelHidden&&(t.$isYLabelHidden=e.$isYLabelHidden),e&&e.$isXLabelsHidden&&(t.$isXLabelsHidden=e.$isXLabelsHidden),e&&e.$isYLabelsHidden&&(t.$isYLabelsHidden=e.$isYLabelsHidden),this.currentMetaData=a(this.currentMetaData||{},t),e&&e.$item&&e.$item.$properties&&this.currentMetaData&&this.currentMetaData.$cube&&this.currentMetaData.$cube.$measures&&$.smForEachKey(this.currentMetaData.$cube.$measures,function(t,n){e.$item.$properties[t]&&e.$item.$properties[t].$title?n.$title=e.$item.$properties[t].$title:n.$title=t}),this.currentMetaData},_settingsFromValue:function(){var e=this,t=this.currentMetaData.$cube,n=0,r;return t.$style==="spiderweb"?(r={},r.categories=Object.keys(e._meta.series).map(function(t){return e._meta.series[t].options.name}),r.series={},e.dataset&&e.dataset.reduce(function(t,r){var i={name:e._getMeasureLabel(r,e._meta.xAxis[0].code),color:l[n++],data:[],pointPlacement:"on"};return i.name&&(i.id="#s-"+i.name,$.smForEachKey(e._meta.series,function(t,n){n.isHidden||e._pushData(i,t,t,r)}),t.series[i.name]=i),t},r)):(r={categories:[],series:{}},e.dataset&&e.dataset.reduce(function(t,n){var r=e._getMeasureLabel(n,e._meta.xAxis[0].code);return r!=null&&(t.categories.push(r),$.smForEachKey(e._meta.series,function(i,s){var o=t.series[i];o||(o=f(s.options),o.data=[],t.series[i]=o),e._pushData(o,r,i,n)})),t},r)),r},_pushData:function(e,t,n,r){var i=parseFloat(r.$rawV&&r.$rawV[n]&&r.$rawV[n].v||r[n])||0;this.useLogarithmicAxis&&(this.maxValue=Math.max(this.maxValue||-Infinity,i),this.minValue=Math.min(this.maxValue||Infinity,i)),e.data.push([t,i])},_createChart:function(e){var t=this,n=a(t._getPref(),t._getOptions(t.$prototype));e?(n.xAxis[0].categories=e.categories,$.smForEachKey(e.series,function(e,r){var i=f(r),s=t._meta.series[e];n.chart.polar&&i&&i.type&&delete i.type,(!s||!s.isHidden)&&n.series.push(i)})):$.smForEachKey(t._meta.series,function(e,t){var r=f(t.options);n.chart.polar&&r&&r.type&&delete r.type,r.data=[0],t.isHidden||n.series.push(r)}),(!t.$prototype.$cube||t.$prototype.$cube.$style!="spiderweb")&&n.series.reverse(),this.useLogarithmicAxis&&(this.maxValue||0)/(this.minValue||1)>10&&(n.yAxis.type="logarithmic"),t._chart=new Highcharts.Chart(n);var r=this._chart.legend;t.displayLegend=r&&r.display;var i=t._chart.series,s,o;for(var u=i.length-1;u>=0;u--)s=i[u],o=s&&s.options.id&&t._meta.series[s.options.id.slice(3)],o&&o.measure&&(o.measure.$color=o.options.color=s.color)},_getOptions:function(e){var t=this,n=this.currentMetaData.$cube,r=Highcharts.getOptions(),i=r.exporting.buttons,s=this._getFieldEvalTitle(),o=e.$axes&&e.$axes[0]||{},u=o.$hierarchies&&s[o.$hierarchies[0][0]]||o.$title,a,f={chart:{renderTo:this.$$chartSlot.get(0),zoomType:"x",ignoreHiddenSeries:!1,width:50,height:50},lang:{showHideLegend:t._localize.highCharts_showHideLegend},legend:{layout:"vertical",align:"right",verticalAlign:"top",y:60,x:-10,title:{text:":::: "+t._localize.highCharts_seriesTitle},floating:!0,draggable:!0,zIndex:20,enabled:this.currentMetaData.$isLegendHidden!==!0},title:{text:n&&t._localizedText(n.$title)||"",margin:5},xAxis:[{categories:[],title:{text:t._localizedText(u),enabled:this.currentMetaData.$isXLabelHidden!==!0},labels:{rotation:-45,align:"right",enabled:this.currentMetaData.$isXLabelsHidden!==!0}}],yAxis:[{title:{text:"",enabled:this.currentMetaData.$isYLabelHidden!==!0},labels:{align:"right",enabled:this.currentMetaData.$isYLabelsHidden!==!0}}],plotOptions:{series:{cursor:"pointer",events:{},point:{events:{click:function(e){}}},stacking:t._meta.stacking,animation:!1}},tooltip:{formatter:function(){var e=t._meta.series,n=this.key&&e[this.key]||e[this.series.options.id.slice(3)],r=n&&n.measure,i=this.series.processedYData,s=this.y;r&&t._ensureFormatter(r);var o=this.series.name||r&&r.$title,u=r&&r.formatter;o=(o?o+"<br>":"")+(this.x||this.key)+": <b> "+(u?u.format(s):s)+"</b>";if(r&&r.$isNormalized&&i.length>0){var a=i.reduce(function(e,t){return e+t});o+=" ("+(u?u.formatValue(s/a*100):s/a*100)+"%)"}return o}},series:[]};if(Highcharts.theme.version[0]===3){f.exporting={type:"image/png",url:"http://export.highcharts.com/",buttons:{contextButton:{symbol:"menu",enabled:!1,_titleKey:"contextButtonTitle",menuItems:[{textKey:"showHideLegend",onclick:function(){setTimeout(function(){t._toggleLegendDisplay()},100)}}]},legendButton:{enabled:!1,textKey:"showHideLegend",symbol:"menu",onclick:function(){setTimeout(function(){t._toggleLegendDisplay()},100)}}}};var l=f.exporting.buttons.contextButton.menuItems||[];this._printSupported()&&l.push({text:"Print chart",onclick:function(){this.print(t)}}),this._exportSupported()&&(l.push({separator:!0}),l.push({textKey:"downloadPNG",onclick:function(){this.exportChart()}}),l.push({textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}}),l.push({textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}}),l.push({textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}))}return f.xAxis[0].title.text!==f.title.text&&(f.xAxis[0].title.text=f.xAxis[0].title.text?f.xAxis[0].title.text:f.title.text),f.chart.type=t._meta.defaultStyle,f},_initializeMeta:function(){this._mergeMetaData(this.$prototype),this._mergeMetaData(this.article);var e=this.$prototype,t=this.currentMetaData;this._meta={xAxis:[{}],series:{},displaysOneMeasure:t&&t.$displaysOneMeasure,hasMeasureSelector:t&&t.$hasMeasureSelector,hasStyleSelector:t&&t.$hasStyleSelector,defaultStyle:c(t.$style)||"column",drill:{minLevel:1,maxLevel:0,currLevel:1,currAxisHier:0,levelsProperties:[],members:[],stack:[{$axes:e.$axes,$item:e.$item,$slicer:e.$slicer}]}},this.__processMeta(e,!0)},_exportSupported:function(){return!0},_printSupported:function(){return!0},__processMeta:function(e,t){this._processMeasures(e,t),this._processAxes(e,t)},_processMeasures:function(e,t){this._mergeMetaData(e);var n=this,r=this.$prototype.$properties,i=this._getRestraintMeasures(),s=0;i&&$.smForEachKey(i,function(i,o){var u=o.$property||i,f=a(r[u],o);e&&e.$item&&e.$item.$properties&&(f=a(f,e.$item.$properties[u]));if(!f.$title||f.$title==="")f.$title=i;var h=n._meta.series[u];t&&(n._ensureFormatter(f),h=n._meta.series[u]={options:{id:"#s-"+u,name:n._localizedText(f.$title)||String.fromCharCode(160)},measure:f}),h&&(h.isHidden=f.$title==="",h.options.type=c(f.$style),h.options.color=f.$color||l[s++],h.options.name=n._localizedText(f.$title)||String.fromCharCode(160),h.options.visible=f.$title!==""&&(!n._meta.displaysOneMeasure||!!f.$isDefault));if(f.$isStacked||f.$stackingGroup)h.options.stack=f.$stackingGroup||0,n._meta.stacking=f.$isNormalized?"percent":n._meta.stacking||"normal"})},_getRestraintMeasures:function(){var e=this.currentMetaData,t=e.$cube,n=t&&t.$measures,r=n;return n&&e.$axes&&e.$axes.length>1&&e.$axes[1].$members&&e.$axes[1].$members[0][0].length>0&&(r={},$.smForEach(e.$axes[1].$members[0][0],function(e){r[e]=n[e]})),r},_processAxes:function(e,t){var n=this.$prototype.$cube;if(!h(n,e))return!1;var r=this,i=0,s=e.$axes&&e.$axes[0],o=null;if(s){$.smForEachKey(s.$hierarchies,function(e,t){!o&&t.length>1&&t[1]==1&&(o=n.$hierarchies[t[0]].$properties,o&&(r._meta.xAxis[0].code=o[t.length>2?t[2]:0],i=e))}),!o&&s.$hierarchies[0].length>0&&(o=n.$hierarchies[s.$hierarchies[0][0]].$properties,o&&o.length>0&&(r._meta.xAxis[0].code=o[0]));var u;$.smForEach(s.$hierarchies,function(e){u=n.$hierarchies[e[0]].$properties,$.smForEach(u,function(e){this.levelsProperties[this.maxLevel++]=e},r._meta.drill)}),s.$members&&$.smForEach(s.$members,function(e){$.smForEach(e,function(e){e.length>0&&(this.members[this.currLevel++ -1]=e[0])},this)},r._meta.drill)}r._meta.drill.code=e.$codeStat||"UNKNOWN",r._meta.drill.axis0FieldCode=r._meta.xAxis[0].code||"",r._meta.drill.maxLevel=Math.max(r._meta.drill.maxLevel,r._meta.drill.minLevel)},_getPref:function(){return Highcharts.getOptions()},_getMeasureLabel:function(e,t){var n=this._localizedText(e.$title);if(n)return n;var r=this,i=r.$prototype.$properties[t];if(!i)return null;switch(i.$type){case"application/x-choice":n=e[t],i.$value.$enum.some(function(e,t,r){return e.$value===n?(n=this._localizedText(e.$title),!0):!1});break;case"application/x-date":i.formatter=s.getFormatter(i.$type,u.getDateFormat(i.$type)),n=i.formatter.formatValue(e[t]);break;case"application/x-integer":case"application/x-decimal":i.formatter=s.getFormatter(i.$type,u.getNumberFormat(i.$type)),n=i.formatter.formatValue(e[t]);break;default:n=""+e[t]}return n},_toggleLegendDisplay:function(){var e=this._chart.legend;e&&this._displayLegend(!e.display)},_displayLegend:function(e){var t=this._chart.legend;if(!t)return;e?(t.group.show(),t.box.show()):(t.group.hide(),t.box.hide()),this.displayLegend=t.display=e},destroy:function(){var e=this;i.prototype.destroy.call(e),this._chart&&this._chart.destroy(),this._chart=this._localize=this._meta=this.currentMetaData=null}});t.Klass=p}),define("syracuse-tablet/html/js/controls/chart/ctrlCubeChart",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/chart/ctrlCubeChartBase","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/helpers/formatApi","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/chart/ctrlCubeChartBase").Klass,s=e("syracuse-tablet/html/js/ui/uiUtils"),o=e("syracuse-tablet/html/js/helpers/formatApi"),u=e("syracuse-tablet/html/js/helpers/locale"),a=r.defineClass(function(t,n,r,s){var o=this;i.call(o,t,n,r,s),o.itemProto=r.getPrototype("$item")},i,{initReuseProperties:function(){i.prototype.initReuseProperties.call(this),this.$$chartSlot=null,this.dataset=null},buildHtml:function(e,t,n){var r=this;i.prototype.buildHtml.call(r,e,t,n,["s-m-chart"]),r.$$chartSlot=$(s.createDomElement("div",null,null,null,r.$$elmt)),r.$$chartSlot.hide(),r._buildChart()},_buildChart:function(){var e=this;e.$prototype=e.prototype.json,e.$prototype.$properties=e.$prototype.$item.$properties,e._localize={highCharts_showHideLegend:u.text("highCharts_showHideLegend"),highCharts_seriesTitle:u.text("highCharts_seriesTitle")},e._initializeMeta(),e.dataset=e.getDao().getQueryResources();var t=e._settingsFromValue();e._createChart(t)},_ensureFormatter:function(e){e.formatApi={format:function(e,t){return e}}},_localizedText:function(e){return e},_getFieldEvalTitle:function(){return[]},destroy:function(){var e=this;i.prototype.destroy.call(e),e.dataset=null},onResize:function(){this.$$chartSlot.show();var e=this.$$chartSlot.highcharts();e&&e.setSize(this.$$chartSlot.width(),this.$$chartSlot.height(),!1)}});t.Klass=a}),define("syracuse-tablet/html/js/controls/field/ctrlBinary",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/ui/fontUtils","syracuse-tablet/html/js/controls/field/ctrlFieldBase","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/helpers/locale"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/ui/fontUtils"),s=e("syracuse-tablet/html/js/controls/field/ctrlFieldBase").Klass,o=e("syracuse-tablet/html/js/ui/uiUtils"),u=e("syracuse-tablet/html/js/helpers/locale"),a={header:"_onClearClick",section:"_onDocumentClick",footer:"_onUploadClick",a:"_onDocumentClick"},f=r.defineClass(function(t,n,r,i){var o=this;s.call(o,t,n,r,i),o.isImage=o.$type.indexOf("image")==0,o.cssType=o.isImage?"s-m-img":"s-m-binary"},s,{buildFieldValue:function(e,t){var n=this,r=n.getFormattedValue(n.getValue()),u=s.prototype.buildFieldValue.call(n,e,t),a=n.prototype.data("$url",n.getDao())||"";a+="?salt="+(new Date).getTime();var f=r==null||r===""||a.length===0;f&&$(u).addClass("s-m-empty");if(n.$isEditMode&&typeof FileReader!="undefined")n._buildEditBinaryField(u,a,f);else if(f)$(u).addClass(i.binaryIcon(n.cssType,"default"));else{var l=o.createDomElement("a",["img-responsive"],null,{href:"#"},u);n.isImage?l=o.createDomElement("img",["img-responsive"],null,{src:a},l):l=o.createDomElement("span",i.binaryIcon(n.cssType,"default"),null,null,l)}},_buildEditBinaryField:function(e,t,n){var r=this,s=$('				<div class="s-m-img-layout">					<header></header>					<section></section>					<footer></footer>				</div>'),a,f,l;a=o.createDomElement("a",["ctrl-evt-click"],null,{href:"#"},s.find("header")),a=o.createDomElement("span",i.getIconByName("close"),null,null,a),$(a).toggle(!n),l=o.createDomElement("a",["img-responsive","s-m-field-"+(r.isImage?"img":"bin"),"ctrl-evt-click"],null,{href:"#"},s.find("section")),r.isImage?(f=o.createDomElement("a",["ctrl-evt-click"],u.text("image.label."+(n?"addimage":"changeimage")),{href:"#"},s.find("footer")),n?l=o.createDomElement("span",[i.binaryIcon(r.cssType,"default")+" s-m-empty","img-responsive"],null,null,l):l=o.createDomElement("img",["img-responsive"],null,{src:t},l)):(l=o.createDomElement("span",[i.binaryIcon(r.cssType,"default"),n?"s-m-empty":"","s-m-doc"],null,null,l),s.find("footer").css("display","none")),e.appendChild(s[0]);if(r.isImage)var c=o.createDomElement("input",["ctrl-evt-change"],null,{type:"file",accept:"image/*"},e)},onClick:function(e){var t=this,n=e.target.nodeName.toLowerCase()==="span"?e.target.parentNode:e.target,r=n.parentNode;t[a[r.nodeName.toLowerCase()]](e,n)},_onClearClick:function(e,t){var n=this,r=t,s=n.$$elmt.find(".s-m-img-layout > section > a")[0];o.empty(s),s=o.createDomElement("span",[i.binaryIcon(n.cssType,"default"),"s-m-empty"],null,null,s),n.setValue(null),$(r).toggle(),n.isImage&&n.$$elmt.find(".s-m-img-layout > footer > a").text(u.text("image.label.addimage"))},_onDocumentClick:function(e,t){var n=this,r=n.getFormattedValue(n.getValue()),i=n.prototype.data("$url",n.getDao)||"",s=r==null||r===""||i.length===0;n.isImage&&s&&n._onUploadClick(e,t)},_onUploadClick:function(e,t){var n=this,r=n.$$elmt.find(".s-m-value > input");r.trigger("click")},onChange:function(e){var t=this;if(e.target.nodeName.toLowerCase()==="input"){var n=e.target.files,r={};if(n&&n.length){var i=n[0];if(!i.type.match("image.*"))return;r.$contentType=i.type,r.$fileName=i.name,r.$type="image";var s=new FileReader;s.onload=function(e,n){return function(e){var r=e.target.result.indexOf("base64,");r>0?n.$value=e.target.result.substring(r+7):n.$value=e.target.result,delete n.$url,t.setValue(n.$value),t._setImage(e.target.result)}}(i,r),s.readAsDataURL(i)}}},_setImage:function(e){var t=this,n=t.$$elmt.find(".s-m-img-layout > section > a")[0];o.empty(n),n=o.createDomElement("img",["img-responsive"],null,{src:e},n),t.$$elmt.find(".s-m-img-layout > footer > a").text(u.text("image.label.changeimage")),t.$$elmt.find(".s-m-img-layout > header > a").toggle(!0)}});t.Klass=f}),define("syracuse-tablet/html/js/helpers/html-escape/lib/escape",["require","exports","module"],function(e,t,n){function r(e){return e=e||{},e.allowedTags=(e.allowedTags||[]).concat(["h1","h2","h3","h4","h5","h6","blockquote","p","a","ul","ol","nl","li","b","i","strong","em","strike","code","hr","br","div","pre","table","thead","caption","tbody","tr","th","td","pre"]),e.allowedAttributes=(e.allowedAttributes||[]).concat(["class","href","src","name","target"]),e.allowedSchemes=(e.allowedSchemes||[]).concat(["http","https","mailto"]),e}function i(e){return e.reduce(function(e,t){return e[t]=!0,e},{})}function s(e){return e.replace(/>/g,"&gt;")}function o(e){return e.replace(/-->/g,"__>")}function u(e){return e.replace(/\/\*.*?\*\//g,"").replace(/(\\|\b)(j\\?a\\?v\\?a\\?s\\?c\\?r\\?i\\?p\\?t|e\\?x\\?p\\?r\\?e\\?s\\?s\\?i\\?o\\?n|u\\?r\\?l)\b/ig,"disabled-$1$2")}function a(e){return e.replace(/javascript/i,"disabled-javascript")}t.escaper=function(e){function p(e,t,n){return h&&t!==e&&h(n+": "+e+" -> "+t),t}function d(e,t){return e==="style"?p(t,u(t),"sanitized style"):e==="type"?p(t,a(t),"sanitized type attribute"):t}function v(){function i(t,n,i){var u=t.indexOf(n);return u>=0?(c&&(e+=o(t.substring(0,u))+i+"-->"),e+=s(t.substring(u+n.length)),r="text"):c&&(e+=o(t)),e}function u(t,n,i){var u=new RegExp("^/"+n+">","i"),a=u.exec(t);return a?(i?e+="</"+n+">":c&&(e+="</"+n+">-->"),e+=s(t.substring(a[0].length)),r="text"):i?e+=d(n,"<"+t):c&&(e+=o("<"+t)),e}function a(t,n){return n&&n("malformed element: "+t),c&&(e+="<!--<"+o(t)+"-->"),e}function p(e,t){if(l.test(e)){var n=t.indexOf(":");if(n<0||!f[t.substring(0,n)])return!1}return!0}function v(t,r,i,s){if(r){e+="</"+t+">",i=i.trim(),c&&i&&(e+="<!--@"+o(i)+"-->");return}e+="<"+t;var u=0,a=/^\s*(\w+)(?:\s*=\s*(?:(["'])(.*?)\2|()([\w_-]+)))?/,f;while(f=a.exec(i)){i=i.substring(f[0].length);var l=f[1].toLowerCase(),v=f[2]||'"',m=f[3]||f[5];if(!n[l]||!p(l,m)){h&&h("forbidden attribute: "+l);if(!c)continue;l="disabled-"+l}e+=" "+l+(m===undefined?"":"="+v+d(l,m)+v)}s?e+="/>":e+=">",i=i.trim(),h&&i&&h("malformed attribute: "+i),c&&i&&(e+="<!--@"+o(i)+"-->")}var e="",r="text";return function(n){e="";if(r==="comment")return i("<"+n,"-->","");if(r==="cdata")return i("<"+n,"]]>","]]");if(r==="script")return u(n,"script");if(r==="style")return u(n,"style",t.style);if(/^!--/.test(n))return r="comment",c&&(e+="<!-- "),i(n.substring(3),"-->","");if(/^!\[CDATA\[/.test(n))return r="cdata",h&&h("forbidden CDATA"),c&&(e+="<!--"),i(n.substring(1),"]]>","]]");if(/^script\b/i.test(n))return r="script",h&&h("forbidden *** SCRIPT *** element"),c&&(e+="<!--"),u(n,"script");if(/^style\b/i.test(n))return r="style",!t.style&&h&&h("forbidden STYLE element"),c&&!t.style&&(e+="<!--"),u(n,"style",t.style);var o=n.indexOf(">");if(o<0)return a(n,h);var f=/^(\/?)(\w+)/.exec(n);if(!f)return a(n,h);var l=f[2].toLowerCase();if(!t[l])h&&!f[1]&&h("forbidden "+l.toUpperCase()+" element"),c&&a(n.substring(0,o+1)),s(n.substring(0,o+1));else{var p=n[o-1]==="/";v(l,f[1],n.substring(f[1].length+l.length,p?o-1:o),p)}return e+=s(n.substring(o+1)),e}}e=r(e);var t=i(e.allowedTags),n=i(e.allowedAttributes),f=i(e.allowedSchemes),l=/^(href|src|dynsrc|lowsrc|background)$/i,c=e.preserve,h=e.warn;return e.streaming?function(){var e;return function(t){if(t.indexOf("<")>=0)throw new Error("internal error: bad HTML fragment");return e?e(t):(e=v(),s(t))}}():function(e){var t=v(),n=e.split("<"),r=s(n[0]);return n.slice(1).reduce(function(e,n){return e+t(n)},r)}}}),define("syracuse-tablet/html/js/helpers/html-escape/lib/unescape",["require","exports","module"],function(e,t,n){t.unescaper=function(e){function t(e){return e.replace(/__>/g,"-->")}function n(e){return e.replace(/disabled-(\w+=?)/g,"$1").replace(/(.?)<!--(.*?)-->/g,function(e,n,r){if(r[0]===" ")return n+"<!--"+r.substring(1)+"-->";if(r[0]==="[")return n+"<!"+t(r)+">";if(r[0]==="<")return n+t(r);if(r[0]==="@")return t(r.substring(1))+n;throw new Error("cannot unescape: "+r)})}e=e||{};if(e.streaming){var r="";return function(e){if(e===undefined)return n(r);var t=Math.max(0,r.length-2);r+=e;var i=r.indexOf("-->",t);if(i<0)return"";var s=n(r.substring(0,i+3));return r=r.substring(i+3),s}}return n}}),define("syracuse-tablet/html/js/helpers/html-escape/index",["require","exports","module","./lib/escape","./lib/unescape"],function(e,t,n){t.escaper=e("./lib/escape").escaper,t.unescaper=e("./lib/unescape").unescaper}),define("syracuse-tablet/html/js/helpers/syracuse-rtf/lib/rtfparse",["require","exports","module"],function(e,t,n){function p(e){var t=[],n=[t];return{open:function(){var e=[];t.push(e),n.push(e),t=e},close:function(){n.length<=1&&e("too many }"),t=n.pop(),t=n[n.length-1]},text:function(e){t.push(e)},control:function(e,n){var r={word:e};n!=null&&(r.arg=n),t.push(r)},getResult:function(){return n.length!==1&&e("missing }"),n[0][0]}}}var r={},i={},s="\n".charCodeAt(0),o=" ".charCodeAt(0),u="\\".charCodeAt(0),a="{".charCodeAt(0),f="}".charCodeAt(0),l="-".charCodeAt(0),c="'".charCodeAt(0),h="*".charCodeAt(0);(function(){function e(e,t,n){t.split("").forEach(function(t){e[t.charCodeAt(0)+(n||0)]=!0})}for(var t=0;t<=9;t++)e(i,"0",t);for(var t=0;t<26;t++)e(r,"a",t)})(),t.parse=function(e){function g(n){var r=e.indexOf(/[\n>]/,t);return r<0&&(r=e.length),new Error("Invalid RTF: "+n+" at line "+v+" near "+e.substring(t,r))}function y(){t>n&&m.text(e.substring(n,t))}e=e.replace(/\r\n/g,"\n");var t=0,n=0,d=e.length,v=1,m=p(g);while(t<d){var b=e.charCodeAt(t);switch(b){case u:y();var w=++t;while(r[b=e.charCodeAt(t)])t++;if(t>w){var E=e.substring(w,t),S=undefined;if(b===l||i[b]){w=t,t++;while(i[b=e.charCodeAt(t)])t++;S=parseInt(e.substring(w,t),10)}(b===o||b===s||E==="u"&&b!==u&&b!==a&&b!==f)&&t++,m.control(E,S)}else if(b===c){var x=String.fromCharCode(parseInt(e.substring(t+1,t+3),16));m.text(x),t+=3}else b===h&&(m.control("*"),t++);n=t;break;case a:y(),m.open(),n=++t;break;case f:y(),m.close(),n=++t;break;case s:y(),v++,n=++t;break;default:t++}}return y(),m.getResult()}}),define("syracuse-tablet/html/js/helpers/syracuse-rtf/lib/rtfinterpret",["require","exports","module","./rtfparse"],function(e,t,n){var r=e("./rtfparse");t.interpret=function(e){function s(e,t,r){var i=e[0].word+e[0].arg,s=n.fonts[i]={};for(var u=1;u<e.length;u++)o(e[u],s)}function o(e,t){var n;typeof e=="string"&&(n=e.indexOf(";"))>0&&(t.name=e.substring(0,n))}function u(e,t,r){var i,s;if(e[0].word){i=e[0].word+e[0].arg,s=n.styles[i]={};for(var o=1;o<e.length;o++)a(e[o],s)}}function a(e,t){var n;typeof e=="string"&&(n=e.indexOf(";"))>0&&(t.name=e.substring(0,n))}function f(e,t,r){switch(e.word){case"rtf":case"ansi":case"ansicpg":break;case"stylesheet":t.slice(1).filter(function(e){return Array.isArray(e)}).forEach(u);break;case"deff":n.deffont="f"+e.arg;break;case"fonttbl":t.slice(1).filter(function(e){return Array.isArray(e)}).forEach(s);break;case"colortbl":var o=1;t[o]===";"&&(n.colors.push([0,0,0]),o++);while(o<t.length)n.colors.push([t[o].arg,t[o+1].arg,t[o+2].arg]),o+=4;break;case"*":i.indexOf(t[r+1].word)==-1&&t.splice(r,t.length-r)}}function l(e,t,n){Array.isArray(e)?e.forEach(l):typeof e=="object"&&f(e,n,t)}var t,n={deffont:"",fonts:{},colors:[],styles:{}},r={fnil:"Sans-serif",froman:"Sans-serif",fswiss:"Serif",fmodern:"Monospace",fscript:"Cursive",fdecor:"Cursive"},i=["rtf","ansi","ansicpg","deff","fonttbl","colortbl","stylesheet","fs","f","cf","highlight","i","b","ul","strike","plain","qc","ql","qr","qj","par","pard","pn"];return l(e),n}}),define("syracuse-tablet/html/js/helpers/syracuse-rtf/lib/buildhtml",["require","exports","module"],function(e,t,n){function i(e){return e?s(e[0])+s(e[1])+s(e[2]):"000000"}function s(e){return("00"+e.toString(16)).slice(-2)}function o(e){return e/20}function u(e){return e/600}function a(e){return e/420}function f(e){return e/15}function l(e){function m(){return h=d=$("<div>").addClass("s-rtf-worker").addClass("s-rtf-clean"),d.appendTo(p)}function g(){return p=$("<div>").addClass("s-rtf-section").addClass("s-rtf-clean"),m(),p.appendTo(c)}function y(e){switch(e.word){case"f":var n=t[e.word+e.arg].name;return $("<font face='"+n+"'>");case"fs":return $("<span style='font-size: "+e.arg/2+"pt;'>");case"tab":return $("<blockquote>");case"cf":case"highlight":return $("<span style='"+r[e.word]+": #"+i(s[e.arg])+";'>");case"b":return $("<b>");case"i":return $("<i>");case"ul":return $("<u>");case"strike":return $("<s>");default:}}function b(e,t){e.addClass("s-rtf-format"),w();switch(t.word){case"ql":return e.attr("align","left");case"qc":return e.attr("align","center");case"qr":return e.attr("align","right");case"qj":return e.attr("align","justify");case"li":return t.arg>0?e.css("margin-left",o(t.arg)+"pt"):e;case"ri":return t.arg>0?e.css("margin-right",o(t.arg)+"pt"):e;default:return e}}function w(){d&&d.removeClass("s-rtf-clean"),p&&p.removeClass("s-rtf-clean")}function E(e){w(),h.append(e)}function S(e){w(),h=e.appendTo(h)}var t=e.fonts,n=e.deffont,s=e.colors,f=e.styles,l="",c=$("<div>").addClass("s-rtf-root"),h=null,p=null,d=null,v;return g(),v=function(){function n(){var t,n={};return e.forEach(function(e){t=e.format,Object.keys(t).forEach(function(e){typeof n[e]=="undefined"&&(n[e]=t[e])})}),n}var e=[{format:{}}],t=e[0];return{open:function(){e.push(t={format:{}})},close:function(n,r){e.pop(),t=e[e.length-1],n<r.length-1&&(this.pending=!0)},update:function(e,n){n===null?delete t.format[e]:t.format[e]=n},startOver:function(){if(!this.pending)return;var e=n();Object.keys(e).forEach(function(t){h=e[t].clone().appendTo(h)}),this.pending=!1}}}(),{text:function(e){w(),v&&v.startOver();var t=h.html();h.html(t+e)},open:function(){v.open()},close:function(e,t){h=d,h.length===0&&(h=c),v.close(e,t)},control:function(e){switch(e.word){case"par":w(),d.removeClass("s-rtf-worker").addClass("s-rtf-paragraph"),h=d=m(),v&&(v.pending=!0);break;case"pard":p.hasClass("s-rtf-clean")||(p=g(),v&&(v.pending=!0));break;case"pn":p.addClass("s-rtf-list");break;case"u":this.unicodechar(e.arg);break;case"qc":case"ql":case"qr":case"qj":case"ri":b(p,e);break;case"li":p.hasClass("s-rtf-list")?p.attr("indent",a(e.arg)):(!p.hasClass("s-rtf-clean")&&!p.hasClass("s-rtf-format")&&(p=g(),v&&(v.pending=!0)),p.addClass("s-rtf-left-indent"),p.attr("indent",u(e.arg)));break;case"lquote":case"rquote":this.text("'");break;case"line":E("<br>");break;case"bullet":break;case"i":case"b":case"strike":case"ulnone":case"ul":if(e.arg===0||e.word==="ulnone"){var t;e.word==="strike"?t="s":e.word==="ulnone"?t="u":t=e.word;if(h.is(t))h=h.parent();else if(h.html()!==""){var n=h.closest(t);h=n.parent()}v.update(e.word,null);break};default:var r=y(e);r&&(v.update(e.word,r.clone()),!v.pending&&S(r))}},unicodechar:function(e){w();var t=h.html();h.html(t+String.fromCharCode(e))},getHtml:function(){c.find(".s-rtf-clean").remove();var e=c.find(".s-rtf-section.s-rtf-list");e.map(function(e,t){var n=$(t),e=parseInt(n.attr("indent"),10),r=[];while(r.length<e)r.push("<ul>");n.wrap(r.join("")).contents()});var t=e.find(".s-rtf-paragraph");t.wrap("<li>").contents().unwrap();var n=c.find(".s-rtf-section.s-rtf-left-indent").removeClass("s-rtf-left-indent");n.map(function(e,t){var n=$(t),e=parseInt(n.attr("indent"),10),r=[];while(r.length<e)r.push("<blockquote>");n.wrap(r.join("")).contents(),n.removeAttr("indent")}),e=c.find(".s-rtf-section"),e.find(".s-rtf-paragraph").removeAttr("class").wrap("<p>").contents().unwrap(),e.find("div:empty").remove(),e.find(".s-rtf-worker:empty").remove(),e.filter(":not(.s-rtf-format)").contents().unwrap();while(c.find("span:empty").length)c.find("span:empty").remove();return c.find(".s-rtf-worker").removeAttr("class").contents().unwrap(),c.find(".s-rtf-format").removeAttr("class"),c.html()}}}var r={cf:"color",highlight:"background-color"};t.buildHtml=function(e,t){function r(e,t,i){if(typeof e=="string"){n.text(e);return}if(Array.isArray(e)&&e.length>0){if(e[0])switch(e[0].word){case"fonttbl":case"colortbl":case"stylesheet":case"pntxtb":case"pntext":case"pict":return}n.open(),e.forEach(r),n.close(t,i);return}typeof e=="object"&&n.control(e)}var n=l(t);return r(e,0,[]),e?n.getHtml():"<div></div>"}}),define("syracuse-tablet/html/js/helpers/syracuse-rtf/lib/buildrtf",["require","exports","module"],function(e,t,n){function i(e){return r[e.toLowerCase()]}function s(){return{open:function(e){this[e]||(this[e]={},this[e].current=0),this[e].current++,this[e].pending=!0,this[e].value&&this[e].value[this[e].current-1]&&this[e].value.pop()},close:function(e){this[e].current--,this[e].current?this[e].pending=!0:this[e].pending=!1},current:function(e){return this[e]?this[e].current:0},pending:function(e,t){return t!==undefined&&(this[e]||(this[e]={}),this[e].pending=t),this[e]?this[e].pending:!1},value:function(e,t){return this[e]?(t!==undefined&&(t=parseInt(t,10),this[e].value===undefined&&(this[e].value=[]),this[e].value.push(this[e].current-1?this[e].value[this[e].current-2]+t:t)),this[e]&&this[e].value?this[e].value[this[e].current-1]:0):0},nl:!1,par:!1,ulindent:0}}function o(e){function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function a(e){if(e==null)return!0;for(var t in e)if(u(e,t))return!1;return!0}function f(e){e=e.toLowerCase();switch(e){case"p":return"\\par";case"b":return"\\b";case"i":return"\\i";case"u":return"\\ul";case"s":return"\\strike";case"br":return"\\par";case"blockquote":return"";default:return""}}var t=e.fonts,n=e.colors,r="",i=!1,o=s();return a(t)||(r+="{\\fonttbl",Object.keys(t).forEach(function(e){r+="{\\"+e+" "+t[e].name+";}"}),r+="}"),n.length>1&&(r+="{\\colortbl",n.forEach(function(e){e[0]===0&&e[1]===0&&e[2]===0?r+=";":r+="\\red"+e[0]+"\\green"+e[1]+"\\blue"+e[2]+";"}),r+="}"),r+="\\uc0\\pard",{open:function(){r+="{",i=!1},text:function(e){var t=0,n=t,s;while(t<e.length){while(e.charCodeAt(t)<=128&&e.charCodeAt(t)!=10)t++;t>n?r+=(i?" ":"")+e.substring(n,t):e.charCodeAt(t)==10&&(r+=i?" ":""),i=!1,t<e.length&&(s=e.charCodeAt(t),s===160||s===10?r+=" ":this.controlarg("u",e.charCodeAt(t)),t++),n=t}},fragment:function(e){r+=e,i=!1},font:function(e){e!==""&&(r+="\\"+e,i=!0)},controlarg:function(e,t){r+="\\"+e+t,i=!0},control:function(e){o.par=e=="par",r+="\\"+e,i=!0},htmltag:function(e){var t=f(e);t&&(o.par=t=="\\par"),r+=t,i=!0},star:function(){r+="\\*",i=!1},close:function(){o.par||(r+="\\par"),r="{\\rtf1\\ansi"+r+"}",i=!1},getRtf:function(){return r},context:o}}var r={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c","indigo ":"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",window:"#ffffff",windowframe:"#000000",windowtext:"#000000"},u={"margin-left":"li","margin-right":"ri","margin-top":"sb","margin-bottom":"sa"},a=function(e,t){var n={pt:20,px:15,mm:56.7,cm:567,"in":1440.18};return function(e,t){return t*(n[e]||n.px)}}();t.buildRtf=function(e){function h(e,t){if(!t)return-1;for(var n=0;n<e.length;n++)if(e[n][0]==t[0]&&e[n][1]==t[1]&&e[n][2]==t[2])return n;return-1}function p(e){return $(e).is("div[style]")?$(e).attr("style").search("margin-left")>-1:!1}function d(e){c.indexOf(e)<0&&c.push(e)}function v(e){var n=t.fonts,r=Object.keys(n);for(var i=0;i<r.length;i++)if(n[r[i]].name===e)return r[i];return""}function m(e){return $(e).is("ul")||$(e).is("li")||e.childElementCount>0&&e.firstChild.nodeName==="UL"}function g(e,n){var i,s,o;f.context.pending("blockquote")&&!f.context.current("list")&&!$(e).is("blockquote")&&!$(e).is("div")&&!f.context.current("list")&&!m(e)&&(f.control("li"+f.context.current("blockquote")*600),f.context.pending("blockquote",!1));if(e.nodeType===3)f.text(e.nodeValue),f.context.par=!1,e.nextSibling&&$(e.nextSibling).is("blockquote")&&f.control("par");else if($(e).is("*[style]")&&!$(e).is("blockquote")){var l=$(e).attr("style").split(";"),c=!($(e).attr("style").search("text-align")>-1&&$(e).attr("style").search("margin-left")>-1),p=null;e.nodeName=="B"&&f.htmltag(e.nodeName),l.forEach(function(n){var l=n.split(":");l[0]!=null&&(l[0]=l[0].replace(/^\s*/,"").replace(/\s*$/,"")),l[1]!=null&&(l[1]=l[1].replace(/^\s*/,"").replace(/\s*$/,""));switch(l[0]){case"color":l[1].substring(0,3)==="rgb"?(i=N(l[1]),s=h(t.colors,i)):s=b(l[1]),o="cf",f.controlarg(o,s);break;case"background-color":l[1].substring(0,3)==="rgb"?(i=N(l[1]),s=h(t.colors,i)):s=b(l[1]),o="highlight",f.controlarg(o,s);break;case"text-decoration":l[1]==="underline"?f.control("ul"):l[1]==="line-through"&&f.control("strike");break;case"font-style":l[1]==="italic"&&f.control("i");break;case"font-weight":l[1]==="bold"&&f.control("b");break;case"font-size":var d=$(e).attr("style"),v=/([0-9\.\-]+)([A-Za-z]*)/g.exec(l[1]),m=v[2]&&v[2].toLowerCase();if(m!="em"){var g=parseFloat(l[1]),y=Math.round(g*2);f.controlarg("fs",y),f.context.fs=!0}break;case"margin-left":var v=/([0-9\.\-]+)([A-Za-z]*)/g.exec(l[1]),m=v[2]&&v[2].toLowerCase()||"px",w=parseInt(v[1],10);if($(e).is("ul"))f.context.ulindent=w/40,f.context.open("list");else if($(e).is("div")||$(e).is("p"))f.context.open("lindent"),f.context.value("lindent",w),f.controlarg(u[l[0]],a(m,f.context.value("lindent"))),p&&f.control(r[p]);c&&($(e).contents().each(C),e.nodeName==="P"?(f.context.close("lindent"),f.control("par")):e.nodeName==="DIV"&&f.context.close("lindent"),f.context.current("lindent")?f.controlarg(u[l[0]],a(m,f.context.value("lindent"))):f.control("pard")),c=!0;break;case"margin-right":case"margin-top":case"margin-bottom":var v=/([0-9\.\-]+)([A-Za-z]*)/g.exec(l[1]),m=v[2]&&v[2].toLowerCase()||"px",w=parseInt(v[1],10);f.controlarg(u[l[0]],a(m,w)),$(e).contents().each(C),e.nodeName==="P"&&f.control("par"),f.control("pard");break;case"margin":$(e).contents().each(C),e.nodeName==="P"&&f.control("par");break;case"text-align":if(c){f.control("pard");var E=l[1];f.control(r[E]),$(e).contents().each(C),f.control("par"),f.control("pard")}else p=l[1];c=!0}})}else if($(e).is("font")){if($(e).is("font[face]")){var d=$(e).attr("face");f.font(v(d))}$(e).is("font[color]")&&(s=b($(e).attr("color")),o="cf",f.controlarg(o,s)),$(e).is("font[bgcolor]")&&(s=b($(e).attr("bgcolor")),o="highlight",f.controlarg(o,s)),$(e).is("font[size]")&&(s=w($(e).attr("size")),f.controlarg("fs",s))}else if($(e).is("div[align]")){var g=$(e).attr("align");f.control("pard"),f.control(r[g]),$(e).contents().each(C),e.childElementCount>0&&e.firstChild.nodeName==="P"||f.control("par"),f.control("pard")}else if(e.nodeName==="UL")f.control("pard"),f.context.open("list");else if(e.nodeName==="LI"){f.fragment("{\\pntext"),f.font(v("Symbol")),f.fragment("\\'B7\\tab}");if(f.context.pending("list")){var y=f.context.current("list")+f.context.current("blockquote")+f.context.ulindent;y+=f.context.current("lindent"),f.fragment("{\\*\\pn\\pnlvlblt\\pnf1\\pnindent0{\\pntxtb\\'B7}}\\f0\\li"+y*420),f.context.ulindent=0,f.context.pending("list",!1)}}else e.nodeName==="P"?f.control("par"):f.htmltag(e.nodeName)}function y(e){var t=/#(..)(..)(..)/.exec(e)||/#(..)(..)(..)/.exec(i(e));return t&&t.slice(1).map(function(e){return parseInt(e,16)})}function b(e){var n=y(e),r=h(t.colors,n);return r==-1?-1:r}function w(e){return e=parseInt(e,10),e<0||e>7?0:[0,18,20,24,28,36,48,72][e]}function E(e){if(!e)return;e.each(C)}function S(e,n){e.each(function(e,r){var i=$(r).attr(n),s=y(i);s&&h(t.colors,s)==-1&&t.colors.push(s)})}function x(e){var n,r;e.each(function(e,i){var s=$(i).attr("style"),o=s&&s.replace(/[\n\r]*\s*/g,"").split(";"),u=o&&o.filter(function(e){var t=e.split(":");return t[0]=t[0].replace(/^\s*/,"").replace(/\s*$/,""),["color","background-color","background"].indexOf(t[0])!=-1}),a=u&&u[0]&&u[0].split(":");a&&a[1]&&(a[1]=a[1].replace(/^\s*/,"").replace(/\s*$/,""),a[1].substring(0,3)==="rgb"?(n=N(a[1]),r=h(t.colors,n)):(r=b(a[1]),n=y(a[1])),r==-1&&n&&t.colors.push(n))})}function T(){var e=l.find("font[face]"),t=l.find("font[color]"),n=l.find("font[bgcolor]"),r=l.find('*[style*="background-color"]'),i=l.find('*[style*="color"]');d("MS Sans Serif"),e.each(function(e,t){d($(t).attr("face"))}),l.find("ul").length>0&&d("Symbol"),S(t,"color"),S(n,"bgcolor"),x(r),x(i)}function N(e){var t=/\s*rgb\(\s*(\d+),\s*(\d+),\s*(\d+)\s*\);*/.exec(e);return t?t.slice(1).map(function(e){return parseInt(e,10)}):[]}function C(e,t){var n=$(t),i;if(n.is("blockquote"))f.context.open("blockquote");else if(n.is("div[align]")||n.is("*[style*=text-align]")||n.is("*[style*=margin]")){g(t,e),t.nodeName==="UL"&&f.control("pard");return}var s,o,u=t.nextSibling,l=t.nodeName==="P"&&t.childElementCount===1&&t.firstChild.nodeName==="BR";i=n.contents(),!n.is("blockquote")&&u&&u.nodeName==="DIV"&&!p(t)&&!p(u)?(!(u.childElementCount>0)||u.firstChild.nodeName!=="BR"&&u.firstChild.nodeName!=="P")&&!l&&(o=!0):i.length>0&&u&&!n.is("ul")&&!n.is("li")&&!n.is("blockquote")&&!n.is("p")&&(s=!0,f.fragment("{"));if(n.is("p[align]")){var c=n.attr("align");f.control("pard"),f.control(r[c])}n.is("p")||g(t,e),i.each(C),t.nodeName==="P"&&!o&&!l&&g(t,e),(t.nodeName==="B"||n.is("*[style*=font-weight]"))&&f.control("b0"),(t.nodeName==="U"||n.is("*[style*=text-decoration]"))&&f.control("ul0"),n.is("*[style*=font-size]")&&f.context.fs&&(f.context.fs=!1,s||f.control("fs16")),(t.nodeName==="I"||n.is("*[style*=font-style]"))&&f.control("i0"),n.is("*[style*=color]")&&!n.is("*[style*=background-color]")&&!s&&f.control("cf0"),t.nodeName==="UL"?(f.context.close("list"),f.control("pard"),f.context.par=!0,f.context.current("blockquote")&&f.context.pending("blockquote",!0),f.context.current("lindent")&&t.nextSibling&&t.nextSibling.nodeType===3&&f.control("li"+a("px",f.context.value("lindent")))):n.is("li")&&f.control("par"),s&&f.fragment("}"),n.is("blockquote")&&f.context.current("blockquote")&&(f.context.pending("blockquote")?(f.context.close("blockquote"),!f.context.current("blockquote")&&u&&!$(u).html()&&(f.context.nl=!0)):(f.context.par||f.control("par"),f.control("pard"),f.context.close("blockquote")));if(o||f.context.nl)f.context.nl=!1,f.control("par")}function k(){var e;for(var n=0;n<c.length;n++)e="f"+n,t.fonts[e]={name:c[n]}}var t={};t.deffont="",t.fonts={},t.colors=[],t.styles={};var n={fnil:"Sans-serif",froman:"Sans-serif",fswiss:"Serif",fmodern:"Monospace",fscript:"Cursive",fdecor:"Cursive"},r={left:"ql",center:"qc",right:"qr",justify:"qj"},s=[{pt:6,px:7},{pt:7,px:9},{pt:40,px:50}],f,l=$("<div>").append(e),c=[];t.colors.push([0,0,0]),T(),k(),f=o(t),E(l),f.close();var L=f.getRtf();return L}}),define("syracuse-tablet/html/js/helpers/syracuse-rtf/lib/index",["require","exports","module","./rtfparse","./rtfinterpret","./buildhtml","./buildrtf"],function(e,t,n){var r=e("./rtfparse"),i=e("./rtfinterpret"),s=e("./buildhtml"),o=e("./buildrtf");n.exports={toHtml:function(e,t){e=e||"";var n=r.parse(e),o=i.interpret(n);return s.buildHtml(n,o)},fromHtml:function(e,t){return o.buildRtf(e)}}}),define("syracuse-tablet/html/js/helpers/syracuse-rtf/index",["require","exports","module","./lib/index"],function(e,t,n){n.exports=e("./lib/index")}),define("syracuse-tablet/html/js/controls/field/ctrlText",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/controls/field/ctrlFieldBase","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/helpers/html-escape/index","syracuse-tablet/html/js/ajax/ajax","syracuse-tablet/html/js/helpers/syracuse-rtf/index"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/controls/field/ctrlFieldBase").Klass,s=e("syracuse-tablet/html/js/ui/uiUtils"),o=e("syracuse-tablet/html/js/helpers/html-escape/index").escaper({warn:console.warn.bind(console),allowedAttributes:["style"],allowedTags:["span"]}),u=e("syracuse-tablet/html/js/ajax/ajax").getAjax().ajax,a=e("syracuse-tablet/html/js/helpers/syracuse-rtf/index"),f=r.defineClass(function(t,n,r,s){var o=this;i.call(o,t,n,r,s),o.cssType="s-m-clob"},i,{buildFieldValue:function(e,t){var n=this,r=n.getFormattedValue(n.getValue()),o=i.prototype.buildFieldValue.call(n,e,t),a=s.createDomElement("div",["s-m-enriched-text"],null,null,o),f=n.prototype.data("$url",n.getDao())||"";u("GET",f,null,null,{noJsonParsing:!0}).then(function(e){var t=e.responseText||"",r=[];switch(n.$type){case"text/plain":n.buildFieldFromPlain(t,a);break;case"text/html":n.buildFieldFromHtml(t,a);break;case"text/rtf":n.buildFieldFromRtf(t,a)}}).fail(function(e){n.insertError(e.message),n.log(e)})},insertError:function(e){var t=['<div class="s-m-error">'];t.push(e),t.push("</div>"),$(t.join("")).appendTo(this.$$elmt)},buildFieldFromPlain:function(e,t){$(t).append($.parseHTML(o(e.replace(/\n/g,"<BR/>"))))},buildFieldFromRtf:function(e,t){this.buildFieldFromHtml(a.toHtml(e),t)},buildFieldFromHtml:function(e,t){$(t).append($.parseHTML(o(e)))}});t.Klass=f}),define("syracuse-tablet/html/js/controls/ctrlIcon",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/ui/fontUtils","syracuse-tablet/html/js/controls/ctrlBase"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/ui/fontUtils"),s=e("syracuse-tablet/html/js/controls/ctrlBase"),o=s.Klass,u=r.defineClass(function(t,n,r){o.call(this,t,n,r)},o,{buildHtml:function(e,t,n){var r=this;o.prototype.buildHtml.call(r,e,t,n,["s-m-icon"]),r.$$elmt.html(s.genHtmlCtrlLink(r.prototype,t,{tag:"a",css:""},function(e){e.push('<span class="'),e.push(i.ctrlIcon(r.prototype.data("$icon"))),e.push('"></span>')}))}});t.Klass=u}),define("syracuse-tablet/html/js/controls/ctrlButton",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/ui/fontUtils","syracuse-tablet/html/js/controls/ctrlBase"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/ui/fontUtils"),s=e("syracuse-tablet/html/js/controls/ctrlBase"),o=s.Klass,u=r.defineClass(function(t,n,r){o.call(this,t,n,r)},o,{buildHtml:function(e,t,n){var r=this;o.prototype.buildHtml.call(r,e,t,n,["s-m-btn"]),r.$$elmt.html(s.genHtmlCtrlLink(r.prototype,t,{tag:"button",css:"btn btn-info btn-large"},function(e){var t=r.prototype.data("$icon")||"";t.length>0&&e.push('<i class="'+i.ctrlIcon(r.prototype.data("$icon"))+'"></i>'),t=r.prototype.data("$text")||"",t.length>0&&e.push(t)}))}});t.Klass=u}),define("syracuse-tablet/html/js/controls/chart/chartstheme",["require","exports","module"],function(e,t,n){t.ChartsTheme={colors:["#2f7ed8","#0d233a","#8bbc21","#910000","#1aadce","#492970","#f28f43","#77a1e5","#c42525","#a6c96a"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/3.0.2/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/3.0.2/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacingTop:10,spacingRight:10,spacingBottom:15,spacingLeft:10,style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",y:15,style:{color:"#666",fontSize:"16px"}},subtitle:{text:"",align:"center",y:30,style:{color:"#4d759e"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{enabled:!1,align:"center",x:0,y:0,style:{color:"#666",cursor:"default",fontSize:"11px",lineHeight:"14px"},verticalAlign:"bottom"},cropThreshold:300,pointRange:0,showInLegend:!0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0},area:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{enabled:!1,align:"center",x:0,y:0,style:{color:"#666",cursor:"default",fontSize:"11px",lineHeight:"14px"},verticalAlign:"bottom"},cropThreshold:300,pointRange:0,showInLegend:!0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0,threshold:0},spline:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{enabled:!1,align:"center",x:0,y:0,style:{color:"#666",cursor:"default",fontSize:"11px",lineHeight:"14px"},verticalAlign:"bottom"},cropThreshold:300,pointRange:0,showInLegend:!0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0},areaspline:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{enabled:!1,align:"center",x:0,y:0,style:{color:"#666",cursor:"default",fontSize:"11px",lineHeight:"14px"},verticalAlign:"bottom"},cropThreshold:300,pointRange:0,showInLegend:!0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0,threshold:0},column:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:null,point:{events:{}},dataLabels:{enabled:!1,align:null,x:0,y:null,style:{color:"#666",cursor:"default",fontSize:"11px",lineHeight:"14px"},verticalAlign:null},cropThreshold:50,pointRange:null,showInLegend:!0,states:{hover:{marker:{},brightness:.1,shadow:!1},select:{marker:{},color:"#C0C0C0",borderColor:"#000000",shadow:!1}},stickyTracking:!1,borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:.2,pointPadding:.1,minPointLength:0,threshold:0},bar:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:null,point:{events:{}},dataLabels:{enabled:!1,align:null,x:0,y:null,style:{color:"#666",cursor:"default",fontSize:"11px",lineHeight:"14px"},verticalAlign:null},cropThreshold:50,pointRange:null,showInLegend:!0,states:{hover:{marker:{},brightness:.1,shadow:!1},select:{marker:{},color:"#C0C0C0",borderColor:"#000000",shadow:!1}},stickyTracking:!1,borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:.2,pointPadding:.1,minPointLength:0,threshold:0},scatter:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:0,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{enabled:!1,align:"center",x:0,y:0,style:{color:"#666",cursor:"default",fontSize:"11px",lineHeight:"14px"},verticalAlign:"bottom"},cropThreshold:300,pointRange:0,showInLegend:!0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!1,tooltip:{headerFormat:'<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>",followPointer:!0}},pie:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:null,point:{events:{}},dataLabels:{enabled:!0,align:"center",x:0,y:0,style:{color:"#666",cursor:"default",fontSize:"11px",lineHeight:"14px"},verticalAlign:"bottom",distance:30},cropThreshold:300,pointRange:0,showInLegend:!1,states:{hover:{marker:{},brightness:.1,shadow:!1},select:{marker:{}}},stickyTracking:!1,borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,ignoreHiddenPoint:!0,legendType:"point",size:null,slicedOffset:10,tooltip:{followPointer:!0}},arearange:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:1,marker:null,point:{events:{}},dataLabels:{enabled:!1,align:"center",x:0,y:0,style:{color:"#666",cursor:"default",fontSize:"11px",lineHeight:"14px"},verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0},cropThreshold:300,pointRange:0,showInLegend:!0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0},areasplinerange:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:1,marker:null,point:{events:{}},dataLabels:{enabled:!1,align:"center",x:0,y:0,style:{color:"#666",cursor:"default",fontSize:"11px",lineHeight:"14px"},verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0},cropThreshold:300,pointRange:0,showInLegend:!0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0},columnrange:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:1,marker:null,point:{events:{}},dataLabels:{enabled:!1,align:"center",x:0,y:0,style:{color:"#666",cursor:"default",fontSize:"11px",lineHeight:"14px"},verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0},cropThreshold:300,pointRange:null,showInLegend:!0,states:{hover:{marker:{},brightness:.1,shadow:!1},select:{marker:{},color:"#C0C0C0",borderColor:"#000000",shadow:!1}},stickyTracking:!0,borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:.2,pointPadding:.1,minPointLength:0,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0},gauge:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{enabled:!0,align:"center",x:0,y:5,style:{color:"#666",cursor:"default",fontSize:"16px",lineHeight:"24px",fontWeight:"normal"},verticalAlign:"top",borderWidth:0,borderColor:null,borderRadius:3,zIndex:2},cropThreshold:300,pointRange:0,showInLegend:!1,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0,dial:{},pivot:{},tooltip:{style:{color:"#666"},headerFormat:""}},boxplot:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:1,marker:null,point:{events:{}},dataLabels:{enabled:!1,align:null,x:0,y:null,style:{color:"#666",cursor:"default",fontSize:"11px",lineHeight:"14px"},verticalAlign:null},cropThreshold:50,pointRange:null,showInLegend:!0,states:{hover:{marker:{},brightness:-0.3,shadow:!1},select:{marker:{},color:"#C0C0C0",borderColor:"#000000",shadow:!1}},stickyTracking:!1,borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:.2,pointPadding:.1,minPointLength:0,threshold:null,fillColor:"#FFFFFF",medianWidth:2,tooltip:{pointFormat:'<span style="color:{series.color};font-weight:bold">{series.name}</span><br/>Minimum: {point.low}<br/>Lower quartile: {point.q1}<br/>Median: {point.median}<br/>Higher quartile: {point.q3}<br/>Maximum: {point.high}<br/>'},whiskerLength:"50%",whiskerWidth:2},errorbar:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:1,marker:null,point:{events:{}},dataLabels:{enabled:!1,align:null,x:0,y:null,style:{color:"#666",cursor:"default",fontSize:"11px",lineHeight:"14px"},verticalAlign:null},cropThreshold:50,pointRange:null,showInLegend:!0,states:{hover:{marker:{},brightness:-0.3,shadow:!1},select:{marker:{},color:"#C0C0C0",borderColor:"#000000",shadow:!1}},stickyTracking:!1,borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:.2,pointPadding:.1,minPointLength:0,threshold:null,fillColor:"#FFFFFF",medianWidth:2,tooltip:{pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerLength:"50%",whiskerWidth:null,color:"#000000",grouping:!1,linkedTo:":previous"},waterfall:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:1,marker:null,point:{events:{}},dataLabels:{enabled:!1,align:null,x:0,y:null,style:{color:"#666",cursor:"default",fontSize:"11px",lineHeight:"14px"},verticalAlign:null},cropThreshold:50,pointRange:null,showInLegend:!0,states:{hover:{marker:{},brightness:.1,shadow:!1},select:{marker:{},color:"#C0C0C0",borderColor:"#000000",shadow:!1}},stickyTracking:!1,borderColor:"#333",borderWidth:1,borderRadius:0,groupPadding:.2,pointPadding:.1,minPointLength:0,threshold:0,lineColor:"#333",dashStyle:"dot"},bubble:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:0,marker:{enabled:!0,lineWidth:1,radius:4,lineColor:null,states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{enabled:!1,align:"center",x:0,y:0,style:{color:"white",cursor:"default",fontSize:"11px",lineHeight:"14px",textShadow:"0px 0px 3px black"},verticalAlign:"middle",inside:!0},cropThreshold:300,pointRange:0,showInLegend:!0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!1,tooltip:{headerFormat:'<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',pointFormat:"({point.x}, {point.y}), Size: {point.z}",followPointer:!0},minSize:8,maxSize:"20%",zThreshold:0}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",borderWidth:1,borderColor:"#909090",borderRadius:5,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{cursor:"pointer",color:"#274b6d",fontSize:"12px"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"1em"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:!0,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',shadow:!0,snap:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!1,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}}}),define("syracuse-tablet/html/js/controls/field/ctrlGaugeChart",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/controls/field/ctrlFieldBase","syracuse-tablet/html/js/controls/chart/chartstheme"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/locale"),s=e("syracuse-tablet/html/js/controls/field/ctrlFieldBase").Klass,o=e("syracuse-tablet/html/js/controls/chart/chartstheme").ChartsTheme,u=r.defineClass(function(t,n,r,i){var o=this;s.call(o,t,n,r,i),o.formatter=o.initFormatter(),o.cssType=null},s,{_defaultGaugeSegments:[{propStart:0,propEnd:.25,valStart:null,valEnd:null,color:"#41A940"},{propStart:.25,propEnd:.75,valStart:null,valEnd:null,color:"#FF5800"},{propStart:.75,propEnd:1,valStart:null,valEnd:null,color:"#CB3500"}],buildFieldValue:function(e,t){var n=this,r=$("<div>").addClass("s-m-gauge-container"),s=i.getNumberDecimalSeparator(),u=i.getNumberGroupSeparator();n.chartsTheme||(n.chartsTheme=o);if(!n.chartsTheme.themeWasSet||n.chartsTheme.decimalPoint!==s||n.chartsTheme.thousandsSep!==u)n.chartsTheme.decimalPoint=s,n.chartsTheme.thousandsSep=u,Highcharts.setOptions(n.chartsTheme),n.chartsTheme.themeWasSet=!0;n._renderGauge(r),e.appendChild(r[0])},buildFieldTitle:function(e,t){},_resolveExpr:function(e,t,n){return typeof e!="string"?e:e.replace(/\{(\w+)\}/g,function(e,r){return t[r]!=null?t[r]:n[r]!=null?n[r]:e})},_mergeAuthoringAndDefaults:function(){var e=this,t=e.article.$gauge;if(!t.segments)return e._defaultGaugeSegments;if(t.segments.length===0)return e._defaultGaugeSegments;var n,r,i,s=[];for(n=0;n<t.segments.length;n++)r=e._defaultGaugeSegments[Math.min(n,e._defaultGaugeSegments.length-1)],i=t.segments[n],i?((i.propStart==null||i.propEnd==null)&&(i.valStart==null||i.valEnd==null)&&(i.propStart=r.propStart,i.propEnd=r.propEnd,i.valStart=r.valStart,i.valEnd=r.valEnd),i.color==null&&(i.color=r.color),s.push(i)):s.push(r);return s},_createBands:function(e,t,n,r){var i=this,s=[];s.push({from:n,to:r,color:"#ccc",innerRadius:"79%",outerRadius:"101%"});var o=i.getValue(),u=i._mergeAuthoringAndDefaults(),a,f,l,c=r-n;for(f=0;f<u.length;f++)a=u[f],l={innerRadius:"79%",outerRadius:"101%",color:a.color},a.valStart!=null&&a.valEnd!=null?(l.from=i._resolveExpr(a.valStart,o,t),l.to=i._resolveExpr(a.valEnd,o,t)):a.propStart!=null&&a.propEnd!=null&&(l.from=n+c*i._resolveExpr(a.propStart,o,t),l.to=n+c*i._resolveExpr(a.propEnd,o,t)),s.push(l);return s},_getScale:function(){function t(e){var t=e.match(/\.(.*)/g);return t.length>=1?t.length:0}var e=this;return e.article.$scale?e.article.$scale:e.article.$format?t(e.article.$format):0},_renderGauge:function(e){var t=this,n=t.article.$gauge,r=t.$isEditMode?"#666":"#34B233",i=t.getValue(),s=0,o=100;n.$bindMin!=null&&n.$bindMax!=null&&(typeof n.$bindMin=="string"?s=t.getDao().getValue(n.$bindMin):s=n.$bindMin,typeof n.$bindMax=="string"?o=t.getDao().getValue(n.$bindMax):o=n.$bindMax);try{typeof i=="string"&&(i=parseFloat(i))}catch(u){}try{typeof s=="string"&&(s=parseFloat(s))}catch(u){}try{typeof o=="string"&&(o=parseFloat(o))}catch(u){}var a=t.prototype.json,f="";a.$unit&&a.$properties&&a.$properties[a.$unit]&&i&&i[a.$unit]&&i[a.$unit].$symbol&&(f=i[a.$unit].$symbol);var l=t.getTitle(),c=t._getScale(),h=t._createBands(e,a,s,o);e.highcharts({chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1,backgroundColor:null,height:180,borderWidth:0,spacingBottom:35},title:{text:l,style:{color:r,fontWeight:"normal",textTransform:"uppercase"},verticalAlign:"bottom",y:27},pane:{startAngle:-90,endAngle:90,center:["50%","90%"],size:210,background:[{backgroundColor:"#FFF",borderWidth:0}]},yAxis:{min:s,max:o,minorTickWidth:1,minorTickInterval:"auto",minorTickLength:20,minorTickPosition:"inside",minorTickColor:"#fff",tickPixelInterval:30,tickWidth:0,tickPosition:"inside",tickLength:15,tickColor:"#FFF",labels:{step:1,rotation:"auto",style:{color:"#666",cursor:"default",fontSize:"0.9em",fontFamily:"Arial",lineHeight:"14px"},distance:10,y:0,verticalAlign:"center",align:"center"},title:{text:f,style:{color:"#666"}},plotBands:h},plotOptions:{gauge:{dataLabels:{enabled:!0,format:"{point.y:,."+c+"f}",style:{fontFamily:"Arial"}}}},exporting:{buttons:null},series:[{name:l,data:[i],tooltip:{valueSuffix:" "+f}}]},function(){})}});t.Klass=u}),define("syracuse-tablet/html/js/controls/ctrlFactoryDeps",["require","exports","module","syracuse-tablet/html/js/controls/field/ctrlAlphanum","syracuse-tablet/html/js/controls/field/ctrlAlphanum","syracuse-tablet/html/js/controls/field/ctrlAlphanum","syracuse-tablet/html/js/controls/field/ctrlProgress","syracuse-tablet/html/js/controls/field/ctrlNumeric","syracuse-tablet/html/js/controls/field/ctrlQuantity","syracuse-tablet/html/js/controls/field/ctrlCheckBox","syracuse-tablet/html/js/controls/field/ctrlCombo","syracuse-tablet/html/js/controls/field/ctrlDate","syracuse-tablet/html/js/controls/array/ctrlArray","syracuse-tablet/html/js/controls/field/ctrlReference","syracuse-tablet/html/js/controls/layout/layoutRow","syracuse-tablet/html/js/controls/layout/layoutStack","syracuse-tablet/html/js/controls/layout/layoutTab","syracuse-tablet/html/js/controls/layout/layoutHub","syracuse-tablet/html/js/controls/layout/layoutHubGroup","syracuse-tablet/html/js/controls/layout/layoutTile","syracuse-tablet/html/js/controls/layout/layoutCell","syracuse-tablet/html/js/controls/vignetteBase","syracuse-tablet/html/js/controls/page/ctrlPageHeader","syracuse-tablet/html/js/controls/page/ctrlPageFooter","syracuse-tablet/html/js/controls/page/regularActionPanel","syracuse-tablet/html/js/controls/page/dashboardActionPanel","syracuse-tablet/html/js/controls/page/navigationPanel","syracuse-tablet/html/js/controls/ctrlTypeUnknown","syracuse-tablet/html/js/controls/ctrlUnfound","syracuse-tablet/html/js/controls/chart/ctrlCubeChart","syracuse-tablet/html/js/controls/field/ctrlBinary","syracuse-tablet/html/js/controls/field/ctrlText","syracuse-tablet/html/js/controls/ctrlIcon","syracuse-tablet/html/js/controls/ctrlButton","syracuse-tablet/html/js/controls/field/ctrlGaugeChart","syracuse-tablet/html/js/controls/ctrlFactory"],function(e,t,n){var r=e("syracuse-tablet/html/js/controls/field/ctrlAlphanum").Klass,i=e("syracuse-tablet/html/js/controls/field/ctrlAlphanum").PhoneField,s=e("syracuse-tablet/html/js/controls/field/ctrlAlphanum").EmailField,o=e("syracuse-tablet/html/js/controls/field/ctrlProgress").Klass,u=e("syracuse-tablet/html/js/controls/field/ctrlNumeric").Klass,a=e("syracuse-tablet/html/js/controls/field/ctrlQuantity").Klass,f=e("syracuse-tablet/html/js/controls/field/ctrlCheckBox").Klass,l=e("syracuse-tablet/html/js/controls/field/ctrlCombo").Klass,c=e("syracuse-tablet/html/js/controls/field/ctrlDate").Klass,h=e("syracuse-tablet/html/js/controls/array/ctrlArray").Klass,p=e("syracuse-tablet/html/js/controls/field/ctrlReference").Klass,d=e("syracuse-tablet/html/js/controls/layout/layoutRow").Klass,v=e("syracuse-tablet/html/js/controls/layout/layoutStack").Klass,m=e("syracuse-tablet/html/js/controls/layout/layoutTab").Klass,g=e("syracuse-tablet/html/js/controls/layout/layoutHub").Klass,y=e("syracuse-tablet/html/js/controls/layout/layoutHubGroup").Klass,b=e("syracuse-tablet/html/js/controls/layout/layoutTile").Klass,w=e("syracuse-tablet/html/js/controls/layout/layoutCell").Klass,E=e("syracuse-tablet/html/js/controls/vignetteBase").Klass,S=e("syracuse-tablet/html/js/controls/page/ctrlPageHeader").Klass,x=e("syracuse-tablet/html/js/controls/page/ctrlPageFooter").Klass,T=e("syracuse-tablet/html/js/controls/page/regularActionPanel").Klass,N=e("syracuse-tablet/html/js/controls/page/dashboardActionPanel").Klass,C=e("syracuse-tablet/html/js/controls/page/navigationPanel").Klass,k=e("syracuse-tablet/html/js/controls/ctrlTypeUnknown").Klass,L=e("syracuse-tablet/html/js/controls/ctrlUnfound").Klass,A=e("syracuse-tablet/html/js/controls/chart/ctrlCubeChart").Klass,O=e("syracuse-tablet/html/js/controls/field/ctrlBinary").Klass,M=e("syracuse-tablet/html/js/controls/field/ctrlText").Klass,_=e("syracuse-tablet/html/js/controls/ctrlIcon").Klass,D=e("syracuse-tablet/html/js/controls/ctrlButton").Klass,P=e("syracuse-tablet/html/js/controls/field/ctrlGaugeChart").Klass,H=e("syracuse-tablet/html/js/controls/ctrlFactory");t.init=function(){H.setImpl("Alphanum",r),H.setImpl("PhoneField",i),H.setImpl("EmailField",s),H.setImpl("ProgressField",s),H.setImpl("Numeric",u),H.setImpl("Quantity",a),H.setImpl("CheckBox",f),H.setImpl("Combo",l),H.setImpl("Date",c),H.setImpl("Array",h),H.setImpl("Reference",p),H.setImpl("LayoutRow",d),H.setImpl("LayoutStack",v),H.setImpl("LayoutTab",m),H.setImpl("LayoutHub",g),H.setImpl("LayoutHubGroup",y),H.setImpl("LayoutTile",b),H.setImpl("LayoutCell",w),H.setImpl("Vignette",E),H.setImpl("PageHeader",S),H.setImpl("PageFooter",x),H.setImpl("RegularActionPanel",T),H.setImpl("DashboardActionPanel",N),H.setImpl("NavigationPanel",C),H.setImpl("TypeUnknown",k),H.setImpl("FieldUnfound",L),H.setImpl("CubeChart",A),H.setImpl("Binary",O),H.setImpl("Text",M),H.setImpl("Icon",_),H.setImpl("Gauge",P),H.setImpl("Button",D)}}),define("syracuse-tablet/html/js/sdata/sdataSort",["require","exports","module"],function(e,t,n){function r(e,t,n){var r=[],i=t.$properties.$resources&&t.$properties.$resources.$item&&t.$properties.$resources.$item.$properties||t.$properties;n.forEach(function(e){var t=e.property,n=e.sort==="DESC"?"DESC":"ASC",s=i[t]&&i[t].$type||"application/x-string";if(s==="application/x-decimal"){if(n==="ASC"){try{r.push(function(e,n){var r=e[t],i=n[t];return+r- +i})}catch(o){}return 0}try{r.push(function(e,n){var r=e[t],i=n[t];return+i- +r})}catch(o){}return 0}n==="ASC"?r.push(function(e,n){try{var r=e[t],i=n[t];if(r>i)return 1;if(r<i)return-1}catch(s){}return 0}):r.push(function(e,n){try{var r=e[t],i=n[t];if(r>i)return-1;if(r<i)return 1}catch(s){}return 0})}),e.sort(function(e,t){var n=0;for(var i=0;i<r.length;i++){n=r[i](e,t);if(n!==0)break}return n})}t.sdataSortArray=r}),define("syracuse-tablet/html/js/sdata/sdataCache",["require","exports","module","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/storage/storage","syracuse-tablet/html/js/sdata/sdatawhere/parser","syracuse-tablet/html/js/sdata/sdatawhere/whereUtils","syracuse-tablet/html/js/sdata/sdataSort"],function(e,t,n){function c(e){this.storage=e,this.context=null}var r=e("syracuse-tablet/html/js/helpers/logger").getLogger("SDataCache"),i=e("syracuse-tablet/html/js/helpers/globals"),s=e("syracuse-tablet/html/js/helpers/utils"),o=e("syracuse-tablet/html/js/storage/storage"),u=e("syracuse-tablet/html/js/sdata/sdatawhere/parser").Parser,a=e("syracuse-tablet/html/js/sdata/sdatawhere/whereUtils"),f=e("syracuse-tablet/html/js/sdata/sdataSort"),l="$cache_",h=s.defineClass(c,null,{setContext:function(e){r&&r("Changing cache context: "+JSON.stringify(e)),this.context=e},cachePrefix:l,put:function(e){var t=$.Deferred(),n=this;try{if(!e.$data)throw new Error("PUT: No data specified");var r,i;if(e.$proto){var s=n._getProto(e.$proto);r=n._getRepresentation(s),i=n._getKeyValue(e.$data,s)}else{if(!e.$representation||!e.$key)throw new Error("PUT: Neither proto nor representation and key specified");r=e.$representation,i=e.$key}n.storage.put({$context:n.context,$collection:l+r,$endpoint:e.$endpoint,$key:i,$data:{$item:e.$data}}).then(function(e){t.resolve()}).fail(function(e){t.reject(e)})}catch(o){t.reject(o)}finally{return t.promise()}},query:function(e){var t=$.Deferred(),n=this;try{var r;if(e.$proto){var i=n._getProto(e.$proto);r=n._getRepresentation(i)}else{if(!e.$representation)throw new Error("QUERY: Neither proto nor representation specified");if(e.$where)throw new Error("QUERY: Where clause parsing requires prototype");if(e.$orderBy)throw new Error("QUERY: Order by requires prototype");r=e.$representation}n.storage.query({$context:n.context,$endpoint:e.$endpoint,$collection:l+r}).then(function(n){var r=[];if(e.$where){var s=u.parse(e.$where);n.$data.forEach(function(e,t){if(a.execWhere(e.$item,s,i)){var o=e.$item,u=n.$metaData[t];o.$cache={$lastRead:u.$lastRead,$lastUpdated:u.$lastUpdated},r.push(o)}})}else n.$data.forEach(function(e,t){var i=e.$item,s=n.$metaData[t];i.$cache={$lastRead:s.$lastRead,$lastUpdated:s.$lastUpdated},r.push(i)});e.$orderBy&&f.sdataSortArray(r,i,e.$orderBy),t.resolve(r)}).fail(function(e){t.reject(e)})}catch(s){t.reject(s)}finally{return t.promise()}},read:function(e){var t=$.Deferred(),n=this;try{var r;if(!e.$key)throw new Error("READ: No key specified");if(e.$proto){var i=n._getProto(e.$proto);r=n._getRepresentation(i)}else{if(!e.$representation)throw new Error("READ: Neither proto nor representation specified");r=e.$representation}n.storage.read({$context:n.context,$collection:l+r,$endpoint:e.$endpoint,$key:e.$key}).then(function(e){if(e.$status===o.StatusCodes.OK){var n=e.$data.$item;n.$cache={$lastRead:e.$metaData.$lastRead,$lastUpdated:e.$metaData.$lastUpdated},t.resolve(n)}else t.resolve(null)}).fail(function(e){t.reject(e)})}catch(s){t.reject(s)}finally{return t.promise()}},remove:function(e){var t=$.Deferred(),n=this;try{var r;if(!e.$key)throw new Error("REMOVE: No key specified");if(e.$proto){var i=n._getProto(e.$proto);r=n._getRepresentation(i)}else{if(!e.$representation)throw new Error("READ: Neither proto nor representation specified");r=e.$representation}n.storage.remove({$context:n.context,$collection:l+r,$endpoint:e.$endpoint,$key:e.$key}).then(function(){t.resolve()}).fail(function(e){t.reject(e)})}catch(s){t.reject(s)}finally{return t.promise()}},clearCache:function(){var e=$.Deferred(),t=this,n=new RegExp(t.cachePrefix.replace(/([\$\_]+)/g,"\\$1"));try{t.storage.clearCollection({$context:t.context,$collection:n}).then(function(){t.storage.clearCollection({$context:i.getEmptyCacheCtx(),$collection:n})}).then(function(){e.resolve()}).fail(function(t){e.reject(t)})}catch(r){e.reject(r)}finally{return e.promise()}},_getProto:function(e){var t=e.$properties.$resources&&e.$properties.$resources.$item||e;return t.$type=e.$type,t},_getRepresentation:function(e){return e.$type.split(".").slice(1,3).join(".").replace("$queryItem","$query")},_getKeyValue:function(e,t){return t.$key.replace(/\{(.*?)\}/g,function(t,n){return e[n]})}});t.SDataCache=h}),define("syracuse-tablet/html/js/sdata/entities/test/example",["require","exports","module"],function(e,t,n){var r=[];for(var i=0;i<100;i++)r.push({$uuid:i,name:"My name is: "+i,desc:"My desc is: "+i,desc2:"My desc2 is: "+i,amount:i*100});t.entity={$entityName:"example",$value:"{name}",$properties:{name:{$type:"application/x-string",$title:"My name"},desc:{$type:"application/x-string",$title:"My description"},desc2:{$type:"application/x-string",$title:"My description 2"},amount:{$type:"application/x-integer",$title:"My amount",$isExcluded:!1,$isHidden:!1,$isMandatory:!1,$isReadOnly:!1,$isDisabled:!1}},$relations:{values:{$type:"exampleChild"}},$articles:{$details:{$layoutType:"stack",$items:[{$layoutType:"row",$items:[{$layoutType:"cell",$widthXs:"6",$items:[{$bind:"name",$isTitleHidden:!1}]},{$bind:"desc",$isTitleHidden:!1}]},{$layoutType:"row",$items:[{$layoutType:"cell",$widthXs:"6",$items:[{$bind:"desc2",$isTitleHidden:!1}]},{$bind:"amount",$isTitleHidden:!1}]}]},$edit:{$layoutType:"stack",$items:[{$layoutType:"row",$items:[{$layoutType:"cell",$widthXs:"6",$items:[{$bind:"name",$isTitleHidden:!0}]},{$layoutType:"cell",$widthXs:"6",$items:[{$bind:"desc",$isTitleHidden:!0}]}]},{$layoutType:"row",$items:[{$layoutType:"cell",$widthXs:"6",$items:[{$bind:"desc2",$isTitleHidden:!1}]},{$layoutType:"cell",$widthXs:"6",$items:[{$bind:"amount",$isTitleHidden:!1}]}]}]}},$services:{$new:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()},$read:function(e,t){var n=$.Deferred();return n.resolve(r[e.$key]),n.promise()},$query:function(e,t){var n=$.Deferred();return n.resolve({$resources:r}),n.promise()},$save:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()},$delete:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()}}}}),define("syracuse-tablet/html/js/sdata/entities/test/exampleHubLayout",["require","exports","module"],function(e,t,n){var r=[];for(var i=0;i<100;i++)r.push({$uuid:i,name:"My name is: "+i,desc:"My desc is: "+i,desc2:"My desc2 is: "+i,amount:i*100});t.entity={$entityName:"exampleHubLayout",$value:"{name}",$properties:{name:{$type:"application/x-string",$title:"My name"},desc:{$type:"application/x-string",$title:"My description"},desc2:{$type:"application/x-string",$title:"My description 2"},amount:{$type:"application/x-integer",$title:"My amount",$isExcluded:!1,$isHidden:!1,$isMandatory:!1,$isReadOnly:!1,$isDisabled:!1}},$relations:{values:{$type:"exampleChild"}},$articles:{$details:{$layoutType:"hub",$items:[{$layoutType:"hubGroup",$title:"Layout group 1",$items:[{$layoutType:"tile",$bgColor:"lime",$size:"full",$items:[{$layoutType:"stack",$items:[{$layoutType:"row",$items:[{$bind:"name",$isTitleHidden:!1},{$bind:"name",$isTitleHidden:!1},{$bind:"name",$isTitleHidden:!1},{$bind:"name",$isTitleHidden:!1},{$bind:"desc",$isTitleHidden:!1}]}]}]},{$layoutType:"tile",$bgColor:"purple",$size:"medium",$items:[{$layoutType:"stack",$items:[{$layoutType:"row",$items:[{$bind:"name",$isTitleHidden:!1},{$bind:"name",$isTitleHidden:!1},{$bind:"name",$isTitleHidden:!1},{$bind:"name",$isTitleHidden:!1},{$bind:"desc",$isTitleHidden:!1}]}]}]},{$layoutType:"tile",$bgColor:"magenta",$size:"medium",$items:[{$layoutType:"stack",$items:[{$layoutType:"row",$items:[{$bind:"name",$isTitleHidden:!1},{$bind:"name",$isTitleHidden:!1},{$bind:"name",$isTitleHidden:!1},{$bind:"name",$isTitleHidden:!1},{$bind:"desc",$isTitleHidden:!1}]}]}]},{$layoutType:"tile",$bgColor:"teal",$size:"wide",$items:[{$layoutType:"stack",$items:[{$layoutType:"row",$items:[{$bind:"name",$isTitleHidden:!1},{$bind:"name",$isTitleHidden:!1},{$bind:"name",$isTitleHidden:!1},{$bind:"name",$isTitleHidden:!1},{$bind:"desc",$isTitleHidden:!1}]}]}]}]},{$layoutType:"hubGroup",$title:"Layout group 2",$items:[{$layoutType:"tile",$bgColor:"orange",$size:"large",$items:[{$layoutType:"stack",$items:[{$layoutType:"row",$items:[{$bind:"name",$isTitleHidden:!1},{$bind:"name",$isTitleHidden:!1},{$bind:"name",$isTitleHidden:!1},{$bind:"name",$isTitleHidden:!1},{$bind:"desc",$isTitleHidden:!1}]}]}]},{$layoutType:"tile",$bgColor:"purple",$size:"medium",$items:[{$layoutType:"stack",$items:[{$layoutType:"row",$items:[{$bind:"name",$isTitleHidden:!1},{$bind:"name",$isTitleHidden:!1},{$bind:"name",$isTitleHidden:!1},{$bind:"name",$isTitleHidden:!1},{$bind:"desc",$isTitleHidden:!1}]}]}]},{$layoutType:"tile",$bgColor:"magenta",$size:"green",$items:[{$layoutType:"stack",$items:[{$layoutType:"row",$items:[{$bind:"name",$isTitleHidden:!1},{$bind:"name",$isTitleHidden:!1},{$bind:"name",$isTitleHidden:!1},{$bind:"name",$isTitleHidden:!1},{$bind:"desc",$isTitleHidden:!1}]}]}]},{$layoutType:"tile",$bgColor:"teal",$size:"wide",$items:[{$layoutType:"stack",$items:[{$layoutType:"row",$items:[{$bind:"name",$isTitleHidden:!1},{$bind:"name",$isTitleHidden:!1},{$bind:"name",$isTitleHidden:!1},{$bind:"name",$isTitleHidden:!1},{$bind:"desc",$isTitleHidden:!1}]}]}]}]}]},$edit:{$layoutType:"stack",$items:[{$layoutType:"row",$widthMd:"6,6",$items:[{$bind:"name",$isTitleHidden:!0},{$bind:"desc",$isTitleHidden:!0}]},{$layoutType:"row",$widthMd:"6,6",$items:[{$bind:"desc2",$isTitleHidden:!1},{$bind:"amount",$isTitleHidden:!1}]}]}},$services:{$new:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()},$read:function(e,t){var n=$.Deferred();return n.resolve(r[e.$key]),n.promise()},$query:function(e,t){var n=$.Deferred();return n.resolve({$resources:r}),n.promise()},$save:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()},$delete:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()}}}}),define("syracuse-tablet/html/js/sdata/entities/test/testDatatypes",["require","exports","module"],function(e,t,n){var r=[],i=!1;for(var s=0;s<10;s++)r.push({$uuid:s,propString:"Simple String="+s,propDate:"2014-03-"+(s+20),propDateTime:"2014-06-"+(s+10)+"T12:45:"+(s+44)+".123Z",propTime:"15:45:"+(s+34),propTimeShort:"15:45:"+(s+34),propInt:s*1e3+s*10,propDecimal:Math.sqrt(s*1e3+s*10),propReal:Math.sqrt(s*1e3+s*30),propBoolean:i=!i,propChoice:"mr",propQuantity:s*123,propStringUnit:"EUR",propStringMandatory:"Mandatory",propDecimalMandatory:"",propStringMinMax:"",propStringMinMaxValue:"",propStringPattern:""});var o={$entityName:"testDataTypes",$properties:{propString:{$type:"application/x-string",$isMandatory:!1,$title:"My name (max len 25)",$maxLength:25},propStringMandatory:{$type:"application/x-string",$isMandatory:!0,$title:"String Madatory"},propStringMinMax:{$type:"application/x-string",$title:"String MinMaxLength(3-5)",$minLength:3,$maxLength:5},propStringMinMaxValue:{$type:"application/x-integer",$isMandatory:!1,$title:"Integer MinMaxValue(3-50)",$minimun:"3",$maximun:"50"},propStringPattern:{$type:"application/x-string",$title:"Pattern",$maxLength:40},propDate:{$type:"application/x-date",$isMandatory:!1,$title:"Date"},propDateTime:{$type:"application/x-datetime",$isMandatory:!1,$title:"Date+Time"},propTime:{$type:"application/x-time",$isMandatory:!1,$title:"Time long",$format:"TT"},propTimeShort:{$type:"application/x-time",$isMandatory:!1,$title:"Time"},propInt:{$type:"application/x-integer",$isMandatory:!1,$title:"Integer (1-7000 Max)",$minimun:"1",$maximun:"7000"},propDecimalMandatory:{$type:"application/x-decimal",$isMandatory:!0,$title:"Decimal mandatory(2.4)",$scale:2,$precision:4,$format:"0.00"},propDecimal:{$type:"application/x-decimal",$isMandatory:!1,$title:"Decimal(4.7)",$scale:4,$precision:7,$format:"0.0000"},propReal:{$type:"application/x-real",$isMandatory:!1,$title:"Real"},propBoolean:{$type:"application/x-boolean",$isMandatory:!1,$title:"Boolean"},propChoice:{$type:"application/x-choice",$isMandatory:!1,$title:"Choice",$value:{$enum:[{$title:"Mr.",$value:"mr"},{$title:"Mrs.",$value:"mrs"}],$type:"application/x-string"}},propQuantity:{$title:"Quantity",$type:"application/x-quantity",$value:{$title:"{$value} {$unit}",$type:"application/x-decimal",$scale:9,$precision:2,$format:"0.00"},$unit:"propStringUnit"},propStringUnit:{$type:"application/x-string",$isMandatory:!1,$isExcluded:!0,$title:"Unit for quantity"},propStringM:{$type:"application/x-string",$isMandatory:!0,$title:"My name"},propDateM:{$type:"application/x-date",$isMandatory:!0,$title:"Date (Mandatory)"},propDateTimeM:{$type:"application/x-datetime",$isMandatory:!0,$title:"Date+Time (Mandatory)"},propTimeM:{$type:"application/x-time",$isMandatory:!0,$title:"Time (Mandatory)"},propIntM:{$type:"application/x-integer",$isMandatory:!0,$title:"Integer (Mandatory)"},propDecimalM:{$type:"application/x-decimal",$isMandatory:!0,$title:"Decimal (Mandatory)"},propRealM:{$type:"application/x-real",$isMandatory:!0,$title:"Real (Mandatory)"},propBooleanM:{$type:"application/x-boolean",$isMandatory:!0,$title:"Boolean (Mandatory)"}},$relations:{},$articles:{},$services:{$new:function(e,t){var n=$.Deferred(),r=15,s={$uuid:r,propString:"Simple String="+r,propDate:"2014-03-"+r,propDateTime:"2014-06-"+r+"T12:45:"+(r+44)+".234Z",propTime:"15:45:"+(r+34),propInt:r*1e3+r*10,propDecimal:Math.sqrt(r*1e3+r*10),propReal:Math.sqrt(r*1e3+r*30),propBoolean:i=!i};return n.resolve(s),n.promise()},$read:function(e,t){var n=$.Deferred();return n.resolve(r[e.$key]),n.promise()},$query:function(e,t){var n=$.Deferred();return n.resolve({$resources:r}),n.promise()},$save:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()},$delete:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()}}};t.entity=o}),define("syracuse-tablet/html/js/sdata/entities/test/testFormats",["require","exports","module"],function(e,t,n){var r=[],i=!1;for(var s=0;s<10;s++)r.push({$uuid:s,propDate1:"2014-03-"+(s+20),propDateTime1:"2014-06-"+(s+10)+" 12:45:"+(s+44),propTime1:"15:45:"+(s+34),propInt1:s*1e3+s*10,propDecimal1:Math.sqrt(s*1e3+s*10),propReal1:Math.sqrt(s*1e3+s*30),propDate2:"2014-03-"+(s+20),propDateTime2:"2014-06-"+(s+10)+" 12:45:"+(s+44),propTime2:"15:45:"+(s+34),propInt2:s*1e3+s*10,propDecimal2:Math.sqrt(s*1e3+s*10),propReal2:Math.sqrt(s*1e3+s*30)});t.entity={$entityName:"testFormats",$properties:{propDate1:{$type:"application/x-date",$title:"Date"},propDateTime1:{$type:"application/x-datetime",$title:"Date+Time"},propTime1:{$type:"application/x-time",$title:"Time"},propInt1:{$type:"application/x-integer",$title:"Integer"},propDecimal1:{$type:"application/x-decimal",$title:"Decimal"},propReal1:{$type:"application/x-real",$title:"Real"},propDate2:{$type:"application/x-date",$title:"Date"},propDateTime2:{$type:"application/x-datetime",$title:"Date+Time"},propTime2:{$type:"application/x-time",$title:"Time"},propInt2:{$type:"application/x-integer",$title:"Integer"},propDecimal2:{$type:"application/x-decimal",$title:"Decimal"},propReal2:{$type:"application/x-real",$title:"Real"}},$relations:{},$articles:{},$services:{$new:function(e,t){var n=$.Deferred();return n.resolve({}),n.promise()},$read:function(e,t){var n=$.Deferred();return n.resolve(r[e.$key]),n.promise()},$query:function(e,t){var n=$.Deferred();return n.resolve({$resources:r}),n.promise()},$save:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()},$delete:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()}}}}),define("syracuse-tablet/html/js/sdata/entities/test/testFormatsReference",["require","exports","module"],function(e,t,n){var r=["Labe","Labuan","La Rochelle","Las Vegas","Las Palmas","Liege","Libreville","Lille","Liverpool","Leipzig","Lucknow","London"],i=["LEK","LBU","LRH","LAS","LPA","LGG","LBV","LIL","LPL","LEJ","LKO","LON"],s={SITE_REF:{$description:"Paris",FCY:"PAR"},SITE_REF_1:{$description:"Yaounde",FCY:"YDE"},SITE_REF_2:{$description:"London",FCY:"LON"},SITE_REF_3:{$description:"Lisbon",FCY:"LIS"}},o=[],u=-1,a=-1;for(var f=0;f<3;f++)o.push({$uuid:f,SITE_REF:{$description:r[++u],FCY:i[++a]},SITE_REF_1:{$description:r[++u],FCY:i[++a]},SITE_REF_2:{$description:r[++u],FCY:i[++a]},SITE_REF_3:{$description:r[++u],FCY:i[++a]}});t.entity={$entityName:"testFormatsReference",$baseUrl:"http://localhost:8124/mobile1/x3/erp/SUPERV",$properties:{SITE:{$type:"application/x-string",$maxLength:5,$isExcluded:!0},SITE_REF:{$type:"application/x-reference",$title:"Reference",$shortTitle:"Reference",$capabilities:"sort,filter",$item:{$url:"{$baseUrl}/testFormatsReference('{$key}')?representation=testFormatsReference.$lookup",$value:"{FCY}",FCY:"{SITE}",$key:"{FCY}",$properties:{FCY:{$type:"application/x-string"}},$links:{$details:{$title:"details",$target:"",$type:"application/json;vnd.sage=syracuse",$url:"{$baseUrl}/testFormatsReference('{SITE}')?representation=testFormatsReference.$details",$method:"GET"},$lookup:{$title:"lookup",$type:"application/json;vnd.sage=syracuse",$url:"{$baseUrl}/testFormatsReference?representation=testFormatsReference.$lookup",$method:"GET"},$query:{$title:"query",$target:"",$type:"application/json;vnd.sage=syracuse",$url:"{$baseUrl}/testFormatsReference?representation=testFormatsReference.$query",$method:"GET"},SIT1:{$title:"SIT1",$target:"main",$type:"application/json;vnd.sage=syracuse",$url:"https://maps.google.de/maps?q={SITE}&t=Default",$method:"GET"}}}},SITE_REF_1:{$type:"application/x-reference",$title:"Reference 1",$shortTitle:"Reference 1",$capabilities:"sort,filter",$item:{$url:"{$baseUrl}/testFormatsReference('{$key}')?representation=testFormatsReference.$lookup",$value:"{FCY}",FCY:"{SITE}",$key:"{FCY}",$properties:{FCY:{$type:"application/x-string"}},$links:{$details:{$title:"details",$target:"",$type:"application/json;vnd.sage=syracuse",$url:"{$baseUrl}/testFormatsReference('{SITE}')?representation=testFormatsReference.$details",$method:"GET"},$lookup:{$title:"lookup",$type:"application/json;vnd.sage=syracuse",$url:"{$baseUrl}/testFormatsReference?representation=testFormatsReference.$lookup",$method:"GET"},$query:{$title:"query",$target:"",$type:"application/json;vnd.sage=syracuse",$url:"{$baseUrl}/testFormatsReference?representation=testFormatsReference.$query",$method:"GET"},SIT1:{$title:"SIT1",$target:"main",$type:"application/json;vnd.sage=syracuse",$url:"https://maps.google.de/maps?q={SITE}&t=Default",$method:"GET"}}}},SITE_REF_2:{$type:"application/x-reference",$title:"Reference 2",$shortTitle:"Reference 2",$capabilities:"sort,filter",$item:{$url:"{$baseUrl}/testFormatsReference('{$key}')?representation=testFormatsReference.$lookup",$value:"{FCY}",FCY:"{SITE}",$key:"{FCY}",$properties:{FCY:{$type:"application/x-string"}},$links:{$details:{$title:"details",$target:"",$type:"application/json;vnd.sage=syracuse",$url:"{$baseUrl}/testFormatsReference('{SITE}')?representation=testFormatsReference.$details",$method:"GET"},$lookup:{$title:"lookup",$type:"application/json;vnd.sage=syracuse",$url:"{$baseUrl}/testFormatsReference?representation=testFormatsReference.$lookup",$method:"GET"},$query:{$title:"query",$target:"",$type:"application/json;vnd.sage=syracuse",$url:"{$baseUrl}/testFormatsReference?representation=testFormatsReference.$query",$method:"GET"},SIT1:{$title:"SIT1",$target:"main",$type:"application/json;vnd.sage=syracuse",$url:"https://maps.google.de/maps?q={SITE}&t=Default",$method:"GET"}}}},SITE_REF_3:{$type:"application/x-reference",$title:"Reference 3",$shortTitle:"Reference 3",$capabilities:"sort,filter",$item:{$url:"{$baseUrl}/testFormatsReference('{$key}')?representation=testFormatsReference.$lookup",$value:"{FCY}",FCY:"{SITE}",$key:"{FCY}",$properties:{FCY:{$type:"application/x-string"}},$links:{$details:{$title:"details",$target:"",$type:"application/json;vnd.sage=syracuse",$url:"{$baseUrl}/testFormatsReference('{SITE}')?representation=testFormatsReference.$details",$method:"GET"},$lookup:{$title:"lookup",$type:"application/json;vnd.sage=syracuse",$url:"{$baseUrl}/testFormatsReference?representation=testFormatsReference.$lookup",$method:"GET"},$query:{$title:"query",$target:"",$type:"application/json;vnd.sage=syracuse",$url:"{$baseUrl}/testFormatsReference?representation=testFormatsReference.$query",$method:"GET"},SIT1:{$title:"SIT1",$target:"main",$type:"application/json;vnd.sage=syracuse",$url:"https://maps.google.de/maps?q={SITE}&t=Default",$method:"GET"}}}}},$relations:{},$articles:{$details:{$layoutType:"stack",$items:[{$bind:"SITE_REF",$title:"Ref field 1"},{$bind:"SITE_REF_1",$title:"Ref field 2"},{$bind:"SITE_REF_2",$title:"Ref field 3"},{$bind:"SITE_REF_3",$title:"Ref field 4"}]},$edit:{$layoutType:"stack",$items:[{$bind:"SITE_REF",$title:"Ref field 1"},{$bind:"SITE_REF_1",$title:"Ref field 2"},{$bind:"SITE_REF_2",$title:"Ref field 3"},{$bind:"SITE_REF_3",$title:"Ref field 4"}]}},$services:{$new:function(e,t){var n=$.Deferred();return n.resolve({}),n.promise()},$read:function(e,t){var n=$.Deferred();return n.resolve(s),n.promise()},$query:function(e,t){var n=$.Deferred();return n.resolve({$resources:o}),n.promise()},$save:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()},$delete:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()}}}}),define("syracuse-tablet/html/js/sdata/entities/test/testCharts",["require","exports","module"],function(e,t,n){var r=[{part:"Gear",value:50,revenue:40,margin:10},{part:"Motor",value:60,revenue:40,margin:20},{part:"Head drive",value:60,revenue:80,margin:-20},{part:"Handwheel",value:70,revenue:90,margin:10},{part:"Crank",value:70,revenue:70,margin:0},{part:"Saddle",value:80,revenue:30,margin:50},{part:"Base",value:20,revenue:40,margin:-20},{part:"Spindle",value:10,revenue:0,margin:10}];t.entity={$entityName:"testCharts",$properties:{part:{$type:"application/x-string",$title:"Item"},value:{$type:"application/x-decimal",$title:"Value",$format:"0.0000"},revenue:{$type:"application/x-decimal",$title:"Revenue",$format:"0.0000"},margin:{$type:"application/x-decimal",$title:"Margin",$format:"0.0000"}},$prototype:function(e){var t=e.$properties&&e.$properties.$resources;t&&(t.$axes=[{$title:"Item",$hierarchies:[["part"]]},{$hierarchies:[["$measures"]]}],t.$cube={$title:"Sales overview",$hierarchies:{part:{$properties:["part"]}},$measures:{value:{},revenue:{},margin:{}}})},$relations:{},$articles:{},$services:{$new:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()},$read:function(e,t){var n=$.Deferred();return n.resolve(r[e.$key]),n.promise()},$query:function(e,t){var n=$.Deferred();return n.resolve({$resources:r}),n.promise()},$save:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()},$delete:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()}}}}),define("syracuse-tablet/html/js/sdata/entities/test/testConstraints",["require","exports","module"],function(e,t,n){var r=[],i=!1;for(var s=0;s<10;s++)r.push({$uuid:s,propString:"Test "+s,propString2:"Some text "+s,propString3:"Fill me "+s,propInt:s*1e3+s*10,propInt2:s*1e3+s*100,propDecimal:Math.sqrt(s*1e3+s*10),propDecimal2:Math.sqrt(s*1e3+s*100),propDecimal3:Math.sqrt(s*1e3+s*110),propDecimal4:Math.sqrt(s*1e3+s*120),propQuantity:s*123,propStringUnit:"EUR"});t.entity={$entityName:"testConstraints",$properties:{propString:{$title:"Test: $pattern=Test.*\\d$",$type:"application/x-string",$isMandatory:!0,$pattern:"Test.*\\d$"},propString2:{$title:"Test: $minLength=5, $maxLength=15",$type:"application/x-string",$isMandatory:!0,$minLength:5,$maxLength:15},propString3:{$title:"Test: $minLength=5, $maxLength=15, $pattern=Fill me.*\\d$",$type:"application/x-string",$isMandatory:!0,$pattern:"Fill me.*\\d$",$minLength:5,$maxLength:15},propInt:{$title:"Test: $minimum=100, $maximum=200",$type:"application/x-integer",$isMandatory:!0,$minimum:100,$maximum:200},propInt2:{$title:"Test: $exclusiveMinimum=100, $exclusiveMaximum=200",$type:"application/x-integer",$isMandatory:!0,$exclusiveMinimum:100,$exclusiveMaximum:200},propDecimal:{$title:"Test: $format=0.0000",$type:"application/x-decimal",$isMandatory:!0,$format:"0.0000"},propDecimal2:{$title:"Test: $format=0.00",$type:"application/x-decimal",$isMandatory:!0,$format:"0.00"},propDecimal3:{$title:"Test: $precision=10",$type:"application/x-decimal",$isMandatory:!0,$precision:10},propDecimal4:{$title:"Test: $scale=3",$type:"application/x-decimal",$isMandatory:!0,$scale:3,$format:"0.00000"},propQuantity:{$title:"Test: $format=0.00",$isMandatory:!0,$type:"application/x-quantity",$value:{$title:"{$value} {$unit}",$type:"application/x-decimal",$scale:9,$precision:2,$format:"0.00"},$unit:"propStringUnit"},propStringUnit:{$title:"Unit for quantity",$type:"application/x-string",$isMandatory:!1,$isExcluded:!0}},$relations:{},$articles:{},$services:{$new:function(e,t){var n=$.Deferred(),r=15,i={$uuid:r,propString:"Simple String="+r,propInt:r*1e3+r*10,propDecimal:Math.sqrt(r*1e3+r*10)};return n.resolve(i),n.promise()},$read:function(e,t){var n=$.Deferred();return n.resolve(r[e.$key]),n.promise()},$query:function(e,t){var n=$.Deferred();return n.resolve({$resources:r}),n.promise()},$save:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()},$delete:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()}}}}),define("syracuse-tablet/html/js/sdata/entities/test/testNavigateTo",["require","exports","module"],function(e,t,n){var r=[];for(var i=0;i<10;i++)r.push({$uuid:i,name:"Customer group "+i,group:""+i});t.entity={$entityName:"testNavigateTo",$properties:{name:{$title:"Customer group name",$type:"application/x-string"},group:{$title:"Customer group",$type:"application/x-string"}},$prototype:function(e){var t=e.$properties&&e.$properties.$resources&&e.$properties.$resources.$item&&e.$properties.$resources.$item.$links||{};t.DASHBOARD={$title:"Show details",$url:"{$baseUrl}/$mobileDashboards?dashboard=testContextDashboardChild&parameters=group%3D%7Bgroup%7D"}},$relations:{},$articles:{},$services:{$new:function(e,t){var n=$.Deferred(),r=15,i={$uuid:r,propString:"Simple String="+r,propInt:r*1e3+r*10,propDecimal:Math.sqrt(r*1e3+r*10)};return n.resolve(i),n.promise()},$read:function(e,t){var n=$.Deferred();return n.resolve(r[e.$key]),n.promise()},$query:function(e,t){var n=$.Deferred();return n.resolve({$resources:r}),n.promise()},$save:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()},$delete:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()}}}}),define("syracuse-tablet/html/js/sdata/entities/test/testNavigateToChild",["require","exports","module"],function(e,t,n){var r=[];for(var i=0;i<10;i++)for(var s=0;s<10;s++)r.push({$uuid:i*10+s,name:"Customer "+i*10+s,desc:"Belongs to group "+i,group:""+i});t.entity={$entityName:"testNavigateToChild",$properties:{name:{$title:"Customer name",$type:"application/x-string"},desc:{$title:"Description",$type:"application/x-string"},group:{$title:"Customer group",$type:"application/x-string"}},$relations:{},$articles:{},$services:{$new:function(e,t){var n=$.Deferred(),r=15,i={$uuid:r,propString:"Simple String="+r,propInt:r*1e3+r*10,propDecimal:Math.sqrt(r*1e3+r*10)};return n.resolve(i),n.promise()},$read:function(e,t){var n=$.Deferred();return n.resolve(r[e.$key]),n.promise()},$query:function(e,t){var n=$.Deferred();return n.resolve({$resources:r}),n.promise()},$save:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()},$delete:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()}}}}),define("syracuse-tablet/html/js/sdata/entities/test/testPropertyHideShow",["require","exports","module"],function(e,t,n){var r=[],i=!1;for(var s=0;s<10;s++)r.push({$uuid:s,propStringShow:"Simple String="+s,propStringHide:"Simple String="+s,propStringReadOnly:"ReadOnly String="+s,propStringDisabled:"Disabled=true String="+s,propStringDisabledFalse:"Disabled=false String="+s,propDate:"2014-03-"+(s+20),propDateHide:"2014-03-"+(s+20),propDateDisabled:"2014-03-"+(s+20),propDateReadOnly:"2014-03-"+(s+20),propDateTime:"2014-06-"+(s+10)+"T12:45:"+(s+44)+".123Z",propDateTimeHide:"2014-06-"+(s+10)+"T12:45:"+(s+44)+".123Z",propDateTimeDisabled:"2014-06-"+(s+10)+"T12:45:"+(s+44)+".123Z",propTime:"15:45:"+(s+34),propTimeHide:"15:45:"+(s+34),propTimeDisabled:"15:45:"+(s+34),propInt:s*1e3+s*10,propIntHide:s*1e3+s*10,propIntDisabled:s*1e3+s*10,propIntReadOnly:s*1e3+s*10,propDecimal:Math.sqrt(s*1e3+s*10),propDecimalHide:Math.sqrt(s*1e3+s*10),propDecimalDisabled:Math.sqrt(s*1e3+s*10),propDecimalReadOnly:Math.sqrt(s*1e3+s*10),propReal:Math.sqrt(s*1e3+s*30),propBoolean:i=!i,propBooleanHidden:i=!i,propBooleanDisabled:i=!i,propChoice:"mr",propChoiceHidden:"mr",propChoiceDisabled:"mr",propQuantity:s*123,propStringUnit:"EUR",propQuantityExcluded:s*123,propStringUnitExcluded:"USD"});t.entity={$entityName:"testPropertyHideShow",$properties:{propStringShow:{$type:"application/x-string",$isMandatory:!0,$title:"String Mandatory $isHidden: false",$isHidden:!1},propStringHide:{$type:"application/x-string",$isMandatory:!1,$title:"String $isHidden: true",$isHidden:!0},propStringReadOnly:{$type:"application/x-string",$title:"String $isReadOnly: true",$isReadOnly:!0},propStringDisabledFalse:{$type:"application/x-string",$title:"String $isDisabled: false",$isDisabled:!1},propStringDisabled:{$type:"application/x-string",$title:"String $isDisabled: true",$isDisabled:!0},propDate:{$type:"application/x-date",$isMandatory:!1,$title:"Date $isHidden: false",$isHidden:!1},propDateHide:{$type:"application/x-date",$isMandatory:!1,$title:"Date $isHidden: true",$isHidden:!0},propDateDisabled:{$type:"application/x-date",$isMandatory:!1,$title:"Date $isDisabled: true",$isDisabled:!0},propDateReadOnly:{$type:"application/x-date",$isMandatory:!1,$title:"Date $isReadOnly: true",$isReadOnly:!0},propDateTime:{$type:"application/x-datetime",$isMandatory:!1,$title:"Date+Time $isHidden: false",$isHidden:!1},propDateTimeHide:{$type:"application/x-datetime",$isMandatory:!1,$title:"Date+Time $isHidden: true",$isHidden:!0},propDateTimeDisabled:{$type:"application/x-datetime",$isMandatory:!1,$title:"Date+Time $isDisabled: true",$isDisabled:!0},propTime:{$type:"application/x-time",$isMandatory:!1,$title:"Time long",$format:"TT"},propTimeHide:{$type:"application/x-time",$isMandatory:!1,$title:"Time $isHidden: true",$isHidden:!0},propTimeDisabled:{$type:"application/x-time",$isMandatory:!1,$title:"Time $isDisabled: true",$isDisabled:!0},propInt:{$type:"application/x-integer",$isMandatory:!1,$title:"Integer ($isHidden: false)",$isHidden:!1},propIntHide:{$type:"application/x-integer",$isMandatory:!1,$title:"Integer ($isHidden: true)",$isHidden:!0},propIntDisabled:{$type:"application/x-integer",$isMandatory:!1,$title:"Integer ($isDisabled: true)",$isDisabled:!0},propIntReadOnly:{$type:"application/x-integer",$isMandatory:!1,$title:"Integer ($isReadOnly: true)",$isReadOnly:!0},propDecimal:{$type:"application/x-decimal",$isMandatory:!1,$title:"Decimal $isHidden: false",$isHidden:!1},propDecimalHide:{$type:"application/x-decimal",$isMandatory:!1,$title:"Decimal $isHidden: true",$isHidden:!0},propDecimalDisabled:{$type:"application/x-decimal",$isMandatory:!1,$title:"Decimal $isDisabled: true",$isDisabled:!0},propDecimalReadOnly:{$type:"application/x-decimal",$isMandatory:!1,$title:"Decimal $isReadOnly: true",$isReadOnly:!0},propReal:{$type:"application/x-real",$isMandatory:!1,$title:"Real"},propBoolean:{$type:"application/x-boolean",$isMandatory:!1,$title:"Boolean"},propBooleanHidden:{$type:"application/x-boolean",$isMandatory:!1,$title:"Boolean ($isHidden: true)",$isHidden:!0},propBooleanDisabled:{$type:"application/x-boolean",$isMandatory:!1,$title:"Boolean ($isDisabled: true)",$isDisabled:!0},propChoice:{$type:"application/x-choice",$isMandatory:!1,$title:"Choice",$value:{$enum:[{$title:"Mr.",$value:"mr"},{$title:"Mrs.",$value:"mrs"}],$type:"application/x-string"}},propChoiceHidden:{$type:"application/x-choice",$isMandatory:!1,$title:"Choice($isHidden: true)",$isHidden:!0,$value:{$enum:[{$title:"Mr.",$value:"mr"},{$title:"Mrs.",$value:"mrs"}],$type:"application/x-string"}},propChoiceDisabled:{$type:"application/x-choice",$isMandatory:!1,$title:"Choice ($isDisabled: true)",$isDisabled:!0,$value:{$enum:[{$title:"Mr.",$value:"mr"},{$title:"Mrs.",$value:"mrs"}],$type:"application/x-string"}},propQuantity:{$title:"Quantity ($unit $isExcluded: false)",$type:"application/x-quantity",$value:{$title:"{$value} {$unit}",$type:"application/x-decimal",$scale:9,$precision:2,$format:"0.00"},$unit:"propStringUnit"},propStringUnit:{$type:"application/x-string",$isMandatory:!1,$isExcluded:!1,$title:"Unit for quantity ($isExcluded: false)"},propQuantityExcluded:{$title:"Quantity($unit $isExcluded: true)",$type:"application/x-quantity",$value:{$title:"{$value} {$unit}",$type:"application/x-decimal",$scale:9,$precision:2,$format:"0.00"},$unit:"propStringUnitExcluded"},propStringUnitExcluded:{$type:"application/x-string",$isMandatory:!1,$isExcluded:!0,$title:"Unit for quantity ($isExcluded: true)"}},$relations:{},$articles:{},$services:{$new:function(e,t){var n=$.Deferred(),r=15,s={$uuid:r,propString:"Simple String="+r,propDate:"2014-03-"+r,propDateTime:"2014-06-"+r+"T12:45:"+(r+44)+".234Z",propTime:"15:45:"+(r+34),propInt:r*1e3+r*10,propDecimal:Math.sqrt(r*1e3+r*10),propReal:Math.sqrt(r*1e3+r*30),propBoolean:i=!i};return n.resolve(s),n.promise()},$read:function(e,t){var n=$.Deferred();return n.resolve(r[e.$key]),n.promise()},$query:function(e,t){var n=$.Deferred();return n.resolve({$resources:r}),n.promise()},$save:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()},$delete:function(e,t){var n=$.Deferred();return n.resolve(),n.promise()}}}}),define("syracuse-tablet/html/js/sdata/entities/test/testGaugeChart",["require","exports","module"],function(e,t,n){var r={salesOp:"75.0000000000",salesValue:"133000.0000000000",salesValueMin:"100000.0000000000",salesValueMax:"150000.0000000000"},i={$entityName:"testGaugeChart",$properties:{salesOp:{$title:"sale opportunity",$type:"application/x-decimal",$capabilities:"sort,filter"},salesValue:{$title:"sales value",$type:"application/x-decimal",$capabilities:"sort,filter"},salesValueMin:{$title:"sales value min",$type:"application/x-decimal",$capabilities:"sort,filter"},salesValueMax:{$title:"sales value max",$type:"application/x-decimal",$capabilities:"sort,filter"}},$relations:{},$articles:{},$services:{$read:function(e,t){var n=$.Deferred();return n.resolve(r),n.promise()}}};t.entity=i}),define("syracuse-tablet/html/js/sdata/entities/test/testHomeDashboard",["require","exports","module"],function(e,t,n){t.dashboards={testHomeDashboard:{$dashboardName:"testHomeDashboard",$title:"Main test dashboard",$description:"This dashboard links to different dashboards used for every kind of UI tests",$vignettes:{testLayoutsDashboard:{$uuid:"testLayoutsDashboard",$displayStyle:"$link"},testTypesDashboard:{$uuid:"testTypesDashboard",$displayStyle:"$link"},testTypesDashboard2:{$uuid:"testTypesDashboard2",$displayStyle:"$link"},testFormatsDashboard:{$uuid:"testFormatsDashboard",$displayStyle:"$link"},testGX3APPDashboard:{$uuid:"testGX3APPDashboard",$displayStyle:"$link"},testSUPERVDashboard:{$uuid:"testSUPERVDashboard",$displayStyle:"$link"},testChartsDashboard:{$uuid:"testChartsDashboard",$displayStyle:"$link"},testSUPERVDashboard2:{$uuid:"testSUPERVDashboard2",$displayStyle:"$link"},testGX3APPDashboard2:{$uuid:"testGX3APPDashboard2",$displayStyle:"$link"},testConstraintsDashboard:{$uuid:"testConstraintsDashboard",$displayStyle:"$link"},testContextDashboard:{$uuid:"testContextDashboard",$displayStyle:"$link"},testPropertyHideShowDashboard:{$uuid:"testPropertyHideShowDashboard",$displayStyle:"$link"},testAQTACTNPDashboard:{$uuid:"testAQTACTNPDashboard",$displayStyle:"$link"},testSyDevDashboard:{$uuid:"testSyDevDashboard",$displayStyle:"$link"},testGaugeChartDashboard:{$uuid:"testGaugeChartDashboard",$displayStyle:"$link"},testGridDashboard:{$uuid:"testGridDashboard",$displayStyle:"$link"}},$article:{$layoutType:"hub",$items:[{$layoutType:"hubGroup",$title:"Client only",$items:[{$layoutType:"tile",$bgColor:"magenta",$items:[{$bind:"testLayoutsDashboard"}],$size:"small"},{$layoutType:"tile",$bgColor:"brown",$items:[{$bind:"testFormatsDashboard"}],$size:"small"},{$layoutType:"tile",$bgColor:"brown",$items:[{$bind:"testTypesDashboard"}],$size:"small"},{$layoutType:"tile",$bgColor:"red",$items:[{$bind:"testConstraintsDashboard"}],$size:"small"},{$layoutType:"tile",$bgColor:"lime",$items:[{$bind:"testChartsDashboard"}],$size:"medium"},{$layoutType:"tile",$bgColor:"blue",$items:[{$bind:"testContextDashboard"}],$size:"medium"},{$layoutType:"tile",$bgColor:"purple",$items:[{$bind:"testPropertyHideShowDashboard"}],$size:"small"},{$layoutType:"tile",$bgColor:"lime",$items:[{$bind:"testGaugeChartDashboard"}],$size:"small"}]},{$layoutType:"hubGroup",$title:"SUPERV endpoint",$items:[{$layoutType:"tile",$bgColor:"green",$items:[{$bind:"testSUPERVDashboard"}]},{$layoutType:"tile",$bgColor:"teal",$items:[{$bind:"testGridDashboard"}]}]},{$layoutType:"hubGroup",$title:"GX3APP endpoint",$items:[{$layoutType:"tile",$bgColor:"blue",$items:[{$bind:"testGX3APPDashboard"}]},{$layoutType:"tile",$bgColor:"teal",$items:[{$bind:"testGX3APPDashboard2"}]}]},{$layoutType:"hubGroup",$title:"SYDEV endpoint",$items:[{$layoutType:"tile",$bgColor:"magenta",$items:[{$bind:"testSyDevDashboard"}]}]},{$layoutType:"hubGroup",$title:"Default endpoint",$items:[{$layoutType:"tile",$bgColor:"red",$items:[{$bind:"testAQTACTNPDashboard"}]},{$layoutType:"tile",$bgColor:"brown",$items:[{$bind:"testTypesDashboard2"}],$size:"medium"}]}]}}},t.gadgets={testLayoutsDashboard:{$type:"$dashboard",$title:"Layout tests",$description:"Layout tests",dashboardName:"testLayoutsDashboard"},testTypesDashboard:{$type:"$dashboard",$title:"Datatype tests",$description:"Datatype tests",dashboardName:"testTypesDashboard"},testTypesDashboard2:{$type:"$dashboard",$title:"Datatype AQTCRUD",$description:"Datatype AQTCRUD",dashboardName:"testTypesDashboard2"},testFormatsDashboard:{$type:"$dashboard",$title:"Formats tests",$description:"Formats tests",dashboardName:"testFormatsDashboard"},testGX3APPDashboard:{$type:"$dashboard",$title:"GX3APP tests",$description:"GX3APP tests",dashboardName:"testGX3APPDashboard"},testSUPERVDashboard:{$type:"$dashboard",$title:"SUPERV tests",$description:"SUPERV tests",dashboardName:"testSUPERVDashboard"},testChartsDashboard:{$type:"$dashboard",$title:"Charts tests",$description:"Charts tests",dashboardName:"testChartsDashboard"},testSUPERVDashboard2:{$type:"$dashboard",$title:"AQMCRUD",$description:"AQMCRUD default endpoint",dashboardName:"testSUPERVDashboard2"},testGX3APPDashboard2:{$type:"$dashboard",$title:"GX3APP Cost",$description:"GX3APP Cost",dashboardName:"testGX3APPDashboard2"},testConstraintsDashboard:{$type:"$dashboard",$title:"SData constraints",$description:"SData constraints",dashboardName:"testConstraintsDashboard"},testContextDashboard:{$type:"$dashboard",$title:"Dashboard with context",$description:"Dashboard with context",dashboardName:"testContextDashboard"},testPropertyHideShowDashboard:{$type:"$dashboard",$title:"Property Hide Show",$description:"Dashboard PropertyHideShow",dashboardName:"testPropertyHideShowDashboard"},testAQTACTNPDashboard:{$type:"$dashboard",$title:"AQTACTNP Create facet",$description:"AQTACTNP Create facet",dashboardName:"testAQTACTNPDashboard"},testSyDevDashboard:{$type:"$dashboard",$title:"Sydev entities",$description:"Sydev entities",dashboardName:"testSyDevDashboard"},testGaugeChartDashboard:{$type:"$dashboard",$title:"Test gauge chart",$description:"Test gauge chart",dashboardName:"testGaugeChartDashboard"},testGridDashboard:{$type:"$dashboard",$title:"Test grid authoring",$description:"Test grid authoring",dashboardName:"testGridDashboard"}}}),define("syracuse-tablet/html/js/sdata/entities/test/testLayoutsDashboard",["require","exports","module"],function(e,t,n){t.dashboards={testLayoutsDashboard:{$dashboardName:"testLayoutsDashboard",$title:"Layout test dashboard",$description:"Test different kinds of layouts",$vignettes:{testLayoutHubDashboard:{$uuid:"testLayoutHubDashboard",$displayStyle:"$link"},testLayoutRowsDashboard:{$uuid:"testLayoutRowsDashboard",$displayStyle:"$link"},testLongQuery:{$uuid:"testLongQuery",$displayStyle:"$link"},testHubLayoutEntity:{$uuid:"testHubLayoutEntity",$displayStyle:"$link"}},$article:{$layoutType:"stack",$items:[{$layoutType:"row",$rowHeight:"150px",$items:[{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testLayoutHubDashboard"}]},{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testLayoutRowsDashboard"}]},{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testLongQuery"}]},{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testHubLayoutEntity"}]}]}]}},testLayoutHubDashboard:{$dashboardName:"testLayoutHubDashboard",$title:"Hub dashboard (scroll horizontal)",$description:"Horizontal scrolling dashboard",$vignettes:{testDummyTile:{$uuid:"testDummyTile",$displayStyle:"$full"}},$article:{$layoutType:"hub",$items:[{$layoutType:"hubGroup",$title:"Layout group 1",$items:[{$layoutType:"tile",$bgColor:"lime",$items:[{$bind:"testDummyTile",$article:{$layoutType:"stack",$items:[{$bind:"name"},{$bind:"name",$labelPosition:"left"},{$bind:"desc",$labelPosition:"top"},{$bind:"desc2",$labelPosition:"right"},{$bind:"desc2",$labelAlign:"right"},{$bind:"amount",$labelPosition:"bottom"},{$bind:"amount",$isTitleHidden:!0}]}}],$size:"full"},{$layoutType:"tile",$bgColor:"purple",$items:[{$bind:"testDummyTile"}],$size:"medium"},{$layoutType:"tile",$bgColor:"teal",$items:[{$bind:"testDummyTile"}],$size:"small"},{$layoutType:"tile",$items:[{$bgColor:"lime",$bind:"testDummyTile"}],$size:"small"},{$layoutType:"tile",$bgColor:"brown",$items:[{$bind:"testDummyTile"}],$size:"small"},{$layoutType:"tile",$bgColor:"pink",$items:[{$bind:"testDummyTile"}],$size:"wide"},{$layoutType:"tile",$bgColor:"orange",$items:[{$bind:"testDummyTile"}],$size:"large"}]},{$layoutType:"hubGroup",$title:"Layout group 2",$items:[{$layoutType:"tile",$bgColor:"blue",$items:[{$bind:"testDummyTile"}],$size:"medium"},{$layoutType:"tile",$bgColor:"red",$items:[{$bind:"testDummyTile"}],$size:"medium"},{$layoutType:"tile",$bgColor:"green",$items:[{$bind:"testDummyTile"}],$size:"medium"}]},{$layoutType:"hubGroup",$title:"Layout group 3",$items:[{$layoutType:"tile",$items:[{$bind:"testDummyTile"}],$size:"wide"},{$layoutType:"tile",$items:[{$bind:"testDummyTile"}],$size:"medium"},{$layoutType:"tile",$items:[{$bind:"testDummyTile"}],$size:"medium"}]},{$layoutType:"hubGroup",$title:"Layout group 4",$items:[{$layoutType:"tile",$items:[{$bind:"testDummyTile"}],$size:"large"},{$layoutType:"tile",$items:[{$bind:"testDummyTile"}],$size:"medium"},{$layoutType:"tile",$items:[{$bind:"testDummyTile"}],$size:"medium"}]},{$layoutType:"hubGroup",$title:"Layout group 5",$items:[{$layoutType:"tile",$items:[{$bind:"testDummyTile"}],$size:"wide"},{$layoutType:"tile",$items:[{$bind:"testDummyTile"}],$size:"full"},{$layoutType:"tile",$items:[{$bind:"testDummyTile"}],$size:"small"},{$layoutType:"tile",$items:[{$bind:"testDummyTile"}],$size:"small"},{$layoutType:"tile",$items:[{$bind:"testDummyTile"}],$size:"small"},{$layoutType:"tile",$items:[{$bind:"testDummyTile"}],$size:"small"},{$layoutType:"tile",$items:[{$bind:"testDummyTile"}],$size:"small"}]}]}},testLayoutRowsDashboard:{$dashboardName:"testLayoutRowsDashboard",$title:"Row layout dashboard (scroll vertical)",$description:"Vertical scrolling dashboard",$vignettes:{testDummyTile:{$uuid:"testDummyTile",$displayStyle:"$full"},testDummyTileLink:{$uuid:"testDummyTile",$displayStyle:"$link"}},$article:{$layoutType:"stack",$items:[{$layoutType:"row",$rowHeight:"100px",$items:[{$layoutType:"cell",$widthLg:"3",$widthSm:"6",$widthXs:"12",$widthMd:"4",$items:[{$bind:"testDummyTileLink",$article:{}}]},{$layoutType:"cell",$widthLg:"3",$widthSm:"6",$widthXs:"12",$widthMd:"4",$items:[{$bind:"testDummyTileLink",$article:{}}]},{$layoutType:"cell",$widthLg:"3",$widthSm:"6",$widthXs:"12",$widthMd:"4",$items:[{$bind:"testDummyTileLink",$article:{}}]},{$layoutType:"cell",$widthLg:"3",$widthSm:"6",$widthXs:"12",$widthMd:"12",$items:[{$bind:"testDummyTileLink",$article:{}}]}]},{$layoutType:"row",$rowHeight:"200px",$items:[{$layoutType:"cell",$widthLg:"6",$widthSm:"6",$widthXs:"12",$items:[{$bind:"testDummyTile",$article:{$layoutType:"stack",$items:[{$bind:"name"},{$bind:"desc"},{$bind:"desc2"},{$bind:"amount"}]}}]},{$layoutType:"cell",$widthLg:"6",$widthSm:"6",$widthXs:"12",$items:[{$bind:"testDummyTile",$article:{$layoutType:"stack",$items:[{$bind:"name"},{$bind:"desc"},{$bind:"desc2"},{$bind:"amount"}]}}]},{$layoutType:"cell",$items:[{$widthLg:"3",$widthSm:"4",$widthXs:"12",$bind:"testDummyTile",$article:{$layoutType:"stack",$items:[{$bind:"name"},{$bind:"desc"},{$bind:"desc2"},{$bind:"amount"}]}}]},{$layoutType:"cell",$items:[{$widthLg:"3",$widthSm:"12",$widthXs:"12",$bind:"testDummyTile",$article:{$layoutType:"stack",$items:[{$bind:"name"},{$bind:"desc"},{$bind:"desc2"},{$bind:"amount"}]}}]}]}]}}},t.gadgets={testLayoutHubDashboard:{$type:"$dashboard",$title:"Hub Layout tests",$description:"Hub Layout tests",dashboardName:"testLayoutHubDashboard"},testLayoutRowsDashboard:{$type:"$dashboard",$title:"Rows Layout tests",$description:"Rows Layout tests",dashboardName:"testLayoutRowsDashboard"},testDummyTile:{$type:"$representation",$title:"Dummy",$description:"Dummy",entity:"example",action:"$details",representation:"example",facet:"$details",keyParameter:"5"},testLongQuery:{$type:"$representation",$title:"Long query",$description:"Query",entity:"example",action:"$query",representation:"example",facet:"$query"},testHubLayoutEntity:{$type:"$representation",$title:"Hub Layout on Representation",$description:"Hub Layout on Representation",entity:"exampleHubLayout",action:"$details",representation:"exampleHubLayout",facet:"$details",keyParameter:"5"}}}),define("syracuse-tablet/html/js/sdata/entities/test/testTypesDashboard",["require","exports","module"],function(e,t,n){t.dashboards={testTypesDashboard:{$dashboardName:"testTypesDashboard",$title:"Datatypes test dashboard",$description:"Test different kinds of datatypes",$vignettes:{testLinkQueryRecord:{$uuid:"testDisplayQueryRecord",$displayStyle:"$link"},testLinkDetailsRecord:{$uuid:"testDisplayDetailsRecord",$displayStyle:"$link"},testLinkEditRecord:{$uuid:"testDisplayEditRecord",$displayStyle:"$link"},testLinkCreateRecord:{$uuid:"testDisplayCreateRecord",$displayStyle:"$link"},testDisplayQueryRecord:{$uuid:"testDisplayQueryRecord",$displayStyle:"$full"},testDisplayDetailsRecord:{$uuid:"testDisplayDetailsRecord",$displayStyle:"$full"},testDisplayEditRecord:{$uuid:"testDisplayEditRecord",$displayStyle:"$full"},testDisplayCreateRecord:{$uuid:"testDisplayCreateRecord",$displayStyle:"$full"}},$article:{$layoutType:"stack",$items:[{$layoutType:"row",$rowHeight:"100px",$items:[{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testLinkQueryRecord"}]},{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testLinkDetailsRecord"}]},{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testLinkEditRecord"}]},{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testLinkCreateRecord"}]}]},{$layoutType:"row",$rowHeight:"300px",$items:[{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testDisplayQueryRecord"}]},{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testDisplayDetailsRecord"}]},{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testDisplayEditRecord"}]},{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testDisplayCreateRecord"}]}]}]}}},t.gadgets={testDisplayDetailsRecord:{$type:"$representation",$title:"Details facet",entity:"testDataTypes",action:"$details",representation:"testDataTypes",facet:"$details",keyParameter:"5"},testDisplayEditRecord:{$type:"$representation",$title:"Edit facet",entity:"testDataTypes",action:"$edit",representation:"testDataTypes",facet:"$edit",keyParameter:"5"},testDisplayCreateRecord:{$type:"$representation",$title:"Create facet",entity:"testDataTypes",action:"$create",representation:"testDataTypes",facet:"$create",keyParameter:"5"},testDisplayQueryRecord:{$type:"$representation",$title:"Query facet",entity:"testDataTypes",action:"$query",representation:"testDataTypes",facet:"$query",keyParameter:"5"}}}),define("syracuse-tablet/html/js/sdata/entities/test/testTypesDashboard2",["require","exports","module"],function(e,t,n){t.dashboards={testTypesDashboard2:{$dashboardName:"testTypesDashboard2",$title:"AQTCRUD default endpoint",$description:"AQTCRUD Representation",$vignettes:{testLinkQueryRecord2:{$uuid:"testDisplayQueryRecord2",$displayStyle:"$link"},testLinkDetailsRecord2:{$uuid:"testDisplayDetailsRecord2",$displayStyle:"$link"},testLinkEditRecord2:{$uuid:"testDisplayEditRecord2",$displayStyle:"$link"},testLinkCreateRecord2:{$uuid:"testDisplayCreateRecord2",$displayStyle:"$link"},testDisplayQueryRecord2:{$uuid:"testDisplayQueryRecord2",$displayStyle:"$full"},testDisplayDetailsRecord2:{$uuid:"testDisplayDetailsRecord2",$displayStyle:"$full"},testDisplayEditRecord2:{$uuid:"testDisplayEditRecord2",$displayStyle:"$full"},testDisplayCreateRecord2:{$uuid:"testDisplayCreateRecord2",$displayStyle:"$full"}},$article:{$layoutType:"stack",$items:[{$layoutType:"row",$rowHeight:"100px",$items:[{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testLinkQueryRecord2"}]},{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testLinkDetailsRecord2"}]},{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testLinkEditRecord2"}]},{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testLinkCreateRecord2"}]}]},{$layoutType:"row",$rowHeight:"300px",$items:[{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testDisplayQueryRecord2"}]},{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testDisplayDetailsRecord2"}]},{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testDisplayEditRecord2"}]},{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testDisplayCreateRecord2"}]}]}]}}},t.gadgets={testDisplayDetailsRecord2:{$type:"$representation",$title:"Details facet",entity:"AQTCRUD",action:"$details",representation:"AQTCRUD",facet:"$details",keyParameter:"10"},testDisplayEditRecord2:{$type:"$representation",$title:"Edit facet",entity:"AQTCRUD",action:"$edit",representation:"AQTCRUD",facet:"$edit",keyParameter:"10"},testDisplayCreateRecord2:{$type:"$representation",$title:"Create facet",entity:"AQTCRUD",action:"$create",representation:"AQTCRUD",facet:"$create"},testDisplayQueryRecord2:{$type:"$representation",$title:"Query facet",entity:"AQTCRUD",action:"$query",representation:"AQTCRUD",facet:"$query"}}}),define("syracuse-tablet/html/js/sdata/entities/test/testFormatsDashboard",["require","exports","module"],function(e,t,n){t.dashboards={testFormatsDashboard:{$dashboardName:"testFormatsDashboard",$title:"Formatting test dashboard",$description:"Test different kinds of formats",$vignettes:{testFormatEditRecord:{$uuid:"testFormatEditRecord",$displayStyle:"$full"},testFormatReferenceDetail:{$uuid:"testFormatReferenceDetail",$displayStyle:"$full"},testFormatReferenceEdit:{$uuid:"testFormatReferenceEdit",$displayStyle:"$full"},testFormatReferenceQuery:{$uuid:"testFormatReferenceQuery",$displayStyle:"$full"}},$article:{$layoutType:"stack",$items:[{$layoutType:"row",$rowHeight:"300px",$items:[{$layoutType:"cell",$widthXs:"4",$items:[{$bind:"testFormatEditRecord"}]},{$layoutType:"cell",$widthXs:"4",$items:[{$bind:"testFormatReferenceDetail"}]},{$layoutType:"cell",$widthXs:"4",$items:[{$bind:"testFormatReferenceEdit"}]}]},{$layoutType:"row",$rowHeight:"300px",$items:[{$layoutType:"cell",$widthXs:"4",$items:[{$bind:"testFormatReferenceQuery"}]}]}]}}},t.gadgets={testFormatEditRecord:{$type:"$representation",$title:"Details facet",entity:"testFormats",action:"$edit",representation:"testFormats",facet:"$edit",keyParameter:"5"},testFormatReferenceDetail:{$type:"$representation",$title:"Details facet reference fields",entity:"testFormatsReference",action:"$details",representation:"testFormatsReference",facet:"$details",keyParameter:"5"},testFormatReferenceEdit:{$type:"$representation",$title:"Edit facet reference fields",entity:"testFormatsReference",action:"$edit",representation:"testFormatsReference",facet:"$edit",keyParameter:"5"},testFormatReferenceQuery:{$type:"$representation",$title:"Query facet reference fields",entity:"testFormatsReference",action:"$query",representation:"testFormatsReference",facet:"$query",keyParameter:"5"}}}),define("syracuse-tablet/html/js/sdata/entities/test/testGX3APPDashboard",["require","exports","module"],function(e,t,n){t.dashboards={testGX3APPDashboard:{$dashboardName:"testGX3APPDashboard",$title:"Display data from GX3APP",$description:"Test different representations on GX3APP",$vignettes:{testACTIVQuery:{$uuid:"testACTIVQuery",$displayStyle:"$full"},testRequestVEN085:{$uuid:"testRequestVEN085",$displayStyle:"$full"}},$article:{$layoutType:"hub",$items:[{$layoutType:"hubGroup",$title:"Some data...",$items:[{$layoutType:"tile",$items:[{$bind:"testACTIVQuery"}],$size:"full"}]},{$layoutType:"hubGroup",$title:"Some fancy chart",$items:[{$layoutType:"tile",$items:[{$bind:"testRequestVEN085"}],$size:"large"}]}]}}},t.gadgets={testACTIVQuery:{$type:"$representation",$title:"Query ACTIV",entity:"ACTIV",action:"$query",representation:"ACTIV",endpoint:"x3.erp.GX3APP",facet:"$query"},testRequestVEN085:{$type:"$request",$title:"Request VEN085",requestName:"VEN085",requestLevel:"1",action:"$query",endpoint:"x3.erp.GX3APP",facet:"$query"}}}),define("syracuse-tablet/html/js/sdata/entities/test/testSUPERVDashboard",["require","exports","module"],function(e,t,n){t.dashboards={testSUPERVDashboard:{$dashboardName:"testSUPERVDashboard",$title:"Display Query AQMCRUD",$description:"Test different representation",$vignettes:{testAQMDEVICEQuery:{$uuid:"testAQMDEVICEQuery",$displayStyle:"$full"},testAQMDEVICEQueryLink:{$uuid:"testAQMDEVICEQuery",$displayStyle:"$link"}},$article:{$layoutType:"stack",$items:[{$layoutType:"row",$rowHeight:"500px",$items:[{$layoutType:"cell",$widthXs:"6",$items:[{$bind:"testAQMDEVICEQuery"}]},{$layoutType:"cell",$widthXs:"1",$items:[{$bind:"testAQMDEVICEQueryLink"}]}]}]}}},t.gadgets={testAQMDEVICEQuery:{$type:"$representation",$title:"Query AQMCRUD",entity:"AQMDEVICE",action:"$query",representation:"AQMCRUD",facet:"$query"}}}),define("syracuse-tablet/html/js/sdata/entities/test/testChartsDashboard",["require","exports","module"],function(e,t,n){t.dashboards={testChartsDashboard:{$dashboardName:"testChartsDashboard",$title:"Display some charts",$description:"Test different kind of charts",$vignettes:{testRequestChart:{$uuid:"testRequestChart",$displayStyle:"$full"}},$article:{$layoutType:"hub",$items:[{$layoutType:"hubGroup",$title:"Big chart (!)",$items:[{$layoutType:"tile",$items:[{$bind:"testRequestChart"}],$size:"full",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$isTitleHidden:!0,$style:"bar"}]}},{$layoutType:"tile",$items:[{$bind:"testRequestChart"}],$size:"large",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$isTitleHidden:!0,$style:"bar"}]}}]},{$layoutType:"hubGroup",$title:"Bar charts",$items:[{$layoutType:"tile",$items:[{$bind:"testRequestChart"}],$size:"large",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$isTitleHidden:!0,$style:"stick"}]}},{$layoutType:"tile",$items:[{$bind:"testRequestChart"}],$size:"large",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$isTitleHidden:!0,$style:"bar"}]}}]},{$layoutType:"hubGroup",$title:"Line charts",$items:[{$layoutType:"tile",$items:[{$bind:"testRequestChart"}],$size:"large",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$isTitleHidden:!0,$style:"line"}]}},{$layoutType:"tile",$items:[{$bind:"testRequestChart"}],$size:"large",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$isTitleHidden:!0,$style:"area"}]}}]},{$layoutType:"hubGroup",$title:"Spline charts",$items:[{$layoutType:"tile",$items:[{$bind:"testRequestChart"}],$size:"large",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$isTitleHidden:!0,$style:"spline"}]}},{$layoutType:"tile",$items:[{$bind:"testRequestChart"}],$size:"large",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$isTitleHidden:!0,$style:"areaspline"}]}}]},{$layoutType:"hubGroup",$title:"Pie chart",$items:[{$layoutType:"tile",$items:[{$bind:"testRequestChart"}],$size:"large",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$isTitleHidden:!0,$style:"pie"}]}}]},{$layoutType:"hubGroup",$title:"Test different sizes/legends",$items:[{$layoutType:"tile",$items:[{$bind:"testRequestChart"}],$size:"large",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$isTitleHidden:!0,$isLegendHidden:!1,$style:"line"}]}},{$layoutType:"tile",$items:[{$bind:"testRequestChart"}],$size:"large",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$isTitleHidden:!0,$isLegendHidden:!0,$style:"line"}]}},{$layoutType:"tile",$items:[{$bind:"testRequestChart"}],$size:"wide",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$isTitleHidden:!0,$isLegendHidden:!0,$isXLabelHidden:!0,$isYLabelHidden:!0,$isXLabelsHidden:!0,$isYLabelsHidden:!0,$style:"line"}]}},{$layoutType:"tile",$items:[{$bind:"testRequestChart"}],$size:"medium",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$isTitleHidden:!0,$isLegendHidden:!0,$isXLabelHidden:!0,$isYLabelHidden:!0,$isXLabelsHidden:!0,$isYLabelsHidden:!0,$style:"bar"}]}}]}]}}},t.gadgets={testRequestChart:{$type:"$request",$title:"Request test",requestName:"testCharts",requestLevel:"1",action:"$query",facet:"$query"}}}),define("syracuse-tablet/html/js/sdata/entities/test/testSUPERVDashboard2",["require","exports","module"],function(e,t,n){t.dashboards={testSUPERVDashboard2:{$dashboardName:"testSUPERVDashboard2",$title:"AQMCRUD default endpoint",$description:"Test representation AQMCRUD",$vignettes:{testAQTCRUDQuery:{$uuid:"testAQTCRUDQuery",$displayStyle:"$full"},testAQTCRUDQueryLink:{$uuid:"testAQTCRUDQuery",$displayStyle:"$link"}},$article:{$layoutType:"stack",$items:[{$layoutType:"row",$rowHeight:"500px",$widthXs:"6,1",$items:[{$bind:"testAQTCRUDQuery"},{$bind:"testAQTCRUDQueryLink"}]}]}}},t.gadgets={testAQTCRUDQuery:{$type:"$representation",$title:"Query AQMCRUD",entity:"AQMCRUD",action:"$query",representation:"AQMCRUD",facet:"$query"},testAQTCRUDQueryLink:{$type:"$representation",$title:"Query 10 AQMCRUD",requestName:"10",requestLevel:"1",action:"$query",facet:"$query"}}}),define("syracuse-tablet/html/js/sdata/entities/test/testGX3APPDashboard2",["require","exports","module"],function(e,t,n){t.dashboards={testGX3APPDashboard2:{$dashboardName:"testGX3APPDashboard2",$title:"Display data from GX3APP",$description:"Test PRPCOSTCTR representation on GX3APP",$vignettes:{testPRPCOSTCTRQuery:{$uuid:"testPRPCOSTCTRQuery",$displayStyle:"$full"}},$article:{$layoutType:"hub",$items:[{$layoutType:"hubGroup",$title:"Some data Spending cost...",$items:[{$layoutType:"tile",$items:[{$bind:"testPRPCOSTCTRQuery"}],$size:"full"}]}]}}},t.gadgets={testPRPCOSTCTRQuery:{$type:"$representation",$title:"Query PRPCOSTCTR",entity:"PRPCOSTCTR",action:"$query",representation:"PRPCOSTCTR",endpoint:"x3.erp.GX3APP",facet:"$query"}}}),define("syracuse-tablet/html/js/sdata/entities/test/testConstraintsDashboard",["require","exports","module"],function(e,t,n){t.dashboards={testConstraintsDashboard:{$dashboardName:"testConstraintsDashboard",$title:"Constraints test dashboard",$description:"Test SData constraints: https://github.com/Sage-ERP-X3/platform/wiki/Resource-Prototypes#type-constraints",$vignettes:{testConstraintsEditRecord:{$uuid:"testConstraintsEditRecord",$displayStyle:"$full"}},$article:{$layoutType:"stack",$items:[{$layoutType:"row",$rowHeight:"500px",$items:[{$layoutType:"cell",$widthXs:"12",$items:[{$bind:"testConstraintsEditRecord"}]}]}]}}},t.gadgets={testConstraintsEditRecord:{$type:"$representation",$title:"Edit facet",entity:"testConstraints",action:"$edit",representation:"testConstraints",facet:"$edit",keyParameter:"5"}}}),define("syracuse-tablet/html/js/sdata/entities/test/testNavigateToDashboard",["require","exports","module"],function(e,t,n){t.dashboards={testContextDashboard:{$dashboardName:"testContextDashboard",$title:"Test dashboard parameters",$description:"Test navigation to a dashboard with parameters",$vignettes:{testRecordLinkToDashboard:{$uuid:"testRecordLinkToDashboard",$displayStyle:"$full"},testRecordLinkToDashboardLink:{$uuid:"testRecordLinkToDashboardLink",$displayStyle:"$full"},testRecordLinkToDashboardSUPERV:{$uuid:"testRecordLinkToDashboardSUPERV",$displayStyle:"$full"}},$article:{$layoutType:"stack",$items:[{$layoutType:"row",$rowHeight:"300px",$items:[{$layoutType:"cell",$widthXs:"4",$items:[{$bind:"testRecordLinkToDashboard"}]},{$layoutType:"cell",$widthXs:"4",$items:[{$bind:"testRecordLinkToDashboardLink"}]},{$layoutType:"cell",$widthXs:"4",$items:[{$bind:"testRecordLinkToDashboardSUPERV"}]}]}]}},testContextDashboardChild:{$dashboardName:"testContextDashboardChild",$title:"Child dashboard",$description:"Child dashboard getting parameters that are applied to the first to vignettes but not to the last one using the same representation to gather data",$vignettes:{testRecordWithContext1:{$uuid:"testRecordWithContext",$displayStyle:"$full"},testRecordWithContext2:{$uuid:"testRecordWithContext",$displayStyle:"$full"},testRecordWithoutContext:{$uuid:"testRecordWithoutContext",$displayStyle:"$full"}},$article:{$layoutType:"stack",$items:[{$layoutType:"row",$rowHeight:"500px",$items:[{$layoutType:"cell",$widthXs:"4",$items:[{$bind:"testRecordWithContext1"}]},{$layoutType:"cell",$widthXs:"4",$items:[{$bind:"testRecordWithContext2"}]},{$layoutType:"cell",$widthXs:"4",$items:[{$bind:"testRecordWithoutContext"}]}]}]}},testContextDashboardChildSUPERV:{$dashboardName:"testContextDashboardChildSUPERV",$title:"Child dashboard",$description:"Child dashboard getting parameters",$vignettes:{testRecordWithContextSUPERV:{$uuid:"testRecordWithContextSUPERV",$displayStyle:"$full"}},$article:{$layoutType:"stack",$items:[{$layoutType:"row",$rowHeight:"300px",$items:[{$layoutType:"cell",$widthXs:"12",$items:[{$bind:"testRecordWithContextSUPERV"}]}]}]}}},t.gadgets={testRecordLinkToDashboard:{$type:"$representation",$title:"Click to navigate",entity:"testNavigateTo",action:"$query",representation:"testNavigateTo",facet:"$query"},testRecordWithContext:{$type:"$representation",$title:"Click to navigate",entity:"testNavigateToChild",action:"$query",representation:"testNavigateToChild",facet:"$query",parameters:{where:{value:"group eq '{group}'"}}},testRecordLinkToDashboardLink:{$type:"$dashboard",$title:"Open dashboard w/o params",dashboardName:"testContextDashboardChild"},testRecordWithoutContext:{$type:"$representation",$title:"Click to navigate",entity:"testNavigateToChild",action:"$query",representation:"testNavigateToChild",facet:"$query"},testRecordLinkToDashboardSUPERV:{$type:"$representation",$title:"Click to navigate",entity:"AQMDEVICEM",action:"$query",representation:"AQMDEVICEM",facet:"$query",endpoint:"x3.erp.SUPERV"},testRecordWithContextSUPERV:{$type:"$representation",$title:"Click to navigate",entity:"AQMDEVICEM",action:"$query",representation:"AQMDEVICEM",facet:"$query",endpoint:"x3.erp.SUPERV",parameters:{where:{value:"CODE eq {CODE}"}}}}}),define("syracuse-tablet/html/js/sdata/entities/test/testPropertyHideShowDashboard",["require","exports","module"],function(e,t,n){t.dashboards={testPropertyHideShowDashboard:{$dashboardName:"testPropertyHideShowDashboard",$title:"PropertyHideShow test dashboard",$description:"Test different kinds of PropertyHideShow",$vignettes:{testLinkQueryRecordHS:{$uuid:"testDisplayQueryRecordHS",$displayStyle:"$link"},testLinkDetailsRecordHS:{$uuid:"testDisplayDetailsRecordHS",$displayStyle:"$link"},testLinkEditRecordHS:{$uuid:"testDisplayEditRecordHS",$displayStyle:"$link"},testLinkCreateRecordHS:{$uuid:"testDisplayCreateRecordHS",$displayStyle:"$link"},testDisplayQueryRecordHS:{$uuid:"testDisplayQueryRecordHS",$displayStyle:"$full"},testDisplayDetailsRecordHS:{$uuid:"testDisplayDetailsRecordHS",$displayStyle:"$full"},testDisplayEditRecordHS:{$uuid:"testDisplayEditRecordHS",$displayStyle:"$full"},testDisplayCreateRecordHS:{$uuid:"testDisplayCreateRecordHS",$displayStyle:"$full"}},$article:{$layoutType:"stack",$items:[{$layoutType:"row",$rowHeight:"100px",$items:[{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testLinkQueryRecordHS"}]},{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testLinkDetailsRecordHS"}]},{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testLinkEditRecordHS"}]},{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testLinkCreateRecordHS"}]}]},{$layoutType:"row",$rowHeight:"300px",$items:[{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testDisplayQueryRecordHS"}]},{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testDisplayDetailsRecordHS"}]},{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testDisplayEditRecordHS"}]},{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testDisplayCreateRecordHS"}]}]}]}}},t.gadgets={testDisplayDetailsRecordHS:{$type:"$representation",$title:"Details facet",entity:"testPropertyHideShow",action:"$details",representation:"testPropertyHideShow",facet:"$details",keyParameter:"5"},testDisplayEditRecordHS:{$type:"$representation",$title:"Edit facet",entity:"testPropertyHideShow",action:"$edit",representation:"testPropertyHideShow",facet:"$edit",keyParameter:"5"},testDisplayCreateRecordHS:{$type:"$representation",$title:"Create facet",entity:"testPropertyHideShow",action:"$create",representation:"testPropertyHideShow",facet:"$create",keyParameter:"5"},testDisplayQueryRecordHS:{$type:"$representation",$title:"Query facet",entity:"testPropertyHideShow",action:"$query",representation:"testPropertyHideShow",facet:"$query",keyParameter:"5"}}}),define("syracuse-tablet/html/js/sdata/entities/test/testAQTACTNPDashboard",["require","exports","module"],function(e,t,n){t.dashboards={testAQTACTNPDashboard:{$dashboardName:"testAQTACTNPDashboard",$title:"AQTACTNP Facet Create",$description:"Test Facet Create AQTACTNP",$vignettes:{testAQTACTNPCreate:{$uuid:"testAQTACTNPCreate",$displayStyle:"$full"}},$article:{$layoutType:"stack",$items:[{$layoutType:"row",$rowHeight:"500px",$items:[{$layoutType:"cell",$widthXs:"6",$items:[{$bind:"testAQTACTNPCreate"}]}]}]}}},t.gadgets={testAQTACTNPCreate:{$type:"$representation",$title:"Facet Create AQTACTNP",entity:"AQTACTNP",action:"$create",representation:"AQTACTNP",facet:"$create"}}}),define("syracuse-tablet/html/js/sdata/entities/test/testSyDevDashboard",["require","exports","module"],function(e,t,n){t.dashboards={testSyDevDashboard:{$dashboardName:"testSyDevDashboard",$title:"Display Query AQMCRUDM from SyDev",$description:"Test different representations on SyDev",$vignettes:{testSyDev_QAQT02_Request:{$uuid:"testSyDev_QAQT02_Request",$displayStyle:"$full"}},$article:{$layoutType:"hub",$items:[{$layoutType:"hubGroup",$items:[{$layoutType:"tile",$items:[{$bind:"testSyDev_QAQT02_Request"}],$size:"full"}]}]}}},t.gadgets={testSyDev_QAQT02_Request:{$type:"$request",$title:"Request QAQT02",requestName:"QAQT02",requestLevel:"99",action:"$query",endpoint:"x3.erp.SYDEV",facet:"$query"}}}),define("syracuse-tablet/html/js/sdata/entities/test/testGridDashboard",["require","exports","module"],function(e,t,n){t.dashboards={testGridDashboard:{$dashboardName:"testGridDashboard",$title:"Arrays - Test dashboard",$description:"Arrays - Test dashboard",$vignettes:{testAQMDEVICEQueryGrid:{$uuid:"testAQMDEVICEQueryGrid",$displayStyle:"$full"},testAQMDEVICEDetailGrid:{$uuid:"testAQMDEVICEDetailGrid",$displayStyle:"$full"}},$article:{$layoutType:"stack",$items:[{$layoutType:"row",$rowHeight:"385px",$items:[{$layoutType:"cell",$widthXs:"6",$items:[{$bind:"testAQMDEVICEQueryGrid",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$title:"QUERY - $display=table",$display:"table",$article:{$items:[{$bind:"CODE"},{$bind:"CODECHR"},{$bind:"TEXTDES0"},{$bind:"CUR_REF"}]}}]}}]},{$layoutType:"cell",$widthXs:"6",$items:[{$bind:"testAQMDEVICEQueryGrid",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$title:"QUERY - $display=cardH - $cardsPerLine=1 - $displayEmptyCells=true",$display:"cardV",$article:{$displayEmptyCells:!0,$cardsPerRow:1,$items:[{$bind:"CODE"},{$bind:"CODECHR"},{$bind:"TEXTDES0"},{$bind:"CUR_REF"}]}}]}}]}]},{$layoutType:"row",$rowHeight:"385px",$items:[{$layoutType:"cell",$widthXs:"6",$items:[{$bind:"testAQMDEVICEQueryGrid",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$title:"$display=cardV - $cardsPerRow=2 - $displayEmptyCells=true",$display:"cardV",$article:{$displayEmptyCells:!0,$cardsPerRow:2,$items:[{$bind:"CODE"},{$bind:"CODECHR"},{$bind:"TEXTDES0"},{$bind:"CUR_REF"}]}}]}}]},{$layoutType:"cell",$widthXs:"6",$items:[{$bind:"testAQMDEVICEDetailGrid",$article:{$layoutType:"stack",$items:[{$bind:"CODE"},{$bind:"CPY_REF"},{$bind:"SITE_REF"},{$bind:"CRY_REF"},{$bind:"ADEVCOLREF1",$display:"table",$article:{$items:[{$bind:"~data~"}]}},{$bind:"ADEVCOLREF2",$display:"table",$article:{$items:[{$bind:"~data~"}]}},{$bind:"ADEVCTINT",$display:"table",$article:{$items:[{$bind:"~data~"}]}},{$bind:"ADEVADEVICEL",$display:"table",$article:{$items:[{$bind:"ADEV_ADEVICEL_CODE"},{$bind:"SUBCODE"},{$bind:"TEXTDES"},{$bind:"ADEV_TEXTAXX"},{$bind:"ADEV_SITE_REF"},{$bind:"ADEV_UNIT_REF"},{$bind:"STATE"},{$bind:"DIVERS"},{$bind:"ADEVADEVICELADEVICELL"}]}},{$bind:"ADEVADEVICEL",$display:"cardV",$article:{$items:[{$bind:"ADEV_ADEVICEL_CODE"},{$bind:"SUBCODE"},{$bind:"TEXTDES"},{$bind:"ADEV_TEXTAXX"},{$bind:"ADEV_SITE_REF"},{$bind:"ADEV_UNIT_REF"},{$bind:"STATE"},{$bind:"DIVERS"},{$bind:"ADEVADEVICELADEVICELL"}]}}]}}]}]},{$layoutType:"row",$rowHeight:"385px",$items:[{$layoutType:"cell",$widthXs:"6",$items:[{$bind:"testAQMDEVICEQueryGrid",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$title:"$display=cardH - $cardsPerLine=1 - $displayEmptyCells=true",$cardsPerLine:1,$display:"cardH",$displayEmptyCells:!0,$article:{$items:[{$bind:"CODE"},{$bind:"CODECHR"},{$bind:"TEXTDES0"},{$bind:"CUR_REF"}]}}]}}]},{$layoutType:"cell",$widthXs:"6",$items:[{$bind:"testAQMDEVICEQueryGrid",$article:{$layoutType:"stack",$items:[{$bind:"$resources",$title:"$display=cardH - $cardsPerLine=3 - $displayEmptyCells=true",$cardsPerLine:3,$displayEmptyCells:!0,$display:"cardH",$article:{$items:[{$bind:"CODE"},{$bind:"CODECHR"},{$bind:"TEXTDES0"},{$bind:"CUR_REF"}]}}]}}]}]}]}}},t.gadgets={testAQMDEVICEQueryGrid:{$type:"$representation",$title:"Query AQMCRUD",entity:"AQMDEVICE",action:"$query",representation:"AQMCRUDM",facet:"$query"},testAQMDEVICEDetailGrid:{$type:"$representation",$title:"Detail AQMCRUD",entity:"AQMDEVICE",action:"$details",representation:"AQMCRUDM",facet:"$details",keyParameter:"1"}}}),define("syracuse-tablet/html/js/sdata/entities/test/testGaugeChartDashboard",["require","exports","module"],function(e,t,n){t.dashboards={testGaugeChartDashboard:{$dashboardName:"testGaugeChartDashboard",$title:"Gauge chart test dashboard",$description:"Test different gauge charts authoring",$vignettes:{testGauge:{$uuid:"testGauge",$displayStyle:"$full"}},$article:{$layoutType:"stack",$items:[{$layoutType:"row",$items:[{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testGauge",$article:{$layoutType:"stack",$items:[{$bind:"salesOp",$gauge:{}}]}}]},{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testGauge",$article:{$layoutType:"stack",$items:[{$bind:"salesOp",$gauge:{segments:[{propStart:0,propEnd:.75},{propStart:.75,propEnd:.85},{propStart:.85,propEnd:1}]}}]}}]},{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testGauge",$article:{$layoutType:"stack",$items:[{$bind:"salesValue",$gauge:{$bindMin:"salesValueMin",$bindMax:"salesValueMax",segments:[{propStart:0,propEnd:.75},{propStart:.75,propEnd:.85},{propStart:.85,propEnd:1}]}}]}}]},{$layoutType:"cell",$widthXs:"3",$items:[{$bind:"testGauge",$article:{$layoutType:"stack",$items:[{$bind:"salesValue",$gauge:{$bindMin:"salesValueMin",$bindMax:"salesValueMax",segments:[{valStart:1e5,valEnd:13e4,color:"#DF5353"},{valStart:13e4,valEnd:14e4},{valStart:14e4,valEnd:15e4,color:"#55BF3B"}]}}]}}]}]}]}}},t.gadgets={testGauge:{$type:"$representation",$title:"Gauge 1",entity:"testGaugeChart",action:"$details",representation:"testGaugeChart",facet:"$details"}}}),define("syracuse-tablet/html/js/sdata/entities/test/testApplication",["require","exports","module","syracuse-tablet/html/js/sdata/entities/clientContract","syracuse-tablet/html/js/sdata/entities/test/example","syracuse-tablet/html/js/sdata/entities/test/exampleHubLayout","syracuse-tablet/html/js/sdata/entities/test/testDatatypes","syracuse-tablet/html/js/sdata/entities/test/testFormats","syracuse-tablet/html/js/sdata/entities/test/testFormatsReference","syracuse-tablet/html/js/sdata/entities/test/testCharts","syracuse-tablet/html/js/sdata/entities/test/testConstraints","syracuse-tablet/html/js/sdata/entities/test/testNavigateTo","syracuse-tablet/html/js/sdata/entities/test/testNavigateToChild","syracuse-tablet/html/js/sdata/entities/test/testPropertyHideShow","syracuse-tablet/html/js/sdata/entities/test/testGaugeChart","syracuse-tablet/html/js/sdata/entities/test/testHomeDashboard","syracuse-tablet/html/js/sdata/entities/test/testLayoutsDashboard","syracuse-tablet/html/js/sdata/entities/test/testTypesDashboard","syracuse-tablet/html/js/sdata/entities/test/testTypesDashboard2","syracuse-tablet/html/js/sdata/entities/test/testFormatsDashboard","syracuse-tablet/html/js/sdata/entities/test/testGX3APPDashboard","syracuse-tablet/html/js/sdata/entities/test/testSUPERVDashboard","syracuse-tablet/html/js/sdata/entities/test/testChartsDashboard","syracuse-tablet/html/js/sdata/entities/test/testSUPERVDashboard2","syracuse-tablet/html/js/sdata/entities/test/testGX3APPDashboard2","syracuse-tablet/html/js/sdata/entities/test/testConstraintsDashboard","syracuse-tablet/html/js/sdata/entities/test/testNavigateToDashboard","syracuse-tablet/html/js/sdata/entities/test/testPropertyHideShowDashboard","syracuse-tablet/html/js/sdata/entities/test/testAQTACTNPDashboard","syracuse-tablet/html/js/sdata/entities/test/testSyDevDashboard","syracuse-tablet/html/js/sdata/entities/test/testGridDashboard","syracuse-tablet/html/js/sdata/entities/test/testGaugeChartDashboard"],function(e,t,n){function D(e){e.gadgets&&Object.keys(e.gadgets).forEach(function(t){_.$gadgets[t]&&console.log("Duplicate gadget name: "+t),_.$gadgets[t]=e.gadgets[t]}),e.dashboards&&Object.keys(e.dashboards).forEach(function(t){_.$dashboards[t]&&console.log("Duplicate dashboard name: "+t),_.$dashboards[t]=e.dashboards[t]})}var r=e("syracuse-tablet/html/js/sdata/entities/clientContract"),i=e("syracuse-tablet/html/js/sdata/entities/test/example"),s=e("syracuse-tablet/html/js/sdata/entities/test/exampleHubLayout"),o=e("syracuse-tablet/html/js/sdata/entities/test/testDatatypes"),u=e("syracuse-tablet/html/js/sdata/entities/test/testFormats"),a=e("syracuse-tablet/html/js/sdata/entities/test/testFormatsReference"),f=e("syracuse-tablet/html/js/sdata/entities/test/testCharts"),l=e("syracuse-tablet/html/js/sdata/entities/test/testConstraints"),c=e("syracuse-tablet/html/js/sdata/entities/test/testNavigateTo"),h=e("syracuse-tablet/html/js/sdata/entities/test/testNavigateToChild"),p=e("syracuse-tablet/html/js/sdata/entities/test/testPropertyHideShow"),d=e("syracuse-tablet/html/js/sdata/entities/test/testGaugeChart"),v=e("syracuse-tablet/html/js/sdata/entities/test/testHomeDashboard"),m=e("syracuse-tablet/html/js/sdata/entities/test/testLayoutsDashboard"),g=e("syracuse-tablet/html/js/sdata/entities/test/testTypesDashboard"),y=e("syracuse-tablet/html/js/sdata/entities/test/testTypesDashboard2"),b=e("syracuse-tablet/html/js/sdata/entities/test/testFormatsDashboard"),w=e("syracuse-tablet/html/js/sdata/entities/test/testGX3APPDashboard"),E=e("syracuse-tablet/html/js/sdata/entities/test/testSUPERVDashboard"),S=e("syracuse-tablet/html/js/sdata/entities/test/testChartsDashboard"),x=e("syracuse-tablet/html/js/sdata/entities/test/testSUPERVDashboard2"),T=e("syracuse-tablet/html/js/sdata/entities/test/testGX3APPDashboard2"),N=e("syracuse-tablet/html/js/sdata/entities/test/testConstraintsDashboard"),C=e("syracuse-tablet/html/js/sdata/entities/test/testNavigateToDashboard"),k=e("syracuse-tablet/html/js/sdata/entities/test/testPropertyHideShowDashboard"),L=e("syracuse-tablet/html/js/sdata/entities/test/testAQTACTNPDashboard"),A=e("syracuse-tablet/html/js/sdata/entities/test/testSyDevDashboard"),O=e("syracuse-tablet/html/js/sdata/entities/test/testGridDashboard"),M=e("syracuse-tablet/html/js/sdata/entities/test/testGaugeChartDashboard"),_={$application:{$uuid:"clientTestApplication",applicationName:"clientTestApplication",title:"Client test application",description:"Application for testing client features without server dependencies",iconName:"gears",$homeDashboard:{$uuid:"testHomeDashboard",dashboardName:"testHomeDashboard"}},$dashboards:{},$gadgets:{},$pages:{"x3.erp.SUPERV.AQMCRUD.$details":{$page:{$article:{$layoutType:"stack",$items:[{$bind:"CODE"},{$bind:"PBLOB"},{$bind:"CODECHR"},{$bind:"WCUR_REF"},{$bind:"FLGTEST"},{$bind:"WMENU"},{$bind:"SIMUL1"},{$bind:"PCLOB"},{$bind:"TEXTAXX"},{$bind:"TEXTE"},{$bind:"TPOSIF"},{$bind:"CUR_REF"},{$bind:"SITE_REF"},{$bind:"TDCB2"},{$bind:"TDCB3",$gauge:{}},{$bind:"TDCB"},{$bind:"TDATE"},{$bind:"UNIT_REF"},{$bind:"CRY_REF"},{$bind:"TEL"},{$bind:"EMAIL"},{$bind:"TEXTPLAIN"},{$bind:"TEXTHTML"},{$bind:"TEXTRTF"},{$bind:"CREUSR_REF"},{$bind:"UPDUSR_REF"},{$bind:"ADEVCOLREF1"},{$bind:"ADEVCOLREF2"},{$bind:"ADEVCTINT"},{$bind:"ADEVADEVICEL"}]}}}}};t.register=function(){r.registerEntity(i.entity),r.registerEntity(s.entity),r.registerEntity(o.entity),r.registerEntity(u.entity),r.registerEntity(a.entity),r.registerEntity(f.entity),r.registerEntity(l.entity),r.registerEntity(c.entity),r.registerEntity(h.entity),r.registerEntity(p.entity),r.registerEntity(d.entity),D(v),D(m),D(g),D(y),D(b),D(w),D(E),D(S),D(x),D(T),D(N),D(C),D(k),D(L),D(A),D(M),D(O),r.registerApp(_)}}),define("syracuse-tablet/html/js/sdata/entities/welcomeApplication",["require","exports","module","syracuse-tablet/html/js/sdata/entities/clientContract","syracuse-tablet/html/js/helpers/globals"],function(e,t,n){function o(e,t){return e.$vignettes={testLayoutsDashboard:{$uuid:"testLayoutsDashboard",$displayStyle:"$link"}},t.$gadgets={},e.$vignettes={},e.$article={$layoutType:"hub",$items:[{$layoutType:"hubGroup",$title:"Applications",$items:[]}]},i.forEachApplicationJson(function(n,r){if(r.applicationName!==t.$application.applicationName){var i="$welcome_"+r.applicationName,s={$type:"$application",$title:r.title,applicationName:r.applicationName},o={$uuid:i};t.$gadgets[i]=s,e.$vignettes[i]=o,e.$article.$items[0].$items.push({$layoutType:"tile",$items:[{$bind:i}],$size:"wide"})}}),e}var r=e("syracuse-tablet/html/js/sdata/entities/clientContract"),i=e("syracuse-tablet/html/js/helpers/globals"),s={$application:{$uuid:"$welcomeApplication",applicationName:"$welcomeApplication",title:"Welcome",description:"Welcome",iconName:"gears",$homeDashboard:{$uuid:"$welcomeDashboard",dashboardName:"$welcomeDashboard"}},$dashboards:{$welcomeDashboard:{$pageInfo:{isWelcomePage:!0,disableAuthoring:!0},$update:function(e,t){return o(e,t)},$dashboardName:"$welcomeDashboard",$title:"Welcome",$description:"Welcome, this is your personal dashboard"}},$gadgets:{testLayoutsDashboard:{$type:"$representation",$title:"Query facet",entity:"testDataTypes",action:"$query",representation:"testDataTypes",facet:"$query",keyParameter:"5"}}};t.register=function(){r.registerApp(s)}}),define("syracuse-tablet/html/js/init/initModules",["require","exports","module","syracuse-tablet/html/js/helpers/utils","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/application/appFactory","syracuse-tablet/html/js/application/appFactoryDeps","syracuse-tablet/html/js/controls/ctrlFactoryDeps","syracuse-tablet/html/js/ajax/ajax","syracuse-tablet/html/js/storage/storage","syracuse-tablet/html/js/sdata/sdataCache","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/ui/modal","syracuse-tablet/html/js/sdata/entities/test/testApplication","syracuse-tablet/html/js/sdata/entities/welcomeApplication"],function(e,t,n){var r=e("syracuse-tablet/html/js/helpers/utils"),i=e("syracuse-tablet/html/js/helpers/globals"),s=e("syracuse-tablet/html/js/helpers/locale"),o=e("syracuse-tablet/html/js/application/appFactory"),u=e("syracuse-tablet/html/js/application/appFactoryDeps"),a=e("syracuse-tablet/html/js/controls/ctrlFactoryDeps"),f=e("syracuse-tablet/html/js/ajax/ajax"),l=e("syracuse-tablet/html/js/storage/storage"),c=e("syracuse-tablet/html/js/sdata/sdataCache"),h=e("syracuse-tablet/html/js/ui/uiUtils"),p=e("syracuse-tablet/html/js/ui/modal"),d=e("syracuse-tablet/html/js/sdata/entities/test/testApplication"),v=e("syracuse-tablet/html/js/sdata/entities/welcomeApplication");t.init=function(){var e,t,n=new $.Deferred;return e=l.getStorage(),e.init().then(function(){t=new c.SDataCache(e)}).then(function(){i.init(!0,e,t,r)}).then(function(){return u.init()}).then(function(){return a.init()}).then(function(){f.init({},s)}).then(function(){v.register()}).then(function(){i.isDvlpMode()&&d.register()}).then(function(){var e=o.createApplication($("#s-m-app-id"));i.setTabletApplication(e),i.setModal(p)}).then(function(){h.triggerResizeInternal()}).then(function(){n.resolve()}).fail(function(e){n.reject(e)}),n.promise()}}),define("syracuse-tablet/html/js/init/initLogin",["require","exports","module","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/application/authentication","syracuse-tablet/html/js/helpers/locale","syracuse-tablet/html/js/ui/modal","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/logger","syracuse-tablet/html/js/helpers/notifications","syracuse-tablet/html/js/sdata/sdataCommonResources","syracuse-tablet/html/js/init/initContext"],function(e,t,n){var r=e("syracuse-tablet/html/js/ui/uiUtils"),i=e("syracuse-tablet/html/js/application/authentication"),s=e("syracuse-tablet/html/js/helpers/locale"),o=e("syracuse-tablet/html/js/ui/modal"),u=e("syracuse-tablet/html/js/helpers/globals"),a=e("syracuse-tablet/html/js/helpers/logger").getLogger("main"),f=e("syracuse-tablet/html/js/helpers/notifications"),l=e("syracuse-tablet/html/js/sdata/sdataCommonResources"),c=e("syracuse-tablet/html/js/init/initContext"),h=function(e){u.getApplication().gotoLogin(e)},p={notifLogin:function(e,t){var n=function(e){t?t.reject(e):o.error("notifLogin failed",e)};try{var r={$user:e.user.$value,$role:e.selectedRole.code,$lang:e.selectedLocale.code};u.setUserCtx(r),u.setUserProfile(e),s.setUserLocales(e&&e.user&&e.user.locales),c.init(!1,!1).then(function(){t&&t.resolve()}).fail(function(e){n(e)})}catch(i){n(i)}}};t.init=function(){f.subscribe(p,["sm.login"],1);try{return r.waitWheelStart(),i.check().then(function(e){return e.authenticated===!0?l.getUserProfile():null}).then(function(e){return r.waitWheelStop(),e?f.publish("sm.login",e):h("Please enter your credentials"),$.smResolve()}).fail(function(e){r.waitWheelStop(),i.logout().then(function(){h("Please try login again")}).fail(function(e){o.error("exports.init failed",e)})})}catch(e){return h("Javascript exception"),$.smResolve()}}}),define("syracuse-tablet/html/js/main",["require","exports","module","syracuse-tablet/html/js/ui/modal","syracuse-tablet/html/js/ui/uiUtils","syracuse-tablet/html/js/helpers/globals","syracuse-tablet/html/js/helpers/jsutils","syracuse-tablet/html/js/init/initStyles","syracuse-tablet/html/js/init/initLocale","syracuse-tablet/html/js/init/initModules","syracuse-tablet/html/js/init/initLogin"],function(e,t,n){function c(){return u.init().then(function(){return a.init()}).then(function(){return f.init()}).then(function(){return l.init()}).fail(function(e){r.error("_startup error",e)})}var r=e("syracuse-tablet/html/js/ui/modal"),i=e("syracuse-tablet/html/js/ui/uiUtils"),s=e("syracuse-tablet/html/js/helpers/globals"),o=e("syracuse-tablet/html/js/helpers/jsutils"),u=e("syracuse-tablet/html/js/init/initStyles"),a=e("syracuse-tablet/html/js/init/initLocale"),f=e("syracuse-tablet/html/js/init/initModules"),l=e("syracuse-tablet/html/js/init/initLogin");window.onerror=function(e,t,n,u){s.application?s.application.waitWheelStop():i.waitWheelStop();try{r.error("Javascript error",{where:"window.onerror",exception:u,message:e+"\n"+(t?"Url : "+o.cleanStack(t)+"\nLineNumber : "+n:"")})}catch(a){var f=e+"\n"+(u?+JSON.stringify(u,null,2):t?"Url : "+t+"\nLineNumber : "+n:"");alert(f)}},$(document).ready(function(){document.location.href.indexOf("?circular")>-1?xrayquire.showCycles(undefined,!0):c()})});