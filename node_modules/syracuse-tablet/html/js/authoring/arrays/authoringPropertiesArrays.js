"use strict";
var authArrayGeneral = require('syracuse-tablet/html/js/authoring/arrays/authArrayGeneral');
var authArrayTable = require('syracuse-tablet/html/js/authoring/arrays/authArrayTable');
var authArrayCard = require('syracuse-tablet/html/js/authoring/arrays/authArrayCard');
var authArrayStatus = require('syracuse-tablet/html/js/authoring/arrays/authArrayStatus');

exports.initModuleProperties = function(dest) {
	authArrayGeneral.initModuleProperties(dest);
	authArrayCard.initModuleProperties(dest);
	authArrayTable.initModuleProperties(dest);
	authArrayStatus.initModuleProperties(dest);
};

exports.getModuleProperties = function($$elmt, controller, props, sel, data) {
	// Commons settings
	authArrayGeneral.getModuleProperties($$elmt, controller, props, sel, data);
	// Design cards/Columns
	if (authArrayGeneral.checkDisplay(sel, data, "separator")) {
		// Nothing
	} else {
		if (authArrayGeneral.checkDisplay(sel, data, "card")) {
			authArrayCard.getModuleProperties($$elmt, controller, props, sel, data);
		} else if (authArrayGeneral.checkDisplay(sel, data, "table")) {
			if (!data.control.prototype.isSingleArray()) {
				authArrayTable.getModuleProperties($$elmt, controller, props, sel, data);
			}
		}
		// Status management on cards and tables
		authArrayStatus.getModuleProperties($$elmt, controller, props, sel, data);
	}
};