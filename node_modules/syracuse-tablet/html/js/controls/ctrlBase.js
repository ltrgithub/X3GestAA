"use strict";

var utils = require('syracuse-tablet/html/js/helpers/utils');
var Base = require('syracuse-tablet/html/js/controls/structElmt').Klass;


var _Klass = utils.defineClass(
	function(controller, article, prototype) {
		var self = this;
		self.prototype = prototype;
		Base.call(self, controller, prototype.data('$type'), article);
	}, Base, {
		destroy: function() {
			var self = this;
			self.prototype = null;
			Base.prototype.destroy.call(self);
		},
		/* Must be called by child classes*/
		buildHtmlBefore: function(html) {
			var self = this;
			html.push('<div class="s-m-control" id="');
			html.push(self.id);
			html.push('">');
			html.push('<h6>');
			var ttl = self.prototype.data("$title");
			if (ttl) {
				html.push('<b>' + ttl + ': <b>');
			}
			html.push(self.article.$bind);
			html.push('<p>Type: ' + self.typeName + ' - Id: ' + self.id + '<p>');
			html.push('</h6>');
		},

		/* Must be called by child classes*/
		buildHtmlAfter: function(html) {
			html.push('</div>');
		},
	});

exports.Klass = _Klass;