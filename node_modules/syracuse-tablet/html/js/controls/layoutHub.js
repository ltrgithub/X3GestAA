"use strict";

var utils = require('syracuse-tablet/html/js/helpers/utils');
var Base = require('syracuse-tablet/html/js/controls/layoutBase').Klass;
var uiUtils = require('syracuse-tablet/html/js/ui/uiUtils');

/**
 * Top level layout node that must only contain layoutHubGroups as children
 * This "hub" expands horizontally and only uses the available vertical space
 * Use this to define pages which only scroll horizontally
 */
var _Klass = utils.defineClass(
	function(controller, type, article) {
		var self = this;
		Base.call(self, controller, type, article);
	}, Base, {
		buildHtml: function(parent, controllerDao, buildOptions) {
			var container = uiUtils.createDomElement('div', ["container", "s-m-layout", "s-m-hub"], null, {
				"id": this.id
			});

			var x = 0;
			var $page = $(parent).closest('div[class^="page"]');
			var h = $page.height() - 150;
			$.each(this.children, function(index, value) {
				var coreItemClassList = ["s-m-layout-cell"];
				this.buildHtml(container, controllerDao, {
					left: x,
					height: h - 35
				});

				x += this.width + 50;
			});

			container.style.height = h + "px";
			parent.appendChild(container);
		}
	});

exports.Klass = _Klass;