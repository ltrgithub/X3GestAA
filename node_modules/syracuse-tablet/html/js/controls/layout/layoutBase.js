"use strict";

var utils = require('syracuse-tablet/html/js/helpers/utils');
var Base = require('syracuse-tablet/html/js/controls/structElmt').Klass;
var uiUtils = require('syracuse-tablet/html/js/ui/uiUtils');

var _Klass = utils.defineClass(function(controller, type, article, opts) {
	var self = this;
	Base.call(self, controller, type, article, opts);
	self.title = article.$title;
}, Base, {
	destroy: function() {
		var self = this;
		Base.prototype.destroy.call(self);
	},
	createId: function(typeName) {
		var self = this;
		return utils.readableuid(typeName, self.article.$layoutType);
	},
	buildHtml: function($$parent, controllerDao, buildOptions) {
		var self = this;
		self.createRootElement(["s-m-layout"], $$parent);
		if (self.article.$title && (buildOptions == null || buildOptions.noTitle)) {
			self.buildTitle();
		}
	},

	onResize: function(evt) {
		this.children.forEach(function(child) {
			if (child.onResize) child.onResize(evt);
		});
	},
	buildTitle: function() {
		this.$$header = $(uiUtils.createDomElement('header', null, this.article.$title, null, this.$$elmt));
	}
});

exports.Klass = _Klass;