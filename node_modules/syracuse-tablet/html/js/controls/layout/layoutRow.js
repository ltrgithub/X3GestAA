"use strict";

var utils = require('syracuse-tablet/html/js/helpers/utils');
var Base = require('syracuse-tablet/html/js/controls/layout/layoutBase').Klass;
var globals = require('syracuse-tablet/html/js/helpers/globals');

/**
 */
var _Klass = utils.defineClass(

	function LayoutRow(controller, type, article, opts) {
		var self = this;
		Base.call(self, controller, type, article, opts);
	}, Base, {

		buildHtml: function($$parent, controllerDao, buildOptions) {
			var self = this;
			Base.prototype.buildHtml.call(self, $$parent, controllerDao, buildOptions);
			self.$$elmt.addClass("s-m-row");
			self.$$elmt.addClass("row");
			self._setHeight();
			if (self.children) {
				$.each(self.children, function(index, child) {
					child.buildHtml(self.$$elmt, controllerDao, buildOptions);
				});
			}
		},
		_setHeight: function() {
			var self = this;
			var rh = self.article.$rowHeight;
			if (globals.isAuthoringActive()) {
				if (!self.article.$rowHeight || self.article.$rowHeight < 10) {
					rh = 10;
				}
			}
			if (rh) {
				self.$$elmt.css("height", rh);
			}
		}
	}
);

exports.Klass = _Klass;