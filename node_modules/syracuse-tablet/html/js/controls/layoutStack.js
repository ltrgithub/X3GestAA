"use strict";

var utils = require('syracuse-tablet/html/js/helpers/utils');
var Base = require('syracuse-tablet/html/js/controls/layoutBase').Klass;
var BuilderLytStackHtml = require('syracuse-tablet/html/js/controls/builderLytHtml').BuilderLytStackHtml;
var uiUtils = require('syracuse-tablet/html/js/ui/uiUtils');

/**
 * cssOptions
 * 		cssLayout, cssCell: class added to default ones
 * default classes can  be overridden
 */
var _Klass = utils.defineClass(
	function(controller, type, article) {
		var self = this;
		Base.call(self, controller, type, article);
	}, Base, {
		buildHtml: function(parent, controllerDao, buildOptions) {
			var container = uiUtils.createDomElement('div', ["container", "s-m-layout", "s-m-stack"], null, {
				"id": this.id
			});

			if (this.article.$title) {
				var header = uiUtils.createDomElement('header', ["s-m-layout-header"]);
				header.textContent = !this.isTabSection ? this.article.$title : "";
				container.appendChild(header);
			}

			var coreSlot = uiUtils.createDomElement("div", ["stack"]);
			$.each(this.children, function(index, value) {
				var coreItemClassList = ["s-m-layout-cell"];

				var coreItem = uiUtils.createDomElement("div", ["s-m-layout-cell"]);
				coreSlot.appendChild(coreItem);
				this.buildHtml(coreItem, controllerDao, buildOptions);
			});

			// append coreSlot to container
			container.appendChild(coreSlot);
			parent.appendChild(container);
		}
	});

exports.Klass = _Klass;