"use strict";

var utils = require('syracuse-tablet/html/js/helpers/utils');
var Base = require('syracuse-tablet/html/js/controls/page/ctrlFooterBase').Klass;


/**
 * Vignette footer - USed to call action in dashboards
 */
var _Klass = utils.defineClass(
	function($type, vignette, options) {
		Base.call(this, $type, vignette.controller, options);
		this.multiSelectionOnly = true;
		this._vignette = vignette;
	}, Base, {


		checkBuildOptions: function(buildOptions) {
			return {
				showHome: false,
				showPageConfig: false,
				statusPinPage: false
			};
		},

		destroy: function() {
			Base.prototype.destroy.call(this);
			this._vignette = null;
		},

		// Can be overridden
		getActionController: function() {
			return this._vignette.getPage();
		},

		notifToggled: function(shown) {
			Base.prototype.notifToggled.call(this, shown);
			if (shown === true && this._multiSelManager) {
				this.toggleMultiSelection();
			}
		}

	});

exports.Klass = _Klass;