"use strict";

var _toggleAttr = function($$e, attr, toggle) {
	if (!$$e) return;
	$$e.toggleClass('disabled', toggle);
	if ($$e.is('[' + attr + ']')) {
		if (toggle === true) return $$e;
		return $$e.removeAttr(attr);
	} else {
		if (toggle === false) return $$e.removeAttr(attr);
		return $$e.attr(attr, '');
	}
};
var _notifDraftsChanged = function(ctrl, count) {
	if (!ctrl || !ctrl.$$elmt) return;
	var $$e = ctrl.$$elmt.find('[data-nav="pageDrafts"]');
	_toggleAttr($$e, 'data-disabled', count <= 0);
	$$e = $$e.find(".isLabel");
	var $b = $$e.find("span.badge");
	if ($b.length === 0) {
		$b = $('<span class="badge" style="margin-left: 10px;"/>').appendTo($$e);
	}
	$b.text(count);
};

exports.notifDraftsChanged = _notifDraftsChanged;
exports.toggleAttr = _toggleAttr;