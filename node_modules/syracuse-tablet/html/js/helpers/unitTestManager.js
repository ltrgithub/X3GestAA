"use strict";

var globals = require('syracuse-tablet/html/js/helpers/globals');
var _application = globals.getApplication();

var _notifPageLoaded = function(step) {
	if (step == "before") {
		globals.getApplication().$$elmt.removeAttr("data-ut-page-loaded");
		return;
	}
	if (step == "after") {
		var page = globals.getCurrentPage();
		if (!page || page.isVignette) return;
		globals.getApplication().$$elmt.attr("data-ut-page-loaded", page.state.name);
		return;
	}
};

var _init = function() {
	globals.setUnitTestMgr(exports);
};
exports.notifPageLoaded = _notifPageLoaded;
exports.init = _init;