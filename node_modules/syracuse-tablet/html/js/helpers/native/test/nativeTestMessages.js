"use strict";

var log = require('syracuse-tablet/html/js/helpers/logger').getLogger("nativeMessages");
var globals = require('syracuse-tablet/html/js/helpers/globals');
var testHelpers = require('syracuse-tablet/html/js/helpers/native/test/nativeTestHelpers');

var _TestNativeWrapper = function() {

	this.ToastMsgSupported = function() {
		return true;
	};
	this.ToastMsg = function() {};

	this.ScheduledMsgSupported = function() {
		return true;
	};
	this.ScheduledMsg = function(data) {
		if (data) {
			data = JSON.parse(data);
			testHelpers.notify(data.Text1 && data.Text2 ? data.Text1 + " - " + data.Text2 : data.Text1 || data.Text2, data.ScheduleTime);
		} else {
			testHelpers.notify("Empty toast message");
		}
	};
	this.showToastMessage = function(options) {
		var data = JSON.stringify(options);
		nativeExtCall.fireMethod("smMsg", "ToastMsg", data);
	};
};

exports.create = function() {
	return new _TestNativeWrapper();
};