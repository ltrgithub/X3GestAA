"use strict";

/**
 * Parses a JSON prototype and returns a default JSON $article
 *  	prototype: JSON
 */
var _proto2Article = function(prototype) {
	var props = prototype.$properties;
	var article = {
		$layoutType: "stack",
		$items: []
	};
	// No title for query's array - TODO Pass a prototype object as parameter
	var forceNoTitle = prototype.$url.indexOf(".$query") > 0;
	for (var prop in props) {
		if (props[prop].$isExcluded !== true) {
			article.$items.push({
				$bind: prop,
				$isTitleHidden: forceNoTitle
			});
		}
	}
	return article;
};

exports.proto2Article = _proto2Article;