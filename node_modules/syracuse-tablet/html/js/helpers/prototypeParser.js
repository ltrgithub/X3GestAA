"use strict";

var log = require('syracuse-tablet/html/js/helpers/logger').getLogger("articleParser");
var utils = require('syracuse-tablet/html/js/helpers/utils');

/**
 * Parses a JSON prototype and returns a default JSON $article
 *  	prototype: JSON
 */
var _proto2Article = function(pageName, prototype) {
	var props = prototype.$properties;
	var article = {
		$layoutType: "stack",
		$items: []
	};
	if (props.$resources) {
		// We generate a details with query fields
		props = props.$resources.$item.$properties;
		for (var prop in props) {
			article.$items.push({
				$bind: prop
			});
		}
	} else {
		// We generate a details with query fields
		for (var prop in props) {
			article.$items.push({
				$bind: prop
			});
		}
	}
	return article;
};

exports.proto2Article = _proto2Article;