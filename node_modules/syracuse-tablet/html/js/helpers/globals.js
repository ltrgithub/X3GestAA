"use strict";

var log = require('syracuse-tablet/html/js/helpers/logger').getLogger("globals");

var _globals = {
	application: null,
	offLine: false,
	dvlpMode: true,
	userCtx: null
};

/* yes optional */
var _offLine = function(yes) {
	if (yes != undefined) _globals.offLine = yes === true;
	return _globals.offLine;
};

var _dvlpMode = function() {
	return _globals.dvlpMode;
};

var _setUserCtx = function(userCtx) {
	log && log("Set user context");
	return _globals.userCtx = userCtx;
};

var _application = function(application) {
	if (application) _globals.application = application;
	return _globals.application;
};

var _getUserCtx = function() {
	return _globals.userCtx;
};

var _getGlobalCtx = function() {
	return globals;
};

exports.application = _application;
exports.offLine = _offLine;
exports.dvlpMode = _dvlpMode;
exports.setUserCtx = _setUserCtx;
exports.getUserCtx = _getUserCtx;
exports.getGlobalCtx = _getGlobalCtx;

if (window) {
	window.$sm = _globals;
}