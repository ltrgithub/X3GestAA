"use strict";

var locale = require("syracuse-tablet/html/js/helpers/locale");
var BigInteger = require("syracuse-tablet/html/js/helpers/types/bigInteger").BigInteger;

exports.validate = function(value, constraints, errors) {
	if (value == null) {
		if (constraints.$isMandatory) return errors.push(locale.text("bigint.valMan"));
		if (!constraints.$isNullable) return errors.push(locale.text("bigint.valNull"));
		return;
	}
	if (!(value instanceof BigInteger)) {
		errors.push(locale.text("bigint.valBig"));
		return;
	}
};

function _make(value) {
	return new BigInteger("0" + value);
}

BigInteger.prototype.valueOf = function() {
	return this.toString();
};
exports.make = _make;