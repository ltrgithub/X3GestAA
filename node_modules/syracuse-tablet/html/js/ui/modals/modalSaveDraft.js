"use strict";

var utils = require('syracuse-tablet/html/js/helpers/utils');
var Base = require('syracuse-tablet/html/js/ui/modals/modalYesNoCancel').Modal;
var locale = require('syracuse-tablet/html/js/helpers/locale');

var _template = {
	comment: '\
		<div style="display:table;">\
			<div style="display:table-row;">\
				<div style="display:table-cell;padding-right: 20px;">\
					{{comment}}\
				</div>\
				<div style="display:table-cell;width:100%;">\
					<input type="text" style="width: 100%;">\
				</div>\
			</div>\
		</div>'
};
/**
 * Adds a comment to modalYesNoCancel
 */
var _Klass = utils.defineClass(
	function ModalSaveDraft(title, messages) {
		Base.call(this, title, messages);
	}, Base, {
		_attachDOM: function() {
			Base.prototype._attachDOM.call(this);
			$(Handlebars.compile(_template.comment)({
				comment: locale.text("comment").smCapitalize()
			})).appendTo(this.$$elmt.find(".s-m-modal-content"));
		},
		_getResult: function() {
			return {
				action: Base.prototype._getResult.call(this),
				comment: this.$$elmt.find('input[type="text"]').val()
			};
		}
	}
);
exports.Modal = _Klass;