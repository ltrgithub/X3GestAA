"use strict";

var utils = require('syracuse-tablet/html/js/helpers/utils');
var locale = require('syracuse-tablet/html/js/helpers/locale');
var Base = require('syracuse-tablet/html/js/ui/modals/modalChoose').ModalChoose;

var _Klass = utils.defineClass(
	function ModalChooseDashboardGroup(dataList) {
		Base.call(this, dataList);
		// Result
		this.selectedGroup = {};
	}, Base, {
		_getDataContext: function() {
			var datactx = [];
			this.dataList.forEach(function(a) {
				datactx.push({
					title: a.title,
					dataParams: a.id
				});
				a.key = a.id;
			});
			return Base.prototype._getDataContext.call(this, datactx, {
				title: locale.text("welcome.move.tile.title")
			});
		},
		_onCancel: function() {
			this.selected = null;
		},
		_onAction: function(action, param) {
			if (action === "clickLine") {
				this.selected = param;
			}
			// close on actions
			return true;
		},
		_getResult: function() {
			return this.selected;
		}
	}
);

exports.Modal = _Klass;