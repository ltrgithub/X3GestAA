"use strict";

var _bindEvents = function($elmt, object) {
	// /!\ TODO Improve in order to handle click on anchors in general in the application
	// handle click event on widgets anchors or input elements
	// handle click on combo choice anchors and on choice radio
	$elmt.delegate("a[data-ctrl-id], input[data-ctrl-id]", "click", function(evt) {
		var target = evt.target;
		var targetId = target.getAttribute("data-ctrl-id");
		var ctrl = targetId ? (object.controlsMap ? object.controlsMap[targetId] : ctrl) : ctrl;
		if (targetId && ctrl && ctrl.onClick) {
			ctrl.onClick(evt);
			evt.preventDefault();
			evt.stopPropagation();
			return;
		} else {
			return true;
		}
	});

};

exports.bindEvents = _bindEvents;