"use strict";

var _bindEvents = function(page) {
	// /!\ TODO Improve in order to handle click on anchors in general in the application
	// handle click event on widgets anchors or input elements
	// handle click on combo choice anchors and on choice radio
	$(document.body).delegate("a[data-ctrl-id], input[data-ctrl-id]", "click", function(evt) {
		var target = evt.target;
		var targetId = target.getAttribute("data-ctrl-id");
		var ctrl = targetId ? (page.getControl ? page.getControl(targetId) : ctrl) : ctrl;
		if (targetId && ctrl && ctrl.onClick) {
			ctrl.onClick(evt);
			evt.preventDefault();
			evt.stopPropagation();
			return;
		} else {
			return true;
		}
	});

};

exports.bindEvents = _bindEvents;