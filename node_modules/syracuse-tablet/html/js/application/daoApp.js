"use strict";

var utils = require('syracuse-tablet/html/js/helpers/utils');
var log = require('syracuse-tablet/html/js/helpers/logger').getLogger("app");
var ajax = require('syracuse-tablet/html/js/ajax/ajax').getAjax().ajax;
var dispatcher = require('syracuse-tablet/html/js/sdata/sdataDispatcher');
var page = require('syracuse-tablet/html/js/pages/page');

/*
 * Access to application's data - installed apps, settings
 */

var _consts = {};

var _Dao = function(appli) {
	var self = this;

	self._appli = appli;
	self.json = null;

	self.getConfig = function() {

	};

	self.getSettings = function() {

	};

	self.destroy = function() {
		self._appCtrlr = null;
	};
	/**
	 *Returns the JSON description of application
	 */
	self.getJsonDescr = function() {
		var self = this;
		if (!self.json) {
			/* Load the last used application from local DB */
		}
		return self.json;
	};
	/**
	 * Set the JSON description of application
	 */
	self.setJsonDescr = function(json) {
		var self = this;
		if (json) {
			self.json = json;
			return page.registerAppPages(json);
		}
	};
};

exports.Dao = _Dao;