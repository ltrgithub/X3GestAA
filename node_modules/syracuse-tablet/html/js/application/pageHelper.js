"use strict";

var globals = require('syracuse-tablet/html/js/helpers/globals');
var utils = require('syracuse-tablet/html/js/helpers/utils');
var clientContract = require('syracuse-tablet/html/js/sdata/entities/clientContract');
var prototype = require('syracuse-tablet/html/js/helpers/prototype');

/**
 * Remove child pages of $$elmt
 * arguments : Pages to exclude
 **/
var _removeAllChildPages = function($$elmt) {
	if (!$$elmt) return;
	if (!$$elmt.jquery) $$elmt = $($$elmt);
	var exclude = Array.prototype.slice.call(arguments, 1);
	$$elmt.children(".s-m-page").each(function(idx) {
		var page = $(this).smPageController();
		if (page && Array.prototype.indexOf.call(exclude, page) == -1) {
			page.destroy();
		}
	});
};

exports.removeAllChildPages = _removeAllChildPages;