"use strict";

exports.dashboards = {
	"$customersDashboard": {
		"$dashboardName": "$customersDashboard",
		"$title": "Customer Dashboard",
		"$description": "",
		"$vignettes": {
			"$x3CustomersList": {
				"$uuid": "$x3CustomersList",
				"$displayStyle": "$full"
			},
			"$localCustomerTotals": {
				"$uuid": "$localCustomerTotals",
				"$displayStyle": "$full"
			},
			"$localOverviewSales_rev_perc": {
				"$uuid": "$localOverviewSales_rev_perc",
				"$displayStyle": "$full"
			},
			"$localOverviewSalesLeads": {
				"$uuid": "$localOverviewSalesLeads",
				"$displayStyle": "$full"
			}
		},
		"$article": {
			"$layoutType": "hub",
			"$items": [{
				"$layoutType": "hubGroup",
				"$title": "Dashboard",
				"$items": [{
					"$layoutType": "tile",
					"$title": "Sales leads",
					"$size": "full",
					"$bgColor": "brown",
					"$items": [{
						"$bind": "$localOverviewSalesLeads",
						"$article": {
							"$layoutType": "stack",
							"$items": [{
								"$bind": "$resources",
								"$isTitleHidden": false,
								"$style": "line",
								"$display": "table",
								"$article": {
									"$items": [{
										"$bind": "date"
									}, {
										"$bind": "numLeads"
									}, {
										"$bind": "numDeals"
									}]
								}
							}]
						}
					}]
				}, {
					"$layoutType": "tile",
					"$size": "large",
					"$bgColor": "pink",
					"$title": "Quote values",
					"$items": [{
						"$bind": "$localCustomerTotals",
						"$article": {
							"$layoutType": "stack",
							"$items": [{
								"$bind": "quotesValue",
								"$gauge": {
									"$bindMin": "min",
									"$bindMax": "quotesMax",
									"segments": [{
										"propStart": 0,
										"propEnd": 0.75,
										"color": "#DF5353"
									}, {
										"propStart": 0.75,
										"propEnd": 0.85,
									}, {
										"propStart": 0.85,
										"propEnd": 1,
										"color": "#55BF3B"
									}]
								}
							}]
						}
					}]
				}, {
					"$layoutType": "tile",
					"$size": "large",
					"$bgColor": "pink",
					"$title": "Monthly revenues",
					"$items": [{
						"$bind": "$localOverviewSales_rev_perc",
						"$article": {
							"$layoutType": "stack",
							"$items": [{
								"$bind": "revMonthly",
								"$gauge": {
									"$bindMin": "revMonthlyMin",
									"$bindMax": "revMonthlyMax",
									"segments": [{
										"propStart": 0,
										"propEnd": 0.75,
										"color": "#DF5353"
									}, {
										"propStart": 0.75,
										"propEnd": 0.85,
										"color": "#FF5800"
									}, {
										"propStart": 0.85,
										"propEnd": 1,
										"color": "#55BF3B"
									}]
								}
							}]
						}
					}]
				}]
			}, {
				"$layoutType": "hubGroup",
				"$title": "Customer List",
				"$items": [{
					"$layoutType": "tile",
					"$title": "Customers list",
					"$size": "all",
					"$items": [{
						"$bind": "$x3CustomersList",
						"$article": {
							"$layoutType": "stack",
							"$items": [{
								"$bind": "$resources",
								"$display": "card",
								"$article": {
									"$items": [{
										"$bind": "BPCNUM"
									}, {
										"$bind": "BPCNAM"
									}, {
										"$bind": "TEXTDES0"
									}, {
										"$bind": "RPOSCOD"
									}, {
										"$bind": "BPCSTA"
									}, {
										"$bind": "BPCTYP"
									}]
								}
							}]
						}
					}]
				}]
			}]
		}
	}
};

exports.gadgets = {
	"$x3CustomersList": {
		"$type": "$representation",
		"$title": "Query facet",
		"entity": "BPCUSTOMER",
		"endpoint": "x3.erp.GX3APP",
		"action": "$query",
		"representation": "BPCUSTOMERM",
		"facet": "$query"
	},
	"$localCustomerTotals": {
		"$type": "$representation",
		"$title": "Totals",
		"entity": "$localCustomer",
		"action": "$details",
		"representation": "$localCustomer",
		"facet": "$details",
		"keyParameter": "10"
	},
	"$localOverviewSalesLeads": {
		"$type": "$representation",
		"$title": "Leads vs Deals",
		"entity": "$localOverviewSalesLeads",
		"action": "$query",
		"representation": "$localOverviewSalesLeads",
		"facet": "$query",
	},
	"$localOverviewSales_rev_perc": {
		"$type": "$representation",
		"$title": "Overview",
		"entity": "$localOverviewSales",
		"action": "$details",
		"representation": "$localOverviewSales",
		"facet": "$details",
		"keyParameter": "10"
	}
};