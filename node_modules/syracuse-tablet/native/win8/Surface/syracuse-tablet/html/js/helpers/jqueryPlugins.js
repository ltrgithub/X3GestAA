define(function(require, exports, module) {
"use strict";

var _ns = "sm";
var _dataAttr = "data-" + _ns + "-";
var _nsNormalizeDict = {};

var _nsNormalize = function(prop) {
	return prop == null ? null : _nsNormalizeDict[prop] || (_nsNormalizeDict[prop] = $.camelCase(_ns + prop));
};

$.fn.smData = function(prop, value) {
	var result;
	if (prop != null) {
		if (prop) prop = _nsNormalize(prop);
		if (arguments.length < 2 || value === undefined) {
			result = this.data(prop);
		} else {
			result = this.data(prop, value);
		}
	}
	return result;
};

$.fn.smRemoveData = function(prop) {
	return this.removeData(_nsNormalize(prop));
};

$.fn.smPageController = function(ctrl) {
	return this.smData("controller", ctrl);
};

$.fn.smPageRemoveController = function() {
	return this.smRemoveData("controller");
};

// Access to mobile data attributes
$.fn.smAttr = function(name, val) {
	return this.attr(_dataAttr + name);
};
});