"use strict";

var sc = require("syracuse-tablet/html/js/wc/helpers/sharedContext");

QUnit.module("Shared Context sdata test", function() {

	QUnit.test("Create and read shared context", function(assert) {
		var _uuid;
		var c = {
			someKey: "someValue"
		};
		return sc.storeSharedContext(c)
			.then(function(uuid) {
				_uuid = uuid;
				assert.equal(typeof _uuid, "string", "UUID string returned")
			})
			.then(function() {
				return sc.readSharedContext(_uuid);
			})
			.then(function(c2) {
				assert.notEqual(c2, null, "No context was read")
				assert.equal(c2.someKey, c.someKey, "someKey value matches")
			});
	});
});