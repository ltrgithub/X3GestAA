"use strict";

var UT = require("./../lib/ut");

//============ Test using Login to authoring Statistic chartDetail ============================================
//============ testPageUrl: "{$hostPort}/mobile2/x3/erp/GX3APP/AQMDEVICE?representation=AQMCRUDM.$query" ==
//=== For the Stat the Design page exisits only on the first page =============================================
// ============================================================================================================
describe("Authoring Request sublevel", function() {
	UT.defaultBeforeAndAfterPageWait({
		testPageUrl: "{$hostPort}/mobile2/$client/$local/$dataset/mobileDashboard('GRAPHIC-SUBLEVEL')",
		pagewait: "$graphicsDashboard.$mobileDashboard"

	});
	//----- Tile Sublevel ---------------
	it("Statistic sublevel First page", function() {
		this.timeout(10000);
		return UT.Dom.waitLocated(UT.Sel.Xpath("//div[@data-s-ut-field-x3name='GX3APP_STAT_ZDOM']/section/section/div/content/div[@data-naction='chartDetail']"), 3000).then(function() {
			return UT.Dom.click(UT.Sel.Xpath("//div[@data-s-ut-field-x3name='GX3APP_STAT_ZDOM']/section/section/div/content/div[@data-naction='chartDetail']"))
				.then(function() {
					return UT.App.waitPage("STATS~ZDOM.$cube_0", 3000).then(function() {
						UT.log("First page Stat chartDetail - Found");
					});
				});
		});
	});
	//-- page 2 level 1   STATS~ZDOM.$cube_1
	it("Statistic sublevel Second page", function() {
		return UT.Dom.waitLocated(UT.Sel.Row(0), 2000).then(function() {
			return UT.Dom.click(UT.Sel.Row(0), null, UT.App.waitPage$("STATS~ZDOM.$cube_1", 3000))
				.then(function() {
					UT.log("Second page Stat. Found.");
				});
		})
	});
	//-- page 3 level 2   STATS~ZDOM.$cube_2
	it("Statistic sublevel Third page", function() {
		return UT.Dom.waitLocated(UT.Sel.Row(0), 2000).then(function() {
			return UT.Dom.click(UT.Sel.Row(0), null, UT.App.waitPage$("STATS~ZDOM.$cube_2", 3000))
				.then(function() {
					UT.log("Third page Stat. Found.");
				});
		})
	});
	//----- Page $next, $previous ------------------------------------------------------------
	it("Statistic $next icon", function() {
		return UT.App.pagination("$next");
	});

	it("Statistic $previous icon", function() {
		return UT.App.pagination("$previous");
	});

	it("Statistic $last icon", function() {
		return UT.App.pagination("$last");
	});

	it("Statistic $first icon", function() {
		return UT.App.pagination("$first");
	});

	//-- Back button --------------------------------------------------------------------------	
	it("Statistic page navigation back button", function() {
		return UT.App.back().then(function() {
			return UT.App.waitPage("[To improve]", 2000);
		});
	});
	//-- Back button --------------------------------------------------------------------------	
	it("Statistic page navigation back button", function() {
		return UT.App.back().then(function() {
			return UT.App.waitPage("[To improve]", 2000);
		});
	});

	//-- Open Design page --------------------------------------------------------------------		
	it("Statistic Page design open", function() {
		return UT.App.openDesignPage2().then(function() {
			UT.log("Statistic Page design open. Found.");
		});
	});
	// ============================================================================						
	//-- Close  button authoring NOT Save -----------------------------------------
	// ============================================================================		
	it("Statistic Close Not Save button", function() {
		return UT.App.closeAuthNotSave().then(function() {
			UT.log("Statistic Close Not Save button. Found.");
		});
	});
	// ---------------------------------------------------------------------
	//------ Logout with span.fa.fa-bars: BigMac  icon ---------------------
	// ---------------------------------------------------------------------
	it("Logout of Statistic authoring", function() {
		return UT.App.logout();
	});


});