"use strict";

var UT = require("./../lib/ut");

//============ Test using authoring Statistic ================
//============ 
describe("Authoring Statistic", function() {
	UT.defaultBeforeAndAfterPageWait({
		testPageUrl: "{$hostPort}/mobile2/$client/$local/$dataset/mobileDashboard('GRAPHIC-SUBLEVEL')",
		pagewait: "$graphicsDashboard.$mobileDashboard"

	});
	//----- Wait ----------------------
	it("Statistic sublevel", function() {
		return UT.App.waitPage("[To improve]", 1000);
	});
	it("Statistic Page design open", function() {
		return UT.App.openDesignPage2().then(function() {
			UT.log("Statistic Page design open. Found.");
		});
	});

	//-- panel left authoring GX3APP_STAT_ZDOM -------------------------------------------
	it("Test Statistic $resources click", function() {
		return UT.Dom.waitLocated(UT.Sel.Xpath("//li[@data-s-ut-auth-elmt-id='GX3APP_STAT_ZDOM']/ul/li/ul/li[@data-s-ut-auth-elmt-id='$resources']"), 1000)
			.then(function() {
				return UT.Dom.click(UT.Sel.Xpath("//li[@data-s-ut-auth-elmt-id='GX3APP_STAT_ZDOM']/ul/li/ul/li[@data-s-ut-auth-elmt-id='$resources']"))
					.then(function() {
						return UT.App.waitPage("[To improve]", 1000);
					});
			});

	});

	it("Test Statistic Card click", function() {
		return UT.App.authArrayDispaly("card_lab");
	});

	//----- see bug of Mathias uncomment after fixing bug------
	//it("Test panel right Table click", function() {
	//	return UT.App.authArrayDispaly("table");
	//});	
	//-- panel Request right carousel click   ----------------------------------
	//it("Test panel left/right carousel click", function() {
	//	return UT.App.authArrayDispaly("carousel");
	//});

	// ============================================================================						
	//-- Close  button authoring NOT Save -----------------------------------------
	// ============================================================================	
	it("Statistic Close Not Save button", function() {
		return UT.App.closeAuthNotSave().then(function() {
			UT.log("Statistic Close Not Save button. Found.");
		});
	});
	// ---------------------------------------------------------------------
	//------ Logout with span.fa.fa-bars: BigMac  icon ---------------------
	// ---------------------------------------------------------------------
	it("Logout of authoring Statistic", function() {
		return UT.App.logout();
	});

});