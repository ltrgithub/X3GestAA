"use strict";

var UT = require("./../lib/ut");

//============ Test using Login to authoring Request chartDetail ============================================
//============ testPageUrl: "{$hostPort}/mobile2/x3/erp/GX3APP/AQMDEVICE?representation=AQMCRUDM.$query" ==

describe("Authoring Request sublevel", function() {
	UT.defaultBeforeAndAfterPageWait({
		testPageUrl: "{$hostPort}/mobile2/$client/$local/$dataset/mobileDashboard('GRAPHIC-SUBLEVEL')",
		pagewait: "$graphicsDashboard.$mobileDashboard"

	});
	//----- Sublevel -----------------------------
	it("Request sublevel First page", function() {
		this.timeout(10000);
		return UT.Dom.waitLocated(UT.Sel.Xpath("//div[@data-s-ut-field-x3name='GX3APP_QUERY_QAQTGRAP']/section/section/div/content/div[@data-naction='chartDetail']"), 3000).then(function() {
			return UT.Dom.click(UT.Sel.Xpath("//div[@data-s-ut-field-x3name='GX3APP_QUERY_QAQTGRAP']/section/section/div/content/div[@data-naction='chartDetail']"))
				.then(function() {
					return UT.App.waitPage("QUERY~QAQTGRAP~99.$query_0", 3000).then(function() {
						UT.log("==>First page chartDetail - Found");
					});
				});
		});
	});
	//----- Page $next, $previous ------------------------------------------------------------
	it("Request $next icon", function() {
		return UT.App.pagination("$next");
	});

	it("Request $previous icon", function() {
		return UT.App.pagination("$previous");
	});

	it("Request $last icon", function() {
		return UT.App.pagination("$last");
	});

	it("Request $first icon", function() {
		return UT.App.pagination("$first");

	});
	//----------------------------------------------------------------------------------------
	// -------------------- Design page Request Level for Level ------------------------------
	//----------------------------------------------------------------------------------------		
	it("Request Page design open", function() {
		return UT.App.openDesignPage2().then(function() {
			UT.log("Request Page design open. Found.");
		});
	});
	it("Request sublevel Close not Save button", function() {
		return UT.App.closeAuthNotSave().then(function() {
			UT.log("Request sublevel Close not Save button. Found.");
		});
	});
	//--------------------end Open Design ---------------------------------------------------

	//-- page 2 level 1   QUERY~QAQTGRAP~2.$query_1
	it("Request sublevel Second page", function() {
		return UT.Dom.waitLocated(UT.Sel.Row(0), 2000)
			.then(function() {
				return UT.Dom.click(UT.Sel.Row(0), null, UT.App.waitPage$("QUERY~QAQTGRAP~2.$query_1", 3000))
					.then(function() {
						UT.log("==>Second page. Found.");
					});
			})
	});
	//-- Open Design page --------------------------------------------------------------------		
	it("Request Page design open", function() {
		return UT.App.openDesignPage2().then(function() {
			UT.log("Request Page design open. Found.");
		});
	});
	it("Request sublevel Close not Save button", function() {
		return UT.App.closeAuthNotSave().then(function() {
			UT.log("Request sublevel Close not Save button. Found.");
		});
	});
	//--------------------end Open Design ---------------------------------------------------

	//-- page 3 level 2   QUERY~QAQTGRAP~3.$query_2
	it("Request sublevel Third page", function() {
		return UT.Dom.waitLocated(UT.Sel.Row(0), 2000)
			.then(function() {
				return UT.Dom.click(UT.Sel.Row(0), null, UT.App.waitPage$("QUERY~QAQTGRAP~3.$query_2", 3000))
					.then(function() {
						UT.log("==>Third page. Found.");
					});
			})
	});
	//-- Open Design page --------------------------------------------------------------------		
	it("Request Page design open", function() {
		return UT.App.openDesignPage2().then(function() {
			UT.log("Request Page design open. Found.");
		});
	});
	it("Request sublevel Close not Save button", function() {
		return UT.App.closeAuthNotSave().then(function() {
			UT.log("Request sublevel Close not Save button. Found.");
		});
	});
	//--------------------end Open Design ---------------------------------------------------	

	//-- page 4 level 3  QUERY~QAQTGRAP~4.$query_3
	it("Request sublevel Fourth page", function() {
		return UT.Dom.waitLocated(UT.Sel.Row(0), 2000).then(function() {
			return UT.Dom.click(UT.Sel.Row(0), null, UT.App.waitPage$("QUERY~QAQTGRAP~4.$query_3", 3000))
				.then(function() {
					UT.log("==>Fourth page. Found.");
				});
		})
	});
	// -------------------- For Request Level for Level --------------------------------------
	//-- Open Design page --------------------------------------------------------------------		
	it("Request Page design open", function() {
		return UT.App.openDesignPage2().then(function() {
			UT.log("Request Page design open. Found.");
		});
	});
	it("Request sublevel Close not Save button", function() {
		return UT.App.closeAuthNotSave().then(function() {
			UT.log("Request sublevel Close not Save button. Found.");
		});
	});
	// ---------------------------------------------------------------------
	//------ Logout with span.fa.fa-bars: BigMac  icon ---------------------
	// ---------------------------------------------------------------------
	it("Logout of Request authoring", function() {
		return UT.App.logout();
	});


});