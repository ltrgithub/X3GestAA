<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, maximum-scale=1">
<title>Syracuse Tablet App - Bootstrap tests</title>
	<script src="../html/deps/jquery-2.1.1/jquery.js"></script>
<script>  
$(document).ready(function(){
	function doA() {
		var def = $.Deferred();
		def.reject("Not working");
		return def;
	}
	function doB() {
		var def = $.Deferred();
		def.resolve("Not working");
		return def;
	}
	
	try {
		doA().then(function() {
			console.log("Never end up here");
		}, function(error) {
			console.log("Got reject error: " + error);
			throw new Error(error);
		});
	} catch (e) {
		console.log("Catched ex!");
		console.log(e);
	}
	
	/*
	ex will not be catched due to async of setTimeout!!!
	This is the same of 4.ajax stuff!
	*/
	try {
		doB()
		.then(function(res) {
			var def = $.Deferred();
			setTimeout(function() {
				def.resolve("OK");
			});
			return def;
		})
		.then(function(res) {
			throw new Error("xxxxx");
			console.log("!!:" + res);
		})
	} catch (e) {
		console.log("Catched ex!");
		console.log(e);
	}
	
	
});
	
</script>
<style type="text/css">
mark {
	background: none repeat scroll 0 0 #F5F5F5;
}

div {
	background: "#FFFFFF";
}
</style>
</head>

<body>
</body>

</html>