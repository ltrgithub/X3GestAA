"use strict";
(function($) {
	if (!$.smobile) $.smobile = {};
	$.smobile.ns = "sm";
	var _nsNormalizeDict = {};

	$.smobile.nsNormalize = function(prop) {
		return prop == null ? null : _nsNormalizeDict[prop] || (_nsNormalizeDict[prop] = $.camelCase($.smobile.ns + prop));
	};

	$.fn.smData = function(prop, value) {
		var result;
		if (prop != null) {
			if (prop) prop = $.smobile.nsNormalize(prop);
			if (arguments.length < 2 || value === undefined) {
				result = this.data(prop);
			} else {
				result = this.data(prop, value);
			}
		}
		return result;
	};

	$.fn.smRemoveData = function(prop) {
		return this.removeData($.smobile.nsNormalize(prop));
	};

	$.fn.smPageController = function(ctrl) {
		return this.smData("controller", ctrl);
	};

	$.fn.smPageRemoveController = function() {
		return this.smRemoveData("controller");
	};

})(jQuery);