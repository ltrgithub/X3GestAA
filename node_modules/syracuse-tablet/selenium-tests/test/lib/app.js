"use strict";

var driver = require("./driver");
var UT = require("../ut");

/**
 * Point browser to app url
 */
exports.loadApp = function() {
	return UT.Driver.Browser().get(UT.Config.url);
};

/**
 * Ensure user is logged in and sitting on the welcome page
 * @returns
 */
exports.ensureLogin = function() {
	return UT.DOM.waitPage("login")
		.then(function() {
			return UT.DOM.setInputById('login-user', UT.Config.user);
		})
		.then(function() {
			return UT.DOM.setInputById('login-password', UT.Config.password);
		})
		.then(function() {
			return UT.DOM.clickById('login-login');
		})
		.then(function() {
			return UT.DOM.waitPage("$welcomeDashboard.$mobileDashboard");
		});
};