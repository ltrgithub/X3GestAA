<!DOCTYPE html>
<html>
    <meta http-equiv="X-UA-Compatible" content="IE=9">
    <head>
        <title>Syracuse</title>
		<meta content="text/html; charset=UTF-8" http-equiv="content-type">
		<meta http-equiv="X-UA-Compatible" content="IE=9">
        <link rel="icon" href="/syracuse-ui/themes/office/sage/images/site/favicon.ico" />
        <link href="/syracuse-ui/themes/office/sage/office.css" rel="stylesheet"/>
        <link href="/syracuse-ui/themes/desktop/sage/site.css" rel="stylesheet"/>
        <link href="/syracuse-ui/themes/desktop/sage/page.css" rel="stylesheet"/>
		<link href="/syracuse-ui/themes/desktop/sage/olddashboard.css" rel="stylesheet"/>
        <link href="/syracuse-ui/themes/desktop/sage/landingpage.css" rel="stylesheet"/>
        <link href="/syracuse-ui/themes/desktop/sage/navigationpage.css" rel="stylesheet"/>
        <link href="/syracuse-ui/themes/desktop/sage/structure.css" rel="stylesheet"/>
        <link href="/syracuse-ui/themes/desktop/sage/menus.css" rel="stylesheet"/>
        <link href="/syracuse-ui/themes/desktop/sage/diagnoses.css" rel="stylesheet"/>
        <link href="/syracuse-ui/themes/desktop/sage/messagebox.css" rel="stylesheet"/>
        <link href="/syracuse-ui/themes/desktop/sage/datetimefield.css" rel="stylesheet"/>
        <link href="/syracuse-ui/themes/desktop/sage/array.css" rel="stylesheet"/>
        <link href="/syracuse-ui/themes/desktop/sage/field.css" rel="stylesheet"/>
        <link href="/syracuse-ui/themes/desktop/sage/businessStyle.css" rel="stylesheet"/>
        <link href="/syracuse-ui/themes/desktop/sage/graph/graph.css" rel="stylesheet"/>
        <script src="/syracuse-ui/deps/md5.min.js">
        </script>
        <script>
        	function chkFormular() {
        		var pwd = document.formular.password.value;
        		if (pwd !== document.formular.passwordAgain.value) {
        			alert("{different}");
        			return false;
        		} else if ((""+pwd).length === 0) {
        			alert("{empty}");
        			return false;
        		}
        		var r = /^[^ -\x7E\xA0-\xFF]+$/.exec(""+pwd); // when you change regexp, also change pattern in password field
            	if (r) {
            		alert("{invalid}".replace("XXX", r[0]));
            		return false;
	        	} else {
    	    		document.formular.passwordHash.value = md5(document.formular.login.value + ":" + document.formular.realm.value+":"+pwd);
        			document.formular.passwordAgain.value = document.formular.password.value = "";
            		return true;
	        	}
        	} 
        </script>
    </head>
    <body>
		<form name="formular" action="{action}" method="POST" onsubmit="return chkFormular()">
			<div class="s-dash-title" style="" data-s-box="4" title="Administration dashboard">{changePasswdHeader}</div>
			<label class="s-field-top-title s-mandatory">{explanation}</label>
			<br />
			<br />
  			<table>
    			<tr>
      				<td><label class="s-field-top-title s-mandatory">{newPwd}</label></td>
      				<td><input name="password" class="s-field-input" placeholder="{Password}" type="password"></td>
    			</tr>
    			<tr>
      				<td><label class="s-field-top-title s-mandatory">{newPwdAgain}</label></td>
      				<td><input name="passwordAgain" class="s-field-input" placeholder="{Password}" type="password"></td>
    			</tr>
    			<tr>
    				<td><input type="submit" value="{chgPasswd}">
    				</td>
    				
		  </table>
		  <input name="login" type="hidden" value="{login}">
		  <input name="passwordHash" type="hidden">
		  <input name="realm" type="hidden" value="{realm}">
	</form>
    </body>
</html>
