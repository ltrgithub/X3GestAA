"use strict";

var baseUrl = "http://localhost:3004";
var port = 3004;
var helpers = require('syracuse-core/lib/helpers');
var types = require('syracuse-core/lib/types/allTypes');
var config = require('syracuse-main/lib/nodeconfig').config; // must be first syracuse require
var mongodb = require('streamline-mongodb');
var streams = require('streamline/lib/streams/streams');
var adminTestFixtures = require("syracuse-collaboration/test/fixtures/adminTestFixtures");
var sys = require("util");
var dataModel = require('syracuse-orm/lib/dataModel');
var forEachKey = helpers.object.forEachKey;
var sdataRegistry = require('syracuse-sdata/lib/sdataRegistry');
var patchtools = require('syracuse-patch/lib/patchtools');

var tracer; // = console.log;

// force basic auth
config.session = config.session || {};
config.session.auth = "basic";
// no integration server
config.integrationServer = null;

var endPoint = adminTestFixtures.modifyCollaborationEndpoint("mongodb_admin_test");

var testData = require('../fixtures/testDB');
var testEndPoint = testData.endpoint;

testEndPoint.datasets = {
	test: {
		driver: "mongodb",
		database: "test",
		hostname: "localhost",
		port: config.collaboration.port || 27017
	}
};

// tracer && tracer("TEST ANFANG......................................");

config.sdata.endpoints.push(testEndPoint);

var requestCount = 0;
var MAX_REQUESTS = 13;
var cookie;

QUnit.module(module.id, {
	setup: function() {}
});

asyncTest("test format query calendar", 0, function(_) {
	// TEST with only calendar
	// TEST with calendar + other type in query
	//
	start();
});