"use strict";
var rtfParser = require("syracuse-rtf/lib/rtfparse"),
    rtfInterpreter = require("syracuse-rtf/lib/rtfinterpret"),
    htmlBuilder = require("syracuse-rtf/lib/buildhtml"),
    rtfBuilder = require("syracuse-rtf/lib/buildrtf");

exports.toHtml = function (rtf) {
    var root = rtfParser.parse(rtf);
    var rtfDom = rtfInterpreter.interpret(root);
    return htmlBuilder.buildHtml(root, rtfDom);
};

exports.fromHtml = function (html) {
    return rtfBuilder.buildRtf(html);
};

exports.extractText = function (html,intern) {
   var tmp = document.createElement("DIV");
    if (!intern)
      html = html.replace(/<br\/>/g,"\n\r");
    html = html.replace(/<br>/g,"\n\r");
   tmp.innerHTML = html;
 
  

    var content=tmp.textContent||tmp.innerText;
    var text ;
    if (intern)
    text = content.replace(/\n/g, "<br/>");
    else 
    text=content ;

     return text ;        

                
};


exports.rawTextToHtml = function (html) {
   var tmp = document.createElement("DIV"); 
   tmp.innerHTML = html;
  var content=tmp.textContent||tmp.innerText;
  var text = content.replace(/\n/g, "<br/>");
  return text ;        

                
};