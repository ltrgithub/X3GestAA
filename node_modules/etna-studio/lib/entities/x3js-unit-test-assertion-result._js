"use strict";

exports.entity = {
	$canDelete: true,
	$canCreate: true,
	$canEdit: false,
	$capabilities: "",
	$properties: {
		message: {
			$title: "message",
			$type: 'string',
		},
		passed: {
			$title: "passed",
			$type: 'boolean',
		},
		expected: {
			$title: "expected",
			$type: 'string',
		},
		actual: {
			$title: "actual",
			$type: 'string',
		},
		stack: {
			$title: "stack",
			$type: 'string',
		},
	},
	$functions: {
		fill(_, result, pending) {
			if (result.err) {
				this.message(_, result.err.message);
				this.passed(_, !result.err && !pending);
				this.expected(_, '' + result.err.expected);
				this.actual(_, '' + result.err.actual);
				this.stack(_, result.err.stack);
			} else {
				this.message(_, `${result.title}: pending=${pending}`);
			}
		},
	},
};