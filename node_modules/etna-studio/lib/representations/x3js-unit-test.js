'use strict';

function block(list) {
	return {
		$items: list.map(name => ({
			$bind: name
		}))
	};
}

exports.representation = {
	$entityName: 'x3jsUnitTest',
	$facets: {
		$details: {
			$layout: {
				$layoutType: 'tabs',
				$items: [{
					$category: 'section',
					$title: 'General',
					$layout: block(['module', 'name', 'title', 'active', 'comment', 'endpoint', 'class']),
				}, {
					$category: 'section',
					$title: 'Cases',
					$layout: block(['cases']),
				}, {
					$category: 'section',
					$title: 'Source',
					$layout: block(['source']),
				}, {
					$category: 'section',
					$title: 'Results',
					$layout: {
						$items: [{
							$bind: 'results',
							$layout: block(['unitTest', 'passed', 'duration', 'caseResults']),
						}],
					},
				}],
			},
		},
		$edit: {
			$copy: '$details'
		},
	}
};
//console.error(JSON.stringify(exports.representation, null, 2));