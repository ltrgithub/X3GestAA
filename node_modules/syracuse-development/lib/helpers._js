"use strict";

exports.getOrm = function(_, dataset) {
	dataset = dataset || "development";
	var dm = require('syracuse-orm/lib/dataModel');
	var contract = require('syracuse-development/lib/contract');
	dm.make(contract, dataset);

	var ep = require('syracuse-collaboration/lib/util').getEndpoint(_, {
		application: 'syracuse',
		contract: 'development',
		dataset: dataset,
	});
	if (!ep) throw new Error("development endpoint not found: dataset=" + dataset);
	return ep.getOrm(_);
};