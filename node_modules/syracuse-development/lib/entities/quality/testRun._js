"use strict";
var locale = require('streamline-locale');

exports.entity = {
	$titleTemplate: "Test Run of {start}",
	$descriptionTemplate: "Test Run of {start}",
	$helpPage: "Development-reference-Test-Run",
	$valueTemplate: "{start}",
	$listTitle: "List of test results",
	$properties: {
		start: {
			$title: "Start",
			$linksToDetails: true,
			$type: "datetime",
			$isMandatory: true,
		},
		end: {
			$title: "End",
			$type: "datetime",
			$isMandatory: true,
		},
	},
	$relations: {
		results: {
			$title: "Results",
			$type: "testResults",
			$inv: "testRun",
			$isComputed: true,
		},
		/*
		regressions: {
			$title: "Regressions",
			$type: "testResults",
			$compute: function(_, instance) {
				return instance.results(_).filter_(_, function(_, result) {
					return result.errors(_) > result.prevErrors(_);
				});
			},
		},*/
	},
};