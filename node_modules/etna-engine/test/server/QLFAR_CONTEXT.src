Call OUVRE_TRACE("QLFAR_CONTEXT") From LECFIC
Call TESTSUITE()

Call FERME_TRACE From LECFIC

GTRACE = "QLFAR_CONTEXT_"+GUSER
Call LEC_TRACE From LECFIC
End

$ERROR
Call CHECK_EQUAL(errn, EX) From AXUNIT
EX = 0
Resume


Funprog TESTSUITE()
Call SET_LOCALE("fr-FR") From ASYRQLF

Call TESTSUITE_START("CONTEXT", "CONTEXT") From AXUNIT

Call ADD_TESTCASE("BASIC","BASIC",3) From AXUNIT
##

Local Clbfile  SUITE_RESULT
SUITE_RESULT = func AXUNIT.RUN_TESTSUITE("CONTEXT", "CONTEXT")
End SUITE_RESULT


Subprog BASIC
Local Char USER1(50),USER2(50)
USER1 = GACTX.USER
Call CHECK_EQUAL(USER1,USER1) From AXUNIT
Call CHECK_EQUAL(len(USER1)>0,1) From AXUNIT

USER2 = [V]GACTX.USER
Call CHECK_EQUAL(USER1,USER2) From AXUNIT


End
