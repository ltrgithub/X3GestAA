Call OUVRE_TRACE("QLFAR_PARAM") From LECFIC
Call TESTSUITE()

Call LEC_TRACE From LECFIC
End

$ERROR
Call CHECK_EQUAL(errn, EX) From AXUNIT
Resume


Funprog TESTSUITE()
Call TESTSUITE_START("PARAM", "PARAM") From AXUNIT

Call ADD_TESTCASE("TC_BASIC" ,"TC_BASIC",7) From AXUNIT

Local Clbfile  SUITE_RESULT
SUITE_RESULT = func AXUNIT.RUN_TESTSUITE("PARAM", "PARAM")
End SUITE_RESULT


Subprog TC_BASIC
Local Integer NUM1
NUM1 = fmet GACTX.APARAM.AGETVALNUM([V]CST_ALEVFOLD, GACTX.AFOLDER, "AQC1")
#Call ECR_TRACE("AQC1"-num$(NUM1),0) From GESECRAN
Call CHECK_EQUAL(num$(NUM1),"2") From AXUNIT

Local Date D2
D2 = fmet GACTX.APARAM.AGETVALDATE([V]CST_ALEVCPY, "AAA", "AQC2")
#Call ECR_TRACE("AQC2"-num$(D2),0) From GESECRAN
Call CHECK_EQUAL(num$(year(D2)),"2033") From AXUNIT
Call CHECK_EQUAL(num$(month(D2)),"3") From AXUNIT
Call CHECK_EQUAL(num$(day(D2)),"3") From AXUNIT

Local Integer NUM3
NUM3 = fmet GACTX.APARAM.AGETVALNUM([V]CST_ALEVFCY, "AA2", "AQC3")
#Call ECR_TRACE("AQC3"-num$(NUM3),0) From GESECRAN
Call CHECK_EQUAL(num$(NUM3),"333") From AXUNIT


Local Char C4(50)
C4 = fmet GACTX.APARAM.AGETUSERVALCHAR("AQC4")
#Call ECR_TRACE("AQC4"-C4,0) From GESECRAN
Call CHECK_EQUAL(C4,"4") From AXUNIT


Local Char C5(50)
C5 = fmet GACTX.APARAM.AGETVALCHAR([V]CST_ALEVLEG, "FRA", "AQC5")
#Call ECR_TRACE("AQC5"-C5,0) From GESECRAN
Call CHECK_EQUAL(C5,"555") From AXUNIT

End
