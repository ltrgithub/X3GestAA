#<AdxTL>@(#)8.0.0.0 $Revision$
TOTO = func TESTSUITE()
#Call FERME_TRACE From LECFIC
#GTRACE = "QLFAR_FILPATH_"+GUSER
#Call LEC_TRACE From LECFIC

#End

# ---------- TEST_SUITE filpath function       -------------------------
# ------------------------------------------------------------------

Funprog TESTSUITE()

    Call ADD_TESTCASE("TEST1", "Test base", 10) From AXUNIT

End func AXUNIT.RUN_TESTSUITE("Types", "Common")

# -----------------------TEST_UNI -------------------------------------
# #####################################################################

Subprog TEST1( )
Local Char RES(250)
Local Char SEP(2)
#System S="@ae_os"
S="dos"
If (S="dos")
    SEP="\"
Else
    SEP="/"
Endif

BASE = filpath("","","","","","")

If (S="dos")
    RES = filpath("","C:/","","","","")
    Call CHECK_EQUAL( RES, "C:\" ) From AXUNIT

    RES = filpath("","C:\","","","","")
    Call CHECK_EQUAL( RES, "C:\" ) From AXUNIT

    RES = filpath("","C:\toto\tata\tutu","","","","")
    Call CHECK_EQUAL( RES, "C:\toto\tata\tutu" ) From AXUNIT
Else
    RES = filpath("","/","","","","")
    Call CHECK_EQUAL( RES, "C:\" ) From AXUNIT	
Endif

RES = filpath("","@"+nomap+".TRT/adonix$adx", "","","","")
Call CHECK_EQUAL( RES, BASE+SEP+"TRT\adonix.adx" ) From AXUNIT

RES = filpath("TRT","fic","src",nomap,"","" )
Call CHECK_EQUAL( RES, BASE+SEP+"TRT\fic.src" ) From AXUNIT

RES = filpath("TRT","","",nomap,"","" )
Call CHECK_EQUAL( RES, BASE+SEP+"TRT" ) From AXUNIT

RES = filpath("",nomap+".adxora","","","","" )
Call CHECK_EQUAL( RES, BASE+SEP+"adxora" ) From AXUNIT

RES = filpath("",nomap+".TRT/adxora","","","","" )
Call CHECK_EQUAL( RES, BASE+SEP+"TRT\"+"adxora" ) From AXUNIT

RES = filpath("",nomap+".TRT/adxora","json","","","" )
Call CHECK_EQUAL( RES, BASE+"\TRT\"+"adxora.json" ) From AXUNIT

RES = filpath("",nomap+".TRT/adxora","json","X3","","" )
Call CHECK_EQUAL( RES, BASE+SEP+"TRT"+SEP+"adxora.json" ) From AXUNIT

End