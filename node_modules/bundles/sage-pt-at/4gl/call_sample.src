Local Char aTUsername(25) : aTUsername = "599999993/0037"
Local Char aTPassword(25) : aTPassword = "testes1234"
Local Char endPoint(250) : endPoint = "https://servicos.portaldasfinancas.gov.pt:401/sgdtws/documentosTransporte"
Local Char certificateName(25) : certificateName = ""
Local Char certificatePassword(25) : certificatePassword = ""
Local Char publicKeyName(25) : publicKeyName = ""
Local Char publicKeyPassword(25) : publicKeyPassword = ""
Local Integer debug : debug = 0
Local Integer entityTaxRegistrationNumber : entityTaxRegistrationNumber = 599999993
Local Char entityCompanyName(25) : entityCompanyName = "SAGE"
Local Char entityAddressDetail(25) : entityAddressDetail = "AddressDetail"
Local Char entityCity(25) : entityCity = "Lisboa"
Local Char entityPostalCode(25) : entityPostalCode = "3880-068"
Local Char entityCountry(25) : entityCountry = "PT"
Local Char documentNumber(25) : documentNumber = "000077796"
Local Char movementStatus(25) : movementStatus = "N"
Local Char movementDate(25) : movementDate = "2016-06-24"
Local Char movementType(25) : movementType = "GT"
Local Char customerTaxID(25) : customerTaxID = "502667583"
Local Char supplierTaxID(25) : supplierTaxID = ""
Local Char customerName(25) : customerName = "CustomerName558201737"
Local Char customerAddressDetail(25) : customerAddressDetail = "AddressDetail"
Local Char customerCity(25) : customerCity = "Lisboa"
Local Char customerPostalCode(25) : customerPostalCode = "3880-068"
Local Char customerCountry(25) : customerCountry = "PT"
Local Char shipToAddressDetail(25) : shipToAddressDetail = "AddressDetail"
Local Char shipToCity(25) : shipToCity = "Lisboa"
Local Char shipToPostalCode(25) : shipToPostalCode = "3880-068"
Local Char shipToCountry(25) : shipToCountry = "PT"
Local Char shipFromAddressDetail(25) : shipFromAddressDetail = "AddressDetail"
Local Char shipFromCity(25) : shipFromCity = "Lisboa"
Local Char shipFromPostalCode(25) : shipFromPostalCode = "3880-068"
Local Char shipFromCountry(25) : shipFromCountry = "PT"
Local Char movementEndTime(25) : movementEndTime = "2016-06-25T11:00:00.000Z"
Local Char movementStartTime(25) : movementStartTime = "2016-06-24T11:00:00.000Z"
Local Char vehicleID(25) : vehicleID = "AA-00-11"
#
Local Char arrayOrderReferences(25)(1..1) : arrayOrderReferences = ""
Local Char productDescription(25)(1..1) : productDescription(1) = "Guitarra"
Local Integer quantity(1..1) : quantity(1) = 1
Local Char unitOfMeasure(25)(1..1) : unitOfMeasure(1) = "UN"
Local Decimal unitPrice(1..1) : unitPrice(1) = 100.26
Local Integer numOfLines : numOfLines = 1


Local Clbfile RESHEAD(0)
Local Clbfile RESBODY(0)
Local Integer RES

RES = func SEND_DT(aTUsername, aTPassword, endPoint, certificateName, certificatePassword, publicKeyName, publicKeyPassword, debug, entityTaxRegistrationNumber, entityCompanyName, entityAddressDetail, entityCity, entityPostalCode, entityCountry, documentNumber, movementStatus, movementDate, movementType, customerTaxID, supplierTaxID, customerName, customerAddressDetail, customerCity, customerPostalCode, customerCountry, shipToAddressDetail, shipToCity, shipToPostalCode, shipToCountry, shipFromAddressDetail, shipFromCity, shipFromPostalCode, shipFromCountry, movementEndTime, movementStartTime, vehicleID, arrayOrderReferences, productDescription, quantity, unitOfMeasure, unitPrice, numOfLines, 0, "", RESHEAD, RESBODY)

if (RES = 200) 
 infbox(num$(RES)-RESBODY)
else
 infbox(num$(RES)-func ASYRWEBSER.GETMESS(RESHEAD))
endif


end