"use strict";
const util = require('etna/lib/supervisor/util');
const instanceProxy = require('./instanceProxy');

exports.boolOut = function(val) {
	if (val !== constants.CST_ATRUE && val !== constants.CST_AFALSE) throw new Error("invalid boolean: " + val);
	return val === constants.CST_ATRUE;
}

exports.boolIn = function(val) {
	return val ? constants.CST_ATRUE : constants.CST_AFALSE;
}

exports.toJs = function(val) {
	if (val == null) return val;
	if (util.isInstance(val)) return instanceProxy.create(val);
	if (val.toX3js) return val.toX3js();
	return val;
}

exports.fromJs = function(val) {
	return val;
}
