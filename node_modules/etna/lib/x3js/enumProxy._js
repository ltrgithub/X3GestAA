"use strict";

require('harmony-reflect'); // to get ES6 Proxy API

exports.create = def => {
	return new Proxy(def, {
		get(def, name) {
			const val = def[name];
			if (val == null) throw new Error(`invalid enum value: ${name}, expected one of ${Object.keys(def).join(', ')}`);
			return val;
		},
		ownKeys(def) {
			return Object.keys(def);
		},
	});
}
