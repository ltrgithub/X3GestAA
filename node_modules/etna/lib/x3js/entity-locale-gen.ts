"use strict";

exports.generateJson = function (_: _,  data, descriptor) {
	const colName = Object.keys(descriptor.collections).filter(k => descriptor.collections[k].localizedKey)[0];
	if (!colName) return null;

	const colDesc = descriptor.collections[colName];
	return Object.keys(data[colName]).reduce((r, k) => (r[k] = data[colName][k][colDesc.localizedKey], r), {});
};