import { _ } from 'streamline-runtime';
import * as util from '../supervisor/util';
import * as x3jsUtil from './util';

import { OrmInstance } from './orm';
import { FullDescriptor } from './descriptor';

export const descriptor: FullDescriptor<void> = {
	type: 'object',
	defineMethod: 'defineUnitTest',
	hasSourceFile: true,
	subdir: 'unit-tests',
	singular: 'unit test',
	plural: 'unit tests',
	entityName: 'x3jsUnitTest',
	sourceDeclarations: 'const { ok, notOk, equal, notEqual, throws, fail } = x3js.assert;',
	properties: {
		module: {
			type: 'string'
		},
		name: {
			type: 'string'
		},
		title: {
			type: 'string'
		},
		active: {
			type: 'boolean'
		},
		setup: {
			type: 'event'
		},
		teardown: {
			type: 'event'
		}
	},
	collections: {
		cases: {
			type: 'object',
			properties: {
				name: {
					type: 'string'
				},
				title: {
					type: 'string'
				},
				execute: {
					type: 'event'
				}
			}
		}
	}
};