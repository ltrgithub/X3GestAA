"use strict"
var glob = require('streamline/lib/globals');
var util = require("./util");


exports.functions = {
	AVG: {
		count: -1,
		fn: function() {}
	},
	FIND: {
		count: -1,
		fn: function(val, args) {}
	},
	FINDOBJ: {
		async: true,
		count: -1,
		fn: function(_, val, target, property, range) {}
	},
	MAX: {
		count: -1,
		fn: function() {}
	},
	MAXCOL: {
		async: true,
		count: -1,
		fn: function(_, target, property, range) {}
	},
	MIN: {
		count: -1,
		fn: function() {}
	},
	SUM: {
		count: -1,
		fn: function() {}
	},
	PRD: {
		count: -1,
		fn: function() {}
	},
	UNI: {
		count: -1,
		fn: function() {}
	},
	VAR: {
		count: -1,
		fn: function() {}
	},
	SIGMA: { // parser needs it in this table but fn will never be called
		count: -1
	},
};

exports.instructions = {
	SIGMA: function(field, args) {
		return function sigma$do(_) {
			for(var i=0;i<args.length;i++) {
				args[i] && args[i](_);
			}
		};
	}
};