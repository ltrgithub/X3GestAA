"use strict";

var util = require('util');
var constants = require("etna/lib/supervisor/constants");
var Slot = require("etna/lib/supervisor/slot").Slot;

class SlotLob extends Slot {
	constructor(parent, property) {
		super(parent, property);
		this._value = undefined;
	}

	contentType(_) {
		return this.property.type.contentType(_,this);
	}

	read(_) {
		return this.property.type.readLob(_,this);
	}

	insertSlot(_) {
		return this._value ? this.property.type.insertLob(_,this, this._value) : constants.CST_AOK;
	}

	updateSlot(_) { 
		return this._value ? this.property.type.updateLob(_,this, this._value) : constants.CST_AOK;
	}

	deleteSlot(_) { 
		return this._value ? this.property.type.deleteLob(_,this, this._value) : constants.CST_AOK;;
	}

}

exports.SlotLob = SlotLob;

exports.newSlotLob = function(property) {
	return function(_, parent) {
		return new SlotLob(parent, property);
	};
};
