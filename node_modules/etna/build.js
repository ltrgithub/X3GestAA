"use strict";
var fsp = require('path');
var fs = require('fs');
try {
	var ts = require('typescript');
} catch (ex) {
	console.error("WARNING: skipping typescript compilation");
}

var helpers = require('streamline-helpers');
/*
function options(runtime) {
	return {
		plugins: ['flow-comments', 'transform-class-properties', 'streamline'],
		runtime: runtime,
	};
}

['callbacks', 'fibers', 'generators'].forEach(function(runtime) {
	helpers.compileSync(fsp.join(__dirname, 'src'), fsp.join(__dirname, 'lib-' + runtime), options(runtime));
});
['fibers'].forEach(function(runtime) {
	helpers.compileSync(fsp.join(__dirname, 'test'), fsp.join(__dirname, 'test-' + runtime), options(runtime));
});
*/

helpers.compileTypescript({
	name: 'etna',
	root: __dirname,
	main: 'out/supervisor/supervisor.d.ts',
	dts: 'out/etna.ts',
});
