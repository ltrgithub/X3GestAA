"use strict";

var helpers = require('syracuse-core/lib/helpers');
var datetime = require('syracuse-core/lib/types/datetime');
var Console = require('syracuse-trace/lib/devices/console').Console;

// Internal tracing cannot use generic tracing
var _tracer = console.log;

// Standard callback replace _ callback to be able to use this transport in not streamlined functions
var cb = function(err, result) {
	if (err) throw err;
	return result;
};

exports.Mongodb = helpers.defineClass(function(name, expiry) {
	this.name = name;
	this.expiry = expiry || 120;
	this.type = "mongodb";
}, Console, {
	initialise: function() {},
	write: function(_, data) {
		//traceLog.createTraceLog(cb, this.name, data);
		_tracer && _tracer(data.output.substring(0, 80));
	}
});