"use strict";
var helpers = require('syracuse-core/lib/helpers');
var CAdapiListOfEntity = function() {};

var serialVersionUID = "-177202790982862113";

var CAdapiListOfLeftLists = helpers.defineClass(function(aAdapiRequesterWindow, aAdapiScreen) {
	TODO_SUPER(aAdapiRequesterWindow);
	this.adapiScreen = aAdapiScreen;
}, CAdapiListOfEntity, {
	setAdapiScreen: function(s) {
		this.adapiScreen = s;
	},
	traverseAll: function(aTraverser) {
		var wMax = this.size();
		var wAdapiLeftList;
		var wI = 0;
		while (wI < wMax) {
			wAdapiLeftList = this.get(wI);
			if (aTraverser.doWhenTraverse(wAdapiLeftList, wI) == ITraverser.STOP_TRAVERSING) {
				return ITraverser.STOP_TRAVERSING;
			}
			if (wAdapiLeftList.traverseAll(aTraverser) == ITraverser.STOP_TRAVERSING) {
				return ITraverser.STOP_TRAVERSING;
			}
			wI++;
		}
		return ITraverser.CONTINUE_TRAVERSING;
	},
	traverseChilds: function(aTraverser) {
		var wMax = this.size();
		var wEntry;
		var wI = 0;
		while (wI < wMax) {
			wEntry = this.get(wI);
			if (aTraverser.doWhenTraverse(wEntry, wI) == ITraverser.STOP_TRAVERSING) {
				return ITraverser.STOP_TRAVERSING;
			}
			wI++;
		}
		return ITraverser.CONTINUE_TRAVERSING;
	},
	traverseSettable: function(aStructIst, aAdapiSetter) {
		var wI = aStructIst.blocZeroBase;
		if (wI < 0 && wI >= this.size()) {
			var wMess = this.adapiClient.adapiResources.getMessage(CAdapiResources.KEYMESS_ERROR_LLIST_UNKNOWN);
			wMess = CStringFacilities.sprintf(wMess, String.valueOf(wI), String.valueOf(this.size()), this.adapiScreen != null ? this.adapiScreen.adxId : "???");
			aAdapiSetter.setLogicalErrMess(wMess);
			return false;
		}
		var wAdapiLeftList = this.get(wI);
		if (!aStructIst.isBlocIst()) {
			return wAdapiLeftList.traverseSettable(aStructIst, aAdapiSetter);
		} else {
			aAdapiSetter.setAdapiModifiable(aStructIst, wAdapiLeftList);
			return true;
		}
	}
});