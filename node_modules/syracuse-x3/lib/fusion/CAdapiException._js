"use strict"; var helpers = require('syracuse-core/lib/helpers');

var CAdapiException = helpers.defineClass(function() {}, CException, {

	private static final long serialVersionUID = 1L;

	public static CAdapiException newFmtException(obs, e, s) {
		var r = new CAdapiException(obs, e, s);
		r.this.formatException = true;
		return r;

	}

	private CDiagnosis diagnose = null;
	private boolean this.formatException = false;

	public CAdapiException(obs, s) {
		TODO_SUPER(s);
	}

	public CAdapiException(obs, e, s) {
		TODO_SUPER(s, e);
		setDiagnosis(obs, e, s);
	}, getDiagnose: function() {
		return diagnose;
	}, isFormatException: function() {
		return this.formatException;
	}, setDiagnose: function(diagnose) {
		this.diagnose = diagnose;
	}, setDiagnosis: function(obs, e, s) {
		diagnose = new CDiagnosis();
		diagnose.setApplicationCode(EApplicationCode.ERROR.toString());
		diagnose.setCode(ESDataErrorCode.ApplicationDiagnosis);
		diagnose.setSeverity(ESeverity.ERROR.toString());
		if (e != null) {
			diagnose.setStackTrace(e);
		}
		if (obs != null && obs instanceof Observer) {
			diagnose.addObserver(obs);
			diagnose.forceChange();
		}
	}

}
