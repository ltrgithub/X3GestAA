"use strict";

var originMillis = new Date(1599, 11, 31).getTime();

exports.CvgDate = {
	fromDays: function(days) {
		if (days === 0) return "00000000";
		var millis = originMillis + days * 86400 * 1000;
		var d = new Date(millis);
		return "" + (d.getFullYear() * 10000 + (d.getMonth() + 1) * 100 + d.getDate());
	},
	toDays: function(str) {
		var year = parseInt(str.substring(0, 4), 10);
		var month = parseInt(str.substring(4, 6) || "0", 10);
		var day = parseInt(str.substring(6, 8) || "0", 10);
		var millis = new Date(year, month - 1, day).getTime() - originMillis;
		return millis / (86400 * 1000);
	},
}