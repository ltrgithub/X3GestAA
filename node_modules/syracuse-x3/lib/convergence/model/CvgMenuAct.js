"use strict";
var helpers = require('syracuse-core/lib/helpers');
var CvgObservable = require('syracuse-x3/lib/convergence/model/CvgObservable').CvgObservable;

var CvgMenuAct = helpers.defineClass(function(aclient, id, aEnabled) {
	this.id = id;
	CvgObservable.call(this, aclient);
	this.enabled = aEnabled;
	// var dernier
	this.setJsonType('ACT');
}, CvgObservable, {
	getObservableId: function() {
		return this.id.toString();
	},
	toJSON: function() {
		return {
			id: this.id.toString(),
			st: this.enabled === 1
		};
	},
	toString: function() {
		return JSON.stringify(this.toJSON());
	}

});

// Factory pattern avoids jslint/jshint complaining about using "new" for side effects
exports.create = function(aclient, id, aEnabled) {
	return new CvgMenuAct(aclient, id, aEnabled);
};