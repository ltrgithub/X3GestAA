"use strict";
var helpers = require('syracuse-core/lib/helpers');
var CvgObservable = require('syracuse-x3/lib/convergence/model/CvgObservable').CvgObservable;
var CvgEntity = require('syracuse-x3/lib/convergence/model/CvgEntity').CvgEntity;
var CvgScreenDummy = require('syracuse-x3/lib/convergence/model/CvgListOfScreens').CvgScreenDummy;
var CvgVariable = require('syracuse-x3/lib/convergence/model/CvgVariable').CvgVariable;
var CvgIst = require('syracuse-x3/lib/convergence/types/CvgIst').CvgIst;

var CvgPluginTarget = exports.CvgPluginTarget = helpers.defineClass(function(cli, plug) {
	CvgObservable.call(this, cli);

	this.plugin = plug;
	this.setJsonType('TARGET');
}, CvgObservable, {

	toJSON: function() {
		if (this.client.isPlugin) {
			return this.plugin.toJSONPlugin();
		} else {
			return this.plugin.toJSON();
		}
	}
});
CvgPluginTarget.create = function(client, plugin) {
	return new CvgPluginTarget(client, plugin);
};