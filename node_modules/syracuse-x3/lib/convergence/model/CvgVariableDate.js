"use strict";
var helpers = require('syracuse-core').helpers;
var CvgVariable = require('syracuse-x3/lib/convergence/model/CvgVariable').CvgVariable;
var CvgDate = require('syracuse-x3/lib/convergence/types/CvgDate').CvgDate;

var CvgVariableDate = exports.CvgVariableDate = helpers.defineClass(function(srcLine, entityIdx, name, aID, aTdo, fmt, state) {
	CvgVariable.call(this, srcLine, entityIdx, name, aID, aTdo, fmt, state);
}, CvgVariable, {
	clone: function() {
		var wVariable = new CvgVariableDate(this.srcLine, this.entityIndexBaseOne, this.name, this.id, this.dataType, this.format, this.state);
		wVariable.mustBeFormatted = this.mustBeFormatted;
		this.cloneValues(wVariable);
		return wVariable;
	},
	setServerResu: function(resu) {
		if (resu != null && CvgDate.DATE_ZERO === resu.value) resu = null;
		CvgVariable.prototype.setServerResu.call(this, resu);
	}
});