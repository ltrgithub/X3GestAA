"use strict";
var locale = require('syracuse-core/lib/locale');
var module = QUnit.module;
var PrintClient = require('syracuse-x3/lib/print/client/PrintClient').PrintClient;
var done;
module("X3 - Print Client Tests", {
	setup: function() {},
	teardown: function() {
		if (done) {
			setTimeout(function() {
				process.kill(process.pid);
			}, 500)
		}
	}
});

asyncTest("Connection", function(_) {
	var cli = new PrintClient(_, "ecchambard-001", 1890);
	strictEqual(cli.pid != null && cli.pid >= 0 , true, "pid OK");
	var comm = cli.communicator;
	strictEqual(comm.technoVers && comm.technoVers.UIAction, "SetTechnoVers", "technoVers OK");
	cli._disconnect(_);
	start();
});

asyncTest("kill", 0, function(_) {
	done = true;
	start();
});