"use strict";
/* jshint -W079 */
/* jshint unused: false */
/* global QUnit: false, asyncTest: false, test: false, strictEqual: false, start: false, stop: false */
var helpers = require('syracuse-core/lib/helpers');
var config = require('config');
var flows = require('streamline/lib/util/flows');
var SadFsqFile = require('syracuse-x3/lib/clients/sadfsq/sadfsqFile').SadFsqFile;
var fs = require('fs');

var util = require('util');

var done;
QUnit.module(module.id, {
	setup: function() {},
	teardown: function() {
		if (done) {
			setTimeout(function() {
				process.kill(process.pid);
			}, 500);
		}
	}
});



//////////////////////////////////////////////////////
test("test with object  ", function() {
	var sadFsqFile = new SadFsqFile({
		name: "zzvposys_37298203",
		extension: "tra",
		folder: "SUPERV",
		path: "/tmp"
	});
	strictEqual(sadFsqFile.canonical, "@SUPERV./tmp/zzvposys_37298203$tra", " ");

	start();
});

test("test without folder  ", function() {
	var sadFsqFile = new SadFsqFile({
		name: "zzvposys_37298203",
		extension: "tra",
		path: "/tmp"
	});
	strictEqual(sadFsqFile.canonical, "@/tmp/zzvposys_37298203$tra", "canonical : " + sadFsqFile.canonical + " ok  ");

	start();
});

test("test with describer that is a pathfile   ", function() {
	var sadFsqFile = new SadFsqFile({
		describer: "/tmp/test.txt"
	});
	strictEqual(sadFsqFile.canonical, "@/tmp/test$txt", "canonical : " + sadFsqFile.canonical + " ok  ");

	start();
});

test("test with describer that is a pathfile   ", function() {
	var sadFsqFile = new SadFsqFile({
		describer: "/tmp/test.txt"
	});
	strictEqual(sadFsqFile.canonical, "@/tmp/test$txt", "canonical : " + sadFsqFile.canonical + " ok  ");

	start();
});
test("test with only volume ", function() {
	var sadFsqFile = new SadFsqFile({
		volume: "C:\\\\",
	});
	strictEqual(sadFsqFile.canonical, "@C://", "canonical : " + sadFsqFile.canonical + " ok  ");
	start();
});
test("test with volume ", function() {
	var sadFsqFile = new SadFsqFile({
		volume: "C:\\\\",
		path: "tmp\\toto",
		name: "test",
		extension: "txt"
	});
	strictEqual(sadFsqFile.canonical, "@C://tmp/toto/test$txt", "canonical : " + sadFsqFile.canonical + " ok  ");
	start();
});

test("test with path name and extension  ", function() {
	var sadFsqFile = new SadFsqFile({
		path: "C:/",
		name: "AEXP1",
		extension: "json"

	});
	strictEqual(sadFsqFile.canonical, "@C:/AEXP1$json", "canonical : " + sadFsqFile.canonical + " ok  ");

	start();
});
test("test with erver ", function() {
	var sadFsqFile = new SadFsqFile({
		server: "ecvmdev2003x64",
		volume: "C:\\\\",
		path: "APTEST",
		name: "AEXP1",
		extension: "json"

	});
	strictEqual(sadFsqFile.canonical, "ecvmdev2003x64@C://APTEST/AEXP1$json", "canonical : " + sadFsqFile.canonical + " ok  ");

	start();
});



//////////////// test process

test("kill", function() {
	done = true;
	start();
});
