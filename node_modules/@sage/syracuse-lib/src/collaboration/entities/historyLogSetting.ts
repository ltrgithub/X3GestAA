"use strict";
var locale = require('streamline-locale');
var util = require('util');
var adminHelper = require("@sage/syracuse-lib/src/collaboration/helpers").AdminHelper;
var reloadHistoryRights = require("@sage/syracuse-lib/src/collaboration/entities/historyLog").reloadHistoryRights;

exports.entity = {
	$canCreate: false,
	$canDelete: false,
	$canEdit: false,
	$titleTemplate: "History log setting",
	$valueTemplate: "{code}",
	$descriptionTemplate: "{description}",
	$properties: {
		code: {
			$title: "Code",
			$isMandatory: true,
			$isReadOnly: true,
			$isUnique: true
		},
		description: {
			$title: "Description",
			$isMandatory: true,
			$isLocalized: true,
			$isReadOnly: true
		},
		enable: {
			$title: "Enable",
			$type: "boolean"
		}
	},
	$events: {
		$afterSave: [
			function(_, instance) {
				reloadHistoryRights(_);
			}
		]
	},
	$defaultOrder: [
		["code", true]
	]
};