
# Simple performance monitoring API

This API allows you to gather performance data in your JS code. Typical usage is:

``` javascript
import * as perfmon from 'syracuse/src/perfmon/record';

function myFunction(p1, p2) {
  var timing = perfmon.start(module, "myFunction", p1);
  // my function body
  // ...
  timing.end();
}
```

The collected performance data can be retrieved with an HTTP request on http://localhost:8124/perfmon/session-data.
A link for it has been added in the main menu panel.

## Monitoring code sections

`var perfmon = require('syracuse/perfmon/record');`

* `var timing = perfmon.start(module, tag, details);`  
  start a monitoring operation.  
  `module` is the current node.js module. This variable is set automatically by the require machinery.  
  `tag` identifies the function or operation.  
  `details` gives details about current invocation of the operation (typically a parameter value).
* `timing.end()`  
  ends the timing and records the performance data.

## Collecting monitoring data

* `var collection = perfmon.collect(reset)`  
  returns the array of timing records that have been collected.  
  if `reset` is true the recorded data is reset.
