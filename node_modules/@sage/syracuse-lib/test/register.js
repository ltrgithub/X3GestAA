"use strict";

var path = require('path');
require('npm-shadow')();

//process.env.HOME = path.join(__dirname, "../../../..");

require('@sage/syracuse-core/streamline-loader')({
	"fibers": true,
	"fast": false,
	"verbose": true,
	"cache": true,
	"lines": "preserve",
	"sourceMaps": "inline",
});

var apis = require('@sage/syracuse-core').apis;

apis.register('test-admin', () => require("@sage/syracuse-lib/test/collaboration/fixtures/adminTestFixtures"))
apis.register('test-runner', () => ({
	startServers: require("syracuse-main/lib/syracuse").startServers,
}));

require('@sage/syracuse-lib/src/license/index').register(function(err, data) {
	require("syracuse-main/lib/syracuse");
});