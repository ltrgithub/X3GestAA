"use strict";

var _data = require("./arraComplexData");

exports.load = function(page, finish) {
	syra_dom.hide(page.rightCol, true);
	page.leftCol.style.width = "100%";
	page.$prototype = _data.$representation.$prototype;
	page.refreshData = function(data) {};
	syra_item.ensureMediaTypes(page.$prototype, function() {
		syra_pageBuilder.load({
			$autoFetch: false,
			$itemPage: {
				$facet: "$details",
				$representation: _data.$representation
			},
			success: function(loaded) {
				(loaded.layoutSlot = page.leftCol).appendChild(loaded.domItem);
				loaded.startChange();
				loaded.applyChange(_data.dataset);
				loaded.endChange()
				finish(page);
			}
		});
	});
};