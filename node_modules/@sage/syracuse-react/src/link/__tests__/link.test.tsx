import * as React from 'react';
import * as Enzyme from 'enzyme';

import {Link, ILinkProp} from '../Link';

describe("Link", ()=>{

    //const defaultProps:ILinkProp = {className: "a"};

    describe("Render", ()=>{

        const defaultProps:ILinkProp = {
            className: "testclass",
            url:"?url=url",
            title:"Text",
            highlightClassName: "testhighlight_class",
        };
        const render: (props: ILinkProp) => Cheerio = (props) => Enzyme.render(<Link {...props} />)

        it("should compare to not highlighted Link snapshot", ()=>{
            const wrapper = render({...defaultProps, highlightText:"Tea"});
            expect(wrapper).toMatchSnapshot();
            expect(wrapper.find("a").children("span").length).toBe(0);
        });

        it("should compare to highlighted Link snapshot", ()=>{
            const wrapper = render({...defaultProps, highlightText:"Tex"});
            expect(wrapper).toMatchSnapshot();
            expect(wrapper.find("a").children("span").length).toBe(1);
            expect(wrapper.find("a").text()).toBe("Text");
            expect(wrapper.find("a").children("span").text()).toBe("Tex");
            expect(wrapper.find("a").children("span").hasClass(defaultProps.highlightClassName)).toBe(true);
            expect(wrapper.find("a").hasClass(defaultProps.className)).toBe(true);
        });

    });

});