"use strict";
import * as React from 'react';
import './search.less';

interface ISearchField {
	_dataValue: HTMLElement,
	onHidden: (value: string) => void,
	dispose: () => void
}

export class SearchField extends React.Component<{
	value: string,
	onHidden: (value: string) => void
}, {}> {
	field: ISearchField;
	slot: HTMLElement;
	componentDidMount() {
		this.field = (window as any).syra_search.load(this.slot, this.props.value, this.props.onHidden);
	}
	componentWillUnmount() {
		if (this.field) {
			this.field.dispose();
			this.field = null;
		}
	}
	render() {
		return <div ref={(node) => this.slot = node} />
	}
}