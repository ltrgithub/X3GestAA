"use strict";
import * as React from 'react';
import { Icon } from '../../../common/icon/icon';
import { IFieldProps, IDetailFieldProps, EditField, DetailField } from '../field';

export class EmailDetail extends React.Component<IFieldProps, {}> {
    render() {
        let value: any;
        if (this.props.value != null && this.props.value.length) {
            value = <a className="s_link_default" href={"mailto:" + this.props.value} rel="nofollow">
                <Icon name="mail" />
                {" " + this.props.value}
            </a>;
        }
        return <DetailField {...this.props as IDetailFieldProps}>{value}</DetailField>;
    }
}

export class EmailField extends React.Component<IFieldProps, {}> {
    render() {
        if (this.props.hidden) {
            return <noscript />;
        }
        if (this.props.editable) {
            return <EditField
                inputType="email"
                titleIcon="mail"
                {...this.props as IFieldProps} />
        }
        return <EmailDetail {...this.props} />;
    }
}