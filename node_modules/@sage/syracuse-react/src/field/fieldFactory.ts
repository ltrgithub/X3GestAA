"use strict";
import * as React from 'react';
import * as StringFieldFactory from './poc/string/stringFieldFactory';
import {BooleanField} from './poc/boolean/booleanField';
import {ChoiceField} from './poc/choice/choiceField';
import {SyraField} from '../syra/syraField';
import { IFieldProps } from './poc/field'
const map: any = {};

function registerFields() {
    map[StringFieldFactory.getSdataType()] = StringFieldFactory;
    map[BooleanField.sdataType] = BooleanField;
    map[ChoiceField.sdataType] = ChoiceField;
}

export function create(type: string, props: IFieldProps) {
    let field = map[type];
    if(field && field.getFieldClass){
        field = field.getFieldClass(props)
    }
    return React.createElement(field || SyraField, props);
}

registerFields();