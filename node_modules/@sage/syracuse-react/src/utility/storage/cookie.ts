"use strict";

export function set(name: string, value: string, domain: string, expireDays: number, path?: string, secure?: boolean) {
    let cookie = name + "=" + decodeURIComponent(value);
    if (domain) {
        cookie += "; domain=" + domain;
    }
    if (expireDays) {
        let dt = new Date();
        dt.setTime(dt.getTime() + (expireDays * 24 * 60 * 60 * 1000));
        cookie += "; expires=" + dt.toUTCString();
    }
    if (path) {
        cookie += "; path=";
    }
    if (secure) {
        cookie += "; secure";
    }
    document.cookie = cookie;
    return;
}

export function get(name: string) {
    let search = name + "=";
    let cookie = document.cookie;
    for (let ii = 0, jj = cookie.length; ii < jj; ii++) {
        let length = ii + search.length;
        if (cookie.substring(ii, length) == search) {
            let end = cookie.indexOf(";", length);
            end = (end > -1) ? end : cookie.length;
            return decodeURIComponent(cookie.substring(length, end));
        }
    }
    return null;
}