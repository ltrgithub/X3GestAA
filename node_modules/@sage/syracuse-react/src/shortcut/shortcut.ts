"use strict"

export default class Shortcut {
    commands: string[][];
    constructor(combinations: string[], public onApply: (event: KeyboardEvent) => boolean) {
        this.commands = [];
        for (let combination of combinations) {
            this.commands.push(combination.toLowerCase().split("+"));
        }
    }
    play(sequence: string[], event: KeyboardEvent) {
        let count = sequence.length;
        for (let command of this.commands) {
            if (count == command.length) {
                while (count-- >= 0) {
                    if (command[count] !== sequence[count]) break;
                }
                if (count < 0) {
                    return this.onApply(event);
                }
            }
        }
    }
}