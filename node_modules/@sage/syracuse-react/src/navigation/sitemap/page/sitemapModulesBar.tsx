"use strict";
import * as React from 'react';
import { Link } from '../../../link/link';
import { ScrollList } from '../../../common/list/list';
import { Icon } from '../../../common/icon/icon';
import { SitemapModule } from '../groups';
import { ISitemapSearchResult } from './props';

export class SitemapModulesBar extends React.Component<{
	modules: SitemapModule[],
	onSelectModule: (module: SitemapModule) => void,
	searchResult: ISitemapSearchResult
}, {}>{
	renderModule = (mod: SitemapModule) => {
		return;
	}
	render() {
		let body: any[] = [], selectedIndex: number;
		for (let mod of this.props.modules) {
			let css = "s_sitemap_bar_module";
			if (mod.selected) {
				selectedIndex = this.props.modules.indexOf(mod);
				css += " s_selected";
			}
			body.push(<div key={mod.$uuid}>
				<Link
					id={mod.$uuid}
					title={mod.title}
					value={mod}
					className={css}
					onClick={this.props.onSelectModule} 
					highlightText={this.props.searchResult ? this.props.searchResult.searchFilter : null}/>
				<Icon name={"next"} className={"s_sitemap_modules_bar_icon_i s_btn_i"} />
			</div>);
		}
		return <div className="s_sitemap_modules_bar_slot">
			<ScrollList className="s_sitemap_bar_modules" selectedIndex={selectedIndex}>
				{body}
			</ScrollList>
		</div>;
	}
}