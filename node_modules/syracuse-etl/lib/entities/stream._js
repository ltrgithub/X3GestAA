"use strict";

var date = require('@sage/syracuse-core').types.date;
var datetime = require('@sage/syracuse-core').types.datetime;
var globals = require('streamline-runtime').globals;
var scheduler = require("@sage/syracuse-lib/src/scheduler/scheduler");
var config = require('config');

exports.entity = {
	$titleTemplate: "Technical Streams",
	$valueTemplate: "{description}",
	$descriptionTemplate: "Management of technical streams",
	$canCreate: false,
	$canDelete: true,
	$canEdit: false,
	$properties: {
		name: {
			$title: "Name",
			$isMandatory: true,
			$isReadOnly: true,
			$linksToDetails: true,
		},
		type: {
			$title: "Stream type",
			$isReadOnly: true
		},
		stamp: {
			$title: "Timestamp",
			$type: "datetime",
			$isReadOnly: true,
			$isNullable: true
		},
		content: {
			$title: "Content",
			$type: "binary",
			$isDisabled: false,
			$storage: "db_file",
		},
	},
	$relations: {},
	$searchIndex: {
		$fields: ["name", "type", "date"]
	},
	$functions: {},
	$services: {
		generateFlamegraph: require('@sage/syracuse-lib/src/flamegraph/index').convertRecordingToSvg,
	},
};