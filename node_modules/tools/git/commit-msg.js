"use strict";
var fs = require('fs');

function fail(msg) {
	console.error(msg);
	process.exit(1);
}

var msg = fs.readFileSync(process.argv[2], 'utf8');
if (!/((X3-|#)\d+\b|^Merge )/.test(msg)) fail("commit rejected: you must include a #nnn issue number and/or a X3-nnnnn JIRA number in your commit message");