"use strict";

exports.removeSpace = function(str) {
	var i = 0;
	while ([" ", "\n", "\r"].indexOf(str[i]) !== -1 && i++ < str.length) {}

	str = str.substring(i);
	var i = str.length - 1;
	while ([" ", "\n", "\r"].indexOf(str[i]) !== -1 && i-- >= 0) {}
	str = str.substring(0, i + 1);
	return str;
};

function _getSubProperties(propItem) {
	if (!propItem) {
		return null;
	}
	if (Object.keys(propItem).length === 0) {
		return null;
	}
	if (propItem.$item && Object.keys(propItem.$item).indexOf("$properties") > 0) {
		return propItem.$item.$properties;
	}

	return _getSubProperties(propItem.$item);
}
exports.getProperty = function(properties, elemKey) {
	return properties && properties[elemKey] || _getSubProperties(properties) && _getSubProperties(properties)[elemKey] || null;
};