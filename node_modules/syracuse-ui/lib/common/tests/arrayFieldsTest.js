"use strict";
var helpers = require("syracuse-core/lib/helpers")
var FieldsTest = require("./fieldsTest").FieldsTest;

function ArrayFieldsTest(){
}

exports.ArrayFieldsTest = helpers.defineClass(ArrayFieldsTest, FieldsTest, {
    loadBox: function(){
        FieldsTest.prototype.loadBox.call(this, {
            "$": {
                "arrayString": {
                    "$type": "application/x-collection",
                    "$maxItems": 6,
                    "$minItems": 1,
                    "$title": "Array string",
                    "$item": {
                        "$type": "application/x-string",
                        "$constraints": {
                            "$maxLength": 20
                        }
                    }
                },
                "arrayEmail": {
                    "$type": "application/x-collection",
                    "$maxItems": 4,
                    "$minItems": 1,
                    "$title": "Array Email",
                    "$item": {
                        "$type": "application/x-string",
                        "$format": "$email",
                        "$constraints": {
                            "$maxLength": 20
                        }
                    }
                },
                "arrayChoice": {
                    "$type": "application/x-collection",
                    "$maxItems": 3,
                    "$minItems": 1,
                    "$title": "Array Choice",
                    "$item": {
                        "$type": "application/x-choice",
                        "$value": {
                            "$type": "application/x-integer",
                            "$constraints": {
                                "$enum": [{
                                    "$value": 1,
                                    "$title": "Value 1"
                                }, {
                                    "$value": 2,
                                    "$title": "Value 2"
                                }, {
                                    "$value": 3,
                                    "$title": "Value 3"
                                }, {
                                    "$value": 4,
                                    "$title": "Value 4"
                                }, {
                                    "$value": 5,
                                    "$title": "Value 5"
                                }]
                            }
                        }
                    }
                },
                "arrayDate": {
                    "$type": "application/x-collection",
                    "$maxItems": 3,
                    "$minItems": 1,
                    "$title": "Array Date",
                    "$item": {
                        "$type": "application/x-date",
                        "$constraints": {
                            "$maxLength": 20
                        }
                    }
                },
                "arrayBoolean": {
                    "$type": "application/x-collection",
                    "$maxItems": 3,
                    "$minItems": 1,
                    "$title": "Array Boolean",
                    "$item": {
                        "$type": "application/x-boolean",
                        "$constraints": {
                            "$maxLength": 20
                        }
                    }
                },
                "arrayDecimal": {
                    "$type": "application/x-collection",
                    "$maxItems": 3,
                    "$minItems": 1,
                    "$title": "Array Decimal",
                    "$item": {
                        "$type": "application/x-decimal",
                        "$constraints": {
                            "$maxLength": 20
                        }
                    }
                }
            }
        }, {
            "arrayString": ["dazhnda  d,aùe,dùe  daz dazed az", "deuxizem eada fa  ada", "troisième"],
            "arrayEmail": ["toto@sage.com", "titi@sage.com", "tutu@sage.com"],
            "arrayChoice": [2, 1, 5],
            "arrayDate": ["2011-06-01", "2012-02-08", "2010-06-05"],
            "arrayBoolean": [true, false, true],
            "arrayDecimal": [2987111111111.4548, 248.8, 7635526.2]
        });
    },
    _makeBlock: function($isEditMode){
        return [this._makeEditReadBlock("arrayString", [{
            $bind: "arrayString"
        }]), this._makeEditReadBlock("arrayEmail", [{
            $bind: "arrayEmail"
        }]), this._makeEditReadBlock("arrayChoice", [{
            $bind: "arrayChoice"
        }]), this._makeEditReadBlock("arrayDate", [{
            $bind: "arrayDate"
        }]), this._makeEditReadBlock("arrayBoolean", [{
            $bind: "arrayBoolean"
        }]), this._makeEditReadBlock("arrayDecimal", [{
            $bind: "arrayDecimal"
        }])];
    }
});
