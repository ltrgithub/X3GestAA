"use strict";
var helpers = require('syracuse-core/lib/helpers');
var ImageField = require('syracuse-ui/lib/field/binary/imageField').ImageField;
var syraUtil = require('syracuse-ui/lib/fusion/core/client/sap/util').Syra;


function FusionImageField(){
}

exports.FusionImageField = helpers.defineClassEx(FusionImageField, ImageField, {
    initialize: function(){      
        ImageField.prototype.initialize.call(this);
        var filter=[];
        filter.push("image/jpg");
        filter.push("image/jpeg");
        filter.push("image/png");
        filter.push("image/gif");
        filter.push("image/bmp");
        filter.push("image/tiff");
        filter.push("image/tif");
        filter.push("image/wmf");
        this.acceptFilter = filter.join(",");
    },
     focus: function(){
        if (this.anchor) {
            if (!(this.$isHidden || this.$isDisabled)) {
                this.anchor.focus();
                return true;
            }
        }
        return false;
    },
    getDataValue: function(){
    	if(this.articleParent && this.articleParent.$isFusionPage && this.articleParent.$fusionPageMeta) {
    		return this.articleParent.$fusionPageMeta.winId+this.$item.$bind;
    	};
        return null;
    }
});
