"use strict";
var locale = require('syracuse-core/lib/locale');
var _resource = null;

function _getResource(){
	if(!_resource) {
		if((_resource = locale.resources(module)())) {
			_.each(["3", "4", "5", "8", "9", "12", "13", "14", "16", "19", "20", "21"], function(value){
				_resource[value] = _resource[value] + "\n" + _resource["18"];
			})	
		}	
	}
	return _resource;
}

function _getMess(lang, codeMess){
	var res = _getResource();
	if(res) {
		return res[codeMess] || "***localized message unknown***";
	}
	else {
		return "***localized resources uninitialized***";
	}
}

exports.localize = {
	"getMessage": _getMess,
	"defLang": "en-US"
};
