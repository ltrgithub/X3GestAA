"use strict";
var helpers = require('syracuse-core/lib/helpers');
var RecordSelector = require('./recordSelector').RecordSelector;

function RowRecordSelector() {}

exports.RowRecordSelector = helpers.defineClass(RowRecordSelector, RecordSelector, {
	isRowMode: true,
	onclick: function(options) {
		options.isSelected = true;
		options.uuidTarget = this.list.findRecordUiid(options.selectorTarget);
	},
	onSelect: function(options) {
		this.select(options.uuidTarget, options.isSelected !== false);
		if (this.list.$item.$executeUrl && options.isSelected) {
			var uuids = Object.keys(this.records);
			var $url = uuids && uuids.length && this.records[uuids[0]].dataset.$url;
			if ($url) {
				syra_controller.executeMenu({
					$url: $url
				}, this.records[uuids[0]]);
			}
		}
	}
});