"use strict";
var helpers = require('syracuse-core/lib/helpers');
var filterHelpers = require('./filterHelpers');

function FilterCell() {}

exports.FilterCell = helpers.defineClass(FilterCell, null, {

	getValue: function() {
		var field = this.record.boundFields[this.$bind][0];
		if (this.operator != "none") {
			filterHelpers.ensureFilterField(this);
			return syra_site.filterMaker.getFieldValue({
				field: field,
				$bind: this.$bind,
				$type: this.$field.$type,
				operator: this.operator,
				$filterCode: this.$filterCode,
				$filterField: this.$filterField
			});
		}
	},
	dispose: function() {
		this.$filterField = this.record = this.field = this.layoutSlot = this._operator = this.list = this.$field = null;
	}
});