"use strict";
var helpers = require('syracuse-core/lib/helpers');
var VignetteField = require("syracuse-ui/lib/page/landing/vignette/field/vignetteField").VignetteField;
var PageVignetteField = require("syracuse-ui/lib/page/landing/vignette/field/pageVignetteField").PageVignetteField;

function SearchPageVignetteField() {}

exports.SearchPageVignetteField = helpers.defineClass(SearchPageVignetteField, PageVignetteField, {
	renderLayoutContent: function(url, onVignetteRefresh) {
		VignetteField.prototype.renderLayoutContent.call(this);
		if (url) {
			this.$url = url;
		}
		var $itemPage = {
			layoutSlot: this.body,
			$category: "searchVignette",
			vignetteField: this,
			$facet: "$query",
			$autoFetch: false,
			$representation: this.$field
		};
		this.vignette = syra_site.pageLoader.load($itemPage);
		if (onVignetteRefresh) {
			this.onItemInOut(true);
		}
	}
});