"use strict";

function BreadcrumbItem(page, index, slot) {
	syra_item.initialize(page, this);
	this.page = page;
	this.slot = slot;
	this.index = index;
	this.$bind = "page_breadcrumb";
	this.$item = {};
}

BreadcrumbItem.prototype.add = function(title, last) {
	var child = document.createElement("span");
	this.item = syra_dom.anchor(this.page.$skin + "-breadcrumb-item");
	this.item.syraItem = this.id;
	this.item.syraOnClick = "click";

	if (!last) {
		child.className = "s-page-breadcrumb-item s-fonticon-btn";
		child.innerHTML = syra_context.isRTL ? syra_icon.font["filter_lt"] : syra_icon.font["filter_gt"];
	}

	this.item.textContent = title;
	this.item.appendChild(child);
	this.slot.appendChild(this.item);
};

BreadcrumbItem.prototype.click = function(event) {
	syra_menus.click.fire({
		menu: this,
		event: event
	});
};

exports.add = function(page, index, slot, title, last) {
	return new BreadcrumbItem(page, index, slot).add(title, last);
};