"use strict";
var _breadcrumbItem = require('syracuse-ui/lib/page/aside/breadcrumbItem');

function Breadcrumb(page, slot) {
	this.show(page, slot);
}

Breadcrumb.prototype.show = function(page, slot) {
	this.page = page;

	// test only - Development module
	if (this.page.$breadCrumb && this.page.$breadCrumb.length > 0) {
		this.page.$breadCrumb[0].uuid = "2a4cb069-1a06-406b-b014-b5b835eeb7a7";
		this.page.$breadCrumb[1].uuid = "dc25bbfb-47fc-42bd-b7a0-fdff1bc51085";
	}

	if (page.$breadCrumb && page.$breadCrumb.length > 0 && page.$facet !== "$modal2") {
		var nav = document.createElement("div");
		nav.className = "s-page-head-breadcrumb";
		for (var ii = 0, jj = page.$breadCrumb.length - 1; ii <= jj; ii++) {
			_breadcrumbItem.add(page, ii, slot, this.page.$breadCrumb[ii].title, ii === jj);
		}
		slot.appendChild(nav);
		syra_dom.hide(slot, false);
	}
};

exports.show = function(page, slot) {
	return new Breadcrumb(page, slot);
};