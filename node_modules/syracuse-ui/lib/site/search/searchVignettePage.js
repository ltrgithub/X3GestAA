"use strict";
var helpers = require('syracuse-core/lib/helpers');
var VignettePage = require('syracuse-ui/lib/page/landing/vignette/vignettePage').VignettePage;

function SearchVignettePage() {}

exports.SearchVignettePage = helpers.defineClass(SearchVignettePage, VignettePage, {
	fetch: function(options, callback, error) {
		this.vignetteField.page.fetch(options);
	},
	onSelectRecord: function(records) {
		if (records) {
			var keys = Object.keys(records);
			if (keys.length) {
				var record = records[keys[0]];
				var $detail = record.menuItems.$detail;
				if ($detail && $detail[0]) {
					$detail[0].click();
				} else {
					if (record.dataset && record.dataset.$url) {
						syra_controller.executeMenu({
							$url: record.dataset.$url
						}, record);
					}
				}
			}
		}
	},
	onMenuClick: function(menu) {
		return this.vignetteField.page.onMenuClick(menu);
	}
});