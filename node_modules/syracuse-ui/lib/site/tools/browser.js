"use strict";

var _identity;

exports.getIdentity = function(){
    if (!_identity) {
        var M = navigator.userAgent.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i);
        _identity = {
            name: (M ? M[1] : navigator.appName).toLowerCase()
        };
        var tem;
        if (M && (tem = navigator.userAgent.match(/version\/([\.\d]+)/i)) != null) {
            M[2] = tem[1];
        }
        _identity.info = M ? [M[1], M[2]] : [navigator.appName, navigator.appVersion, '-?'];
		_identity.version = _identity.info[1]; 
    }
    return _identity;
};

exports.isExpected = function(expected){
    return exports.getIdentity().name == expected;
};