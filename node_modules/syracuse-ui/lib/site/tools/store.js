"use strict";

var _map = {};

exports.add = function(item) {
	_map[item.id] = item;
};

exports.get = function(id) {
	return _map[id];
};

exports.remove = function(item) {
	delete _map[item.id];
};


exports.findArticle = function(dom) {
	while (dom != null) {
		if (dom.syraarticle) {
			return _map[dom.syraarticle];
		}
		dom = dom.parentNode;
	}
};
exports.findField = function(dom) {
	var field;
	while (dom != null) {
		if (dom.syraItem) {
			field = _map[dom.syraItem];
			if (!field || (field && field.isField)) {
				break;
			}
		}
		dom = dom.parentNode;
	}
	return field;
};

exports.findItem = function(dom) {
	var item;
	while (dom != null) {
		if (dom.syraItem) {
			item = _map[dom.syraItem];
			if (item) {
				break;
			}
		}
		dom = dom.parentNode;
	}
	return item;
};


exports.dispose = function() {
	_map = null;
};