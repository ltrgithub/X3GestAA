"use strict";
var helpers = require('syracuse-core/lib/helpers');
var BarSplitter = require("syracuse-ui/lib/page/bar/barSplitter").BarSplitter;

function TreesBar() {}

exports.TreesBar = helpers.defineClass(TreesBar, BarSplitter, {
	load: function(page) {
		this.options = {
			resizeDirection: {
				left: true
			},
			$skins: {
				bar: "s-aw-treebar",
				openerPicker: "s-aw-treebar-opener",
				resizeBar: "s-aw-treebar-resizer"
			}
		};
		BarSplitter.prototype.load.call(this, page);
	},
	onWindowResize: function() {
		if (BarSplitter.prototype.onWindowResize.call(this)) {
			if (this.trees && this.trees.onWindowResize) {
				this.trees.onWindowResize(document.site.getInnerSize(this._bar).height);
			}
		}
	},
	dispose: function() {
		this.trees = null;
		BarSplitter.prototype.dispose.call(this);
	}
});