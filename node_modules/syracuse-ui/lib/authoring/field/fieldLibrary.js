"use strict";

var _vignettesClasses = {
    "$html": require('./htmlVignetteAuthoring').HtmlVignetteAuthoring
};
var _classes = {
    "application/x-choice": require('./choiceAuthoring').ChoiceAuthoring,
    "image": require('./imageAuthoring').ImageAuthoring,
    "application/x-array": require("./arrayAuthoring").ArrayAuthoring
};

exports.getAuthoringFieldWidget = function(field){
    var widgetClass = _classes[field.$field.$type];
    switch (field.$field.$type) {
        case "application/x-portlet":
        case "application/x-vignette":
            widgetClass = _vignettesClasses[field.$field.$format];
            break;
    }
    var widget = widgetClass ? new widgetClass() : null;
    if (widget) {
        if (field.$field && field.$field.$type == "application/x-array") {
            widget.authoringFieldLibrary = this;
        }
    }
    return widget;
};
