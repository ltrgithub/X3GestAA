"use strict";
var helpers = require('syracuse-core/lib/helpers');
var BarSplitter = require("syracuse-ui/lib/page/utility/barSplitter").BarSplitter;

function TreesBar() {}

exports.TreesBar = helpers.defineClass(TreesBar, BarSplitter, {
	load: function(page, layoutSlot, barSlot, barBody) {
		this.options = {
			resizeDirection: {
				right: true
			},
			$skins: {
				bar: "s-aw-treebar",
				openerPicker: "s-aw-treebar-opener",
				resizeBar: "s-aw-treebar-resizer"
			}
		};
		this.preferences = {
			isDocked: true,
			isCollapsed: false
		};
		BarSplitter.prototype.load.call(this, page);
	},
	_onResizeBody: function() {
		if (this.trees && this.trees.onWindowResize) {
			this.trees.onWindowResize(this._bar.clientHeight);
		}
	},
	dispose: function() {
		this.trees = null;
		BarSplitter.prototype.dispose.call(this);
	}
});