"use strict";

exports.isSoapUrl = function($url){
    return $url && ($url.indexOf("soap-") >= 0);
};
exports.openRequestPage = function(httpQuery){
    var soapQuery = document.controller.parseUrl(httpQuery.$url);
    soapQuery.sendRequest({}, function(data, response, requestUrl){
        var $itemPage = {
            layoutSlot: document.createElement("div"),
            $isEditMode: true,
            $category: "soap",
            $urlParts: soapQuery.$urlParts,
            $representation: data
        };
        $itemPage.$urlParts.$facet = "$request";
        //$itemPage.initData = $itemPage.initData || initData;
        $itemPage.httpQuery = httpQuery;
        $itemPage.httpQuery.fullUrl = document.location.href;
        document.site.onMainPageChange($itemPage);
    });
    // TODO: onerror function
};
