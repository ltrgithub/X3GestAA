"use strict";
var helpers = require('syracuse-core/lib/helpers');
var MobileEventListener = require('./mobileEventListener').MobileEventListener;
var Site = require("syracuse-ui/lib/site/site").Site;
var WidgetResizer = require("syracuse-ui/lib/site/resize/widgetResizer").WidgetResizer;
//var ResizeListener = require("syracuse-ui/lib/site/resize/resizeListener").ResizeListener;

//var TabletWidgetResizer = require("syracuse-ui/lib/tablet/resize/widgetResizer").TabletWidgetResizer;
//var ResizeListener = require("syracuse-ui/lib/tablet/resize/resizeListener").ResizeListener;



function TabletSite() {}

exports.TabletSite = helpers.defineClass(TabletSite, Site, {
	unload: function() {

		//document.controller.disposeObject(this._eventListener);

	},
	//, this.isMobile : true ;
	setWidgetResizable: function(options) {
		var widgetResizer = new WidgetResizer();
		//widgetResizer.setResizable(options);
		return widgetResizer;
	},
	ensurePreferences: function() {
		return (this._preferences = this._preferences || {
			convergenceBar: {
				isDocked: false,
				isCollapsed: true
			}
		});
	},


});


exports.load = function($item, $prototype) {
	return (new TabletSite()).loadBox({
		widgetsLibrary: require('syracuse-ui/lib/site/widgetsLibrary'),
		fusionGatewayClass: require('syracuse-ui/lib/fusion/fusionGateway').FusionGateway,
		userProfileClass: require('syracuse-ui/lib/site/userProfile').UserProfile,
		mobileEventListener: require('./mobileEventListener').MobileEventListener,
		$item: $item,
		$prototype: $prototype
	});
};