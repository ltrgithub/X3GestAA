"use strict";
var _navigation = require("syracuse-ui/lib/tests/pages/gpdc/data/navigation");

exports.scenarios = {
	footer: function() {
		return [{
			$title: "Footer: Ajax Survey = 10",
			run: function(page) {
				for (var ii = 0; ii < 10; ii++) {
					syra_ajax.survey.send();
				}
				var survey = document.getElementById("s-ajax-survey");
				this.assert(survey && survey.textContent == "10");
			}
		}, {
			$title: "Footer: Ajax Survey clear",
			run: function(page) {
				for (var ii = 0; ii < 10; ii++) {
					syra_ajax.survey.response();
				}
				var survey = document.getElementById("s-ajax-survey");
				this.assert(survey && survey.textContent == "0");
			}
		}];
	}
};


exports.load = function(page, finish) {
	syra_site.gpdc = true;
	var cols = [page.leftCol, page.leftCol, page.addCol(page.leftCol.parentNode)];
	page.dispose = function() {
		if (syra_site.megaMenus.isTestPage) {
			syra_site.megaMenus && syra_site.megaMenus.dispose();
			syra_nav.showMegaMenus();
		}
		this.constructor.prototype.dispose.call(this);
	};
	syra_site.switchGPDC();
	syra_site.megaMenus && syra_site.megaMenus.dispose();
	syra_nav.showMegaMenus(_navigation.$representation);
	syra_site.megaMenus.isTestPage = true;
	finish(page);
};