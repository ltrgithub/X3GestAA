"use strict";

var _breadcrumb = require('syracuse-ui/lib/links/navigation/breadcrumb');

exports.load = function(page, finish) {
	page.$isTitleHidden = false;
	page.setTitle("Bookmarks test page");
	page.append;
	page.$breadCrumb = [{
		"title": "All"
	}, {
		"title": "Administration",
		"$uuid": "2a4cb069-1a06-406b-b014-b5b835eeb7a7"
	}, {
		"title": "Administration",
		"$uuid": "dc25bbfb-47fc-42bd-b7a0-fdff1bc51085"
	}, {
		"title": "Users",
		"$uuid": "e24bef22-1b20-44c6-a775-00e01f4eb589"
	}];

	_breadcrumb.show(page, page.leftCol);

	page.$prototype.$properties = {
		"$resources": {
			"$type": "application/x-array",
			"$item": {
				"$type": "application/json",
				"$prototype": "{$baseUrl}/$prototypes('{$representation}.$query')",
				"$url": "{$baseUrl}/{$pluralType}('{$key}')",
				"$shortUrl": "{$baseUrl}/{$pluralType}('{$key}')",
				"$value": "{description}",
				"$title": "Role {description}",
				"$key": "{$uuid}",
				"$description": "Roles allows personalized configurations for users",
				"$pluralType": "roles",
				"$representation": "role",
				"$properties": {
					"code": {
						"$title": "Code",
						"$isUnique": true,
						"$isMandatory": true,
						"$capabilities": "sort,filter,alphaTab",
						"$links": {
							"$details": {
								"$type": "application/json;vnd.sage=syracuse",
								"$url": "{$baseUrl}/{$pluralType}('{$key}')?representation={$representation}.$details&role={$role}"
							}
						},
						"$type": "application/x-string"
					},
					"description": {
						"$title": "Description",
						"$isUnique": true,
						"$isMandatory": true,
						"$capabilities": "sort,filter,localize,alphaTab",
						"$links": {
							"$details": {
								"$type": "application/json;vnd.sage=syracuse",
								"$url": "{$baseUrl}/{$pluralType}('{$key}')?representation={$representation}.$details&role={$role}"
							},
							"$localize": {
								"$title": "Translations",
								"$url": "{$shortUrl}/description/$localize",
								"$method": "GET"
							}
						},
						"$type": "application/x-string"
					},
					"securityProfile": {
						"$title": "Security profile",
						"$isMandatory": true,
						"$capabilities": "sort,filter",
						"$type": "application/x-reference",
						"$item": {
							"$url": "{$baseUrl}/securityProfiles('{$key}')?representation={$representation}.$thumb",
							"$shortUrl": "{$baseUrl}/securityProfiles('{$key}')",
							"$value": "{description}",
							"$key": "{$uuid}",
							"$properties": {
								"description": {
									"$type": "application/x-string"
								}
							},
							"$prototype": "{$baseUrl}/$prototypes('{$representation}.$thumb')",
							"$representation": "securityProfile",
							"$links": {
								"$details": {
									"$type": "application/json;vnd.sage=syracuse",
									"$url": "{$baseUrl}/securityProfiles('{$key}')?representation=securityProfile.$details&role={$role}"
								},
								"$lookup": {
									"$type": "application/json;vnd.sage=syracuse",
									"$title": "Add",
									"$url": "{$baseUrl}/securityProfiles?representation=securityProfile.$lookup&role={$role}&trackingId={$trackingId}&binding=securityProfile"
								}
							}
						}
					},
					"navigationPage": {
						"$title": "Navigation page",
						"$capabilities": "sort,filter",
						"$type": "application/x-reference",
						"$item": {
							"$url": "{$baseUrl}/navigationPages('{$key}')?representation={$representation}.$thumb",
							"$shortUrl": "{$baseUrl}/navigationPages('{$key}')",
							"$value": "{title}",
							"$key": "{$uuid}",
							"$properties": {
								"title": {
									"$type": "application/x-string"
								}
							},
							"$prototype": "{$baseUrl}/$prototypes('{$representation}.$thumb')",
							"$representation": "navigationPage",
							"$links": {
								"$details": {
									"$type": "application/json;vnd.sage=syracuse",
									"$url": "{$baseUrl}/navigationPages('{$key}')?representation=navigationPage.$details&role={$role}"
								},
								"$lookup": {
									"$type": "application/json;vnd.sage=syracuse",
									"$title": "Add",
									"$url": "{$baseUrl}/navigationPages?representation=navigationPage.$lookup&role={$role}&trackingId={$trackingId}&binding=navigationPage"
								}
							}
						}
					},
					"$creUser": {
						"$title": "Created by",
						"$type": "application/x-string",
						"$isDisabled": true,
						"$isHidden": true,
						"$capabilities": "sort,filter"
					},
					"$updUser": {
						"$title": "Updated by",
						"$type": "application/x-string",
						"$isDisabled": true,
						"$isHidden": true,
						"$capabilities": "sort,filter"
					},
					"$creDate": {
						"$title": "Created on",
						"$type": "application/x-datetime",
						"$isDisabled": true,
						"$isHidden": true,
						"$capabilities": "sort,filter"
					},
					"$updDate": {
						"$title": "Updated on",
						"$type": "application/x-datetime",
						"$isDisabled": true,
						"$isHidden": true,
						"$capabilities": "sort,filter"
					},
					"$factory": {
						"$title": "Is factory",
						"$type": "application/x-boolean",
						"$capabilities": "sort,filter"
					},
					"$factoryOwner": {
						"$title": "Factory Owner",
						"$type": "application/x-string",
						"$isDisabled": true,
						"$capabilities": "sort,filter"
					}
				},
				"$links": {
					"$details": {
						"$type": "application/json;vnd.sage=syracuse",
						"$title": "Detail",
						"$url": "{$baseUrl}/{$pluralType}('{$key}')?representation={$representation}.$details&role={$role}"
					},
					"$edit": {
						"$type": "application/json;vnd.sage=syracuse",
						"$title": "Edit",
						"$url": "{$baseUrl}/{$pluralType}('{$key}')/$workingCopies?representation={$representation}.$edit&role={$role}",
						"$method": "POST"
					},
					"$delete": {
						"$title": "Delete",
						"$confirm": "The record {description} will be deleted. Confirm ?",
						"$url": "{$baseUrl}/{$pluralType}('{$key}')?representation={$representation}.$query&role={$role}",
						"$type": "application/json;vnd.sage=syracuse",
						"$method": "DELETE"
					},
					"$help": {
						"$url": "{$baseHelpUrl}/Administration-reference_Roles.html",
						"$title": "Help",
						"$type": "text/html",
						"$target": "help"
					}
				},
				"$actions": {},
				"$defaultOrder": "description"
			}
		}
	};
	syra_item.ensureMediaTypes(page.$prototype, function() {
		page.addItem(page.layoutContent.domItem, {
			"$bind": "$resources"
		});

		page.applyChange({
			"$resources": [{
				"$uuid": "49351fad-4e6c-4972-81c3-501d206da9aa",
				"$key": "49351fad-4e6c-4972-81c3-501d206da9aa",
				"$etag": 1,
				"$creUser": "anonymous",
				"$creDate": "2015-06-22T10:39:14.257Z",
				"$updUser": "anonymous",
				"$updDate": "2016-02-03T08:14:17.626Z",
				"$factory": true,
				"$factoryOwner": "SAGE",
				"$properties": {
					"code": {
						"$isDisabled": true
					},
					"$factory": {
						"$isHidden": true
					},
					"$factoryOwner": {}
				},
				"$url": "/sdata/syracuse/collaboration/syracuse/roles('49351fad-4e6c-4972-81c3-501d206da9aa')?representation=role.$details",
				"$shortUrl": "/sdata/syracuse/collaboration/syracuse/roles('49351fad-4e6c-4972-81c3-501d206da9aa')",
				"explorer": {
					"$url": "{$baseUrl}/{$pluralType}('{$key}')/$graphs/explorer",
					"$type": "graph"
				},
				"description": "Customer administrator",
				"code": "ADMCA",
				"navigationPage": null,
				"securityProfile": {
					"$uuid": "a4e2b1af-7921-41f4-9155-9ad2b28b87f7",
					"$key": "a4e2b1af-7921-41f4-9155-9ad2b28b87f7",
					"description": "Customer admin security profile"
				},
				"$value": "Customer administrator"
			}, {
				"$uuid": "f44cacda-704f-4181-a903-332be96b947c",
				"$key": "f44cacda-704f-4181-a903-332be96b947c",
				"$etag": 1,
				"$creUser": "anonymous",
				"$creDate": "2014-11-28T16:17:58.641Z",
				"$updUser": "anonymous",
				"$updDate": "2014-11-28T16:18:41.126Z",
				"$properties": {
					"$factory": {
						"$isHidden": true
					},
					"$factoryOwner": {
						"$isHidden": true
					}
				},
				"$url": "/sdata/syracuse/collaboration/syracuse/roles('f44cacda-704f-4181-a903-332be96b947c')?representation=role.$details",
				"$shortUrl": "/sdata/syracuse/collaboration/syracuse/roles('f44cacda-704f-4181-a903-332be96b947c')",
				"explorer": {
					"$url": "{$baseUrl}/{$pluralType}('{$key}')/$graphs/explorer",
					"$type": "graph"
				},
				"description": "Developer",
				"code": "HRM-DEV",
				"navigationPage": null,
				"securityProfile": {
					"$uuid": "279972a5-de6f-465c-bb84-037036d70116",
					"$key": "279972a5-de6f-465c-bb84-037036d70116",
					"description": "Administrator security profile"
				},
				"$value": "Developer"
			}]
		});
		finish(page);
	});
};