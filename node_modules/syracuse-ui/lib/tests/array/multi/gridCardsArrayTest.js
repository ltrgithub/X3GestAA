"use strict";
var helpers = require("syracuse-core/lib/helpers");
var MultiArrayTest = require("syracuse-ui/lib/tests/array/multi/multiArrayTest").MultiArrayTest;

function GridCardsArrayTest() {}

exports.GridCardsArrayTest = helpers.defineClass(GridCardsArrayTest, MultiArrayTest, {
	getCardItem: function($position) {
		return {
			"$bind": "xarray",
			"$title": "$position=" + $position,
			"$format": "grid",
			"$selectMode": "row",
			"$cardItem": {
				"$position": $position,
				"$layout": {
					"$items": [{
						"$layoutType": "row",
						"$items": [{
							"$bind": "xstring"
						}, {
							"$bind": "xchoice"
						}]
					}, {
						"$layoutType": "row",
						"$items": [{
							"$bind": "xdate"
						}, {
							"$layoutType": "stack",
							"$items": [{
								"$bind": "xboolean"
							}, {
								"$bind": "xdecimal"
							}]
						}]
					}]
				}
			}
		};
	},
	_defineArticle: function($item) {
		var self = this;
		var $items = ["left", "right", "row", "top", "bottom"].map(function($position) {
			return self.getCardItem($position);
		});
		var $popup = self.getCardItem("popup");
		$popup.$popupCard = $popup.$cardItem;
		delete $popup.$cardItem;
		delete $popup.$popupCard.$position;
		$items.push($popup);
		MultiArrayTest.prototype._defineArticle.call(self, {
			"$layoutType": "stack",
			"$items": [{
				$category: "section",
				$layout: {
					$items: $items
				}
			}]
		});
	}
});