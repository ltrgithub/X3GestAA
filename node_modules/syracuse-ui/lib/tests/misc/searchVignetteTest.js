"use strict";
var helpers = require("syracuse-core/lib/helpers");
var TestPage = require("syracuse-ui/lib/tests/testPage").TestPage;

function SearchVignetteTest() {}

exports.SearchVignetteTest = helpers.defineClass(SearchVignetteTest, TestPage, {
	_initiliazeTestPage: function() {
		var self = this;
		self.$prototype.$links.$select = {
			$title: "Select vignette",
			$url: "/sdata/syracuse/collaboration/syracuse/landingVignetteSelects/$template/$workingCopies?representation=landingVignetteSelect.$edit",
			$method: "POST"
		};

		self.$item.$layout.$items = [{
			$category: "section",
			$title: "Vignette adding test",
			$layout: {
				$items: [{
					$category: "link",
					$bind: "$select"
				}]
			}
		}];

	},
	onMenuClick: function(menu) {
		var self = this;
		self.openDialog({
			article: self,
			$url: menu.$url,
			$isOkHidden: true,
			onValidate: function(searchPage) {
				if (searchPage.selectedVignettes) {}
			}
		});
		return false;
	}
});