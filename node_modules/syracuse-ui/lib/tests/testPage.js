"use strict";
var helpers = require("syracuse-core/lib/helpers");
var DesktopPage = require("syracuse-ui/lib/page/desktopPage").DesktopPage;
var resources = require("./resources");

function TestPage() {}

exports.TestPage = helpers.defineClass(TestPage, DesktopPage, {
	onMenuClick: function(menuItem) {
		switch (menuItem.$bind) {
			case "$testUiLock":
				syra_site.uiLocker.lock(100, false);
				return false;
			case "$testUiLockLong":
				syra_site.uiLocker.lock(100, true);
				return false;
		}
		return true;
	},
	getResources: function() {
		return resources;
	},
	_initiliazeTestPage: function() {

	},
	loadBox: function(initData) {
		syra_site.pageLoader.initialize(this);
		this._initiliazeTestPage();
		this.$prototype.$properties = this.$prototype.$properties || {};
		DesktopPage.prototype.loadBox.call(this, initData);

		var link = syra_menus.addTextButton("theme1", "s-mn-extra-link", "onSwitchThemeClick");
		link.syraItem = this.id;
		this.header.appendChild(link);
		link = syra_menus.addTextButton("theme2", "s-mn-extra-link", "onSwitchThemeClick");
		link.syraItem = this.id;
		this.header.appendChild(link);
	},
	onSwitchThemeClick: function(event, btn) {
		switch (btn.textContent) {
			case "theme1":
			case "theme2":
				syra_site.dom.unloadStyleSheet("theme");
				syra_site.dom.loadStyleSheet("theme", ["test/" + btn.textContent + ".css"]);
				break;
		}

	}
});