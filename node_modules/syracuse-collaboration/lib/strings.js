"use strict";

var locale = require("syracuse-core/lib/locale");
var globals = require('streamline/lib/globals');
var helpers = require("syracuse-core/lib/helpers");

exports.mods = [module];

// original resources arrays. Must not be changed. Most relevant entry has last index
exports.resources2 = function() {
	var res = [];
	var i = exports.mods.length;
	var loc = (globals.context && globals.context.sessionLocale);
	while (--i) {
		res.push(locale.resources(exports.mods[i], loc)());
	}
	return res;
};


exports.resources = function() {
	console.log("RES");
	var res = {};
	exports.mods.forEach(function(m) {
		helpers.object.merge(locale.resources(m, globals.context && globals.context.sessionLocale)(), res);
	});
	return res;
};