"use strict";

var sys = require("util");

exports.entity = {
	$properties: {
        authentication: {
            $title: "Authentication",
            $enum: ["basic", "oauth2"],
            $enumCaptions: ["Basic", "OAuth2"],
            $default: "basic",
            $isMandatory: true
        }
	},
	$titleTemplate: "Settings",
    $valueTemplate: "Settings",
    $descriptionTemplate: "Settings",
    $relations: {
        ldap: {
          $title: "Default LDAP server",
          $type: "ldap",
          $isHidden: function(_, instance) {
            return instance.authentication(_) === "oauth2";
          }
        },
        oauth2: {
          $title: "Default OAuth2 server",
          $type: "oauth2",
          $isMandatory: function(_, instance) {
            return instance.authentication(_) === "oauth2";
          },
          $isHidden: function(_, instance) {
            return instance.authentication(_) !== "oauth2";
          }
        }
    }
    
};