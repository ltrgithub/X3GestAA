"use strict";

var config = require("syracuse-main/lib/nodeconfig").config;


exports.entity = {
	$capabilities: "",
	$titleTemplate: "EDI Cache Entity",
	$descriptionTemplate: " ",
	$properties: {
		id: {
			$title: "id", // id of the edi process context , must be unique (ex X3 name + type )
		},
		type: {
			$title: "type of flow" // class json/ representation etc...
		},
		etag: {
			$title: "ETag",
		},
		json: { // json correspond to the context used for a edi process
			$title: "object",
			$type: "json"
		}
	},
	$relations: {},
	$functions: {},
	$services: {},
	$expire: function(_, instance) {
		/*/ set in hard the value, it will be configured after
        if (config.edi.cache.timeout) { // timeout + 1
            return (config.edi.cache.timeout + 1) * 60000;
        }*/
	},
	$uniqueConstraints: [
		["id", "type"]
	]

};