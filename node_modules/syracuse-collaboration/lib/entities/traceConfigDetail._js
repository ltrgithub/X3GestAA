"use strict";

exports.entity = {
	$isPersistent: false,
	$canDelete: false,
	$canCreate: false,
	$canSave: false,
	$key: "{name}",
	$properties: {
		name: {
			$linksToDetails: false,
			$title: "Name",
			$isReadOnly: true,
			$type: "string"
		},
		description: {
			$linksToDetails: false,
			$displayLength: 30,
			$title: "Description",
			$isReadOnly: true,
			$type: "string"
		},
		enabled: {
			$title: "Enabled",
			$type: "boolean"
		},
		level: {
			$title: "Tracing level",
			$enum: [{
				$value: "error",
				$title: "Error"
			}, {
				$value: "warning",
				$title: "Warning"
			}, {
				$value: "info",
				$title: "Info"
			}, {
				$value: "debug",
				$title: "Debug"
			}]
		},
		transport: {
			$title: "Log type",
			$displayLength: 15,
			$enum: [{
				$value: "console",
				$title: "Console"
			}, {
				$value: "storagearea",
				$title: "Storage Area"
			}, {
				$value: "mongo",
				$title: "MongoDB"
			}]
		},
		expiry: {
			$title: "Expiration (minutes)",
			$isReadOnly: function(_, instance) {
				var transport = instance.transport(_) || "";
				return transport !== "storagearea";
			},
			$type: "integer"
		},
	},
	$functions: {
		$setId: function(_, context, id) {
			console.log("About id is : " + id);
		}
	}
};