"use strict";
var locale = require("syracuse-core/lib/locale");

exports.entity = {
	$isPersistent: false,
	$canEdit: false,
	$canDelete: false,
	$titleTemplate: "License usage information",
	$properties: {
		text: {
			$title: "blabla",
		}


	},
	$relations: {
		items: {
			$title: "Items",
			$type: "licenseViewItems",
			$isChild: true,
			$treeview: {
				$mode: "parentKey",
				$bindings: {
					$clientId: "name2",
					$parent: "name"
				}
			}

		}
	},
	$functions: {
		$setId: function(_, context, id) {
			var self = this;
			self.text(_, "blabla");
			var db = self._db; // already admin database
			var item = self.items(_).add(_);
			item.name(_, "0");
			item.name2(_, "1");
			item.name3(_, "t1");
			var item = self.items(_).add(_);
			item.name(_, "0");
			item.name2(_, "2");
			item.name3(_, "t12");
			var item = self.items(_).add(_);
			item.name(_, "1");
			item.name2(_, "3");
			item.name3(_, "t13");

			var item = self.items(_).add(_);
			item.name(_, "1");
			item.name2(_, "4");
			item.name3(_, "t14");
			var item = self.items(_).add(_);
			item.name(_, "2");
			item.name2(_, "5");
			item.name3(_, "t135");

			var item = self.items(_).add(_);
			item.name(_, "2");
			item.name2(_, "6");
			item.name3(_, "t146");
			var item = self.items(_).add(_);
			item.name(_, "5");
			item.name2(_, "9");
			item.name3(_, "t1469");

		}
	}
};