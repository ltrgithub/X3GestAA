"use strict";

var util = require('./util');

exports.entity = {
	$properties: {
		CPY: {
			$title: "Company"
		},
		CPYNAM: {
			$title: "Name"
		}
	},
	$fetchInstances: function(_, context, parameters) {
		var self = this;
		var codes = [];
		var res = util.query(_, context, parameters, "COMPANY", "$query", function(_, inst) {
			var instance = self.factory.createInstance(_, null, context.db, context);
			instance.CPY(_, inst.CPY(_));
			instance.CPYNAM(_, inst.CPYNAM(_));
			codes.push(instance);
		});
		return codes;
	},
	$defaultOrder: [["CPY", true]]
}