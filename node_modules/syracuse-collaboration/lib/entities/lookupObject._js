"use strict"
var adminHelper = require("syracuse-collaboration/lib/helpers").AdminHelper;


exports.entity = {
	$properties: {
		name: {
			$title: "Key",
			$isMandatory: true,
			
				$isUnique: true
			},
		title: {
			$title: "Title",
			$isMandatory: true
		},
		
		
	},
	$fetchInstances: function(_, context, parameters) {
		var db = adminHelper.getCollaborationOrm(_);
		console.log("Params: "+JSON.stringify(parameters,null,2));
		
		//var entity=db.model.getEntity("apatches");
		//var entity=db.model.getEntity(parameters.entity);
		console.log("MyEntity: " + JSON.stringify(entity ));
		//var tabl=db.fetchInstances(_, db.model.getEntity(parameters[test]),/* options*/);
		//console.log (tabl) ;
		//return db.fetchInstances(_, db.model.getEntity(parameters[test]),/* options*/);
		return [{name: "test", title: "toto"}];
	},
	
};