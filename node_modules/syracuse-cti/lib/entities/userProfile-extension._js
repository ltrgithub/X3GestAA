"use strict";
var ctiServiceManager = require("syracuse-cti/lib/ctiServiceManager").ctiServiceManager;

module.exports = {
	$extends: "userProfile",
	$links: function(_, instance) {
		var links;
		if (ctiServiceManager.isProviderAlive()) {
			var s = ctiServiceManager.getCtiService(_);
			var rep = s.getRepresentation(_);
			links = {
				$ctiMakeCall: {
					$url: "{$baseUrl}/ctiServices/$service/makeCall",
					$method: "GET"
				},
				$ctiGetData: {
					$url: "{$baseUrl}/" + rep + "('{$tel}~{$countryIsoAlpha2}')?representation=" + rep + ".$details",
					$method: "GET"
				}
			};
		}
		return links || {};
	},
};