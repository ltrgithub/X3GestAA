"use strict";
var locale = require("syracuse-core/lib/locale");
var adminHelper = require("syracuse-collaboration/lib/helpers").AdminHelper;
var locale = require("syracuse-core/lib/locale");

exports.getStatusMessage = function(statusCode) {
	return locale.format(module, "http-status-" + statusCode);
};

exports.getDefaultProxyConf = function(_) {
	var db = adminHelper.getCollaborationOrm(_);
	var model = db.model;
	var entity = model.getEntity(_, "setting");
	var instance = entity.fetchInstances(_, db)[0];

	if (!instance) throw new Error("Global settings not found.");
	if (instance.proxy(_)) {
		var proxyConf = instance.proxyConf(_);
		if (proxyConf) return proxyConf.toJSON(_);
	}
	return;
};