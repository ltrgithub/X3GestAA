"use strict";

var jsurl = require("jsurl");

exports.entity = {
	$titleTemplate: "Select import traces",
	$valueTemplate: "",
	$isPersistent: false,
	$canSave: false,
	$capabilities: "",
	$properties: {
		parameters: {
			$title: "Parameters",
			$isHidden: true,
		},
		content: {
			$title: "Content",
			$contentType: "application/octet-stream",
			$type: "binary",
			$storage: "db_file",
			$propagate: function(_, instance, val) {
				instance.parameters(_, jsurl.stringify({
					fs: val.fsName,
					ext: val.fileName.substring(val.fileName.lastIndexOf('.') + 1)
				}));
			}
		}
	},
};