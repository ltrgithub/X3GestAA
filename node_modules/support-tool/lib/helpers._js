"use strict";

var getEndpoint = exports.getEndpoint = function(_, dataset) {
	return require('syracuse-collaboration/lib/util').getEndpoint(_, {
		application: 'syracuse',
		contract: 'support',
		dataset: dataset,
	});
};
exports.getOrm = function(_, dataset) {
	dataset = dataset || "support";
	var dm = require('syracuse-orm/lib/dataModel');
	var contract = require('support-tool/lib/contract');
	dm.make(contract, dataset);
	var ep = getEndpoint(_, dataset);
	if (!ep) throw new Error("support endpoint not found: dataset=" + dataset);
	return ep.getOrm(_);
};