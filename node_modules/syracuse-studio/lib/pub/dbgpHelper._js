"use strict";
var os = require('os');
var events = require('events');
var config = require('syracuse-main/lib/nodeconfig').config;
var dbgpConfig = (config.studio || {}).dbgp || {};

exports.$exported = true;

// var emitter = new events.EventEmitter();

exports.getDbgpProxyAddress = function(_) {
	// var t = Date.now();

	// setTimeout(function(){
	// 	emitter.emit("data", "hello");
	// }, 4000);

	// emitter.once("data", _ << function(data, _){
	// 	return "elapse=" + (Date.now() - t) + ", proxy=" + (dbgpConfig.host || os.hostname()) + ":" + (dbgpConfig.port || 9514);
	// });
	return (dbgpConfig.host || os.hostname()) + ":" + (dbgpConfig.port || 9514);
};

// var inprocProxy = require('syracuse-studio/lib/dbgp/inprocProxy');
// exports.open = function(_, idekey) {
// 	return inprocProxy.open(_, idekey);
// };

// exports.sendPacket = function(_, idekey, xml) {
// 	return inprocProxy.sendPacket(_, idekey, xml);
// };

// exports.readCommand = function(_, idekey) {
// 	return inprocProxy.readCommand(_, idekey);
// };