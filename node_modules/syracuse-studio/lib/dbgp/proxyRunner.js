"use strict";
// standalone proxy runner
var proxy = require('syracuse-studio/lib/dbgp/proxy');
var config = require("../../../../nodelocal").config || {};
var dbgpConfig = (config.studio || {}).dbgp || {};

var tracer = console.log;

process.on('uncaughtException', function(err) {
	tracer && tracer('proxyLauncher exception: ' + err.message + " at " + err.stack);
});
process.on('exit', function() {
	tracer && tracer('proxyLauncher exiting...');
});

proxy.startServer(function(err, port) {
	if (err)
		return console.error(err);
	tracer && tracer('Dbgp proxy starting on port ' + port + '...');
}, dbgpConfig);